(self.webpackChunke_shop=self.webpackChunke_shop||[]).push([[179],{562:(cs,Lr,ft)=>{"use strict";ft.d(Lr,{$:()=>ro,A:()=>Re,G:()=>an,K:()=>kh,L:()=>Ls,N:()=>ms,P:()=>Mb,R:()=>Ab,U:()=>Et,V:()=>V,W:()=>k,X:()=>ke,Y:()=>_e,Z:()=>Ee,_:()=>ar,a:()=>Ug,a0:()=>En,a1:()=>hn,a2:()=>vs,a3:()=>zh,a4:()=>nd,a5:()=>Bt,a6:()=>Ur,a7:()=>Kr,a8:()=>F,a9:()=>oe,aA:()=>Vt,aB:()=>vn,aC:()=>ye,aD:()=>dw,aE:()=>ae,aF:()=>De,aG:()=>Fl,aH:()=>uw,aI:()=>Jg,aJ:()=>gt,aN:()=>od,aQ:()=>Tt,aa:()=>fe,ab:()=>ve,ac:()=>Be,ad:()=>yt,ae:()=>ot,af:()=>ln,ag:()=>Pr,ah:()=>bi,ak:()=>Wo,al:()=>Uv,am:()=>Ka,ap:()=>Us,aq:()=>Dl,as:()=>MN,at:()=>kN,au:()=>qn,av:()=>Je,aw:()=>se,ax:()=>kt,ay:()=>sm,az:()=>sf,b:()=>vb,c:()=>ow,d:()=>Yg,e:()=>xb,f:()=>rr,g:()=>lw,h:()=>kb,i:()=>Wg,j:()=>Lb,k:()=>Zr,l:()=>Bu,m:()=>om,p:()=>Dn,r:()=>Un,s:()=>Ce,u:()=>Zg,w:()=>id});var L=ft(861),X=ft(58),Y=ft(534),He=ft(879),$n=ft(582),lt=ft(537);const Dn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Re={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const an=function tt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},it=function Pt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ue=new He.Yd("@firebase/auth");function or(m,...c){Ue.logLevel<=He.in.ERROR&&Ue.error(`Auth (${Y.SDK_VERSION}): ${m}`,...c)}function kt(m,...c){throw zt(m,...c)}function vn(m,...c){return zt(m,...c)}function ni(m,c,f){const _=Object.assign(Object.assign({},it()),{[c]:f});return new X.LL("auth","Firebase",_).create(c,{appName:m.name})}function E(m,c,f){if(!(c instanceof f))throw f.name!==c.constructor.name&&kt(m,"argument-error"),ni(m,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zt(m,...c){if("string"!=typeof m){const f=c[0],_=[...c.slice(1)];return _[0]&&(_[0].appName=m.name),m._errorFactory.create(f,..._)}return We.create(m,...c)}function ye(m,c,...f){if(!m)throw zt(c,...f)}function gn(m){const c="INTERNAL ASSERTION FAILED: "+m;throw or(c),new Error(c)}function qn(m,c){m||gn(c)}function Ir(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function $t(){return"http:"===xi()||"https:"===xi()}function xi(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class pr{constructor(c,f){this.shortDelay=c,this.longDelay=f,qn(f>c,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function xs(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($t()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Oi(m,c){qn(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return c?`${f}${c.startsWith("/")?c.slice(1):c}`:f}class ue{static initialize(c,f,_){this.fetchImpl=c,f&&(this.headersImpl=f),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},be=new pr(3e4,6e4);function le(m,c){return m.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:m.tenantId}):c}function Se(m,c,f,_){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,L.Z)(function*(m,c,f,_,I={}){return ut(m,I,(0,L.Z)(function*(){let R={},q={};_&&("GET"===c?q=_:R={body:JSON.stringify(_)});const he=(0,X.xO)(Object.assign({key:m.config.apiKey},q)).slice(1),Pe=yield m._getAdditionalHeaders();return Pe["Content-Type"]="application/json",m.languageCode&&(Pe["X-Firebase-Locale"]=m.languageCode),ue.fetch()(un(m,m.config.apiHost,f,he),Object.assign({method:c,headers:Pe,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function ut(m,c,f){return qt.apply(this,arguments)}function qt(){return(qt=(0,L.Z)(function*(m,c,f){m._canInitEmulator=!1;const _=Object.assign(Object.assign({},ge),c);try{const I=new wt(m),R=yield Promise.race([f(),I.promise]);I.clearNetworkTimeout();const q=yield R.json();if("needConfirmation"in q)throw In(m,"account-exists-with-different-credential",q);if(R.ok&&!("errorMessage"in q))return q;{const he=R.ok?q.errorMessage:q.error.message,[Pe,et]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw In(m,"credential-already-in-use",q);if("EMAIL_EXISTS"===Pe)throw In(m,"email-already-in-use",q);if("USER_DISABLED"===Pe)throw In(m,"user-disabled",q);const Ye=_[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(et)throw ni(m,Ye,et);kt(m,Ye)}}catch(I){if(I instanceof X.ZR)throw I;kt(m,"network-request-failed",{message:String(I)})}})).apply(this,arguments)}function Cn(m,c,f,_){return pt.apply(this,arguments)}function pt(){return(pt=(0,L.Z)(function*(m,c,f,_,I={}){const R=yield Se(m,c,f,_,I);return"mfaPendingCredential"in R&&kt(m,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function un(m,c,f,_){const I=`${c}${f}?${_}`;return m.config.emulator?Oi(m.config,I):`${m.config.apiScheme}://${I}`}function wn(m){switch(m){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wt{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((f,_)=>{this.timer=setTimeout(()=>_(vn(this.auth,"network-request-failed")),be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function In(m,c,f){const _={appName:m.name};f.email&&(_.email=f.email),f.phoneNumber&&(_.phoneNumber=f.phoneNumber);const I=vn(m,c,_);return I.customData._tokenResponse=f,I}function Gn(m){return void 0!==m&&void 0!==m.getResponse}function Xn(m){return void 0!==m&&void 0!==m.enterprise}class dn{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const f of this.recaptchaEnforcementState)if(f.provider&&f.provider===c)return wn(f.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function yi(){return(yi=(0,L.Z)(function*(m){return(yield Se(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function qr(m,c){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,L.Z)(function*(m,c){return Se(m,"GET","/v2/recaptchaConfig",le(m,c))})).apply(this,arguments)}function Os(){return(Os=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function vi(){return(vi=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ze(){return(Ze=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Rn(m){if(m)try{const c=new Date(Number(m));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Zi(){return(Zi=(0,L.Z)(function*(m,c=!1){const f=(0,X.m9)(m),_=yield f.getIdToken(c),I=Ni(_);ye(I&&I.exp&&I.auth_time&&I.iat,f.auth,"internal-error");const R="object"==typeof I.firebase?I.firebase:void 0,q=R?.sign_in_provider;return{claims:I,token:_,authTime:Rn(ds(I.auth_time)),issuedAtTime:Rn(ds(I.iat)),expirationTime:Rn(ds(I.exp)),signInProvider:q||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function ds(m){return 1e3*Number(m)}function Ni(m){const[c,f,_]=m.split(".");if(void 0===c||void 0===f||void 0===_)return or("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,X.tV)(f);return I?JSON.parse(I):(or("Failed to decode base64 JWT payload"),null)}catch(I){return or("Caught error parsing JWT payload as JSON",I?.toString()),null}}function mn(m,c){return _n.apply(this,arguments)}function _n(){return(_n=(0,L.Z)(function*(m,c,f=!1){if(f)return c;try{return yield c}catch(_){throw _ instanceof X.ZR&&function ri({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(_)&&m.auth.currentUser===m&&(yield m.auth.signOut()),_}})).apply(this,arguments)}class no{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var f;if(c){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const I=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(c=!1){var f=this;if(!this.isRunning)return;const _=this.getInterval(c);this.timerId=setTimeout((0,L.Z)(function*(){yield f.iteration()}),_)}iteration(){var c=this;return(0,L.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&c.schedule(!0))}c.schedule()})()}}class fs{constructor(c,f){this.createdAt=c,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rn(this.lastLoginAt),this.creationTime=Rn(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sr(m){return ci.apply(this,arguments)}function ci(){return ci=(0,L.Z)(function*(m){var c;const f=m.auth,_=yield m.getIdToken(),I=yield mn(m,function br(m,c){return Ze.apply(this,arguments)}(f,{idToken:_}));ye(I?.users.length,f,"internal-error");const R=I.users[0];m._notifyReloadListener(R);const q=null!==(c=R.providerUserInfo)&&void 0!==c&&c.length?function tn(m){return m.map(c=>{var{providerId:f}=c,_=(0,$n._T)(c,["providerId"]);return{providerId:f,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(R.providerUserInfo):[],he=function ks(m,c){return[...m.filter(_=>!c.some(I=>I.providerId===_.providerId)),...c]}(m.providerData,q),Ye=!!m.isAnonymous&&!(m.email&&R.passwordHash||he?.length),Yt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:he,metadata:new fs(R.createdAt,R.lastLoginAt),isAnonymous:Ye};Object.assign(m,Yt)}),ci.apply(this,arguments)}function Dr(){return(Dr=(0,L.Z)(function*(m){const c=(0,X.m9)(m);yield Sr(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Ar(){return(Ar=(0,L.Z)(function*(m,c){const f=yield ut(m,{},(0,L.Z)(function*(){const _=(0,X.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:I,apiKey:R}=m.config,q=un(m,I,"/v1/token",`key=${R}`),he=yield m._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",ue.fetch()(q,{method:"POST",headers:he,body:_})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}function B(){return(B=(0,L.Z)(function*(m,c){return Se(m,"POST","/v2/accounts:revokeToken",le(m,c))})).apply(this,arguments)}class P{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){ye(c.idToken,"internal-error"),ye(typeof c.idToken<"u","internal-error"),ye(typeof c.refreshToken<"u","internal-error");const f="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function hs(m){const c=Ni(m);return ye(c,"internal-error"),ye(typeof c.exp<"u","internal-error"),ye(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,f)}getToken(c,f=!1){var _=this;return(0,L.Z)(function*(){return ye(!_.accessToken||_.refreshToken,c,"user-token-expired"),f||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(c,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,f){var _=this;return(0,L.Z)(function*(){const{accessToken:I,refreshToken:R,expiresIn:q}=yield function vo(m,c){return Ar.apply(this,arguments)}(c,f);_.updateTokensAndExpiration(I,R,Number(q))})()}updateTokensAndExpiration(c,f,_){this.refreshToken=f||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(c,f){const{refreshToken:_,accessToken:I,expirationTime:R}=f,q=new P;return _&&(ye("string"==typeof _,"internal-error",{appName:c}),q.refreshToken=_),I&&(ye("string"==typeof I,"internal-error",{appName:c}),q.accessToken=I),R&&(ye("number"==typeof R,"internal-error",{appName:c}),q.expirationTime=R),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new P,this.toJSON())}_performRefresh(){return gn("not implemented")}}function x(m,c){ye("string"==typeof m||typeof m>"u","internal-error",{appName:c})}class A{constructor(c){var{uid:f,auth:_,stsTokenManager:I}=c,R=(0,$n._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new no(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=_,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new fs(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(c){var f=this;return(0,L.Z)(function*(){const _=yield mn(f,f.stsTokenManager.getToken(f.auth,c));return ye(_,f.auth,"internal-error"),f.accessToken!==_&&(f.accessToken=_,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),_})()}getIdTokenResult(c){return function Tr(m){return Zi.apply(this,arguments)}(this,c)}reload(){return function Gr(m){return Dr.apply(this,arguments)}(this)}_assign(c){this!==c&&(ye(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(f=>Object.assign({},f)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const f=new A(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(c){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,f=!1){var _=this;return(0,L.Z)(function*(){let I=!1;c.idToken&&c.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(c),I=!0),f&&(yield Sr(_)),yield _.auth._persistUserIfCurrent(_),I&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var c=this;return(0,L.Z)(function*(){const f=yield c.getIdToken();return yield mn(c,function Ki(m,c){return Os.apply(this,arguments)}(c.auth,{idToken:f})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,f){var _,I,R,q,he,Pe,et,Ye;const Yt=null!==(_=f.displayName)&&void 0!==_?_:void 0,ts=null!==(I=f.email)&&void 0!==I?I:void 0,Co=null!==(R=f.phoneNumber)&&void 0!==R?R:void 0,Ja=null!==(q=f.photoURL)&&void 0!==q?q:void 0,ff=null!==(he=f.tenantId)&&void 0!==he?he:void 0,Cw=null!==(Pe=f._redirectEventId)&&void 0!==Pe?Pe:void 0,um=null!==(et=f.createdAt)&&void 0!==et?et:void 0,Kb=null!==(Ye=f.lastLoginAt)&&void 0!==Ye?Ye:void 0,{uid:ns,emailVerified:pf,isAnonymous:Wu,providerData:Iw,stsTokenManager:lm}=f;ye(ns&&lm,c,"internal-error");const Zb=P.fromJSON(this.name,lm);ye("string"==typeof ns,c,"internal-error"),x(Yt,c.name),x(ts,c.name),ye("boolean"==typeof pf,c,"internal-error"),ye("boolean"==typeof Wu,c,"internal-error"),x(Co,c.name),x(Ja,c.name),x(ff,c.name),x(Cw,c.name),x(um,c.name),x(Kb,c.name);const cm=new A({uid:ns,auth:c,email:ts,emailVerified:pf,displayName:Yt,isAnonymous:Wu,photoURL:Ja,phoneNumber:Co,tenantId:ff,stsTokenManager:Zb,createdAt:um,lastLoginAt:Kb});return Iw&&Array.isArray(Iw)&&(cm.providerData=Iw.map(Qb=>Object.assign({},Qb))),Cw&&(cm._redirectEventId=Cw),cm}static _fromIdTokenResponse(c,f,_=!1){return(0,L.Z)(function*(){const I=new P;I.updateFromServerResponse(f);const R=new A({uid:f.localId,auth:c,stsTokenManager:I,isAnonymous:_});return yield Sr(R),R})()}}const ee=new Map;function ae(m){qn(m instanceof Function,"Expected a class definition");let c=ee.get(m);return c?(qn(c instanceof m,"Instance stored in cache mismatched with class"),c):(c=new m,ee.set(m,c),c)}const Et=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,L.Z)(function*(){return!0})()}_set(f,_){var I=this;return(0,L.Z)(function*(){I.storage[f]=_})()}_get(f){var _=this;return(0,L.Z)(function*(){const I=_.storage[f];return void 0===I?null:I})()}_remove(f){var _=this;return(0,L.Z)(function*(){delete _.storage[f]})()}_addListener(f,_){}_removeListener(f,_){}}return m.type="NONE",m})();function De(m,c,f){return`firebase:${m}:${c}:${f}`}class nt{constructor(c,f,_){this.persistence=c,this.auth=f,this.userKey=_;const{config:I,name:R}=this.auth;this.fullUserKey=De(this.userKey,I.apiKey,R),this.fullPersistenceKey=De("persistence",I.apiKey,R),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,L.Z)(function*(){const f=yield c.persistence._get(c.fullUserKey);return f?A._fromJSON(c.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var f=this;return(0,L.Z)(function*(){if(f.persistence===c)return;const _=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=c,_?f.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,f,_="authUser"){return(0,L.Z)(function*(){if(!f.length)return new nt(ae(Et),c,_);const I=(yield Promise.all(f.map(function(){var et=(0,L.Z)(function*(Ye){if(yield Ye._isAvailable())return Ye});return function(Ye){return et.apply(this,arguments)}}()))).filter(et=>et);let R=I[0]||ae(Et);const q=De(_,c.config.apiKey,c.name);let he=null;for(const et of f)try{const Ye=yield et._get(q);if(Ye){const Yt=A._fromJSON(c,Ye);et!==R&&(he=Yt),R=et;break}}catch{}const Pe=I.filter(et=>et._shouldAllowMigration);return R._shouldAllowMigration&&Pe.length?(R=Pe[0],he&&(yield R._set(q,he.toJSON())),yield Promise.all(f.map(function(){var et=(0,L.Z)(function*(Ye){if(Ye!==R)try{yield Ye._remove(q)}catch{}});return function(Ye){return et.apply(this,arguments)}}())),new nt(R,c,_)):new nt(R,c,_)})()}}function It(m){const c=m.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Uo(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Mt(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(G(c))return"Blackberry";if(Ae(c))return"Webos";if(Ft(c))return"Safari";if((c.includes("chrome/")||wi(c))&&!c.includes("edge/"))return"Chrome";if(se(c))return"Android";{const _=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Mt(m=(0,X.z$)()){return/firefox\//i.test(m)}function Ft(m=(0,X.z$)()){const c=m.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function wi(m=(0,X.z$)()){return/crios\//i.test(m)}function Uo(m=(0,X.z$)()){return/iemobile/i.test(m)}function se(m=(0,X.z$)()){return/android/i.test(m)}function G(m=(0,X.z$)()){return/blackberry/i.test(m)}function Ae(m=(0,X.z$)()){return/webos/i.test(m)}function Je(m=(0,X.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Vt(m=(0,X.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}function er(m=(0,X.z$)()){return Je(m)||se(m)||Ae(m)||G(m)||/windows phone/i.test(m)||Uo(m)}function ps(m,c=[]){let f;switch(m){case"Browser":f=It((0,X.z$)());break;case"Worker":f=`${It((0,X.z$)())}-${m}`;break;default:f=m}const _=c.length?c.join(","):"FirebaseCore-web";return`${f}/JsCore/${Y.SDK_VERSION}/${_}`}class Bo{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,f){const _=R=>new Promise((q,he)=>{try{q(c(R))}catch(Pe){he(Pe)}});_.onAbort=f,this.queue.push(_);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(c){var f=this;return(0,L.Z)(function*(){if(f.auth.currentUser===c)return;const _=[];try{for(const I of f.queue)yield I(c),I.onAbort&&_.push(I.onAbort)}catch(I){_.reverse();for(const R of _)try{R()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:I?.message})}})()}}function gs(){return(gs=(0,L.Z)(function*(m,c={}){return Se(m,"GET","/v2/passwordPolicy",le(m,c))})).apply(this,arguments)}class vl{constructor(c){var f,_,I,R;const q=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(f=q.minPasswordLength)&&void 0!==f?f:6,q.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=q.maxPasswordLength),void 0!==q.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=q.containsLowercaseCharacter),void 0!==q.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=q.containsUppercaseCharacter),void 0!==q.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=q.containsNumericCharacter),void 0!==q.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=q.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(I=null===(_=c.allowedNonAlphanumericCharacters)||void 0===_?void 0:_.join(""))&&void 0!==I?I:"",this.forceUpgradeOnSignin=null!==(R=c.forceUpgradeOnSignin)&&void 0!==R&&R,this.schemaVersion=c.schemaVersion}validatePassword(c){var f,_,I,R,q,he;const Pe={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,Pe),this.validatePasswordCharacterOptions(c,Pe),Pe.isValid&&(Pe.isValid=null===(f=Pe.meetsMinPasswordLength)||void 0===f||f),Pe.isValid&&(Pe.isValid=null===(_=Pe.meetsMaxPasswordLength)||void 0===_||_),Pe.isValid&&(Pe.isValid=null===(I=Pe.containsLowercaseLetter)||void 0===I||I),Pe.isValid&&(Pe.isValid=null===(R=Pe.containsUppercaseLetter)||void 0===R||R),Pe.isValid&&(Pe.isValid=null===(q=Pe.containsNumericCharacter)||void 0===q||q),Pe.isValid&&(Pe.isValid=null===(he=Pe.containsNonAlphanumericCharacter)||void 0===he||he),Pe}validatePasswordLengthOptions(c,f){const _=this.customStrengthOptions.minPasswordLength,I=this.customStrengthOptions.maxPasswordLength;_&&(f.meetsMinPasswordLength=c.length>=_),I&&(f.meetsMaxPasswordLength=c.length<=I)}validatePasswordCharacterOptions(c,f){let _;this.updatePasswordCharacterOptionsStatuses(f,!1,!1,!1,!1);for(let I=0;I<c.length;I++)_=c.charAt(I),this.updatePasswordCharacterOptionsStatuses(f,_>="a"&&_<="z",_>="A"&&_<="Z",_>="0"&&_<="9",this.allowedNonAlphanumericCharacters.includes(_))}updatePasswordCharacterOptionsStatuses(c,f,_,I,R){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=f)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=_)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=I)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=R))}}class Rt{constructor(c,f,_,I){this.app=c,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=_,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mh(this),this.idTokenSubscription=new Mh(this),this.beforeStateQueue=new Bo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(c,f){var _=this;return f&&(this._popupRedirectResolver=ae(f)),this._initializationPromise=this.queue((0,L.Z)(function*(){var I,R;if(!_._deleted&&(_.persistenceManager=yield nt.create(_,c),!_._deleted)){if(null!==(I=_._popupRedirectResolver)&&void 0!==I&&I._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(f),_.lastNotifiedUid=(null===(R=_.currentUser)||void 0===R?void 0:R.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,L.Z)(function*(){if(c._deleted)return;const f=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||f){if(c.currentUser&&f&&c.currentUser.uid===f.uid)return c._currentUser._assign(f),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(f,!0)}})()}initializeCurrentUser(c){var f=this;return(0,L.Z)(function*(){var _;const I=yield f.assertedPersistence.getCurrentUser();let R=I,q=!1;if(c&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const he=null===(_=f.redirectUser)||void 0===_?void 0:_._redirectEventId,Pe=R?._redirectEventId,et=yield f.tryRedirectSignIn(c);(!he||he===Pe)&&et?.user&&(R=et.user,q=!0)}if(!R)return f.directlySetCurrentUser(null);if(!R._redirectEventId){if(q)try{yield f.beforeStateQueue.runMiddleware(R)}catch(he){R=I,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(he))}return R?f.reloadAndSetCurrentUserOrClear(R):f.directlySetCurrentUser(null)}return ye(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===R._redirectEventId?f.directlySetCurrentUser(R):f.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(c){var f=this;return(0,L.Z)(function*(){let _=null;try{_=yield f._popupRedirectResolver._completeRedirectFn(f,c,!0)}catch{yield f._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(c){var f=this;return(0,L.Z)(function*(){try{yield Sr(c)}catch(_){if("auth/network-request-failed"!==_?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Vr(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var c=this;return(0,L.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var f=this;return(0,L.Z)(function*(){const _=c?(0,X.m9)(c):null;return _&&ye(_.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(_&&_._clone(f))})()}_updateCurrentUser(c,f=!1){var _=this;return(0,L.Z)(function*(){if(!_._deleted)return c&&ye(_.tenantId===c.tenantId,_,"tenant-id-mismatch"),f||(yield _.beforeStateQueue.runMiddleware(c)),_.queue((0,L.Z)(function*(){yield _.directlySetCurrentUser(c),_.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,L.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var f=this;return this.queue((0,L.Z)(function*(){yield f.assertedPersistence.setPersistence(ae(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var f=this;return(0,L.Z)(function*(){f._getPasswordPolicyInternal()||(yield f._updatePasswordPolicy());const _=f._getPasswordPolicyInternal();return _.schemaVersion!==f.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(f._errorFactory.create("unsupported-password-policy-schema-version",{})):_.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,L.Z)(function*(){const f=yield function qc(m){return gs.apply(this,arguments)}(c),_=new vl(f);null===c.tenantId?c._projectPasswordPolicy=_:c._tenantPasswordPolicies[c.tenantId]=_})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new X.LL("auth","Firebase",c())}onAuthStateChanged(c,f,_){return this.registerStateListener(this.authStateSubscription,c,f,_)}beforeAuthStateChanged(c,f){return this.beforeStateQueue.pushCallback(c,f)}onIdTokenChanged(c,f,_){return this.registerStateListener(this.idTokenSubscription,c,f,_)}authStateReady(){return new Promise((c,f)=>{if(this.currentUser)c();else{const _=this.onAuthStateChanged(()=>{_(),c()},f)}})}revokeAccessToken(c){var f=this;return(0,L.Z)(function*(){if(f.currentUser){const _=yield f.currentUser.getIdToken(),I={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:_};null!=f.tenantId&&(I.tenantId=f.tenantId),yield function j(m,c){return B.apply(this,arguments)}(f,I)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,f){var _=this;return(0,L.Z)(function*(){const I=yield _.getOrInitRedirectPersistenceManager(f);return null===c?I.removeCurrentUser():I.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var f=this;return(0,L.Z)(function*(){if(!f.redirectPersistenceManager){const _=c&&ae(c)||f._popupRedirectResolver;ye(_,f,"argument-error"),f.redirectPersistenceManager=yield nt.create(f,[ae(_._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(c){var f=this;return(0,L.Z)(function*(){var _,I;return f._isInitialized&&(yield f.queue((0,L.Z)(function*(){}))),(null===(_=f._currentUser)||void 0===_?void 0:_._redirectEventId)===c?f._currentUser:(null===(I=f.redirectUser)||void 0===I?void 0:I._redirectEventId)===c?f.redirectUser:null})()}_persistUserIfCurrent(c){var f=this;return(0,L.Z)(function*(){if(c===f.currentUser)return f.queue((0,L.Z)(function*(){return f.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(f=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,f,_,I){if(this._deleted)return()=>{};const R="function"==typeof f?f:f.next.bind(f);let q=!1;const he=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(he,this,"internal-error"),he.then(()=>{q||R(this.currentUser)}),"function"==typeof f){const Pe=c.addObserver(f,_,I);return()=>{q=!0,Pe()}}{const Pe=c.addObserver(f);return()=>{q=!0,Pe()}}}directlySetCurrentUser(c){var f=this;return(0,L.Z)(function*(){f.currentUser&&f.currentUser!==c&&f._currentUser._stopProactiveRefresh(),c&&f.isProactiveRefreshEnabled&&c._startProactiveRefresh(),f.currentUser=c,c?yield f.assertedPersistence.setCurrentUser(c):yield f.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=ps(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,L.Z)(function*(){var f;const _={"X-Client-Version":c.clientVersion};c.app.options.appId&&(_["X-Firebase-gmpid"]=c.app.options.appId);const I=yield null===(f=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();I&&(_["X-Firebase-Client"]=I);const R=yield c._getAppCheckToken();return R&&(_["X-Firebase-AppCheck"]=R),_})()}_getAppCheckToken(){var c=this;return(0,L.Z)(function*(){var f;const _=yield null===(f=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return _?.error&&function Cr(m,...c){Ue.logLevel<=He.in.WARN&&Ue.warn(`Auth (${Y.SDK_VERSION}): ${m}`,...c)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function gt(m){return(0,X.m9)(m)}class Mh{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,X.ne)(f=>this.observer=f)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Mu(m){return new Promise((c,f)=>{const _=document.createElement("script");_.setAttribute("src",m),_.onload=c,_.onerror=I=>{const R=vn("internal-error");R.customData=I,f(R)},_.type="text/javascript",_.charset="UTF-8",function Rh(){var m,c;return null!==(c=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==c?c:document}().appendChild(_)})}function xh(m){return`__${m}${Math.floor(1e6*Math.random())}`}class Ng{constructor(c){this.type="recaptcha-enterprise",this.auth=gt(c)}verify(c="verify",f=!1){var _=this;return(0,L.Z)(function*(){function R(){return R=(0,L.Z)(function*(he){if(!f){if(null==he.tenantId&&null!=he._agentRecaptchaConfig)return he._agentRecaptchaConfig.siteKey;if(null!=he.tenantId&&void 0!==he._tenantRecaptchaConfigs[he.tenantId])return he._tenantRecaptchaConfigs[he.tenantId].siteKey}return new Promise(function(){var Pe=(0,L.Z)(function*(et,Ye){qr(he,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Yt=>{if(void 0!==Yt.recaptchaKey){const ts=new dn(Yt);return null==he.tenantId?he._agentRecaptchaConfig=ts:he._tenantRecaptchaConfigs[he.tenantId]=ts,et(ts.siteKey)}Ye(new Error("recaptcha Enterprise site key undefined"))}).catch(Yt=>{Ye(Yt)})});return function(et,Ye){return Pe.apply(this,arguments)}}())}),R.apply(this,arguments)}function q(he,Pe,et){const Ye=window.grecaptcha;Xn(Ye)?Ye.enterprise.ready(()=>{Ye.enterprise.execute(he,{action:c}).then(Yt=>{Pe(Yt)}).catch(()=>{Pe("NO_RECAPTCHA")})}):et(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((he,Pe)=>{(function I(he){return R.apply(this,arguments)})(_.auth).then(et=>{if(!f&&Xn(window.grecaptcha))q(et,he,Pe);else{if(typeof window>"u")return void Pe(new Error("RecaptchaVerifier is only supported in browser"));Mu("https://www.google.com/recaptcha/enterprise.js?render="+et).then(()=>{q(et,he,Pe)}).catch(Ye=>{Pe(Ye)})}}).catch(et=>{Pe(et)})})})()}}function Oh(m,c,f){return wl.apply(this,arguments)}function wl(){return(wl=(0,L.Z)(function*(m,c,f,_=!1){const I=new Ng(m);let R;try{R=yield I.verify(f)}catch{R=yield I.verify(f,!0)}const q=Object.assign({},c);return Object.assign(q,_?{captchaResp:R}:{captchaResponse:R}),Object.assign(q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),q})).apply(this,arguments)}function Qi(m,c,f,_){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,L.Z)(function*(m,c,f,_){var I;if(null!==(I=m._getRecaptchaConfig())&&void 0!==I&&I.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const R=yield Oh(m,c,f,"getOobCode"===f);return _(m,R)}return _(m,c).catch(function(){var R=(0,L.Z)(function*(q){if("auth/missing-recaptcha-token"===q.code){console.log(`${f} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const he=yield Oh(m,c,f,"getOobCode"===f);return _(m,he)}return Promise.reject(q)});return function(q){return R.apply(this,arguments)}}())}),Ru.apply(this,arguments)}function kh(m,c,f){const _=gt(m);ye(_._canInitEmulator,_,"emulator-config-failed"),ye(/^https?:\/\//.test(c),_,"invalid-emulator-scheme");const I=!!f?.disableWarnings,R=$a(c),{host:q,port:he}=function Lv(m){const c=$a(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(c.length));if(!f)return{host:"",port:null};const _=f[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(_);if(I){const R=I[1];return{host:R,port:Ei(_.substr(R.length+1))}}{const[R,q]=_.split(":");return{host:R,port:Ei(q)}}}(c);_.config.emulator={url:`${R}//${q}${null===he?"":`:${he}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:q,port:he,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function dt(){function m(){const c=document.createElement("p"),f=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}function $a(m){const c=m.indexOf(":");return c<0?"":m.substr(0,c+1)}function Ei(m){if(!m)return null;const c=Number(m);return isNaN(c)?null:c}class Ls{constructor(c,f){this.providerId=c,this.signInMethod=f}toJSON(){return gn("not implemented")}_getIdTokenResponse(c){return gn("not implemented")}_linkToIdToken(c,f){return gn("not implemented")}_getReauthenticationResolver(c){return gn("not implemented")}}function Gc(m,c){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:resetPassword",le(m,c))})).apply(this,arguments)}function $e(){return($e=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Lh(m,c){return tr.apply(this,arguments)}function tr(){return(tr=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function Kc(){return(Kc=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:update",le(m,c))})).apply(this,arguments)}function Zc(m,c){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,L.Z)(function*(m,c){return Cn(m,"POST","/v1/accounts:signInWithPassword",le(m,c))})).apply(this,arguments)}function pa(m,c){return $o.apply(this,arguments)}function $o(){return($o=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:sendOobCode",le(m,c))})).apply(this,arguments)}function Cl(){return(Cl=(0,L.Z)(function*(m,c){return pa(m,c)})).apply(this,arguments)}function Fg(m,c){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,L.Z)(function*(m,c){return pa(m,c)})).apply(this,arguments)}function Xc(m,c){return Il.apply(this,arguments)}function Il(){return(Il=(0,L.Z)(function*(m,c){return pa(m,c)})).apply(this,arguments)}function Ou(){return(Ou=(0,L.Z)(function*(m,c){return pa(m,c)})).apply(this,arguments)}function An(){return(An=(0,L.Z)(function*(m,c){return Cn(m,"POST","/v1/accounts:signInWithEmailLink",le(m,c))})).apply(this,arguments)}function Jc(){return(Jc=(0,L.Z)(function*(m,c){return Cn(m,"POST","/v1/accounts:signInWithEmailLink",le(m,c))})).apply(this,arguments)}class Oe extends Ls{constructor(c,f,_,I=null){super("password",_),this._email=c,this._password=f,this._tenantId=I}static _fromEmailAndPassword(c,f){return new Oe(c,f,"password")}static _fromEmailAndCode(c,f,_=null){return new Oe(c,f,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(c){var f=this;return(0,L.Z)(function*(){switch(f.signInMethod){case"password":return Qi(c,{returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Zc);case"emailLink":return function Vh(m,c){return An.apply(this,arguments)}(c,{email:f._email,oobCode:f._password});default:kt(c,"internal-error")}})()}_linkToIdToken(c,f){var _=this;return(0,L.Z)(function*(){switch(_.signInMethod){case"password":return Qi(c,{idToken:f,returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lh);case"emailLink":return function Uh(m,c){return Jc.apply(this,arguments)}(c,{idToken:f,email:_._email,oobCode:_._password});default:kt(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Yi(m,c){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,L.Z)(function*(m,c){return Cn(m,"POST","/v1/accounts:signInWithIdp",le(m,c))})).apply(this,arguments)}class ms extends Ls{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const f=new ms(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(f.idToken=c.idToken),c.accessToken&&(f.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(f.nonce=c.nonce),c.pendingToken&&(f.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(f.accessToken=c.oauthToken,f.secret=c.oauthTokenSecret):kt("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:_,signInMethod:I}=f,R=(0,$n._T)(f,["providerId","signInMethod"]);if(!_||!I)return null;const q=new ms(_,I);return q.idToken=R.idToken||void 0,q.accessToken=R.accessToken||void 0,q.secret=R.secret,q.nonce=R.nonce,q.pendingToken=R.pendingToken||null,q}_getIdTokenResponse(c){return Yi(c,this.buildRequest())}_linkToIdToken(c,f){const _=this.buildRequest();return _.idToken=f,Yi(c,_)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,Yi(c,f)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),c.postBody=(0,X.xO)(f)}return c}}function Ha(){return(Ha=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:sendVerificationCode",le(m,c))})).apply(this,arguments)}function $h(){return($h=(0,L.Z)(function*(m,c){return Cn(m,"POST","/v1/accounts:signInWithPhoneNumber",le(m,c))})).apply(this,arguments)}function Hh(){return(Hh=(0,L.Z)(function*(m,c){const f=yield Cn(m,"POST","/v1/accounts:signInWithPhoneNumber",le(m,c));if(f.temporaryProof)throw In(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const d={USER_NOT_FOUND:"user-not-found"};function v(){return(v=(0,L.Z)(function*(m,c){return Cn(m,"POST","/v1/accounts:signInWithPhoneNumber",le(m,Object.assign(Object.assign({},c),{operation:"REAUTH"})),d)})).apply(this,arguments)}class w extends Ls{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,f){return new w({verificationId:c,verificationCode:f})}static _fromTokenResponse(c,f){return new w({phoneNumber:c,temporaryProof:f})}_getIdTokenResponse(c){return function jh(m,c){return $h.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,f){return function Vv(m,c){return Hh.apply(this,arguments)}(c,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function g(m,c){return v.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:f,verificationId:_,verificationCode:I}=this.params;return c&&f?{temporaryProof:c,phoneNumber:f}:{sessionInfo:_,code:I}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:f,verificationCode:_,phoneNumber:I,temporaryProof:R}=c;return _||f||I||R?new w({verificationId:f,verificationCode:_,phoneNumber:I,temporaryProof:R}):null}}class D{constructor(c){var f,_,I,R,q,he;const Pe=(0,X.zd)((0,X.pd)(c)),et=null!==(f=Pe.apiKey)&&void 0!==f?f:null,Ye=null!==(_=Pe.oobCode)&&void 0!==_?_:null,Yt=function b(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Pe.mode)&&void 0!==I?I:null);ye(et&&Ye&&Yt,"argument-error"),this.apiKey=et,this.operation=Yt,this.code=Ye,this.continueUrl=null!==(R=Pe.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(q=Pe.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(he=Pe.tenantId)&&void 0!==he?he:null}static parseLink(c){const f=function T(m){const c=(0,X.zd)((0,X.pd)(m)).link,f=c?(0,X.zd)((0,X.pd)(c)).deep_link_id:null,_=(0,X.zd)((0,X.pd)(m)).deep_link_id;return(_?(0,X.zd)((0,X.pd)(_)).link:null)||_||f||c||m}(c);try{return new D(f)}catch{return null}}}let V=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,_){return Oe._fromEmailAndPassword(f,_)}static credentialWithLink(f,_){const I=D.parseLink(_);return ye(I,"argument-error"),Oe._fromEmailAndCode(f,I.code,I.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Q{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class ce extends Q{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Ee extends ce{static credentialFromJSON(c){const f="string"==typeof c?JSON.parse(c):c;return ye("providerId"in f&&"signInMethod"in f,"argument-error"),ms._fromParams(f)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return ye(c.idToken||c.accessToken,"argument-error"),ms._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Ee.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Ee.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:f,oauthAccessToken:_,oauthTokenSecret:I,pendingToken:R,nonce:q,providerId:he}=c;if(!_&&!I&&!f&&!R||!he)return null;try{return new Ee(he)._credential({idToken:f,accessToken:_,nonce:q,pendingToken:R})}catch{return null}}}let k=(()=>{class m extends ce{constructor(){super("facebook.com")}static credential(f){return ms._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),ke=(()=>{class m extends ce{constructor(){super("google.com"),this.addScope("profile")}static credential(f,_){return ms._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:I}=f;if(!_&&!I)return null;try{return m.credential(_,I)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),_e=(()=>{class m extends ce{constructor(){super("github.com")}static credential(f){return ms._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Tt extends Ls{constructor(c,f){super(c,c),this.pendingToken=f}_getIdTokenResponse(c){return Yi(c,this.buildRequest())}_linkToIdToken(c,f){const _=this.buildRequest();return _.idToken=f,Yi(c,_)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,Yi(c,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:_,signInMethod:I,pendingToken:R}=f;return _&&I&&R&&_===I?new Tt(_,R):null}static _create(c,f){return new Tt(c,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ar extends Q{constructor(c){ye(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return ar.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return ar.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const f=Tt.fromJSON(c);return ye(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:f,providerId:_}=c;if(!f||!_)return null;try{return Tt._create(_,f)}catch{return null}}}let ro=(()=>{class m extends ce{constructor(){super("twitter.com")}static credential(f,_){return ms._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:_,oauthTokenSecret:I}=f;if(!_||!I)return null;try{return m.credential(_,I)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Vs(m,c){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,L.Z)(function*(m,c){return Cn(m,"POST","/v1/accounts:signUp",le(m,c))})).apply(this,arguments)}class mr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,f,_,I=!1){return(0,L.Z)(function*(){const R=yield A._fromIdTokenResponse(c,_,I),q=Nt(_);return new mr({user:R,providerId:q,_tokenResponse:_,operationType:f})})()}static _forOperation(c,f,_){return(0,L.Z)(function*(){yield c._updateTokensIfNecessary(_,!0);const I=Nt(_);return new mr({user:c,providerId:I,_tokenResponse:_,operationType:f})})()}}function Nt(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function En(m){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,L.Z)(function*(m){var c;const f=gt(m);if(yield f._initializationPromise,null!==(c=f.currentUser)&&void 0!==c&&c.isAnonymous)return new mr({user:f.currentUser,providerId:null,operationType:"signIn"});const _=yield Vs(f,{returnSecureToken:!0}),I=yield mr._fromIdTokenResponse(f,"signIn",_,!0);return yield f._updateCurrentUser(I.user),I})).apply(this,arguments)}class ga extends X.ZR{constructor(c,f,_,I){var R;super(f.code,f.message),this.operationType=_,this.user=I,Object.setPrototypeOf(this,ga.prototype),this.customData={appName:c.name,tenantId:null!==(R=c.tenantId)&&void 0!==R?R:void 0,_serverResponse:f.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(c,f,_,I){return new ga(c,f,_,I)}}function Xi(m,c,f,_){return("reauthenticate"===c?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?ga._fromErrorAndOperation(m,R,c,_):R})}function ma(m){return new Set(m.map(({providerId:c})=>c).filter(c=>!!c))}function Us(m,c){return Li.apply(this,arguments)}function Li(){return Li=(0,L.Z)(function*(m,c){const f=(0,X.m9)(m);yield za(!0,f,c);const{providerUserInfo:_}=yield function Jn(m,c){return vi.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[c]}),I=ma(_||[]);return f.providerData=f.providerData.filter(R=>I.has(R.providerId)),I.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),Li.apply(this,arguments)}function Bs(m,c){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,L.Z)(function*(m,c,f=!1){const _=yield mn(m,c._linkToIdToken(m.auth,yield m.getIdToken()),f);return mr._forOperation(m,"link",_)})).apply(this,arguments)}function za(m,c,f){return _s.apply(this,arguments)}function _s(){return(_s=(0,L.Z)(function*(m,c,f){yield Sr(c);const I=!1===m?"provider-already-linked":"no-such-provider";ye(ma(c.providerData).has(f)===m,c.auth,I)})).apply(this,arguments)}function io(m,c){return ed.apply(this,arguments)}function ed(){return(ed=(0,L.Z)(function*(m,c,f=!1){const{auth:_}=m,I="reauthenticate";try{const R=yield mn(m,Xi(_,I,c,m),f);ye(R.idToken,_,"internal-error");const q=Ni(R.idToken);ye(q,_,"internal-error");const{sub:he}=q;return ye(m.uid===he,_,"user-mismatch"),mr._forOperation(m,I,R)}catch(R){throw"auth/user-not-found"===R?.code&&kt(_,"user-mismatch"),R}})).apply(this,arguments)}function ys(m,c){return td.apply(this,arguments)}function td(){return(td=(0,L.Z)(function*(m,c,f=!1){const _="signIn",I=yield Xi(m,_,c),R=yield mr._fromIdTokenResponse(m,_,I);return f||(yield m._updateCurrentUser(R.user)),R})).apply(this,arguments)}function hn(m,c){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,L.Z)(function*(m,c){return ys(gt(m),c)})).apply(this,arguments)}function vs(m,c){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,L.Z)(function*(m,c){const f=(0,X.m9)(m);return yield za(!1,f,c.providerId),Bs(f,c)})).apply(this,arguments)}function zh(m,c){return bl.apply(this,arguments)}function bl(){return(bl=(0,L.Z)(function*(m,c){return io((0,X.m9)(m),c)})).apply(this,arguments)}function wo(){return(wo=(0,L.Z)(function*(m,c){return Cn(m,"POST","/v1/accounts:signInWithCustomToken",le(m,c))})).apply(this,arguments)}function nd(m,c){return Vn.apply(this,arguments)}function Vn(){return Vn=(0,L.Z)(function*(m,c){const f=gt(m),_=yield function Wh(m,c){return wo.apply(this,arguments)}(f,{token:c,returnSecureToken:!0}),I=yield mr._fromIdTokenResponse(f,"signIn",_);return yield f._updateCurrentUser(I.user),I}),Vn.apply(this,arguments)}class qa{constructor(c,f){this.factorId=c,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(c,f){return"phoneInfo"in f?_a._fromServerResponse(c,f):"totpInfo"in f?Kn._fromServerResponse(c,f):kt(c,"internal-error")}}class _a extends qa{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,f){return new _a(f)}}class Kn extends qa{constructor(c){super("totp",c)}static _fromServerResponse(c,f){return new Kn(f)}}function zo(m,c,f){var _;ye((null===(_=f.url)||void 0===_?void 0:_.length)>0,m,"invalid-continue-uri"),ye(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),c.continueUrl=f.url,c.dynamicLinkDomain=f.dynamicLinkDomain,c.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(ye(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),c.iOSBundleId=f.iOS.bundleId),f.android&&(ye(f.android.packageName.length>0,m,"missing-android-pkg-name"),c.androidInstallApp=f.android.installApp,c.androidMinimumVersionCode=f.android.minimumVersion,c.androidPackageName=f.android.packageName)}function _t(m){return hi.apply(this,arguments)}function hi(){return(hi=(0,L.Z)(function*(m){const c=gt(m);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function Bt(m,c,f){return nr.apply(this,arguments)}function nr(){return(nr=(0,L.Z)(function*(m,c,f){const _=gt(m),I={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};f&&zo(_,I,f),yield Qi(_,I,"getOobCode",Fg)})).apply(this,arguments)}function Ur(m,c,f){return so.apply(this,arguments)}function so(){return so=(0,L.Z)(function*(m,c,f){yield Gc((0,X.m9)(m),{oobCode:c,newPassword:f}).catch(function(){var _=(0,L.Z)(function*(I){throw"auth/password-does-not-meet-requirements"===I.code&&_t(m),I});return function(I){return _.apply(this,arguments)}}())}),so.apply(this,arguments)}function Kr(m,c){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,L.Z)(function*(m,c){yield function xu(m,c){return Kc.apply(this,arguments)}((0,X.m9)(m),{oobCode:c})}),Fu.apply(this,arguments)}function F(m,c){return K.apply(this,arguments)}function K(){return(K=(0,L.Z)(function*(m,c){const f=(0,X.m9)(m),_=yield Gc(f,{oobCode:c}),I=_.requestType;switch(ye(I,f,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(_.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(_.mfaInfo,f,"internal-error");default:ye(_.email,f,"internal-error")}let R=null;return _.mfaInfo&&(R=qa._fromServerResponse(gt(f),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:R},operation:I}})).apply(this,arguments)}function oe(m,c){return de.apply(this,arguments)}function de(){return(de=(0,L.Z)(function*(m,c){const{data:f}=yield F((0,X.m9)(m),c);return f.email})).apply(this,arguments)}function fe(m,c,f){return ne.apply(this,arguments)}function ne(){return(ne=(0,L.Z)(function*(m,c,f){const _=gt(m),q=yield Qi(_,{returnSecureToken:!0,email:c,password:f,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vs).catch(Pe=>{throw"auth/password-does-not-meet-requirements"===Pe.code&&_t(m),Pe}),he=yield mr._fromIdTokenResponse(_,"signIn",q);return yield _._updateCurrentUser(he.user),he})).apply(this,arguments)}function ve(m,c,f){return hn((0,X.m9)(m),V.credential(c,f)).catch(function(){var _=(0,L.Z)(function*(I){throw"auth/password-does-not-meet-requirements"===I.code&&_t(m),I});return function(I){return _.apply(this,arguments)}}())}function Be(m,c,f){return je.apply(this,arguments)}function je(){return(je=(0,L.Z)(function*(m,c,f){const _=gt(m),I={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function R(q,he){ye(he.handleCodeInApp,_,"argument-error"),he&&zo(_,q,he)})(I,f),yield Qi(_,I,"getOobCode",Xc)})).apply(this,arguments)}function yt(m,c){const f=D.parseLink(c);return"EMAIL_SIGNIN"===f?.operation}function ot(m,c,f){return vt.apply(this,arguments)}function vt(){return(vt=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m),I=V.credentialWithLink(c,f||Ir());return ye(I._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),hn(_,I)})).apply(this,arguments)}function Qe(){return(Qe=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:createAuthUri",le(m,c))})).apply(this,arguments)}function ln(m,c){return st.apply(this,arguments)}function st(){return st=(0,L.Z)(function*(m,c){const _={identifier:c,continueUri:$t()?Ir():"http://localhost"},{signinMethods:I}=yield function rt(m,c){return Qe.apply(this,arguments)}((0,X.m9)(m),_);return I||[]}),st.apply(this,arguments)}function Pr(m,c){return Ii.apply(this,arguments)}function Ii(){return Ii=(0,L.Z)(function*(m,c){const f=(0,X.m9)(m),I={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};c&&zo(f.auth,I,c);const{email:R}=yield function Yc(m,c){return Cl.apply(this,arguments)}(f.auth,I);R!==m.email&&(yield m.reload())}),Ii.apply(this,arguments)}function bi(m,c,f){return bn.apply(this,arguments)}function bn(){return bn=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:c};f&&zo(_.auth,R,f);const{email:q}=yield function Fi(m,c){return Ou.apply(this,arguments)}(_.auth,R);q!==m.email&&(yield m.reload())}),bn.apply(this,arguments)}function Ga(){return(Ga=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Wo(m,c){return Lu.apply(this,arguments)}function Lu(){return Lu=(0,L.Z)(function*(m,{displayName:c,photoURL:f}){if(void 0===c&&void 0===f)return;const _=(0,X.m9)(m),R={idToken:yield _.getIdToken(),displayName:c,photoUrl:f,returnSecureToken:!0},q=yield mn(_,function Br(m,c){return Ga.apply(this,arguments)}(_.auth,R));_.displayName=q.displayName||null,_.photoURL=q.photoUrl||null;const he=_.providerData.find(({providerId:Pe})=>"password"===Pe);he&&(he.displayName=_.displayName,he.photoURL=_.photoURL),yield _._updateTokensIfNecessary(q)}),Lu.apply(this,arguments)}function Uv(m,c){return rd((0,X.m9)(m),c,null)}function Ka(m,c){return rd((0,X.m9)(m),null,c)}function rd(m,c,f){return ya.apply(this,arguments)}function ya(){return ya=(0,L.Z)(function*(m,c,f){const{auth:_}=m,R={idToken:yield m.getIdToken(),returnSecureToken:!0};c&&(R.email=c),f&&(R.password=f);const q=yield mn(m,function El(m,c){return $e.apply(this,arguments)}(_,R));yield m._updateTokensIfNecessary(q,!0)}),ya.apply(this,arguments)}class Za{constructor(c,f,_={}){this.isNewUser=c,this.providerId=f,this.profile=_}}class Tl extends Za{constructor(c,f,_,I){super(c,f,_),this.username=I}}class qo extends Za{constructor(c,f){super(c,"facebook.com",f)}}class qh extends Tl{constructor(c,f){super(c,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class Sl extends Za{constructor(c,f){super(c,"google.com",f)}}class jr extends Tl{constructor(c,f,_){super(c,"twitter.com",f,_)}}function Dl(m){const{user:c,_tokenResponse:f}=m;return c.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Lt(m){var c,f;if(!m)return null;const{providerId:_}=m,I=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},R=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!_&&m?.idToken){const q=null===(f=null===(c=Ni(m.idToken))||void 0===c?void 0:c.firebase)||void 0===f?void 0:f.sign_in_provider;if(q)return new Za(R,"anonymous"!==q&&"custom"!==q?q:null)}if(!_)return null;switch(_){case"facebook.com":return new qo(R,I);case"github.com":return new qh(R,I);case"google.com":return new Sl(R,I);case"twitter.com":return new jr(R,I,m.screenName||null);case"custom":case"anonymous":return new Za(R,null);default:return new Za(R,_,I)}}(f)}function id(m,c,f,_){return(0,X.m9)(m).onIdTokenChanged(c,f,_)}class Al{constructor(c,f,_){this.type=c,this.credential=f,this.user=_}static _fromIdtoken(c,f){return new Al("enroll",c,f)}static _fromMfaPendingCredential(c){return new Al("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var f,_;if(c?.multiFactorSession){if(null!==(f=c.multiFactorSession)&&void 0!==f&&f.pendingCredential)return Al._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(_=c.multiFactorSession)&&void 0!==_&&_.idToken)return Al._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Hv{constructor(c,f,_){this.session=c,this.hints=f,this.signInResolver=_}static _fromError(c,f){const _=gt(c),I=f.customData._serverResponse,R=(I.mfaInfo||[]).map(he=>qa._fromServerResponse(_,he));ye(I.mfaPendingCredential,_,"internal-error");const q=Al._fromMfaPendingCredential(I.mfaPendingCredential);return new Hv(q,R,function(){var he=(0,L.Z)(function*(Pe){const et=yield Pe._process(_,q);delete I.mfaInfo,delete I.mfaPendingCredential;const Ye=Object.assign(Object.assign({},I),{idToken:et.idToken,refreshToken:et.refreshToken});switch(f.operationType){case"signIn":const Yt=yield mr._fromIdTokenResponse(_,f.operationType,Ye);return yield _._updateCurrentUser(Yt.user),Yt;case"reauthenticate":return ye(f.user,_,"internal-error"),mr._forOperation(f.user,f.operationType,Ye);default:kt(_,"internal-error")}});return function(Pe){return he.apply(this,arguments)}}())}resolveSignIn(c){var f=this;return(0,L.Z)(function*(){return f.signInResolver(c)})()}}function MN(m,c){var f;const _=(0,X.m9)(m),I=c;return ye(c.customData.operationType,_,"argument-error"),ye(null===(f=I.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,_,"argument-error"),Hv._fromError(_,I)}class zv{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(_=>qa._fromServerResponse(c.auth,_)))})}static _fromUser(c){return new zv(c)}getSession(){var c=this;return(0,L.Z)(function*(){return Al._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,f){var _=this;return(0,L.Z)(function*(){const I=c,R=yield _.getSession(),q=yield mn(_.user,I._process(_.user.auth,R,f));return yield _.user._updateTokensIfNecessary(q),_.user.reload()})()}unenroll(c){var f=this;return(0,L.Z)(function*(){const _="string"==typeof c?c:c.uid,I=yield f.user.getIdToken();try{const R=yield mn(f.user,function NN(m,c){return Se(m,"POST","/v2/accounts/mfaEnrollment:withdraw",le(m,c))}(f.user.auth,{idToken:I,mfaEnrollmentId:_}));f.enrolledFactors=f.enrolledFactors.filter(({uid:q})=>q!==_),yield f.user._updateTokensIfNecessary(R),yield f.user.reload()}catch(R){throw R}})()}}const Wv=new WeakMap;function kN(m){const c=(0,X.m9)(m);return Wv.has(c)||Wv.set(c,zv._fromUser(c)),Wv.get(c)}const Lg="__sak";class Vg{constructor(c,f){this.storageRetriever=c,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Lg,"1"),this.storage.removeItem(Lg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,f){return this.storage.setItem(c,JSON.stringify(f)),Promise.resolve()}_get(c){const f=this.storage.getItem(c);return Promise.resolve(f?JSON.parse(f):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const vb=(()=>{class m extends Vg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,_)=>this.onStorageEvent(f,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function qv(){const m=(0,X.z$)();return Ft(m)||Je(m)}()&&function xn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=er(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const _ of Object.keys(this.listeners)){const I=this.storage.getItem(_),R=this.localCache[_];I!==R&&f(_,R,I)}}onStorageEvent(f,_=!1){if(!f.key)return void this.forAllChangedKeys((he,Pe,et)=>{this.notifyListeners(he,et)});const I=f.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(I);if(f.newValue!==he)null!==f.newValue?this.storage.setItem(I,f.newValue):this.storage.removeItem(I);else if(this.localCache[I]===f.newValue&&!_)return}const R=()=>{const he=this.storage.getItem(I);!_&&this.localCache[I]===he||this.notifyListeners(I,he)},q=this.storage.getItem(I);!function re(){return(0,X.w1)()&&10===document.documentMode}()||q===f.newValue||f.newValue===f.oldValue?R():setTimeout(R,10)}notifyListeners(f,_){this.localCache[f]=_;const I=this.listeners[f];if(I)for(const R of Array.from(I))R(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,_,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:_,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,_){var I=()=>super._set,R=this;return(0,L.Z)(function*(){yield I().call(R,f,_),R.localCache[f]=JSON.stringify(_)})()}_get(f){var _=()=>super._get,I=this;return(0,L.Z)(function*(){const R=yield _().call(I,f);return I.localCache[f]=JSON.stringify(R),R})()}_remove(f){var _=()=>super._remove,I=this;return(0,L.Z)(function*(){yield _().call(I,f),delete I.localCache[f]})()}}return m.type="LOCAL",m})(),Ug=(()=>{class m extends Vg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,_){}_removeListener(f,_){}}return m.type="SESSION",m})();let Gv=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const _=this.receivers.find(R=>R.isListeningto(f));if(_)return _;const I=new m(f);return this.receivers.push(I),I}isListeningto(f){return this.eventTarget===f}handleEvent(f){var _=this;return(0,L.Z)(function*(){const I=f,{eventId:R,eventType:q,data:he}=I.data,Pe=_.handlersMap[q];if(!Pe?.size)return;I.ports[0].postMessage({status:"ack",eventId:R,eventType:q});const et=Array.from(Pe).map(function(){var Yt=(0,L.Z)(function*(ts){return ts(I.origin,he)});return function(ts){return Yt.apply(this,arguments)}}()),Ye=yield function oo(m){return Promise.all(m.map(function(){var c=(0,L.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(_){return{fulfilled:!1,reason:_}}});return function(f){return c.apply(this,arguments)}}()))}(et);I.ports[0].postMessage({status:"done",eventId:R,eventType:q,response:Ye})})()}_subscribe(f,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(_)}_unsubscribe(f,_){this.handlersMap[f]&&_&&this.handlersMap[f].delete(_),(!_||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function od(m="",c=10){let f="";for(let _=0;_<c;_++)f+=Math.floor(10*Math.random());return m+f}class wb{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,f,_=50){var I=this;return(0,L.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let q,he;return new Promise((Pe,et)=>{const Ye=od("",20);R.port1.start();const Yt=setTimeout(()=>{et(new Error("unsupported_event"))},_);he={messageChannel:R,onMessage(ts){const Co=ts;if(Co.data.eventId===Ye)switch(Co.data.status){case"ack":clearTimeout(Yt),q=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Pe(Co.data.response);break;default:clearTimeout(Yt),clearTimeout(q),et(new Error("invalid_response"))}}},I.handlers.add(he),R.port1.addEventListener("message",he.onMessage),I.target.postMessage({eventType:c,eventId:Ye,data:f},[R.port2])}).finally(()=>{he&&I.removeMessageHandler(he)})})()}}function $r(){return window}function Bg(){return typeof $r().WorkerGlobalScope<"u"&&"function"==typeof $r().importScripts}function $g(){return($g=(0,L.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hg="firebaseLocalStorageDb",Gh="firebaseLocalStorage",Eb="fbase_key";class On{constructor(c){this.request=c}toPromise(){return new Promise((c,f)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Ml(m,c){return m.transaction([Gh],c?"readwrite":"readonly").objectStore(Gh)}function Si(){const m=indexedDB.open(Hg,1);return new Promise((c,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const _=m.result;try{_.createObjectStore(Gh,{keyPath:Eb})}catch(I){f(I)}}),m.addEventListener("success",(0,L.Z)(function*(){const _=m.result;_.objectStoreNames.contains(Gh)?c(_):(_.close(),yield function ad(){const m=indexedDB.deleteDatabase(Hg);return new On(m).toPromise()}(),c(yield Si()))}))})}function Yv(m,c,f){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,L.Z)(function*(m,c,f){const _=Ml(m,!0).put({[Eb]:c,value:f});return new On(_).toPromise()})).apply(this,arguments)}function Ji(){return(Ji=(0,L.Z)(function*(m,c){const f=Ml(m,!1).get(c),_=yield new On(f).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function Xv(m,c){const f=Ml(m,!0).delete(c);return new On(f).toPromise()}const Wg=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,L.Z)(function*(){return f.db||(f.db=yield Si()),f.db})()}_withRetries(f){var _=this;return(0,L.Z)(function*(){let I=0;for(;;)try{const R=yield _._openDb();return yield f(R)}catch(R){if(I++>3)throw R;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,L.Z)(function*(){return Bg()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,L.Z)(function*(){f.receiver=Gv._getInstance(function Zv(){return Bg()?self:null}()),f.receiver._subscribe("keyChanged",function(){var _=(0,L.Z)(function*(I,R){return{keyProcessed:(yield f._poll()).includes(R.key)}});return function(I,R){return _.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var _=(0,L.Z)(function*(I,R){return["keyChanged"]});return function(I,R){return _.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,L.Z)(function*(){var _,I;if(f.activeServiceWorker=yield function jg(){return $g.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new wb(f.activeServiceWorker);const R=yield f.sender._send("ping",{},800);R&&null!==(_=R[0])&&void 0!==_&&_.fulfilled&&null!==(I=R[0])&&void 0!==I&&I.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var _=this;return(0,L.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function Go(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:f},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,L.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Si();return yield Yv(f,Lg,"1"),yield Xv(f,Lg),!0}catch{}return!1})()}_withPendingWrite(f){var _=this;return(0,L.Z)(function*(){_.pendingWrites++;try{yield f()}finally{_.pendingWrites--}})()}_set(f,_){var I=this;return(0,L.Z)(function*(){return I._withPendingWrite((0,L.Z)(function*(){return yield I._withRetries(R=>Yv(R,f,_)),I.localCache[f]=_,I.notifyServiceWorker(f)}))})()}_get(f){var _=this;return(0,L.Z)(function*(){const I=yield _._withRetries(R=>function Rl(m,c){return Ji.apply(this,arguments)}(R,f));return _.localCache[f]=I,I})()}_remove(f){var _=this;return(0,L.Z)(function*(){return _._withPendingWrite((0,L.Z)(function*(){return yield _._withRetries(I=>Xv(I,f)),delete _.localCache[f],_.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,L.Z)(function*(){const _=yield f._withRetries(q=>{const he=Ml(q,!1).getAll();return new On(he).toPromise()});if(!_)return[];if(0!==f.pendingWrites)return[];const I=[],R=new Set;for(const{fbase_key:q,value:he}of _)R.add(q),JSON.stringify(f.localCache[q])!==JSON.stringify(he)&&(f.notifyListeners(q,he),I.push(q));for(const q of Object.keys(f.localCache))f.localCache[q]&&!R.has(q)&&(f.notifyListeners(q,null),I.push(q));return I})()}notifyListeners(f,_){this.localCache[f]=_;const I=this.listeners[f];if(I)for(const R of Array.from(I))R(_)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,L.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})(),Uu=1e12;class Gg{constructor(c){this.auth=c,this.counter=Uu,this._widgets=new Map}render(c,f){const _=this.counter;return this._widgets.set(_,new At(c,this.auth.name,f||{})),this.counter++,_}reset(c){var f;const _=c||Uu;null===(f=this._widgets.get(_))||void 0===f||f.delete(),this._widgets.delete(_)}getResponse(c){var f;return(null===(f=this._widgets.get(c||Uu))||void 0===f?void 0:f.getResponse())||""}execute(c){var f=this;return(0,L.Z)(function*(){var _;return null===(_=f._widgets.get(c||Uu))||void 0===_||_.execute(),""})()}}class At{constructor(c,f,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof c?document.getElementById(c):c;ye(I,"argument-error",{appName:f}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function tw(m){const c=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<m;_++)c.push(f.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":f}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const nw=xh("rcb"),bb=new pr(3e4,6e4);class Sb{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=$r().grecaptcha)||void 0===c||!c.render)}load(c,f=""){return ye(function rw(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(f),c,"argument-error"),this.shouldResolveImmediately(f)&&Gn($r().grecaptcha)?Promise.resolve($r().grecaptcha):new Promise((_,I)=>{const R=$r().setTimeout(()=>{I(vn(c,"network-request-failed"))},bb.get());$r()[nw]=()=>{$r().clearTimeout(R),delete $r()[nw];const he=$r().grecaptcha;if(!he||!Gn(he))return void I(vn(c,"internal-error"));const Pe=he.render;he.render=(et,Ye)=>{const Yt=Pe(et,Ye);return this.counter++,Yt},this.hostLanguage=f,_(he)},Mu(`https://www.google.com/recaptcha/api.js??${(0,X.xO)({onload:nw,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(R),I(vn(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var f;return!(null===(f=$r().grecaptcha)||void 0===f||!f.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xl{load(c){return(0,L.Z)(function*(){return new Gg(c)})()}clearedOneInstance(){}}const iw="recaptcha",Db={theme:"light",type:"image"};class Ab{constructor(c,f,_=Object.assign({},Db)){this.parameters=_,this.type=iw,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gt(c),this.isInvisible="invisible"===this.parameters.size,ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof f?document.getElementById(f):f;ye(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xl:new Sb,this.validateStartingState()}verify(){var c=this;return(0,L.Z)(function*(){c.assertNotDestroyed();const f=yield c.render(),_=c.getAssertedRecaptcha();return _.getResponse(f)||new Promise(R=>{const q=he=>{he&&(c.tokenChangeListeners.delete(q),R(he))};c.tokenChangeListeners.add(q),c.isInvisible&&_.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return f=>{if(this.tokenChangeListeners.forEach(_=>_(f)),"function"==typeof c)c(f);else if("string"==typeof c){const _=$r()[c];"function"==typeof _&&_(f)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,L.Z)(function*(){if(yield c.init(),!c.widgetId){let f=c.container;if(!c.isInvisible){const _=document.createElement("div");f.appendChild(_),f=_}c.widgetId=c.getAssertedRecaptcha().render(f,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,L.Z)(function*(){ye($t()&&!Bg(),c.auth,"internal-error"),yield function Pb(){let m=null;return new Promise(c=>{"complete"!==document.readyState?(m=()=>c(),window.addEventListener("load",m)):c()}).catch(c=>{throw m&&window.removeEventListener("load",m),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const f=yield function li(m){return yi.apply(this,arguments)}(c.auth);ye(f,c.auth,"internal-error"),c.parameters.sitekey=f})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Kg{constructor(c,f){this.verificationId=c,this.onConfirmation=f}confirm(c){const f=w._fromVerification(this.verificationId,c);return this.onConfirmation(f)}}function Ce(m,c,f){return rn.apply(this,arguments)}function rn(){return(rn=(0,L.Z)(function*(m,c,f){const _=gt(m),I=yield Qa(_,c,(0,X.m9)(f));return new Kg(I,R=>hn(_,R))})).apply(this,arguments)}function Bu(m,c,f){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m);yield za(!1,_,"phone");const I=yield Qa(_.auth,c,(0,X.m9)(f));return new Kg(I,R=>vs(_,R))})).apply(this,arguments)}function Un(m,c,f){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m),I=yield Qa(_.auth,c,(0,X.m9)(f));return new Kg(I,R=>zh(_,R))})).apply(this,arguments)}function Qa(m,c,f){return ao.apply(this,arguments)}function ao(){return ao=(0,L.Z)(function*(m,c,f){var _;const I=yield f.verify();try{let R;if(ye("string"==typeof I,m,"argument-error"),ye(f.type===iw,m,"argument-error"),R="string"==typeof c?{phoneNumber:c}:c,"session"in R){const q=R.session;if("phoneNumber"in R)return ye("enroll"===q.type,m,"internal-error"),(yield function RN(m,c){return Se(m,"POST","/v2/accounts/mfaEnrollment:start",le(m,c))}(m,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{ye("signin"===q.type,m,"internal-error");const he=(null===(_=R.multiFactorHint)||void 0===_?void 0:_.uid)||R.multiFactorUid;return ye(he,m,"missing-multi-factor-info"),(yield function Ib(m,c){return Se(m,"POST","/v2/accounts/mfaSignIn:start",le(m,c))}(m,{mfaPendingCredential:q.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield function ku(m,c){return Ha.apply(this,arguments)}(m,{phoneNumber:R.phoneNumber,recaptchaToken:I});return q}}finally{f._reset()}}),ao.apply(this,arguments)}function Zg(m,c){return ld.apply(this,arguments)}function ld(){return(ld=(0,L.Z)(function*(m,c){yield Bs((0,X.m9)(m),c)})).apply(this,arguments)}let Mb=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=gt(f)}verifyPhoneNumber(f,_){return Qa(this.auth,f,(0,X.m9)(_))}static credential(f,_){return w._fromVerification(f,_)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:_,temporaryProof:I}=f;return _&&I?w._fromTokenResponse(_,I):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Ol(m,c){return c?ae(c):(ye(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class Zh extends Ls{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Yi(c,this._buildIdpRequest())}_linkToIdToken(c,f){return Yi(c,this._buildIdpRequest(f))}_getReauthenticationResolver(c){return Yi(c,this._buildIdpRequest())}_buildIdpRequest(c){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(f.idToken=c),f}}function es(m){return ys(m.auth,new Zh(m),m.bypassAuthState)}function Ca(m){const{auth:c,user:f}=m;return ye(f,c,"internal-error"),io(f,new Zh(m),m.bypassAuthState)}function sw(m){return uo.apply(this,arguments)}function uo(){return(uo=(0,L.Z)(function*(m){const{auth:c,user:f}=m;return ye(f,c,"internal-error"),Bs(f,new Zh(m),m.bypassAuthState)})).apply(this,arguments)}class Ko{constructor(c,f,_,I,R=!1){this.auth=c,this.resolver=_,this.user=I,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var c=this;return new Promise(function(){var f=(0,L.Z)(function*(_,I){c.pendingPromise={resolve:_,reject:I};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(R){c.reject(R)}});return function(_,I){return f.apply(this,arguments)}}())}onAuthEvent(c){var f=this;return(0,L.Z)(function*(){const{urlResponse:_,sessionId:I,postBody:R,tenantId:q,error:he,type:Pe}=c;if(he)return void f.reject(he);const et={auth:f.auth,requestUri:_,sessionId:I,tenantId:q||void 0,postBody:R||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Pe)(et))}catch(Ye){f.reject(Ye)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return es;case"linkViaPopup":case"linkViaRedirect":return sw;case"reauthViaPopup":case"reauthViaRedirect":return Ca;default:kt(this.auth,"internal-error")}}resolve(c){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rb=new pr(2e3,1e4);function ow(m,c,f){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,L.Z)(function*(m,c,f){const _=gt(m);E(m,c,Q);const I=Ol(_,f);return new dd(_,"signInViaPopup",c,I).executeNotNull()})).apply(this,arguments)}function xb(m,c,f){return cd.apply(this,arguments)}function cd(){return(cd=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m);E(_.auth,c,Q);const I=Ol(_.auth,f);return new dd(_.auth,"reauthViaPopup",c,I,_).executeNotNull()})).apply(this,arguments)}function Yg(m,c,f){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m);E(_.auth,c,Q);const I=Ol(_.auth,f);return new dd(_.auth,"linkViaPopup",c,I,_).executeNotNull()})).apply(this,arguments)}let dd=(()=>{class m extends Ko{constructor(f,_,I,R,q){super(f,_,R,q),this.provider=I,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,L.Z)(function*(){const _=yield f.execute();return ye(_,f.auth,"internal-error"),_})()}onExecution(){var f=this;return(0,L.Z)(function*(){qn(1===f.filter.length,"Popup operations only handle one event");const _=od();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],_),f.authWindow.associatedEvent=_,f.resolver._originValidation(f.auth).catch(I=>{f.reject(I)}),f.resolver._isIframeWebStorageSupported(f.auth,I=>{I||f.reject(vn(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var _,I;this.pollId=null!==(I=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,Rb.get())};f()}}return m.currentPopupAction=null,m})();const Ob="pendingRedirect",Nl=new Map;class Xg extends Ko{constructor(c,f,_=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,_),this.eventId=null}execute(){var c=()=>super.execute,f=this;return(0,L.Z)(function*(){let _=Nl.get(f.auth._key());if(!_){try{const R=(yield function aw(m,c){return Yh.apply(this,arguments)}(f.resolver,f.auth))?yield c().call(f):null;_=()=>Promise.resolve(R)}catch(I){_=()=>Promise.reject(I)}Nl.set(f.auth._key(),_)}return f.bypassAuthState||Nl.set(f.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(c){var f=()=>super.onAuthEvent,_=this;return(0,L.Z)(function*(){if("signInViaRedirect"===c.type)return f().call(_,c);if("unknown"!==c.type){if(c.eventId){const I=yield _.auth._redirectUserForId(c.eventId);if(I)return _.user=I,f().call(_,c);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,L.Z)(function*(){})()}cleanUp(){}}function Yh(){return(Yh=(0,L.Z)(function*(m,c){const f=Ya(c),_=Di(m);if(!(yield _._isAvailable()))return!1;const I="true"===(yield _._get(f));return yield _._remove(f),I})).apply(this,arguments)}function Xh(m,c){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,L.Z)(function*(m,c){return Di(m)._set(Ya(c),"true")})).apply(this,arguments)}function Jg(){Nl.clear()}function uw(m,c){Nl.set(m._key(),c)}function Di(m){return ae(m._redirectPersistence)}function Ya(m){return De(Ob,m.config.apiKey,m.name)}function rr(m,c,f){return function Nb(m,c,f){return em.apply(this,arguments)}(m,c,f)}function em(){return(em=(0,L.Z)(function*(m,c,f){const _=gt(m);E(m,c,Q),yield _._initializationPromise;const I=Ol(_,f);return yield Xh(I,_),I._openRedirect(_,c,"signInViaRedirect")})).apply(this,arguments)}function kb(m,c,f){return function Fb(m,c,f){return ef.apply(this,arguments)}(m,c,f)}function ef(){return(ef=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m);E(_.auth,c,Q),yield _.auth._initializationPromise;const I=Ol(_.auth,f);yield Xh(I,_.auth);const R=yield nf(_);return I._openRedirect(_.auth,c,"reauthViaRedirect",R)})).apply(this,arguments)}function lw(m,c,f){return function tf(m,c,f){return Zo.apply(this,arguments)}(m,c,f)}function Zo(){return(Zo=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m);E(_.auth,c,Q),yield _.auth._initializationPromise;const I=Ol(_.auth,f);yield za(!1,_,c.providerId),yield Xh(I,_.auth);const R=yield nf(_);return I._openRedirect(_.auth,c,"linkViaRedirect",R)})).apply(this,arguments)}function Lb(m,c){return kl.apply(this,arguments)}function kl(){return(kl=(0,L.Z)(function*(m,c){return yield gt(m)._initializationPromise,Fl(m,c,!1)})).apply(this,arguments)}function Fl(m,c){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,L.Z)(function*(m,c,f=!1){const _=gt(m),I=Ol(_,c),q=yield new Xg(_,I,f).execute();return q&&!f&&(delete q.user._redirectEventId,yield _._persistUserIfCurrent(q.user),yield _._setRedirectUser(null,c)),q})).apply(this,arguments)}function nf(m){return rf.apply(this,arguments)}function rf(){return(rf=(0,L.Z)(function*(m){const c=od(`${m.uid}:::`);return m._redirectEventId=c,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),c})).apply(this,arguments)}class dw{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let f=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(c,_)&&(f=!0,this.sendToConsumer(c,_),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Vb(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vl(m);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=c,f=!0)),f}sendToConsumer(c,f){var _;if(c.error&&!Vl(c)){const I=(null===(_=c.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";f.onError(vn(this.auth,I))}else f.onAuthEvent(c)}isEventForConsumer(c,f){const _=null===f.eventId||!!c.eventId&&c.eventId===f.eventId;return f.filter.includes(c.type)&&_}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ju(c))}saveEventToCache(c){this.cachedEventUids.add(ju(c)),this.lastProcessedEventTime=Date.now()}}function ju(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(c=>c).join("-")}function Vl({type:m,error:c}){return"unknown"===m&&"auth/no-auth-event"===c?.code}function sf(m){return tm.apply(this,arguments)}function tm(){return(tm=(0,L.Z)(function*(m,c={}){return Se(m,"GET","/v1/projects",c)})).apply(this,arguments)}const Ub=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bb=/^https?/;function hw(){return(hw=(0,L.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:c}=yield sf(m);for(const f of c)try{if(nm(f))return}catch{}kt(m,"unauthorized-domain")})).apply(this,arguments)}function nm(m){const c=Ir(),{protocol:f,hostname:_}=new URL(c);if(m.startsWith("chrome-extension://")){const q=new URL(m);return""===q.hostname&&""===_?"chrome-extension:"===f&&m.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===f&&q.hostname===_}if(!Bb.test(f))return!1;if(Ub.test(m))return _===m;const I=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(_)}const hd=new pr(3e4,6e4);function fw(){const m=$r().___jsl;if(m?.H)for(const c of Object.keys(m.H))if(m.H[c].r=m.H[c].r||[],m.H[c].L=m.H[c].L||[],m.H[c].r=[...m.H[c].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let Ul=null;const UN=new pr(5e3,15e3),pw="__/auth/iframe",gw="emulator/auth/iframe",jb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $b(m){const c=m.config;ye(c.authDomain,m,"auth-domain-config-required");const f=c.emulator?Oi(c,gw):`https://${m.config.authDomain}/${pw}`,_={apiKey:c.apiKey,appName:m.name,v:Y.SDK_VERSION},I=Qo.get(m.config.apiHost);I&&(_.eid=I);const R=m._getFrameworks();return R.length&&(_.fw=R.join(",")),`${f}?${(0,X.xO)(_).slice(1)}`}function pd(){return pd=(0,L.Z)(function*(m){const c=yield function af(m){return Ul=Ul||function fd(m){return new Promise((c,f)=>{var _,I,R;function q(){fw(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{fw(),f(vn(m,"network-request-failed"))},timeout:hd.get()})}if(null!==(I=null===(_=$r().gapi)||void 0===_?void 0:_.iframes)&&void 0!==I&&I.Iframe)c(gapi.iframes.getContext());else{if(null===(R=$r().gapi)||void 0===R||!R.load){const he=xh("iframefcb");return $r()[he]=()=>{gapi.load?q():f(vn(m,"network-request-failed"))},Mu(`https://apis.google.com/js/api.js?onload=${he}`).catch(Pe=>f(Pe))}q()}}).catch(c=>{throw Ul=null,c})}(m),Ul}(m),f=$r().gapi;return ye(f,m,"internal-error"),c.open({where:document.body,url:$b(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jb,dontclear:!0},_=>new Promise(function(){var I=(0,L.Z)(function*(R,q){yield _.restyle({setHideOnLeave:!1});const he=vn(m,"network-request-failed"),Pe=$r().setTimeout(()=>{q(he)},UN.get());function et(){$r().clearTimeout(Pe),R(_)}_.ping(et).then(et,()=>{q(he)})});return function(R,q){return I.apply(this,arguments)}}()))}),pd.apply(this,arguments)}const mw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class im{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const zb="__/auth/handler",cf="emulator/auth/handler",$u=encodeURIComponent("fac");function sm(m,c,f,_,I,R){return df.apply(this,arguments)}function df(){return(df=(0,L.Z)(function*(m,c,f,_,I,R){ye(m.config.authDomain,m,"auth-domain-config-required"),ye(m.config.apiKey,m,"invalid-api-key");const q={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:_,v:Y.SDK_VERSION,eventId:I};if(c instanceof Q){c.setDefaultLanguage(m.languageCode),q.providerId=c.providerId||"",(0,X.xb)(c.getCustomParameters())||(q.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Ye,Yt]of Object.entries(R||{}))q[Ye]=Yt}if(c instanceof ce){const Ye=c.getScopes().filter(Yt=>""!==Yt);Ye.length>0&&(q.scopes=Ye.join(","))}m.tenantId&&(q.tid=m.tenantId);const he=q;for(const Ye of Object.keys(he))void 0===he[Ye]&&delete he[Ye];const Pe=yield m._getAppCheckToken(),et=Pe?`#${$u}=${encodeURIComponent(Pe)}`:"";return`${function ww({config:m}){return m.emulator?Oi(m,cf):`https://${m.authDomain}/${zb}`}(m)}?${(0,X.xO)(he).slice(1)}${et}`})).apply(this,arguments)}const Xa="webStorageSupport",Zr=class Bl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ug,this._completeRedirectFn=Fl,this._overrideRedirectResult=uw}_openPopup(c,f,_,I){var R=this;return(0,L.Z)(function*(){var q;qn(null===(q=R.eventManagers[c._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const he=yield sm(c,f,_,Ir(),I);return function yw(m,c,f,_=500,I=600){const R=Math.max((window.screen.availHeight-I)/2,0).toString(),q=Math.max((window.screen.availWidth-_)/2,0).toString();let he="";const Pe=Object.assign(Object.assign({},mw),{width:_.toString(),height:I.toString(),top:R,left:q}),et=(0,X.z$)().toLowerCase();f&&(he=wi(et)?"_blank":f),Mt(et)&&(c=c||"http://localhost",Pe.scrollbars="yes");const Ye=Object.entries(Pe).reduce((ts,[Co,Ja])=>`${ts}${Co}=${Ja},`,"");if(function Ut(m=(0,X.z$)()){var c;return Je(m)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(et)&&"_self"!==he)return function vw(m,c){const f=document.createElement("a");f.href=m,f.target=c;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(_)}(c||"",he),new im(null);const Yt=window.open(c||"",he,Ye);ye(Yt,m,"popup-blocked");try{Yt.focus()}catch{}return new im(Yt)}(c,he,od())})()}_openRedirect(c,f,_,I){var R=this;return(0,L.Z)(function*(){return yield R._originValidation(c),function Kv(m){$r().location.href=m}(yield sm(c,f,_,Ir(),I)),new Promise(()=>{})})()}_initialize(c){const f=c._key();if(this.eventManagers[f]){const{manager:I,promise:R}=this.eventManagers[f];return I?Promise.resolve(I):(qn(R,"If manager is not set, promise should be"),R)}const _=this.initAndGetManager(c);return this.eventManagers[f]={promise:_},_.catch(()=>{delete this.eventManagers[f]}),_}initAndGetManager(c){var f=this;return(0,L.Z)(function*(){const _=yield function uf(m){return pd.apply(this,arguments)}(c),I=new dw(c);return _.register("authEvent",R=>(ye(R?.authEvent,c,"invalid-auth-event"),{status:I.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[c._key()]={manager:I},f.iframes[c._key()]=_,I})()}_isIframeWebStorageSupported(c,f){this.iframes[c._key()].send(Xa,{type:Xa},I=>{var R;const q=null===(R=I?.[0])||void 0===R?void 0:R[Xa];void 0!==q&&f(!!q),kt(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function VN(m){return hw.apply(this,arguments)}(c)),this.originValidationPromises[f]}get _shouldInitProactively(){return er()||Ft()||Je()}};class Wb{constructor(c){this.factorId=c}_process(c,f,_){switch(f.type){case"enroll":return this._finalizeEnroll(c,f.credential,_);case"signin":return this._finalizeSignIn(c,f.credential);default:return gn("unexpected MultiFactorSessionType")}}}class Qr extends Wb{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Qr(c)}_finalizeEnroll(c,f,_){return function xN(m,c){return Se(m,"POST","/v2/accounts/mfaEnrollment:finalize",le(m,c))}(c,{idToken:f,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,f){return function Jv(m,c){return Se(m,"POST","/v2/accounts/mfaSignIn:finalize",le(m,c))}(c,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let om=(()=>{class m{constructor(){}static assertion(f){return Qr._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var Hu="@firebase/auth";class Ew{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var f=this;return(0,L.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const f=this.auth.onIdTokenChanged(_=>{c(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,f),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const f=this.internalListeners.get(c);f&&(this.internalListeners.delete(c),f(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,X.Pz)("authIdTokenMaxAge"),function jl(m){(0,Y._registerComponent)(new lt.wA("auth",(c,{options:f})=>{const _=c.getProvider("app").getImmediate(),I=c.getProvider("heartbeat"),R=c.getProvider("app-check-internal"),{apiKey:q,authDomain:he}=_.options;ye(q&&!q.includes(":"),"invalid-api-key",{appName:_.name});const Pe={apiKey:q,authDomain:he,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ps(m)},et=new Rt(_,I,R,Pe);return function Fs(m,c){const f=c?.persistence||[],_=(Array.isArray(f)?f:[f]).map(ae);c?.errorMap&&m._updateErrorMap(c.errorMap),m._initializeWithPersistence(_,c?.popupRedirectResolver)}(et,f),et},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,f,_)=>{c.getProvider("auth-internal").initialize()})),(0,Y._registerComponent)(new lt.wA("auth-internal",c=>{const f=gt(c.getProvider("auth").getImmediate());return new Ew(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.registerVersion)(Hu,"1.4.0",function am(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,Y.registerVersion)(Hu,"1.4.0","esm2017")}("Browser")},58:(cs,Lr,ft)=>{"use strict";ft.d(Lr,{BH:()=>ni,DV:()=>dn,Dv:()=>ds,G6:()=>Oi,GJ:()=>Gn,L:()=>nn,LL:()=>Fe,Pz:()=>vn,Sg:()=>E,UG:()=>gn,UI:()=>yi,US:()=>lt,Wj:()=>mn,Wl:()=>pt,Yr:()=>pr,ZB:()=>tt,ZR:()=>Se,aH:()=>kt,b$:()=>$t,cI:()=>Cn,dS:()=>ri,eu:()=>ge,g5:()=>Y,gK:()=>Ni,gQ:()=>br,h$:()=>Dn,hl:()=>ue,hu:()=>X,jU:()=>qn,lb:()=>_n,m9:()=>Ar,ne:()=>Ze,p$:()=>Re,pd:()=>vi,r3:()=>Xn,ru:()=>Ir,tV:()=>Te,uI:()=>ye,ug:()=>no,vZ:()=>qr,w1:()=>xs,w9:()=>In,xO:()=>Os,xb:()=>li,z$:()=>zt,zd:()=>Jn});const L={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},X=function(j,B){if(!j)throw Y(B)},Y=function(j){return new Error("Firebase Database ("+L.SDK_VERSION+") INTERNAL ASSERT FAILED: "+j)},He=function(j){const B=[];let P=0;for(let x=0;x<j.length;x++){let A=j.charCodeAt(x);A<128?B[P++]=A:A<2048?(B[P++]=A>>6|192,B[P++]=63&A|128):55296==(64512&A)&&x+1<j.length&&56320==(64512&j.charCodeAt(x+1))?(A=65536+((1023&A)<<10)+(1023&j.charCodeAt(++x)),B[P++]=A>>18|240,B[P++]=A>>12&63|128,B[P++]=A>>6&63|128,B[P++]=63&A|128):(B[P++]=A>>12|224,B[P++]=A>>6&63|128,B[P++]=63&A|128)}return B},lt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,B){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let A=0;A<j.length;A+=3){const ee=j[A],ae=A+1<j.length,Le=ae?j[A+1]:0,Et=A+2<j.length,De=Et?j[A+2]:0;let Mt=(15&Le)<<2|De>>6,Ft=63&De;Et||(Ft=64,ae||(Mt=64)),x.push(P[ee>>2],P[(3&ee)<<4|Le>>4],P[Mt],P[Ft])}return x.join("")},encodeString(j,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(j):this.encodeByteArray(He(j),B)},decodeString(j,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(j):function(j){const B=[];let P=0,x=0;for(;P<j.length;){const A=j[P++];if(A<128)B[x++]=String.fromCharCode(A);else if(A>191&&A<224){const ee=j[P++];B[x++]=String.fromCharCode((31&A)<<6|63&ee)}else if(A>239&&A<365){const Et=((7&A)<<18|(63&j[P++])<<12|(63&j[P++])<<6|63&j[P++])-65536;B[x++]=String.fromCharCode(55296+(Et>>10)),B[x++]=String.fromCharCode(56320+(1023&Et))}else{const ee=j[P++],ae=j[P++];B[x++]=String.fromCharCode((15&A)<<12|(63&ee)<<6|63&ae)}}return B.join("")}(this.decodeStringToByteArray(j,B))},decodeStringToByteArray(j,B){this.init_();const P=B?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let A=0;A<j.length;){const ee=P[j.charAt(A++)],Le=A<j.length?P[j.charAt(A)]:0;++A;const De=A<j.length?P[j.charAt(A)]:64;++A;const It=A<j.length?P[j.charAt(A)]:64;if(++A,null==ee||null==Le||null==De||null==It)throw new Er;x.push(ee<<2|Le>>4),64!==De&&(x.push(Le<<4&240|De>>2),64!==It&&x.push(De<<6&192|It))}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}};class Er extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dn=function(j){const B=He(j);return lt.encodeByteArray(B,!0)},nn=function(j){return Dn(j).replace(/\./g,"")},Te=function(j){try{return lt.decodeString(j,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function Re(j){return tt(void 0,j)}function tt(j,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return B}for(const P in B)!B.hasOwnProperty(P)||!Pt(P)||(j[P]=tt(j[P],B[P]));return j}function Pt(j){return"__proto__"!==j}const Ue=()=>{try{return function an(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=j&&Te(j[1]);return B&&JSON.parse(B)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},kt=()=>{var j;return null===(j=Ue())||void 0===j?void 0:j.config},vn=j=>{var B;return null===(B=Ue())||void 0===B?void 0:B[`_${j}`]};class ni{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,P)=>{this.resolve=B,this.reject=P})}wrapCallback(B){return(P,x)=>{P?this.reject(P):this.resolve(x),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(P):B(P,x))}}}function E(j,B){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const x=B||"demo-project",A=j.iat||0,ee=j.sub||j.user_id;if(!ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ae=Object.assign({iss:`https://securetoken.google.com/${x}`,aud:x,iat:A,exp:A+3600,auth_time:A,sub:ee,user_id:ee,firebase:{sign_in_provider:"custom",identities:{}}},j);return[nn(JSON.stringify({alg:"none",type:"JWT"})),nn(JSON.stringify(ae)),""].join(".")}function zt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function gn(){var j;const B=null===(j=Ue())||void 0===j?void 0:j.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function qn(){return"object"==typeof self&&self.self===self}function Ir(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function $t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xs(){const j=zt();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function pr(){return!0===L.NODE_CLIENT||!0===L.NODE_ADMIN}function Oi(){return!gn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){try{return"object"==typeof indexedDB}catch{return!1}}function ge(){return new Promise((j,B)=>{try{let P=!0;const x="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(x);A.onsuccess=()=>{A.result.close(),P||self.indexedDB.deleteDatabase(x),j(!0)},A.onupgradeneeded=()=>{P=!1},A.onerror=()=>{var ee;B((null===(ee=A.error)||void 0===ee?void 0:ee.message)||"")}}catch(P){B(P)}})}class Se extends Error{constructor(B,P,x){super(P),this.code=B,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fe.prototype.create)}}class Fe{constructor(B,P,x){this.service=B,this.serviceName=P,this.errors=x}create(B,...P){const x=P[0]||{},A=`${this.service}/${B}`,ee=this.errors[B],ae=ee?function ut(j,B){return j.replace(qt,(P,x)=>{const A=B[x];return null!=A?String(A):`<${x}?>`})}(ee,x):"Error";return new Se(A,`${this.serviceName}: ${ae} (${A}).`,x)}}const qt=/\{\$([^}]+)}/g;function Cn(j){return JSON.parse(j)}function pt(j){return JSON.stringify(j)}const un=function(j){let B={},P={},x={},A="";try{const ee=j.split(".");B=Cn(Te(ee[0])||""),P=Cn(Te(ee[1])||""),A=ee[2],x=P.d||{},delete P.d}catch{}return{header:B,claims:P,data:x,signature:A}},In=function(j){const P=un(j).claims;return!!P&&"object"==typeof P&&P.hasOwnProperty("iat")},Gn=function(j){const B=un(j).claims;return"object"==typeof B&&!0===B.admin};function Xn(j,B){return Object.prototype.hasOwnProperty.call(j,B)}function dn(j,B){if(Object.prototype.hasOwnProperty.call(j,B))return j[B]}function li(j){for(const B in j)if(Object.prototype.hasOwnProperty.call(j,B))return!1;return!0}function yi(j,B,P){const x={};for(const A in j)Object.prototype.hasOwnProperty.call(j,A)&&(x[A]=B.call(P,j[A],A,j));return x}function qr(j,B){if(j===B)return!0;const P=Object.keys(j),x=Object.keys(B);for(const A of P){if(!x.includes(A))return!1;const ee=j[A],ae=B[A];if(Mn(ee)&&Mn(ae)){if(!qr(ee,ae))return!1}else if(ee!==ae)return!1}for(const A of x)if(!P.includes(A))return!1;return!0}function Mn(j){return null!==j&&"object"==typeof j}function Os(j){const B=[];for(const[P,x]of Object.entries(j))Array.isArray(x)?x.forEach(A=>{B.push(encodeURIComponent(P)+"="+encodeURIComponent(A))}):B.push(encodeURIComponent(P)+"="+encodeURIComponent(x));return B.length?"&"+B.join("&"):""}function Jn(j){const B={};return j.replace(/^\?/,"").split("&").forEach(x=>{if(x){const[A,ee]=x.split("=");B[decodeURIComponent(A)]=decodeURIComponent(ee)}}),B}function vi(j){const B=j.indexOf("?");if(!B)return"";const P=j.indexOf("#",B);return j.substring(B,P>0?P:void 0)}class br{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,P){P||(P=0);const x=this.W_;if("string"==typeof B)for(let It=0;It<16;It++)x[It]=B.charCodeAt(P)<<24|B.charCodeAt(P+1)<<16|B.charCodeAt(P+2)<<8|B.charCodeAt(P+3),P+=4;else for(let It=0;It<16;It++)x[It]=B[P]<<24|B[P+1]<<16|B[P+2]<<8|B[P+3],P+=4;for(let It=16;It<80;It++){const Mt=x[It-3]^x[It-8]^x[It-14]^x[It-16];x[It]=4294967295&(Mt<<1|Mt>>>31)}let De,nt,A=this.chain_[0],ee=this.chain_[1],ae=this.chain_[2],Le=this.chain_[3],Et=this.chain_[4];for(let It=0;It<80;It++){It<40?It<20?(De=Le^ee&(ae^Le),nt=1518500249):(De=ee^ae^Le,nt=1859775393):It<60?(De=ee&ae|Le&(ee|ae),nt=2400959708):(De=ee^ae^Le,nt=3395469782);const Mt=(A<<5|A>>>27)+De+Et+nt+x[It]&4294967295;Et=Le,Le=ae,ae=4294967295&(ee<<30|ee>>>2),ee=A,A=Mt}this.chain_[0]=this.chain_[0]+A&4294967295,this.chain_[1]=this.chain_[1]+ee&4294967295,this.chain_[2]=this.chain_[2]+ae&4294967295,this.chain_[3]=this.chain_[3]+Le&4294967295,this.chain_[4]=this.chain_[4]+Et&4294967295}update(B,P){if(null==B)return;void 0===P&&(P=B.length);const x=P-this.blockSize;let A=0;const ee=this.buf_;let ae=this.inbuf_;for(;A<P;){if(0===ae)for(;A<=x;)this.compress_(B,A),A+=this.blockSize;if("string"==typeof B){for(;A<P;)if(ee[ae]=B.charCodeAt(A),++ae,++A,ae===this.blockSize){this.compress_(ee),ae=0;break}}else for(;A<P;)if(ee[ae]=B[A],++ae,++A,ae===this.blockSize){this.compress_(ee),ae=0;break}}this.inbuf_=ae,this.total_+=P}digest(){const B=[];let P=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let A=this.blockSize-1;A>=56;A--)this.buf_[A]=255&P,P/=256;this.compress_(this.buf_);let x=0;for(let A=0;A<5;A++)for(let ee=24;ee>=0;ee-=8)B[x]=this.chain_[A]>>ee&255,++x;return B}}function Ze(j,B){const P=new Rn(j,B);return P.subscribe.bind(P)}class Rn{constructor(B,P){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=P,this.task.then(()=>{B(this)}).catch(x=>{this.error(x)})}next(B){this.forEachObserver(P=>{P.next(B)})}error(B){this.forEachObserver(P=>{P.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,P,x){let A;if(void 0===B&&void 0===P&&void 0===x)throw new Error("Missing Observer.");A=function Tr(j,B){if("object"!=typeof j||null===j)return!1;for(const P of B)if(P in j&&"function"==typeof j[P])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:P,complete:x},void 0===A.next&&(A.next=Zi),void 0===A.error&&(A.error=Zi),void 0===A.complete&&(A.complete=Zi);const ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch{}}),this.observers.push(A),ee}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let P=0;P<this.observers.length;P++)this.sendOne(P,B)}sendOne(B,P){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{P(this.observers[B])}catch(x){typeof console<"u"&&console.error&&console.error(x)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zi(){}const ds=function(j,B,P,x){let A;if(x<B?A="at least "+B:x>P&&(A=0===P?"none":"no more than "+P),A)throw new Error(j+" failed: Was called with "+x+(1===x?" argument.":" arguments.")+" Expects "+A+".")};function Ni(j,B){return`${j} failed: ${B} argument `}function mn(j,B,P,x){if((!x||P)&&"function"!=typeof P)throw new Error(Ni(j,B)+"must be a valid function.")}function _n(j,B,P,x){if((!x||P)&&("object"!=typeof P||null===P))throw new Error(Ni(j,B)+"must be a valid context object.")}const ri=function(j){const B=[];let P=0;for(let x=0;x<j.length;x++){let A=j.charCodeAt(x);if(A>=55296&&A<=56319){const ee=A-55296;x++,X(x<j.length,"Surrogate pair missing trail surrogate."),A=65536+(ee<<10)+(j.charCodeAt(x)-56320)}A<128?B[P++]=A:A<2048?(B[P++]=A>>6|192,B[P++]=63&A|128):A<65536?(B[P++]=A>>12|224,B[P++]=A>>6&63|128,B[P++]=63&A|128):(B[P++]=A>>18|240,B[P++]=A>>12&63|128,B[P++]=A>>6&63|128,B[P++]=63&A|128)}return B},no=function(j){let B=0;for(let P=0;P<j.length;P++){const x=j.charCodeAt(P);x<128?B++:x<2048?B+=2:x>=55296&&x<=56319?(B+=4,P++):B+=3}return B};function Ar(j){return j&&j._delegate?j._delegate:j}},947:(cs,Lr,ft)=>{"use strict";let X=null,He=1;function lt(t){const e=X;return X=t,e}function Pt(t){if((!ni(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==He)){if(!t.producerMustRecompute(t)&&!Cr(t))return t.dirty=!1,void(t.lastCleanEpoch=He);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=He}}function Cr(t){E(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Pt(n),r!==n.version))return!0}return!1}function vn(t,e){if(function zt(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),E(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)vn(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];E(i),i.producerIndexOfThis[r]=e}}function ni(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function E(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let xs=null;function wt(t){return"function"==typeof t}function In(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Gn=In(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Xn(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class dn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(wt(r))try{r()}catch(s){e=s instanceof Gn?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{qr(s)}catch(o){e=e??[],o instanceof Gn?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Gn(e)}}add(e){var n;if(e&&e!==this)if(this.closed)qr(e);else{if(e instanceof dn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Xn(n,e)}remove(e){const{_finalizers:n}=this;n&&Xn(n,e),e instanceof dn&&e._removeParent(this)}}dn.EMPTY=(()=>{const t=new dn;return t.closed=!0,t})();const li=dn.EMPTY;function yi(t){return t instanceof dn||t&&"closed"in t&&wt(t.remove)&&wt(t.add)&&wt(t.unsubscribe)}function qr(t){wt(t)?t():t.unsubscribe()}const Mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ki={setTimeout(t,e,...n){const{delegate:r}=Ki;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ki;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Os(t){Ki.setTimeout(()=>{const{onUnhandledError:e}=Mn;if(!e)throw t;e(t)})}function Jn(){}const vi=Rn("C",void 0,void 0);function Rn(t,e,n){return{kind:t,value:e,error:n}}let Ns=null;function Tr(t){if(Mn.useDeprecatedSynchronousErrorHandling){const e=!Ns;if(e&&(Ns={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ns;if(Ns=null,n)throw r}}else t()}class ds extends dn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yi(e)&&e.add(this)):this.destination=Sr}static create(e,n,r){return new _n(e,n,r)}next(e){this.isStopped?fs(function Ze(t){return Rn("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?fs(function br(t){return Rn("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fs(vi,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ni=Function.prototype.bind;function hs(t,e){return Ni.call(t,e)}class mn{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ri(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ri(r)}else ri(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ri(n)}}}class _n extends ds{constructor(e,n,r){let i;if(super(),wt(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Mn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hs(e.next,s),error:e.error&&hs(e.error,s),complete:e.complete&&hs(e.complete,s)}):i=e}this.destination=new mn(i)}}function ri(t){Mn.useDeprecatedSynchronousErrorHandling?function Zi(t){Mn.useDeprecatedSynchronousErrorHandling&&Ns&&(Ns.errorThrown=!0,Ns.error=t)}(t):Os(t)}function fs(t,e){const{onStoppedNotification:n}=Mn;n&&Ki.setTimeout(()=>n(t,e))}const Sr={closed:!0,next:Jn,error:function no(t){throw t},complete:Jn},ci="function"==typeof Symbol&&Symbol.observable||"@@observable";function Gr(t){return t}function Dr(...t){return ks(t)}function ks(t){return 0===t.length?Gr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let tn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function j(t){return t&&t instanceof ds||function Ar(t){return t&&wt(t.next)&&wt(t.error)&&wt(t.complete)}(t)&&yi(t)}(n)?n:new _n(n,r,i);return Tr(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=vo(r))((i,s)=>{const o=new _n({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ci](){return this}pipe(...n){return ks(n)(this)}toPromise(n){return new(n=vo(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function vo(t){var e;return null!==(e=t??Mn.Promise)&&void 0!==e?e:Promise}const B=In(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let P=(()=>{class t extends tn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new x(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new B}next(n){Tr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Tr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Tr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?li:(this.currentObservers=null,s.push(n),new dn(()=>{this.currentObservers=null,Xn(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new tn;return n.source=this,n}}return t.create=(e,n)=>new x(e,n),t})();class x extends P{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:li}}class A extends P{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ee(t){return wt(t?.lift)}function ae(t){return e=>{if(ee(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Le(t,e,n,r,i){return new Et(t,e,n,r,i)}class Et extends ds{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function De(t,e){return ae((n,r)=>{let i=0;n.subscribe(Le(r,s=>{r.next(t.call(e,s,i++))}))})}function nt(t){for(let e in t)if(t[e]===nt)return e;throw Error("Could not find renamed property on target object.")}function It(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Mt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Mt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ft(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Uo=nt({__forward_ref__:nt});function se(t){return t.__forward_ref__=se,t.toString=function(){return Mt(this())},t}function G(t){return Ae(t)?t():t}function Ae(t){return"function"==typeof t&&t.hasOwnProperty(Uo)&&t.__forward_ref__===se}function Je(t){return t&&!!t.\u0275providers}const Ut="https://g.co/ng/security#xss";class re extends Error{constructor(e,n){super(function er(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}const xn=nt({\u0275cmp:nt}),ps=nt({\u0275dir:nt}),Bo=nt({\u0275pipe:nt}),qc=nt({\u0275mod:nt}),gs=nt({\u0275fac:nt}),Pu=nt({__NG_ELEMENT_ID__:nt}),vl=nt({__NG_ENV_ID__:nt});function Rt(t){return"string"==typeof t?t:null==t?"":String(t)}function jo(t,e){throw new re(-201,!1)}function Ei(t,e){null==t&&function dt(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function $e(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function tr(t){return{providers:t.providers||[],imports:t.imports||[]}}function xu(t){return Zc(t,$o)||Zc(t,Cl)}function Zc(t,e){return t.hasOwnProperty(e)?t[e]:null}function pa(t){return t&&(t.hasOwnProperty(Yc)||t.hasOwnProperty(Fg))?t[Yc]:null}const $o=nt({\u0275prov:nt}),Yc=nt({\u0275inj:nt}),Cl=nt({ngInjectableDef:nt}),Fg=nt({ngInjectorDef:nt});var Gt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Gt||{});let Xc;function Il(){return Xc}function Fi(t){const e=Xc;return Xc=t,e}function Ou(t,e,n){const r=xu(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Gt.Optional?null:void 0!==e?e:void jo(Mt(t))}const An=globalThis;class Oe{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=$e({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const g={},v="__NG_DI_FLAG__",w="ngTempTokenPath",T=/\n/gm,H="__source";let V;function ce(t){const e=V;return V=t,e}function Ee(t,e=Gt.Default){if(void 0===V)throw new re(-203,!1);return null===V?Ou(t,void 0,e):V.get(t,e&Gt.Optional?null:void 0,e)}function k(t,e=Gt.Default){return(Il()||Ee)(G(t),e)}function _e(t,e=Gt.Default){return k(t,Jt(e))}function Jt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Tt(t){const e=[];for(let n=0;n<t.length;n++){const r=G(t[n]);if(Array.isArray(r)){if(0===r.length)throw new re(900,!1);let i,s=Gt.Default;for(let o=0;o<r.length;o++){const a=r[o],u=ar(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(k(i,s))}else e.push(k(r))}return e}function gr(t,e){return t[v]=e,t.prototype[v]=e,t}function ar(t){return t[v]}function Dt(t){return{toString:t}.toString()}var mr=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(mr||{}),Nt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Nt||{});const En={},Qt=[];function ga(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Xi(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Us(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function ma(t){return 3===t||4===t||6===t}function Us(t){return 64===t.charCodeAt(0)}function Li(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Bs(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Bs(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Ci="ng-template";function za(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==ga(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function _s(t){return 4===t.type&&t.value!==Ci}function io(t,e,n){return e===(4!==t.type||n?t.value:Ci)}function ed(t,e,n){let r=4;const i=t.attrs||[],s=function vs(t){for(let e=0;e<t.length;e++)if(ma(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!io(t,u,n)||""===u&&1===e.length){if(ys(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!za(t.attrs,l,n)){if(ys(r))return!1;o=!0}continue}const p=td(8&r?"class":u,i,_s(t),n);if(-1===p){if(ys(r))return!1;o=!0;continue}if(""!==l){let y;y=p>s?"":i[p+1].toLowerCase();const C=8&r?y:null;if(C&&-1!==ga(C,l,0)||2&r&&l!==y){if(ys(r))return!1;o=!0}}}}else{if(!o&&!ys(r)&&!ys(u))return!1;if(o&&ys(u))continue;o=!1,r=u|1&r}}return ys(r)||o}function ys(t){return 0==(1&t)}function td(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Ho(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function hn(t,e,n=!1){for(let r=0;r<e.length;r++)if(ed(t,e[r],n))return!0;return!1}function bl(t,e){return t?":not("+e.trim()+")":e}function Wh(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ys(o)&&(e+=bl(s,i),i=""),r=o,s=s||!ys(r);n++}return""!==i&&(e+=bl(s,i)),e}function Vn(t){return Dt(()=>{const e=Fu(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===mr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Nt.Emulated,styles:t.styles||Qt,_:null,schemas:t.schemas||null,tView:null,id:""};F(n);const r=t.dependencies;return n.directiveDefs=K(r,!1),n.pipeDefs=K(r,!0),n.id=function de(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function qa(t){return Bt(t)||nr(t)}function _a(t){return null!==t}function Kn(t){return Dt(()=>({type:t.type,bootstrap:t.bootstrap||Qt,declarations:t.declarations||Qt,imports:t.imports||Qt,exports:t.exports||Qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function zo(t,e){if(null==t)return En;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function _t(t){return Dt(()=>{const e=Fu(t);return F(e),e})}function hi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Bt(t){return t[xn]||null}function nr(t){return t[ps]||null}function Ur(t){return t[Bo]||null}function Kr(t,e){const n=t[qc]||null;if(!n&&!0===e)throw new Error(`Type ${Mt(t)} does not have '\u0275mod' property.`);return n}function Fu(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||En,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zo(t.inputs,e),outputs:zo(t.outputs),debugInfo:null}}function F(t){t.features?.forEach(e=>e(t))}function K(t,e){if(!t)return null;const n=e?Ur:qa;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(_a)}const fe=0,ne=1,ve=2,Be=3,je=4,yt=5,ot=6,vt=7,rt=8,Qe=9,ln=10,st=11,Pr=12,Ii=13,bi=14,bn=15,Br=16,Ga=17,Wo=18,Lu=19,Uv=20,Ka=21,rd=22,ya=23,Lt=25,Za=1,qo=7,Sl=9,jr=10;var Dl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(Dl||{});function Vi(t){return Array.isArray(t)&&"object"==typeof t[Za]}function Ti(t){return Array.isArray(t)&&!0===t[Za]}function Bv(t){return 0!=(4&t.flags)}function va(t){return t.componentOffset>-1}function id(t){return 1==(1&t.flags)}function Eo(t){return!!t.template}function jv(t){return 0!=(512&t[ve])}function Pl(t,e){return t.hasOwnProperty(gs)?t[gs]:null}class Ug{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function oo(){return Gv}function Gv(t){return t.type.prototype.ngOnChanges&&(t.setInput=wb),od}function od(){const t=Kv(this),e=t?.current;if(e){const n=t.previous;if(n===En)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function wb(t,e,n,r){const i=this.declaredInputs[n],s=Kv(t)||function Bg(t,e){return t[$r]=e}(t,{previous:En,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Ug(u&&u.currentValue,e,a===En),t[r]=e}oo.ngInherit=!0;const $r="__ngSimpleChanges__";function Kv(t){return t[$r]||null}const Go=function(t,e,n){};let Qv=!1;function On(t){for(;Array.isArray(t);)t=t[fe];return t}function ad(t,e){return On(e[t])}function Si(t,e){return On(e[t.index])}function Vu(t,e){return t.data[e]}function Rl(t,e){return t[e]}function Ji(t,e){const n=e[t];return Vi(n)?n:n[fe]}function zg(t){return 128==(128&t[ve])}function wa(t,e){return null==e?null:t[e]}function Wg(t){t[Ga]=0}function Ib(t){1024&t[ve]||(t[ve]|=1024,zg(t)&&ud(t))}function ew(t){return 9216&t[ve]||t[ya]?.dirty}function qg(t){ew(t)?ud(t):64&t[ve]&&(function Gh(){return Qv}()?(t[ve]|=1024,ud(t)):t[ln].changeDetectionScheduler?.notify())}function ud(t){t[ln].changeDetectionScheduler?.notify();let e=t[Be];for(;null!==e&&!(Ti(e)&&e[ve]&Dl.HasChildViewsToRefresh||Vi(e)&&8192&e[ve]);){if(Ti(e))e[ve]|=Dl.HasChildViewsToRefresh;else if(e[ve]|=8192,!zg(e))break;e=e[Be]}}function Uu(t,e){if(256==(256&t[ve]))throw new re(911,!1);null===t[Ka]&&(t[Ka]=[]),t[Ka].push(e)}const At={lFrame:Yh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rw(){return At.bindingsEnabled}function Ce(){return At.lFrame.lView}function rn(){return At.lFrame.tView}function Bu(t){return At.lFrame.contextLView=t,t[rt]}function Ea(t){return At.lFrame.contextLView=null,t}function Un(){let t=Kh();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kh(){return At.lFrame.currentTNode}function ao(t,e){const n=At.lFrame;n.currentTNode=t,n.isParent=e}function Zg(){return At.lFrame.isParent}function ld(){At.lFrame.isParent=!1}function es(){const t=At.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function uo(){return At.lFrame.bindingIndex++}function Qg(t,e){const n=At.lFrame;n.bindingIndex=n.bindingRootIndex=t,cd(e)}function cd(t){At.lFrame.currentDirectiveIndex=t}function Qh(){return At.lFrame.currentQueryIndex}function dd(t){At.lFrame.currentQueryIndex=t}function Ob(t){const e=t[ne];return 2===e.type?e.declTNode:1===e.type?t[yt]:null}function Nl(t,e,n){if(n&Gt.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Gt.Host||(i=Ob(s),null===i||(s=s[bi],10&i.type))););if(null===i)return!1;e=i,t=s}const r=At.lFrame=aw();return r.currentTNode=e,r.lView=t,!0}function Xg(t){const e=aw(),n=t[ne];At.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function aw(){const t=At.lFrame,e=null===t?null:t.child;return null===e?Yh(t):e}function Yh(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Xh(){const t=At.lFrame;return At.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Jh=Xh;function Jg(){const t=Xh();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Di(){return At.lFrame.selectedIndex}function Ya(t){At.lFrame.selectedIndex=t}function rr(){const t=At.lFrame;return Vu(t.tView,t.selectedIndex)}let lw=!0;function tf(){return lw}function Zo(t){lw=t}function kl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=h&&(t.destroyHooks??=[]).push(n,h)}}function Fl(t,e,n){rf(t,e,3,n)}function Ll(t,e,n,r){(3&t[ve])===n&&rf(t,e,n,r)}function nf(t,e){let n=t[ve];(3&n)===e&&(n&=16383,n+=1,t[ve]=n)}function rf(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Ga]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Ga]+=65536),(a<s||-1==s)&&(dw(t,n,e,u),t[Ga]=(4294901760&t[Ga])+u+2),u++}function cw(t,e){Go(4,t,e);const n=lt(null);try{e.call(t)}finally{lt(n),Go(5,t,e)}}function dw(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ve]>>14<t[Ga]>>16&&(3&t[ve])===e&&(t[ve]+=16384,cw(a,s)):cw(a,s)}const ju=-1;class Vl{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function nm(t){return t!==ju}function hd(t){return 32767&t}function fd(t,e){let n=function fw(t){return t>>16}(t),r=e;for(;n>0;)r=r[bi],n--;return r}let Ul=!0;function af(t){const e=Ul;return Ul=t,e}const pw=255,gw=5;let jb=0;const Qo={};function uf(t,e){const n=mw(t,e);if(-1!==n)return n;const r=e[ne];r.firstCreatePass&&(t.injectorIndex=e.length,pd(r.data,t),pd(e,null),pd(r.blueprint,null));const i=lf(t,e),s=t.injectorIndex;if(nm(i)){const o=hd(i),a=fd(i,e),u=a[ne].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function pd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function mw(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function lf(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=hf(i),null===r)return ju;if(n++,i=i[bi],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ju}function rm(t,e,n){!function $b(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pu)&&(r=n[Pu]),null==r&&(r=n[Pu]=jb++);const i=r&pw;e.data[t+(i>>gw)]|=1<<i}(t,e,n)}function _w(t,e,n){if(n&Gt.Optional||void 0!==t)return t;jo()}function im(t,e,n,r){if(n&Gt.Optional&&void 0===r&&(r=null),!(n&(Gt.Self|Gt.Host))){const i=t[Qe],s=Fi(void 0);try{return i?i.get(e,r,n&Gt.Optional):Ou(e,r,n&Gt.Optional)}finally{Fi(s)}}return _w(r,0,n)}function yw(t,e,n,r=Gt.Default,i){if(null!==t){if(2048&e[ve]&&!(r&Gt.Self)){const o=function BN(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ve]&&!(512&o[ve]);){const a=vw(s,o,n,r|Gt.Self,Qo);if(a!==Qo)return a;let u=s.parent;if(!u){const l=o[Uv];if(l){const h=l.get(n,Qo,r);if(h!==Qo)return h}u=hf(o),o=o[bi]}s=u}return i}(t,e,n,r,Qo);if(o!==Qo)return o}const s=vw(t,e,n,r,Qo);if(s!==Qo)return s}return im(e,n,r,i)}function vw(t,e,n,r,i){const s=function sm(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Pu)?t[Pu]:void 0;return"number"==typeof e?e>=0?e&pw:Wb:e}(n);if("function"==typeof s){if(!Nl(e,t,r))return r&Gt.Host?_w(i,0,r):im(e,n,r,i);try{let o;if(o=s(r),null!=o||r&Gt.Optional)return o;jo()}finally{Jh()}}else if("number"==typeof s){let o=null,a=mw(t,e),u=ju,l=r&Gt.Host?e[bn][yt]:null;for((-1===a||r&Gt.SkipSelf)&&(u=-1===a?lf(t,e):e[a+8],u!==ju&&ww(r,!1)?(o=e[ne],a=hd(u),e=fd(u,e)):a=-1);-1!==a;){const h=e[ne];if(df(s,a,h.data)){const p=zb(a,e,n,o,r,l);if(p!==Qo)return p}u=e[a+8],u!==ju&&ww(r,e[ne].data[a+8]===l)&&df(s,a,e)?(o=h,a=hd(u),e=fd(u,e)):a=-1}}return i}function zb(t,e,n,r,i,s){const o=e[ne],a=o.data[t+8],h=cf(a,o,n,null==r?va(a)&&Ul:r!=o&&0!=(3&a.type),i&Gt.Host&&s===a);return null!==h?$u(e,o,h,a):Qo}function cf(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,h=s>>20,y=i?a+h:t.directiveEnd;for(let C=r?a:a+h;C<y;C++){const S=o[C];if(C<u&&n===S||C>=u&&S.type===n)return C}if(i){const C=o[u];if(C&&Eo(C)&&C.type===n)return u}return null}function $u(t,e,n,r){let i=t[n];const s=e.data;if(function Vb(t){return t instanceof Vl}(i)){const o=i;o.resolving&&function Mu(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new re(-200,`Circular dependency in DI detected for ${t}${n}`)}(function gt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Rt(t)}(s[n]));const a=af(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Fi(o.injectImpl):null;Nl(t,r,Gt.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Lb(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Gv(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&Fi(l),af(a),o.resolving=!1,Jh()}}return i}function df(t,e,n){return!!(n[e+(t>>gw)]&1<<t)}function ww(t,e){return!(t&Gt.Self||t&Gt.Host&&e)}class Zr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return yw(this._tNode,this._lView,e,Jt(r),n)}}function Wb(){return new Zr(Un(),Ce())}function Qr(t){return Dt(()=>{const e=t.prototype.constructor,n=e[gs]||om(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[gs]||om(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function om(t){return Ae(t)?()=>{const e=om(G(t));return e&&e()}:Pl(t)}function hf(t){const e=t[ne],n=e.type;return 2===n?e.declTNode:1===n?t[yt]:null}const Hu="__parameters__";function jl(t,e,n){return Dt(()=>{const r=function am(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,h){const p=u.hasOwnProperty(Hu)?u[Hu]:Object.defineProperty(u,Hu,{value:[]})[Hu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Yt(t,e){t.forEach(n=>Array.isArray(n)?Yt(n,e):e(n))}function ts(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Co(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ns(t,e,n){let r=Wu(t,e);return r>=0?t[1|r]=n:(r=~r,function um(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pf(t,e){const n=Wu(t,e);if(n>=0)return t[1|n]}function Wu(t,e){return function lm(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const ba=gr(jl("Optional"),8),Tw=gr(jl("SkipSelf"),4),md=new Oe("ENVIRONMENT_INITIALIZER"),qN=new Oe("INJECTOR",-1),Jb=new Oe("INJECTOR_DEF_TYPES");class Dw{get(e,n=g){if(n===g){const r=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw r.name="NullInjectorError",r}return n}}function H9(...t){return{\u0275providers:GN(0,t),\u0275fromNgModule:!0}}function GN(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Yt(e,o=>{const a=o;Aw(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&KN(i,s),n}function KN(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];tT(i,s=>{e(s,r)})}}function Aw(t,e,n,r){if(!(t=G(t)))return!1;let i=null,s=pa(t);const o=!s&&Bt(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=pa(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)Aw(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Yt(s.imports,h=>{Aw(h,e,n,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&KN(l,e)}if(!a){const l=Pl(i)||(()=>new i);e({provide:i,useFactory:l,deps:Qt},i),e({provide:Jb,useValue:i,multi:!0},i),e({provide:md,useValue:()=>k(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const l=t;tT(u,h=>{e(h,l)})}}}return i!==t&&void 0!==t.providers}function tT(t,e){for(let n of t)Je(n)&&(n=n.\u0275providers),Array.isArray(n)?tT(n,e):e(n)}const z9=nt({provide:String,useValue:nt});function nT(t){return null!==t&&"object"==typeof t&&z9 in t}function _d(t){return"function"==typeof t}const rT=new Oe("Set Injector scope."),Pw={},q9={};let iT;function Mw(){return void 0===iT&&(iT=new Dw),iT}class Io{}class mf extends Io{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oT(e,o=>this.processProvider(o)),this.records.set(qN,_f(void 0,this)),i.has("environment")&&this.records.set(Io,_f(void 0,this));const s=this.records.get(rT);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Jb,Qt,Gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ce(this),r=Fi(void 0);try{return e()}finally{ce(n),Fi(r)}}get(e,n=g,r=Gt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(vl))return e[vl](this);r=Jt(r);const s=ce(this),o=Fi(void 0);try{if(!(r&Gt.SkipSelf)){let u=this.records.get(e);if(void 0===u){const l=function Y9(t){return"function"==typeof t||"object"==typeof t&&t instanceof Oe}(e)&&xu(e);u=l&&this.injectableDefInScope(l)?_f(sT(e),Pw):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&Gt.Self?Mw():this.parent).get(e,n=r&Gt.Optional&&n===g?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[w]=a[w]||[]).unshift(Mt(e)),s)throw a;return function ro(t,e,n,r){const i=t[w];throw e[H]&&i.unshift(e[H]),t.message=function Vs(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Mt(e);if(Array.isArray(e))i=e.map(Mt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Mt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(T,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[w]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Fi(o),ce(s)}}resolveInjectorInitializers(){const e=ce(this),n=Fi(void 0);try{const i=this.get(md,Qt,Gt.Self);for(const s of i)s()}finally{ce(e),Fi(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(e){let n=_d(e=G(e))?e:G(e&&e.provide);const r=function K9(t){return nT(t)?_f(void 0,t.useValue):_f(YN(t),Pw)}(e);if(_d(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=_f(void 0,Pw,!0),i.factory=()=>Tt(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Pw&&(n.value=q9,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Q9(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=G(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function sT(t){const e=xu(t),n=null!==e?e.factory:Pl(t);if(null!==n)return n;if(t instanceof Oe)throw new re(204,!1);if(t instanceof Function)return function G9(t){const e=t.length;if(e>0)throw function Ja(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new re(204,!1);const n=function Qc(t){return t&&(t[$o]||t[Cl])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new re(204,!1)}function YN(t,e,n){let r;if(_d(t)){const i=G(t);return Pl(i)||sT(i)}if(nT(t))r=()=>G(t.useValue);else if(function QN(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Tt(t.deps||[]));else if(function ZN(t){return!(!t||!t.useExisting)}(t))r=()=>k(G(t.useExisting));else{const i=G(t&&(t.useClass||t.provide));if(!function Z9(t){return!!t.deps}(t))return Pl(i)||sT(i);r=()=>new i(...Tt(t.deps))}return r}function _f(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function oT(t,e){for(const n of t)Array.isArray(n)?oT(n,e):n&&Je(n)?oT(n.\u0275providers,e):e(n)}function $l(t,e){t instanceof mf&&t.assertNotDestroyed();const r=ce(t),i=Fi(void 0);try{return e()}finally{ce(r),Fi(i)}}function t1(t,e=null,n=null,r){const i=n1(t,e,n,r);return i.resolveInjectorInitializers(),i}function n1(t,e=null,n=null,r,i=new Set){const s=[n||Qt,H9(t)];return r=r||("object"==typeof t?void 0:Mt(t)),new mf(s,e||Mw(),r||null,i)}let lT,lo=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=g;static#t=this.NULL=new Dw;static create(n,r){if(Array.isArray(n))return t1({name:""},r,n,"");{const i=n.name??"";return t1({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=$e({token:t,providedIn:"any",factory:()=>k(qN)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();const xw=new Oe("AppId",{providedIn:"root",factory:()=>o6}),o6="ng",s1=new Oe("Platform Initializer"),Yo=new Oe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),o1=new Oe("AnimationModuleType"),a1=new Oe("CSP nonce",{providedIn:"root",factory:()=>function zl(){if(void 0!==lT)return lT;if(typeof document<"u")return document;throw new re(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function bo(t){return t instanceof Function?t():t}function Fw(t){return 128==(128&t.flags)}var Gl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Gl||{});const m6=/^>|^->|<!--|-->|--!>|<!-$/g,_6=/(<|>)/g,y6="\u200b$1\u200b";const pT=new Map;let v6=0;const mT="__ngContext__";function ws(t,e){Vi(e)?(t[mT]=e[Lu],function E6(t){pT.set(t[Lu],t)}(e)):t[mT]=e}let _T;function yT(t,e){return _T(t,e)}function mm(t){const e=t[Be];return Ti(e)?e[Be]:e}function T1(t){return D1(t[Pr])}function S1(t){return D1(t[je])}function D1(t){for(;null!==t&&!Ti(t);)t=t[je];return t}function vf(t,e,n,r,i){if(null!=r){let s,o=!1;Ti(r)?s=r:Vi(r)&&(o=!0,r=r[fe]);const a=On(r);0===t&&null!==n?null==i?R1(e,n,a):yd(e,n,a,i||null,!0):1===t&&null!==n?yd(e,n,a,i||null,!0):2===t?function Hw(t,e,n){const r=jw(t,e);r&&function B6(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function H6(t,e,n,r,i){const s=n[qo];s!==On(n)&&vf(e,t,r,s,i);for(let a=jr;a<n.length;a++){const u=n[a];vm(u[ne],u,t,e,r,s)}}(e,t,s,n,i)}}function vT(t,e){return t.createComment(function _1(t){return t.replace(m6,e=>e.replace(_6,y6))}(e))}function Uw(t,e,n){return t.createElement(e,n)}function P1(t,e){const n=t[Sl],r=n.indexOf(e);n.splice(r,1)}function _m(t,e){if(t.length<=jr)return;const n=jr+e,r=t[n];if(r){const i=r[Br];null!==i&&i!==t&&P1(i,r),e>0&&(t[n-1][je]=r[je]);const s=Co(t,jr+e);!function x6(t,e){vm(t,e,e[st],2,null,null),e[fe]=null,e[yt]=null}(r[ne],r);const o=s[Wo];null!==o&&o.detachView(s[ne]),r[Be]=null,r[je]=null,r[ve]&=-129}return r}function Bw(t,e){if(!(256&e[ve])){const n=e[st];n.destroyNode&&vm(t,e,n,3,null,null),function k6(t){let e=t[Pr];if(!e)return wT(t[ne],t);for(;e;){let n=null;if(Vi(e))n=e[Pr];else{const r=e[jr];r&&(n=r)}if(!n){for(;e&&!e[je]&&e!==t;)Vi(e)&&wT(e[ne],e),e=e[Be];null===e&&(e=t),Vi(e)&&wT(e[ne],e),n=e&&e[je]}e=n}}(e)}}function wT(t,e){if(!(256&e[ve])){e[ve]&=-129,e[ve]|=256,e[ya]&&function or(t){if(E(t),ni(t))for(let e=0;e<t.producerNode.length;e++)vn(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[ya]),function U6(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Vl)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Go(4,a,u);try{u.call(a)}finally{Go(5,a,u)}}else{Go(4,i,s);try{s.call(i)}finally{Go(5,i,s)}}}}}(t,e),function V6(t,e){const n=t.cleanup,r=e[vt];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[vt]=null);const i=e[Ka];if(null!==i){e[Ka]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[ne].type&&e[st].destroy();const n=e[Br];if(null!==n&&Ti(e[Be])){n!==e[Be]&&P1(n,e);const r=e[Wo];null!==r&&r.detachView(t)}!function C6(t){pT.delete(t[Lu])}(e)}}function ET(t,e,n){return function M1(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[fe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Nt.None||s===Nt.Emulated)return null}return Si(r,n)}}(t,e.parent,n)}function yd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function R1(t,e,n){t.appendChild(e,n)}function x1(t,e,n,r,i){null!==r?yd(t,e,n,r,i):R1(t,e,n)}function jw(t,e){return t.parentNode(e)}let CT,Ww,k1=function N1(t,e,n){return 40&t.type?Si(t,n):null};function $w(t,e,n,r){const i=ET(t,r,e),s=e[st],a=function O1(t,e,n){return k1(t,e,n)}(r.parent||e[yt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)x1(s,i,n[u],a,!1);else x1(s,i,n,a,!1);void 0!==CT&&CT(s,r,e,n,i)}function ym(t,e){if(null!==e){const n=e.type;if(3&n)return Si(e,t);if(4&n)return IT(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ym(t,r);{const i=t[e.index];return Ti(i)?IT(-1,i):On(i)}}if(32&n)return yT(e,t)()||On(t[e.index]);{const r=L1(t,e);return null!==r?Array.isArray(r)?r[0]:ym(mm(t[bn]),r):ym(t,e.next)}}return null}function L1(t,e){return null!==e?t[bn][yt].projection[e.projection]:null}function IT(t,e){const n=jr+t+1;if(n<e.length){const r=e[n],i=r[ne].firstChild;if(null!==i)return ym(r,i)}return e[qo]}function bT(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&ws(On(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)bT(t,e,n.child,r,i,s,!1),vf(e,t,i,a,s);else if(32&u){const l=yT(n,r);let h;for(;h=l();)vf(e,t,i,h,s);vf(e,t,i,a,s)}else 16&u?U1(t,e,r,n,i,s):vf(e,t,i,a,s);n=o?n.projectionNext:n.next}}function vm(t,e,n,r,i,s){bT(n,r,t.firstChild,e,i,s,!1)}function U1(t,e,n,r,i,s){const o=n[bn],u=o[yt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)vf(e,t,i,u[l],s);else{let l=u;const h=o[Be];Fw(r)&&(l.flags|=128),bT(t,e,l,h,i,s,!0)}}function B1(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function j1(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Xi(t,e,r),null!==i&&B1(t,e,i),null!==s&&function W6(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function z1(t){return function ST(){if(void 0===Ww&&(Ww=null,An.trustedTypes))try{Ww=An.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ww}()?.createScriptURL(t)||t}class W1{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ut})`}}function Kl(t){return t instanceof W1?t.changingThisBreaksApplicationSecurity:t}function wm(t,e){const n=function e8(t){return t instanceof W1&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ut})`)}return n===e}const i8=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ef=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ef||{});function Cm(t){const e=Im();return e?e.sanitize(Ef.URL,t)||"":wm(t,"URL")?Kl(t):function DT(t){return(t=String(t)).match(i8)?t:"unsafe:"+t}(Rt(t))}function X1(t){const e=Im();if(e)return z1(e.sanitize(Ef.RESOURCE_URL,t)||"");if(wm(t,"ResourceURL"))return z1(Kl(t));throw new re(904,!1)}function Im(){const t=Ce();return t&&t[ln].sanitizer}class _8{}let ek=(t,e,n)=>null;function VT(t,e,n=!1){return ek(t,e,n)}class S8{}class rk{}class A8{resolveComponentFactory(e){throw function D8(t){const e=Error(`No component factory found for ${Mt(t)}.`);return e.ngComponent=t,e}(e)}}let Xw=(()=>{class t{static#e=this.NULL=new A8}return t})();function P8(){return bf(Un(),Ce())}function bf(t,e){return new js(Si(t,e))}let js=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=P8}return t})();function M8(t){return t instanceof js?t.nativeElement:t}class jT{}let Xo=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function R8(){const t=Ce(),n=Ji(Un().index,t);return(Vi(n)?n:t)[st]}()}return t})(),x8=(()=>{class t{static#e=this.\u0275prov=$e({token:t,providedIn:"root",factory:()=>null})}return t})();const $T={};function sk(t){const e=lt(null);try{return t()}finally{lt(e)}}function Jw(t){return!!function HT(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}class ok{constructor(){}supports(e){return Jw(e)}create(e){return new L8(e)}}const F8=(t,e)=>e;class L8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||F8}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<uk(r,i,s)?n:r,a=uk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,h=u-i;if(l!=h){for(let y=0;y<l;y++){const C=y<s.length?s[y]:s[y]=0,S=C+y;h<=S&&S<l&&(s[y]=C+1)}s[o.previousIndex]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Jw(e))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function k8(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new V8(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new ak),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ak),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class V8{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class U8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class ak{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new U8,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function ck(){return new eE([new ok])}let eE=(()=>{class t{static#e=this.\u0275prov=$e({token:t,providedIn:"root",factory:ck});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||ck()),deps:[[t,new Tw,new ba]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new re(901,!1)}}return t})();function Dm(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(On(s)),Ti(s)&&hk(s,r);const o=n.type;if(8&o)Dm(t,e,n.child,r);else if(32&o){const a=yT(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=L1(e,n);if(Array.isArray(a))r.push(...a);else{const u=mm(e[bn]);Dm(u[ne],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function hk(t,e){for(let n=jr;n<t.length;n++){const r=t[n],i=r[ne].firstChild;null!==i&&Dm(r[ne],r,i,e)}t[qo]!==t[fe]&&e.push(t[qo])}let fk=[];const q8={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ud(t.lView)},consumerOnSignalRead(){this.lView[ya]=this}};function zT(t){return t.ngOriginalError}class Gu{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zT(e);for(;n&&zT(n);)n=zT(n);return n||null}}const gk=new Oe("",{providedIn:"root",factory:()=>_e(Gu).handleError.bind(void 0)}),_k=new Oe("",{providedIn:"root",factory:()=>!1}),Wt={};function Ct(t){Ek(rn(),Ce(),Di()+t,!1)}function Ek(t,e,n,r){if(!r)if(3==(3&e[ve])){const s=t.preOrderCheckHooks;null!==s&&Fl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Ll(e,s,0,n)}Ya(n)}function Ie(t,e=Gt.Default){const n=Ce();return null===n?k(t,e):yw(Un(),n,G(t),e)}function nE(t,e,n,r,i,s,o,a,u,l,h){const p=e.blueprint.slice();return p[fe]=i,p[ve]=204|r,(null!==l||t&&2048&t[ve])&&(p[ve]|=2048),Wg(p),p[Be]=p[bi]=t,p[rt]=n,p[ln]=o||t&&t[ln],p[st]=a||t&&t[st],p[Qe]=u||t&&t[Qe]||null,p[yt]=s,p[Lu]=function w6(){return v6++}(),p[ot]=h,p[Uv]=l,p[bn]=2==e.type?t[bn]:p,p}function Tf(t,e,n,r,i){let s=t.data[e];if(null===s)s=function WT(t,e,n,r,i){const s=Kh(),o=Zg(),u=t.data[e]=function s7(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function xl(){return null!==At.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function Rb(){return At.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Qa(){const t=At.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ao(s,!0),s}function Am(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ik(t,e,n,r,i){const s=Di(),o=2&r;try{Ya(-1),o&&e.length>Lt&&Ek(t,e,Lt,!1),Go(o?2:0,i),n(r,i)}finally{Ya(s),Go(o?3:1,i)}}function qT(t,e,n){if(Bv(e)){const r=lt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{lt(r)}}}function GT(t,e,n){rw()&&(function h7(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;va(n)&&function v7(t,e,n){const r=Si(e,t),i=bk(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=rE(t,nE(t,i,null,o,r,e,null,t[ln].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||uf(n,e),ws(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],l=$u(e,t,a,n);ws(l,e),null!==o&&w7(0,a-i,l,u,0,o),Eo(u)&&(Ji(n.index,e)[rt]=$u(e,t,a,n))}}(t,e,n,Si(n,e)),64==(64&n.flags)&&Pk(t,e,n))}function KT(t,e,n=Si){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function bk(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ZT(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ZT(t,e,n,r,i,s,o,a,u,l,h){const p=Lt+r,y=p+i,C=function J8(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Wt);return n}(p,y),S="function"==typeof l?l():l;return C[ne]={type:t,blueprint:C,template:n,queries:null,viewQuery:a,declTNode:e,data:C.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}let Tk=t=>null;function Sk(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?Dk(n,e,i,s):r.hasOwnProperty(i)&&Dk(n,e,r[i],s)}return n}function Dk(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function To(t,e,n,r,i,s,o,a){const u=Si(e,n);let h,l=e.inputs;!a&&null!=l&&(h=l[r])?(eS(t,n,h,r,i),va(e)&&function u7(t,e){const n=Ji(e,t);16&n[ve]||(n[ve]|=64)}(n,e.index)):3&e.type&&(r=function a7(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function QT(t,e,n,r){if(rw()){const i=null===r?null:{"":-1},s=function p7(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(hn(e,o.selectors,!1))if(r||(r=[]),Eo(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),YT(t,e,a.length)}else r.unshift(o),YT(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Ak(t,e,n,o,i,a),i&&function g7(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new re(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Li(n.mergedAttrs,n.attrs)}function Ak(t,e,n,r,i,s){for(let l=0;l<r.length;l++)rm(uf(n,e),t,r[l].type);!function _7(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=Am(t,e,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];n.mergedAttrs=Li(n.mergedAttrs,h.hostAttrs),y7(t,n,e,u,h),m7(u,h,i),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function o7(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,l=null;for(let h=e.directiveStart;h<i;h++){const p=s[h],y=n?n.get(p):null,S=y?y.outputs:null;u=Sk(p.inputs,h,u,y?y.inputs:null),l=Sk(p.outputs,h,l,S);const M=null===u||null===o||_s(e)?null:E7(u,h,o);a.push(M)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(t,n,s)}function Pk(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function xb(){return At.lFrame.currentDirectiveIndex}();try{Ya(s);for(let a=r;a<i;a++){const u=t.data[a],l=e[a];cd(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&f7(u,l)}}finally{Ya(-1),cd(o)}}function f7(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function YT(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function m7(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Eo(e)&&(n[""]=t)}}function y7(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Pl(i.type)),o=new Vl(s,Eo(i),Ie);t.blueprint[r]=o,n[r]=o,function c7(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function d7(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Am(t,n,i.hostVars,Wt),i)}function eu(t,e,n,r,i,s){const o=Si(t,e);!function XT(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Rt(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[st],o,s,t.value,n,r,i)}function w7(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)Mk(r,n,o[a++],o[a++],o[a++])}function Mk(t,e,n,r,i){const s=lt(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{lt(s)}}function E7(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Rk(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function xk(t,e){const n=t.contentQueries;if(null!==n){const r=lt(null);try{for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const a=t.data[o];dd(n[i]),a.contentQueries(2,e[o],o)}}}finally{lt(r)}}}function rE(t,e){return t[Pr]?t[Ii][je]=e:t[Pr]=e,t[Ii]=e,e}function JT(t,e,n){dd(0);const r=lt(null);try{e(t,n)}finally{lt(r)}}function Ok(t){return t[vt]||(t[vt]=[])}function Nk(t){return t.cleanup||(t.cleanup=[])}function iE(t,e){const n=t[Qe],r=n?n.get(Gu,null):null;r&&r.handleError(e)}function eS(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];Mk(t.data[o],e[o],r,a,i)}}function b7(t,e,n,r){const i=e[ve];if(256==(256&i))return;e[ln].inlineEffectRunner?.flush(),Xg(e);let o=null,a=null;(function T7(t){return 2!==t.type})(t)&&(a=function H8(t){return t[ya]??function z8(t){const e=fk.pop()??Object.create(q8);return e.lView=t,e}(t)}(e),o=function St(t){return t&&(t.nextProducerIndex=0),lt(t)}(a));try{Wg(e),function sw(t){return At.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Ik(t,e,n,2,r);const u=3==(3&i);if(u){const p=t.preOrderCheckHooks;null!==p&&Fl(e,p,null)}else{const p=t.preOrderHooks;null!==p&&Ll(e,p,0,null),nf(e,0)}if(function S7(t){for(let e=T1(t);null!==e;e=S1(e)){if(!(e[ve]&Dl.HasTransplantedViews))continue;const n=e[Sl];for(let r=0;r<n.length;r++){Ib(n[r])}}}(e),Fk(e,0),null!==t.contentQueries&&xk(t,e),u){const p=t.contentCheckHooks;null!==p&&Fl(e,p)}else{const p=t.contentHooks;null!==p&&Ll(e,p,1),nf(e,1)}!function X8(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Ya(~i);else{const s=i,o=n[++r],a=n[++r];Qg(o,s),a(2,e[s])}}}finally{Ya(-1)}}(t,e);const l=t.components;null!==l&&Vk(e,l,0);const h=t.viewQuery;if(null!==h&&JT(2,h,r),u){const p=t.viewCheckHooks;null!==p&&Fl(e,p)}else{const p=t.viewHooks;null!==p&&Ll(e,p,2),nf(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[rd]){for(const p of e[rd])p();e[rd]=null}e[ve]&=-73}catch(u){throw ud(e),u}finally{null!==a&&(function Ue(t,e){if(lt(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ni(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)vn(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(a,o),function W8(t){t.lView[ya]!==t&&(t.lView=null,fk.push(t))}(a)),Jg()}}function Fk(t,e){for(let n=T1(t);null!==n;n=S1(n)){n[ve]&=~Dl.HasChildViewsToRefresh;for(let r=jr;r<n.length;r++)Lk(n[r],e)}}function D7(t,e,n){Lk(Ji(e,t),n)}function Lk(t,e){zg(t)&&nS(t,e)}function nS(t,e){const r=t[ne],i=t[ve],s=t[ya];let o=!!(0===e&&16&i);if(o||=!!(64&i&&0===e),o||=!!(1024&i),o||=!(!s?.dirty||!Cr(s)),s&&(s.dirty=!1),t[ve]&=-9217,o)b7(r,t,r.template,t[rt]);else if(8192&i){Fk(t,1);const a=r.components;null!==a&&Vk(t,a,1)}}function Vk(t,e,n){for(let r=0;r<e.length;r++)D7(t,e[r],n)}function Pm(t){for(t[ln].changeDetectionScheduler?.notify();t;){t[ve]|=64;const e=mm(t);if(jv(t)&&!e)return t;t=e}return null}class Mm{get rootNodes(){const e=this._lView,n=e[ne];return Dm(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rt]}set context(e){this._lView[rt]=e}get destroyed(){return 256==(256&this._lView[ve])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Be];if(Ti(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(_m(e,r),Co(n,r))}this._attachedToViewContainer=!1}Bw(this._lView[ne],this._lView)}onDestroy(e){Uu(this._lView,e)}markForCheck(){Pm(this._cdRefInjectingView||this._lView)}detach(){this._lView[ve]&=-129}reattach(){qg(this._lView),this._lView[ve]|=128}detectChanges(){this._lView[ve]|=1024,function tS(t,e=!0){const n=t[ln],r=n.rendererFactory,i=n.afterRenderEventManager;r.begin?.(),i?.begin();try{!function I7(t){nS(t,0);let e=0;for(;ew(t);){if(100===e)throw new re(103,!1);e++,nS(t,1)}}(t)}catch(o){throw e&&iE(t,o),o}finally{r.end?.(),n.inlineEffectRunner?.flush(),i?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function N6(t,e){vm(t,e,e[st],2,null,null)}(this._lView[ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e,qg(this._lView)}}let Sf=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=A7}return t})();function A7(t){return function P7(t,e,n){if(va(t)&&!n){const r=Ji(t.index,e);return new Mm(r,r)}return 47&t.type?new Mm(e[bn],e):null}(Un(),Ce(),16==(16&t))}let sE=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=O7;static#t=this.__NG_ENV_ID__=n=>n}return t})();class x7 extends sE{constructor(e){super(),this._lView=e}onDestroy(e){return Uu(this._lView,e),()=>function Gg(t,e){if(null===t[Ka])return;const n=t[Ka].indexOf(e);-1!==n&&t[Ka].splice(n,1)}(this._lView,e)}}function O7(){return new x7(Ce())}const Uk=new Set;function vd(t){Uk.has(t)||(Uk.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function rS(t){return e=>{setTimeout(t,void 0,e)}}const Yr=class B7 extends P{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=rS(s),i&&(i=rS(i)),o&&(o=rS(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof dn&&e.add(a),a}};function Bk(...t){}class fn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yr(!1),this.onMicrotaskEmpty=new Yr(!1),this.onStable=new Yr(!1),this.onError=new Yr(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function j7(){const t="function"==typeof An.requestAnimationFrame;let e=An[t?"requestAnimationFrame":"setTimeout"],n=An[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function z7(t){const e=()=>{!function H7(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(An,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sS(t),t.isCheckStableRunning=!0,iS(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sS(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function q7(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return jk(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),$k(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return jk(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),$k(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,sS(t),iS(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fn.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(fn.isInAngularZone())throw new re(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,$7,Bk,Bk);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const $7={};function iS(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sS(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function jk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $k(t){t._nesting--,iS(t)}class W7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yr,this.onMicrotaskEmpty=new Yr,this.onStable=new Yr,this.onError=new Yr}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}var wd=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(wd||{});const Hk={destroy(){}};function Wk(t,e){!e&&function aT(t){if(!Il()&&!function Q(){return V}())throw new re(-203,!1)}();const n=e?.injector??_e(lo);if(!function Wl(t){return"browser"===(t??_e(lo)).get(Yo)}(n))return Hk;vd("NgAfterNextRender");const r=n.get(oE),i=r.handler??=new Gk,s=e?.phase??wd.MixedReadWrite,o=()=>{i.unregister(u),a()},a=n.get(sE).onDestroy(o),u=new qk(n,s,()=>{o(),t()});return i.register(u),{destroy:o}}class qk{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(fn),this.errorHandler=e.get(Gu,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class Gk{constructor(){this.executingCallbacks=!1,this.buckets={[wd.EarlyRead]:new Set,[wd.Write]:new Set,[wd.MixedReadWrite]:new Set,[wd.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new re(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let oE=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=$e({token:t,providedIn:"root",factory:()=>new t})}return t})();function Z7(t,e){const n=Ji(e,t),r=n[ne];!function Q7(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[fe];null!==i&&null===n[ot]&&(n[ot]=VT(i,n[Qe])),oS(r,n,n[rt])}function oS(t,e,n){Xg(e);try{const r=t.viewQuery;null!==r&&JT(1,r,n);const i=t.template;null!==i&&Ik(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&xk(t,e),t.staticViewQueries&&JT(2,t.viewQuery,n);const s=t.components;null!==s&&function Y7(t,e){for(let n=0;n<e.length;n++)Z7(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ve]&=-5,Jg()}}function aE(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ft(i,a):2==s&&(r=Ft(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class Kk extends Xw{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Bt(e);return new Rm(n,this.ngModule)}}function Zk(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class J7{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Jt(r);const i=this.injector.get(e,$T,r);return i!==$T||n===$T?i:this.parentInjector.get(e,n,r)}}class Rm extends rk{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=Zk(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Zk(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function wo(t){return t.map(Wh).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Io?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new J7(e,s):e,a=o.get(jT,null);if(null===a)throw new re(407,!1);const p={rendererFactory:a,sanitizer:o.get(x8,null),inlineEffectRunner:null,afterRenderEventManager:o.get(oE,null),changeDetectionScheduler:o.get(_8,null)},y=a.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",S=r?function e7(t,e,n,r){const s=r.get(_k,!1)||n===Nt.ShadowDom,o=t.selectRootElement(e,s);return function t7(t){Tk(t)}(o),o}(y,r,this.componentDef.encapsulation,o):Uw(y,C,function X7(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(C));let M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let N=null;null!==S&&(N=VT(S,o,!0));const Z=ZT(0,null,null,1,0,null,null,null,null,null,null),W=nE(null,Z,null,M,null,null,p,y,o,null,N);let J,me;Xg(W);try{const Ne=this.componentDef;let Ge,xt=null;Ne.findHostDirectiveDefs?(Ge=[],xt=new Map,Ne.findHostDirectiveDefs(Ne,Ge,xt),Ge.push(Ne)):Ge=[Ne];const Ln=function tK(t,e){const n=t[ne],r=Lt;return t[r]=e,Tf(n,r,2,"#host",null)}(W,S),ls=function nK(t,e,n,r,i,s,o){const a=i[ne];!function rK(t,e,n,r){for(const i of t)e.mergedAttrs=Li(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(aE(e,e.mergedAttrs,!0),null!==n&&j1(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=VT(e,i[Qe]));const l=s.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const p=nE(i,bk(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&YT(a,t,r.length-1),rE(i,p),i[t.index]=p}(Ln,S,Ne,Ge,W,p,y);me=Vu(Z,Lt),S&&function sK(t,e,n,r){if(r)Xi(t,n,["ng-version","17.0.8"]);else{const{attrs:i,classes:s}=function nd(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ys(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Xi(t,n,i),s&&s.length>0&&B1(t,n,s.join(" "))}}(y,Ne,S,r),void 0!==n&&function oK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(me,this.ngContentSelectors,n),J=function iK(t,e,n,r,i,s){const o=Un(),a=i[ne],u=Si(o,i);Ak(a,i,o,n,null,r);for(let h=0;h<n.length;h++)ws($u(i,a,o.directiveStart+h,o),i);Pk(a,i,o),u&&ws(u,i);const l=$u(i,a,o.directiveStart+o.componentOffset,o);if(t[rt]=i[rt]=l,null!==s)for(const h of s)h(l,e);return qT(a,o,t),l}(ls,Ne,Ge,xt,W,[aK]),oS(Z,W,null)}finally{Jg()}return new eK(this.componentType,J,bf(me,W),W,me)}}class eK extends S8{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Mm(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;eS(s[ne],s,i,e,n),this.previousInputValues.set(e,n),Pm(Ji(this._tNode.index,s))}}get injector(){return new Zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function aK(){const t=Un();kl(Ce()[ne],t)}function Hn(t){let e=function Qk(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Eo(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=uE(t.inputs),o.inputTransforms=uE(t.inputTransforms),o.declaredInputs=uE(t.declaredInputs),o.outputs=uE(t.outputs);const a=i.hostBindings;a&&dK(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&lK(t,u),l&&cK(t,l),It(t.inputs,i.inputs),It(t.declaredInputs,i.declaredInputs),It(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),It(o.inputTransforms,i.inputTransforms)),Eo(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Hn&&(n=!1)}}e=Object.getPrototypeOf(e)}!function uK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Li(i.hostAttrs,n=Li(n,i.hostAttrs))}}(r)}function uE(t){return t===En?{}:t===Qt?[]:t}function lK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function cK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function dK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function eF(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function tu(t,e,n){return t[e]=n}function fi(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function lE(t,e,n,r,i){const s=function Ed(t,e,n,r){const i=fi(t,e,n);return fi(t,e+1,r)||i}(t,e,n,r);return fi(t,e+2,i)||s}function nu(t,e,n,r){const i=Ce();return fi(i,uo(),e)&&(rn(),eu(rr(),i,t,e,n,r)),nu}function Af(t,e,n,r){return fi(t,uo(),n)?e+Rt(n)+r:Wt}function cE(t,e){return t<<17|e<<2}function Zl(t){return t>>17&32767}function aS(t){return 2|t}function Cd(t){return(131068&t)>>2}function uS(t,e){return-131069&t|e<<2}function lS(t){return 1|t}function cF(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Zl(s):Cd(s),u=!1;for(;0!==a&&(!1===u||o);){const h=t[a+1];CK(t[a],e)&&(u=!0,t[a+1]=r?lS(h):aS(h)),a=r?Zl(h):Cd(h)}u&&(t[n+1]=r?aS(s):lS(s))}function CK(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Wu(t,e)>=0}function Kt(t,e,n){const r=Ce();return fi(r,uo(),e)&&To(rn(),rr(),r,t,e,r[st],n,!1),Kt}function cS(t,e,n,r,i){const o=i?"class":"style";eS(t,n,e.inputs[o],o,r)}function Om(t,e){return function Ta(t,e,n,r){const i=Ce(),s=rn(),o=function Ko(t){const e=At.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function vF(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Di()],o=function yF(t,e){return e>=t.expandoStartIndex}(t,n);(function IF(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function RK(t,e,n,r){const i=function Yg(t){const e=At.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Nm(n=dS(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=dS(i,t,e,n,r),null===s){let u=function xK(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Cd(r))return t[Zl(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=dS(null,t,e,u[1],r),u=Nm(u,e.attrs,r),function OK(t,e,n,r){t[Zl(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function NK(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Nm(r,t[s].hostAttrs,n);return Nm(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function wK(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Zl(o),u=Cd(o);t[r]=n;let h,l=!1;if(Array.isArray(n)?(h=n[1],(null===h||Wu(n,h)>0)&&(l=!0)):h=n,i)if(0!==u){const y=Zl(t[a+1]);t[r+1]=cE(y,a),0!==y&&(t[y+1]=uS(t[y+1],r)),t[a+1]=function yK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=cE(a,0),0!==a&&(t[a+1]=uS(t[a+1],r)),a=r;else t[r+1]=cE(u,0),0===a?a=r:t[u+1]=uS(t[u+1],r),u=r;l&&(t[r+1]=aS(t[r+1])),cF(t,h,r,!0),cF(t,h,r,!1),function EK(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Wu(s,e)>=0&&(n[r+1]=lS(n[r+1]))}(e,h,t,r,s),o=cE(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Wt&&fi(i,o,e)&&function EF(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,l=u[a+1],h=function vK(t){return 1==(1&t)}(l)?CF(u,e,n,i,Cd(l),o):void 0;dE(h)||(dE(s)||function _K(t){return 2==(2&t)}(l)&&(s=CF(u,null,n,i,a,o)),function z6(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Gl.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Gl.Important),t.setStyle(n,r,i,s))}}(r,o,ad(Di(),n),i,s))}(s,s.data[Di()],i,i[st],t,i[o+1]=function VK(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Mt(Kl(t)))),t}(e,n),r,o)}(t,e,null,!0),Om}function dS(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Nm(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Nm(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ns(t,o,!!n||e[++s]))}return void 0===t?null:t}function CF(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=null===h;let y=n[i+1];y===Wt&&(y=p?Qt:void 0);let C=p?pf(y,r):h===r?y:void 0;if(l&&!dE(C)&&(C=pf(u,r)),dE(C)&&(a=C,o))return a;const S=t[i+1];i=o?Zl(S):Cd(S)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=pf(u,r))}return a}function dE(t){return void 0!==t}function Vf(t,e){return!e||null===e.firstChild||Fw(t)}function Bm(t,e,n,r=!0){const i=e[ne];if(function F6(t,e,n,r){const i=jr+r,s=n.length;r>0&&(n[i-1][je]=e),r<s-jr?(e[je]=n[i],ts(n,jr+r,e)):(n.push(e),e[je]=null),e[Be]=n;const o=e[Br];null!==o&&n!==o&&function L6(t,e){const n=t[Sl];e[bn]!==e[Be][Be][bn]&&(t[ve]|=Dl.HasTransplantedViews),null===n?t[Sl]=[e]:n.push(e)}(o,e);const a=e[Wo];null!==a&&a.insertView(t),qg(e),e[ve]|=128}(i,e,t,n),r){const o=IT(n,t),a=e[st],u=jw(a,t[qo]);null!==u&&function O6(t,e,n,r,i,s){r[fe]=i,r[yt]=e,vm(t,r,n,1,i,s)}(i,t[yt],a,e,u,o)}const s=e[ot];null!==s&&null!==s.firstChild&&(s.firstChild=null)}let ea=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=yZ}return t})();function yZ(){return FF(Un(),Ce())}const vZ=ea,NF=class extends vZ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return bf(this._hostTNode,this._hostLView)}get injector(){return new Zr(this._hostTNode,this._hostLView)}get parentInjector(){const e=lf(this._hostTNode,this._hostLView);if(nm(e)){const n=fd(e,this._hostLView),r=hd(e);return new Zr(n[ne].data[r+8],n)}return new Zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=kF(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-jr}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,Vf(this._hostTNode,null)),a}createComponent(e,n,r,i,s){const o=e&&!function Pe(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}const u=o?e:new Rm(Bt(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const M=(o?l:this.parentInjector).get(Io,null);M&&(s=M)}Bt(u.componentType??{});const C=u.create(l,i,null,s);return this.insertImpl(C.hostView,a,Vf(this._hostTNode,null)),C}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function Cb(t){return Ti(t[Be])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const u=i[Be],l=new NF(u,u[yt],u[Be]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;return Bm(o,i,s,r),e.attachToViewContainerRef(),ts(wS(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=kF(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=_m(this._lContainer,n);r&&(Co(wS(this._lContainer),n),Bw(r[ne],r))}detach(e){const n=this._adjustIndex(e,-1),r=_m(this._lContainer,n);return r&&null!=Co(wS(this._lContainer),n)?new Mm(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function kF(t){return t[8]}function wS(t){return t[8]||(t[8]=[])}function FF(t,e){let n;const r=e[t.index];return Ti(r)?n=r:(n=Rk(r,e,null,t),e[t.index]=n,rE(e,n)),LF(n,e,t,r),new NF(n,t,e)}let LF=function UF(t,e,n,r){if(t[qo])return;let i;i=8&n.type?On(r):function wZ(t,e){const n=t[st],r=n.createComment(""),i=Si(e,t);return yd(n,jw(n,i),r,function j6(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[qo]=i},ES=(t,e,n)=>!1;function Zn(t,e,n,r,i,s,o,a){const u=Ce(),l=rn(),h=t+Lt,p=l.firstCreatePass?function bZ(t,e,n,r,i,s,o,a,u){const l=e.consts,h=Tf(e,t,4,o||null,wa(l,a));QT(e,n,h,wa(l,u)),kl(e,h);const p=h.tView=ZT(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,l,u,e,n,r,i,s,o):l.data[h];ao(p,!1);const y=BF(l,u,p,t);tf()&&$w(l,u,y,p),ws(y,u);const C=Rk(y,u,y,p);return u[h]=C,rE(u,C),function VF(t,e,n){return ES(t,e,n)}(C,p,u),id(p)&&GT(l,u,p),null!=o&&KT(u,p,a),Zn}let BF=function jF(t,e,n,r){return Zo(!0),e[st].createComment("")};function U(t,e,n,r){const i=Ce(),s=rn(),o=Lt+t,a=i[st],u=s.firstCreatePass?function fQ(t,e,n,r,i,s){const o=e.consts,u=Tf(e,t,2,r,wa(o,i));return QT(e,n,u,wa(o,s)),null!==u.attrs&&aE(u,u.attrs,!1),null!==u.mergedAttrs&&aE(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],l=cL(s,i,u,a,e,t);i[o]=l;const h=id(u);return ao(u,!0),j1(a,l,u),32!=(32&u.flags)&&tf()&&$w(s,i,l,u),0===function bb(){return At.lFrame.elementDepthCount}()&&ws(l,i),function Tb(){At.lFrame.elementDepthCount++}(),h&&(GT(s,i,u),qT(s,u,i)),null!==r&&KT(i,u),U}function z(){let t=Un();Zg()?ld():(t=t.parent,ao(t,!1));const e=t;(function iw(t){return At.skipHydrationRootTNode===t})(e)&&function Kg(){At.skipHydrationRootTNode=null}(),function Sb(){At.lFrame.elementDepthCount--}();const n=rn();return n.firstCreatePass&&(kl(n,t),Bv(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Ub(t){return 0!=(8&t.flags)}(e)&&cS(n,e,Ce(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Bb(t){return 0!=(16&t.flags)}(e)&&cS(n,e,Ce(),e.stylesWithoutHost,!1),z}function Ve(t,e,n,r){return U(t,e,n,r),z(),Ve}let cL=(t,e,n,r,i,s)=>(Zo(!0),Uw(r,i,function ef(){return At.lFrame.currentNamespace}()));function EE(t,e,n){const r=Ce(),i=rn(),s=t+Lt,o=i.firstCreatePass?function mQ(t,e,n,r,i){const s=e.consts,o=wa(s,r),a=Tf(e,t,8,"ng-container",o);return null!==o&&aE(a,o,!0),QT(e,n,a,wa(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];ao(o,!0);const a=hL(i,r,o,t);return r[s]=a,tf()&&$w(i,r,a,o),ws(a,r),id(o)&&(GT(i,r,o),qT(i,o,r)),null!=n&&KT(r,o),EE}function CE(){let t=Un();const e=rn();return Zg()?ld():(t=t.parent,ao(t,!1)),e.firstCreatePass&&(kl(e,t),Bv(t)&&e.queries.elementEnd(t)),CE}let hL=(t,e,n,r)=>(Zo(!0),vT(e[st],""));function Wf(){return Ce()}const bd=void 0;var wQ=["en",[["a","p"],["AM","PM"],bd],[["AM","PM"],bd,bd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bd,"{1} 'at' {0}",bd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vQ(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let qf={};function $s(t){const e=function EQ(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=mL(e);if(n)return n;const r=e.split("-")[0];if(n=mL(r),n)return n;if("en"===r)return wQ;throw new re(701,!1)}function mL(t){return t in qf||(qf[t]=An.ng&&An.ng.common&&An.ng.common.locales&&An.ng.common.locales[t]),qf[t]}var ur=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ur||{});const Gf="en-US";let _L=Gf;function Zm(t){return!!t&&"function"==typeof t.then}function $L(t){return!!t&&"function"==typeof t.subscribe}function Mr(t,e,n,r){const i=Ce(),s=rn(),o=Un();return function zL(t,e,n,r,i,s,o){const a=id(r),l=t.firstCreatePass&&Nk(t),h=e[rt],p=Ok(e);let y=!0;if(3&r.type||o){const M=Si(r,e),N=o?o(M):M,Z=p.length,W=o?me=>o(On(me[r.index])):r.index;let J=null;if(!o&&a&&(J=function gY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[vt],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==J)(J.__ngLastListenerFn__||J).__ngNextListenerFn__=s,J.__ngLastListenerFn__=s,y=!1;else{s=qL(r,e,h,s,!1);const me=n.listen(N,i,s);p.push(s,me),l&&l.push(i,W,Z,Z+1)}}else s=qL(r,e,h,s,!1);const C=r.outputs;let S;if(y&&null!==C&&(S=C[i])){const M=S.length;if(M)for(let N=0;N<M;N+=2){const Ne=e[S[N]][S[N+1]].subscribe(s),Ge=p.length;p.push(s,Ne),l&&l.push(i,r.index,Ge,-(Ge+1))}}}(s,i,i[st],o,t,e,r),Mr}function WL(t,e,n,r){try{return Go(6,e,n),!1!==n(r)}catch(i){return iE(t,i),!1}finally{Go(7,e,n)}}function qL(t,e,n,r,i){return function s(o){if(o===Function)return r;Pm(t.componentOffset>-1?Ji(t.index,e):e);let u=WL(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=WL(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Da(t=1){return function uw(t){return(At.lFrame.contextLView=function Jv(t,e){for(;t>0;)e=e[bi],t--;return e}(t,At.lFrame.contextLView))[rt]}(t)}function DE(t,e,n){return NS(t,"",e,"",n),DE}function NS(t,e,n,r,i){const s=Ce(),o=Af(s,e,n,r);return o!==Wt&&To(rn(),rr(),s,t,o,s[st],i,!1),NS}function So(t){return Rl(function Mb(){return At.lFrame.contextLView}(),Lt+t)}function te(t,e=""){const n=Ce(),r=rn(),i=t+Lt,s=r.firstCreatePass?Tf(r,i,1,e,null):r.data[i],o=cV(r,n,s,e,t);n[i]=o,tf()&&$w(r,n,o,s),ao(s,!1)}let cV=(t,e,n,r,i)=>(Zo(!0),function Vw(t,e){return t.createText(e)}(e[st],r));function Hs(t){return Qm("",t,""),Hs}function Qm(t,e,n){const r=Ce(),i=Af(r,t,e,n);return i!==Wt&&function Ku(t,e,n){const r=ad(e,t);!function A1(t,e,n){t.setValue(e,n)}(t[st],r,n)}(r,Di(),i),Qm}function kS(t,e,n,r,i){if(t=G(t),Array.isArray(t))for(let s=0;s<t.length;s++)kS(t[s],e,n,r,i);else{const s=rn(),o=Ce(),a=Un();let u=_d(t)?t:G(t.provide);const l=YN(t),h=1048575&a.providerIndexes,p=a.directiveStart,y=a.providerIndexes>>20;if(_d(t)||!t.multi){const C=new Vl(l,i,Ie),S=LS(u,e,i?h:h+y,p);-1===S?(rm(uf(a,o),s,u),FS(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)):(n[S]=C,o[S]=C)}else{const C=LS(u,e,h+y,p),S=LS(u,e,h,h+y),N=S>=0&&n[S];if(i&&!N||!i&&!(C>=0&&n[C])){rm(uf(a,o),s,u);const Z=function NY(t,e,n,r,i){const s=new Vl(t,n,Ie);return s.multi=[],s.index=e,s.componentProviders=0,vV(s,i,r&&!n),s}(i?OY:xY,n.length,i,r,l);!i&&N&&(n[S].providerFactory=Z),FS(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(Z),o.push(Z)}else FS(s,t,C>-1?C:S,vV(n[i?S:C],l,!i&&r));!i&&r&&N&&n[S].componentProviders++}}}function FS(t,e,n,r){const i=_d(e),s=function W9(t){return!!t.useClass}(e);if(i||s){const u=(s?G(e.useClass):e).prototype.ngOnDestroy;if(u){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=l.indexOf(n);-1===h?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function vV(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function LS(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function xY(t,e,n,r){return VS(this.multi,[])}function OY(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=$u(n,n[ne],this.providerFactory.index,r);s=a.slice(0,o),VS(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],VS(i,s);return s}function VS(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Rr(t,e=[]){return n=>{n.providersResolver=(r,i)=>function RY(t,e,n){const r=rn();if(r.firstCreatePass){const i=Eo(t);kS(n,r.data,r.blueprint,i,!0),kS(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Td{}class wV{}class US extends Td{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kk(this);const i=Kr(e);this._bootstrapComponents=bo(i.bootstrap),this._r3Injector=n1(e,n,[{provide:Td,useValue:this},{provide:Xw,useValue:this.componentFactoryResolver},...r],Mt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class BS extends wV{constructor(e){super(),this.moduleType=e}create(e){return new US(this.moduleType,e,[])}}class EV extends Td{constructor(e){super(),this.componentFactoryResolver=new Kk(this),this.instance=null;const n=new mf([...e.providers,{provide:Td,useValue:this},{provide:Xw,useValue:this.componentFactoryResolver}],e.parent||Mw(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function jS(t,e,n=null){return new EV({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let LY=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=GN(0,n.type),i=r.length>0?jS([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=$e({token:t,providedIn:"environment",factory:()=>new t(k(Io))})}return t})();function CV(t){vd("NgStandalone"),t.getStandaloneInjector=e=>e.get(LY).getOrCreateStandaloneInjector(t)}function Ym(t,e,n){const r=es()+t,i=Ce();return i[r]===Wt?tu(i,r,n?e.call(n):e()):function xm(t,e){return t[e]}(i,r)}function HS(t,e,n,r){return MV(Ce(),es(),t,e,n,r)}function Xm(t,e){const n=t[e];return n===Wt?void 0:n}function MV(t,e,n,r,i,s){const o=e+n;return fi(t,o,i)?tu(t,o+1,s?r.call(s,i):r(i)):Xm(t,o+1)}function Sd(t,e){const n=rn();let r;const i=t+Lt;n.firstCreatePass?(r=function nX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Pl(r.type)),a=Fi(Ie);try{const u=af(!1),l=s();return af(u),function vY(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Ce(),i,l),l}finally{Fi(a)}}function Jm(t,e,n){const r=t+Lt,i=Ce(),s=Rl(i,r);return e_(i,r)?MV(i,es(),e,s.transform,n,s):s.transform(n)}function zS(t,e,n,r,i){const s=t+Lt,o=Ce(),a=Rl(o,s);return e_(o,s)?function xV(t,e,n,r,i,s,o,a){const u=e+n;return lE(t,u,i,s,o)?tu(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):Xm(t,u+3)}(o,es(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function e_(t,e){return t[ne].data[e].pure}function oX(){return this._results[Symbol.iterator]()}class WS{static#e=Symbol.iterator;get changes(){return this._changes??=new Yr}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=WS.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=oX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;const r=function Ye(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function et(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Zu=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=lX}return t})();const aX=Zu,uX=class extends aX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Um(t,e,n,r){const i=e.tView,a=nE(t,i,n,4096&t[ve]?4096:16,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null);a[Br]=t[e.index];const l=t[Wo];return null!==l&&(a[Wo]=l.createEmbeddedView(i)),oS(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Mm(i)}};function lX(){return ME(Un(),Ce())}function ME(t,e){return 4&t.type?new uX(e,t,bf(t,e)):null}class qS{constructor(e){this.queryList=e,this.matches=null}clone(){return new qS(this.queryList)}setDirty(){this.queryList.setDirty()}}class GS{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new GS(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==jV(e,n).matches&&this.queries[n].setDirty()}}class kV{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class KS{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new KS(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class ZS{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new ZS(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,cX(n,s)),this.matchTNodeWithReadOption(e,n,cf(n,e,s,!1,!1))}else r===Zu?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,cf(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===js||i===ea||i===Zu&&4&n.type)this.addMatch(n.index,-2);else{const s=cf(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function cX(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function hX(t,e,n,r){return-1===n?function dX(t,e){return 11&t.type?bf(t,e):4&t.type?ME(t,e):null}(e,t):-2===n?function fX(t,e,n){return n===js?bf(e,t):n===Zu?ME(e,t):n===ea?FF(e,t):void 0}(t,e,r):$u(t,t[ne],n,e)}function FV(t,e,n,r){const i=e[Wo].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const l=o[u];a.push(l<0?null:hX(e,s[l],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function QS(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=FV(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const l=s[a+1],h=e[-u];for(let p=jr;p<h.length;p++){const y=h[p];y[Br]===y[Be]&&QS(y[ne],y,l,r)}if(null!==h[Sl]){const p=h[Sl];for(let y=0;y<p.length;y++){const C=p[y];QS(C[ne],C,l,r)}}}}}return r}function YS(t){const e=Ce(),n=rn(),r=Qh();dd(r+1);const i=jV(n,r);if(t.dirty&&function Xv(t){return 4==(4&t[ve])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?QS(n,e,r,[]):FV(n,e,i,r);t.reset(s,M8),t.notifyOnChanges()}return!0}return!1}function XS(){return function pX(t,e){return t[Wo].queries[e].queryList}(Ce(),Qh())}function UV(t,e,n){const r=new WS(4==(4&n));(function i7(t,e,n,r){const i=Ok(e);i.push(n),t.firstCreatePass&&Nk(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Wo]&&(e[Wo]=new GS),e[Wo].queries.push(new qS(r))}function BV(t,e,n){null===t.queries&&(t.queries=new KS),t.queries.track(new ZS(e,n))}function jV(t,e){return t.queries.getByIndex(e)}function $V(t,e){return ME(t,e)}class Qf{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const LX=new Qf("17.0.8");let s2=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();class VX{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let o2=(()=>{class t{compileModuleSync(n){return new BS(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=bo(Kr(n).declarations).reduce((o,a)=>{const u=Bt(a);return u&&o.push(new Rm(u)),o},[]);return new VX(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),n_=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new A(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const d2=new Oe(""),OE=new Oe("");let oD,iD=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,oD||(function lJ(t){oD=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(k(fn),k(sD),k(OE))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})(),sD=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return oD?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const aD=new Oe("Application Initializer");let uD=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=_e(aD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Zm(s))n.push(s);else if($L(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const lD=new Oe("appBootstrapListener");function p2(t,e){return Array.isArray(e)?e.reduce(p2,t):{...t,...e}}let Dd=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_e(gk),this.componentTypes=[],this.components=[],this.isStable=_e(n_).hasPendingTasks.pipe(De(n=>!n)),this._injector=_e(Io)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof rk;if(!this._injector.get(uD).done)throw!i&&function so(t){const e=Bt(t)||nr(t)||Ur(t);return null!==e&&e.standalone}(n),new re(405,!1);let o;o=i?n:this._injector.get(Xw).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function dJ(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Td),l=o.create(lo.NULL,[],r||o.selector,a),h=l.location.nativeElement,p=l.injector.get(d2,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),NE(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;NE(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(lD,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>NE(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new re(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function NE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let fJ=(()=>{class t{constructor(){this.zone=_e(fn),this.applicationRef=_e(Dd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pJ(){const t=_e(fn),e=_e(Gu);return n=>t.runOutsideAngular(()=>e.handleError(n))}let mJ=(()=>{class t{constructor(){this.subscription=new dn,this.initialized=!1,this.zone=_e(fn),this.pendingTasks=_e(n_)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fn.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fn.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Qu=new Oe("LocaleId",{providedIn:"root",factory:()=>_e(Qu,Gt.Optional|Gt.SkipSelf)||function _J(){return typeof $localize<"u"&&$localize.locale||Gf}()}),yJ=new Oe("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),cD=new Oe("PlatformDestroyListeners");let y2=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function G7(t="zone.js",e){return"noop"===t?new W7:"zone.js"===t?new fn(e):t}(r?.ngZone,function _2(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function FY(t,e,n){return new US(t,e,n)}(n.moduleType,this.injector,function m2(t){return[{provide:fn,useFactory:t},{provide:md,multi:!0,useFactory:()=>{const e=_e(fJ,{optional:!0});return()=>e.initialize()}},{provide:md,multi:!0,useFactory:()=>{const e=_e(mJ);return()=>{e.initialize()}}},{provide:gk,useFactory:pJ}]}(()=>i)),o=s.injector.get(Gu,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{NE(this._modules,s),a.unsubscribe()})}),function f2(t,e,n){try{const r=n();return Zm(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(uD);return a.runInitializers(),a.donePromise.then(()=>(function yL(t){Ei(t,"Expected localeId to be defined"),"string"==typeof t&&(_L=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Qu,Gf)||Gf),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=p2({},r);return function cJ(t,e,n){const r=new BS(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Dd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new re(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(cD,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(k(lo))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Yl=null;const v2=new Oe("AllowMultipleToken");function w2(t,e,n=[]){const r=`Platform: ${e}`,i=new Oe(r);return(s=[])=>{let o=dD();if(!o||o.injector.get(v2,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function wJ(t){if(Yl&&!Yl.get(v2,!1))throw new re(400,!1);(function h2(){!function pr(t){xs=t}(()=>{throw new re(600,!1)})})(),Yl=t;const e=t.get(y2);(function C2(t){t.get(s1,null)?.forEach(n=>n())})(t)}(function E2(t=[],e){return lo.create({name:e,providers:[{provide:rT,useValue:"platform"},{provide:cD,useValue:new Set([()=>Yl=null])},...t]})}(a,r))}return function EJ(t){const e=dD();if(!e)throw new re(401,!1);return e}()}}function dD(){return Yl?.get(y2)??null}const DJ=w2(null,"core",[]);let AJ=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(k(Dd))};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=tr({})}return t})();function Xf(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let wD=null;function Xl(){return wD}class nee{}const qs=new Oe("DocumentToken");let ED=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:()=>_e(iee),providedIn:"platform"})}return t})();const ree=new Oe("Location Initialized");let iee=(()=>{class t extends ED{constructor(){super(),this._doc=_e(qs),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xl().getBaseHref(this._doc)}onPopState(n){const r=Xl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Xl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function CD(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function q2(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Yu(t){return t&&"?"!==t[0]?"?"+t:t}let Pd=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:()=>_e(K2),providedIn:"root"})}return t})();const G2=new Oe("appBaseHref");let K2=(()=>{class t extends Pd{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_e(qs).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return CD(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Yu(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Yu(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Yu(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(k(ED),k(G2,8))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),see=(()=>{class t extends Pd{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=CD(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Yu(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Yu(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(k(ED),k(G2,8))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})(),o_=(()=>{class t{constructor(n){this._subject=new Yr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function uee(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(q2(Z2(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Yu(r))}normalize(n){return t.stripTrailingSlash(function aee(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Z2(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yu(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yu(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Yu;static#t=this.joinWithSlash=CD;static#n=this.stripTrailingSlash=q2;static#r=this.\u0275fac=function(r){return new(r||t)(k(Pd))};static#i=this.\u0275prov=$e({token:t,factory:()=>function oee(){return new o_(k(Pd))}(),providedIn:"root"})}return t})();function Z2(t){return t.replace(/\/index.html$/,"")}const Q2={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var HE=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(HE||{}),si=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(si||{});function na(t,e){const n=$s(t),r=n[ur.NumberSymbols][e];if(typeof r>"u"){if(e===si.CurrencyDecimal)return n[ur.NumberSymbols][si.Decimal];if(e===si.CurrencyGroup)return n[ur.NumberSymbols][si.Group]}return r}const kee=/^(\d+)?\.((\d+)(-(\d+))?)?$/,tU=22,XE=".",u_="0",Fee=";",Lee=",",DD="#";function Uee(t,e,n,r,i){const o=function PD(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(Fee),i=r[0],s=r[1],o=-1!==i.indexOf(XE)?i.split(XE):[i.substring(0,i.lastIndexOf(u_)+1),i.substring(i.lastIndexOf(u_)+1)],a=o[0],u=o[1]||"";n.posPre=a.substring(0,a.indexOf(DD));for(let h=0;h<u.length;h++){const p=u.charAt(h);p===u_?n.minFrac=n.maxFrac=h+1:p===DD?n.maxFrac=h+1:n.posSuf+=p}const l=a.split(Lee);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const h=i.length-n.posPre.length-n.posSuf.length,p=s.indexOf(DD);n.negPre=s.substring(0,p).replace(/'/g,""),n.negSuf=s.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function ID(t,e){return $s(t)[ur.NumberFormats][e]}(e,HE.Currency),na(e,si.MinusSign));return o.minFrac=function Eee(t){let e;const n=Q2[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,function AD(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let l=function Hee(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf(XE))>-1&&(e=e.replace(XE,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===u_;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===u_;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>tU&&(r=r.splice(0,tU-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function $ee(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let h=e.minInt,p=e.minFrac,y=e.maxFrac;if(s){const W=s.match(kee);if(null===W)throw new Error(`${s} is not a valid digit info`);const J=W[1],me=W[3],Ne=W[5];null!=J&&(h=MD(J)),null!=me&&(p=MD(me)),null!=Ne?y=MD(Ne):null!=me&&p>y&&(y=p)}!function zee(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let p=o;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let p=1;p<o;p++)r[p]=0}if(a>=5)if(o-1<0){for(let p=0;p>o;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const l=e+t.integerLen,h=r.reduceRight(function(p,y,C,S){return S[C]=(y+=p)<10?y:y-10,u&&(0===S[C]&&C>=l?S.pop():u=!1),y>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}(l,p,y);let C=l.digits,S=l.integerLen;const M=l.exponent;let N=[];for(u=C.every(W=>!W);S<h;S++)C.unshift(0);for(;S<0;S++)C.unshift(0);S>0?N=C.splice(S,C.length):(N=C,C=[0]);const Z=[];for(C.length>=e.lgSize&&Z.unshift(C.splice(-e.lgSize,C.length).join(""));C.length>e.gSize;)Z.unshift(C.splice(-e.gSize,C.length).join(""));C.length&&Z.unshift(C.join("")),a=Z.join(na(n,r)),N.length&&(a+=na(n,i)+N.join("")),M&&(a+=na(n,si.Exponential)+"+"+M)}else a=na(n,si.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,si.CurrencyGroup,si.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function MD(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function iU(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class Kee{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let l_=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Kee(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),aU(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{aU(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(ea),Ie(Zu),Ie(eE))};static#t=this.\u0275dir=_t({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function aU(t,e){t.context.$implicit=e.item}let Md=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Zee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){uU("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){uU("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(ea),Ie(Zu))};static#t=this.\u0275dir=_t({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class Zee{constructor(){this.$implicit=null,this.ngIf=null}}function uU(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Mt(e)}'.`)}function Pa(t,e){return new re(2100,!1)}class Jee{createSubscription(e,n){return sk(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){sk(()=>e.unsubscribe())}}class ete{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const tte=new ete,nte=new Jee;let cU=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Zm(n))return tte;if($L(n))return nte;throw Pa()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(Sf,16))};static#t=this.\u0275pipe=hi({name:"async",type:t,pure:!1,standalone:!0})}return t})(),kD=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!function FD(t){return!(null==t||""===t||t!=t)}(n))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function vee(t,e,n="en"){const r=function gee(t){return $s(t)[ur.Currencies]}(n)[t]||Q2[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}(a,"symbol"===i?"wide":"narrow",o):i);try{return Uee(function LD(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(n),o,a,r,s)}catch(u){throw Pa()}}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(Qu,16),Ie(yJ,16))};static#t=this.\u0275pipe=hi({name:"currency",type:t,pure:!0,standalone:!0})}return t})();let VD=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=tr({})}return t})();function JE(t){return"server"===t}let Cte=(()=>{class t{static#e=this.\u0275prov=$e({token:t,providedIn:"root",factory:()=>new Ite(k(qs),window)})}return t})();class Ite{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function bte(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class fU{}class Gte extends nee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jD extends Gte{static makeCurrent(){!function tee(t){wD||(wD=t)}(new jD)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Kte(){return d_=d_||document.querySelector("base"),d_?d_.getAttribute("href"):null}();return null==n?null:function Zte(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){d_=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return iU(document.cookie,e)}}let d_=null,Yte=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})();const $D=new Oe("EventManagerPlugins");let _U=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new re(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(k($D),k(fn))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})();class yU{constructor(e){this._doc=e}}const HD="ng-app-id";let vU=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=JE(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${HD}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(HD),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(HD,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(k(qs),k(xw),k(a1,8),k(Yo))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})();const zD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},WD=/%COMP%/g,tne=new Oe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function EU(t,e){return e.map(n=>n.replace(WD,t))}let qD=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=JE(a),this.defaultRenderer=new GD(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Nt.ShadowDom&&(r={...r,encapsulation:Nt.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof IU?i.applyToHost(n):i instanceof KD&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Nt.Emulated:s=new IU(u,l,r,this.appId,h,o,a,p);break;case Nt.ShadowDom:return new sne(u,l,n,r,o,a,this.nonce,p);default:s=new KD(u,l,r,h,o,a,p)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(k(_U),k(vU),k(xw),k(tne),k(qs),k(Yo),k(fn),k(a1))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})();class GD{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(zD[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(CU(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(CU(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new re(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=zD[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=zD[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Gl.DashCase|Gl.Important)?e.style.setProperty(n,r,i&Gl.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Gl.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Xl().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function CU(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class sne extends GD{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=EU(i.id,i.styles);for(const h of l){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class KD extends GD{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?EU(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class IU extends KD{constructor(e,n,r,i,s,o,a,u){const l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=function nne(t){return"_ngcontent-%COMP%".replace(WD,t)}(l),this.hostAttr=function rne(t){return"_nghost-%COMP%".replace(WD,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let one=(()=>{class t extends yU{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(k(qs))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})();const bU=["alt","control","meta","shift"],ane={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},une={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let lne=(()=>{class t extends yU{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xl().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),bU.forEach(l=>{const h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=ane[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),bU.forEach(o=>{o!==i&&(0,une[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(k(qs))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})();const SU=[{provide:Yo,useValue:"browser"},{provide:s1,useValue:function cne(){jD.makeCurrent()},multi:!0},{provide:qs,useFactory:function hne(){return function s6(t){lT=t}(document),document},deps:[]}],fne=w2(DJ,"browser",SU),pne=new Oe(""),DU=[{provide:OE,useClass:class Qte{addToWindow(e){An.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new re(5103,!1);return s},An.getAllAngularTestabilities=()=>e.getAllTestabilities(),An.getAllAngularRootElements=()=>e.getAllRootElements(),An.frameworkStabilizers||(An.frameworkStabilizers=[]),An.frameworkStabilizers.push(r=>{const i=An.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Xl().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:d2,useClass:iD,deps:[fn,sD,OE]},{provide:iD,useClass:iD,deps:[fn,sD,OE]}],AU=[{provide:rT,useValue:"root"},{provide:Gu,useFactory:function dne(){return new Gu},deps:[]},{provide:$D,useClass:one,multi:!0,deps:[qs,fn,Yo]},{provide:$D,useClass:lne,multi:!0,deps:[qs]},qD,vU,_U,{provide:jT,useExisting:qD},{provide:fU,useClass:Yte,deps:[]},[]];let PU=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:xw,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(k(pne,12))};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=tr({providers:[...AU,...DU],imports:[VD,AJ]})}return t})(),MU=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(k(qs))};static#t=this.\u0275prov=$e({token:t,factory:function(r){let i=null;return i=r?new r:function mne(){return new MU(k(qs))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;var we=ft(861);function QD(t){return t[t.length-1]}function YD(t){return wt(QD(t))?t.pop():void 0}function h_(t){return function Ene(t){return t&&wt(t.schedule)}(QD(t))?t.pop():void 0}var ep=ft(582);const NU=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function kU(t){return wt(t?.then)}function FU(t){return wt(t[ci])}function LU(t){return Symbol.asyncIterator&&wt(t?.[Symbol.asyncIterator])}function VU(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const UU=function Ine(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function BU(t){return wt(t?.[UU])}function jU(t){return(0,ep.FC)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,ep.qq)(n.read());if(i)return yield(0,ep.qq)(void 0);yield yield(0,ep.qq)(r)}}finally{n.releaseLock()}})}function $U(t){return wt(t?.getReader)}function fo(t){if(t instanceof tn)return t;if(null!=t){if(FU(t))return function bne(t){return new tn(e=>{const n=t[ci]();if(wt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(NU(t))return function Tne(t){return new tn(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(kU(t))return function Sne(t){return new tn(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Os)})}(t);if(LU(t))return HU(t);if(BU(t))return function Dne(t){return new tn(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if($U(t))return function Ane(t){return HU(jU(t))}(t)}throw VU(t)}function HU(t){return new tn(e=>{(function Pne(t,e){var n,r,i,s;return(0,ep.mG)(this,void 0,void 0,function*(){try{for(n=(0,ep.KL)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function el(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function tl(t,e=0){return ae((n,r)=>{n.subscribe(Le(r,i=>el(r,t,()=>r.next(i),e),()=>el(r,t,()=>r.complete(),e),i=>el(r,t,()=>r.error(i),e)))})}function Rd(t,e=0){return ae((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function zU(t,e){if(!t)throw new Error("Iterable cannot be null");return new tn(n=>{el(n,e,()=>{const r=t[Symbol.asyncIterator]();el(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Bn(t,e){return e?function kne(t,e){if(null!=t){if(FU(t))return function Mne(t,e){return fo(t).pipe(Rd(e),tl(e))}(t,e);if(NU(t))return function xne(t,e){return new tn(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(kU(t))return function Rne(t,e){return fo(t).pipe(Rd(e),tl(e))}(t,e);if(LU(t))return zU(t,e);if(BU(t))return function One(t,e){return new tn(n=>{let r;return el(n,e,()=>{r=t[UU](),el(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>wt(r?.return)&&r.return()})}(t,e);if($U(t))return function Nne(t,e){return zU(jU(t),e)}(t,e)}throw VU(t)}(t,e):fo(t)}function mt(...t){return Bn(t,h_(t))}function Es(t,e,n=1/0){return wt(e)?Es((r,i)=>De((s,o)=>e(r,s,i,o))(fo(t(r,i))),n):("number"==typeof e&&(n=e),ae((r,i)=>function Fne(t,e,n,r,i,s,o,a){const u=[];let l=0,h=0,p=!1;const y=()=>{p&&!u.length&&!l&&e.complete()},C=M=>l<r?S(M):u.push(M),S=M=>{s&&e.next(M),l++;let N=!1;fo(n(M,h++)).subscribe(Le(e,Z=>{i?.(Z),s?C(Z):e.next(Z)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){const Z=u.shift();o?el(e,o,()=>S(Z)):S(Z)}y()}catch(Z){e.error(Z)}}))};return t.subscribe(Le(e,C,()=>{p=!0,y()})),()=>{a?.()}}(r,i,t,n)))}function tp(t,e){return wt(e)?Es(t,e,1):Es(t,1)}function ia(t,e){return ae((n,r)=>{let i=0;n.subscribe(Le(r,s=>t.call(e,s,i++)&&r.next(s)))})}function f_(t){return ae((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function xr(t,e){return ae((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Le(r,u=>{i?.unsubscribe();let l=0;const h=s++;fo(t(u,h)).subscribe(i=Le(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}class nC{}class rC{}class sa{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof sa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new sa;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof sa?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class Lne{encodeKey(e){return WU(e)}encodeValue(e){return WU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Une=/%(\d[a-f0-9])/gi,Bne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function WU(t){return encodeURIComponent(t).replace(Une,(e,n)=>Bne[n]??e)}function iC(t){return`${t}`}class ec{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Lne,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Vne(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(iC):[iC(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new ec({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(iC(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(iC(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class jne{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function qU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function GU(t){return typeof Blob<"u"&&t instanceof Blob}function KU(t){return typeof FormData<"u"&&t instanceof FormData}class p_{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function $ne(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new sa),this.context||(this.context=new jne),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new ec,this.urlWithParams=n}serializeBody(){return null===this.body?null:qU(this.body)||GU(this.body)||KU(this.body)||function Hne(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ec?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||KU(this.body)?null:GU(this.body)?this.body.type||null:qU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ec?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,l=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((p,y)=>p.set(y,e.setHeaders[y]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((p,y)=>p.set(y,e.setParams[y]),l)),new p_(n,r,s,{params:l,headers:u,context:h,reportProgress:a,responseType:i,withCredentials:o})}}var tc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(tc||{});class XD{constructor(e,n=200,r="OK"){this.headers=e.headers||new sa,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class sC extends XD{constructor(e={}){super(e),this.type=tc.ResponseHeader}clone(e={}){return new sC({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class xd extends XD{constructor(e={}){super(e),this.type=tc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new xd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class np extends XD{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function JD(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let ZU=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof p_)s=n;else{let u,l;u=i.headers instanceof sa?i.headers:new sa(i.headers),i.params&&(l=i.params instanceof ec?i.params:new ec({fromObject:i.params})),s=new p_(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const o=mt(s).pipe(tp(u=>this.handler.handle(u)));if(n instanceof p_||"events"===i.observe)return o;const a=o.pipe(ia(u=>u instanceof xd));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(De(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(De(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(De(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(De(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new ec).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,JD(i,r))}post(n,r,i={}){return this.request("POST",n,JD(i,r))}put(n,r,i={}){return this.request("PUT",n,JD(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(k(nC))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})();function YU(t,e){return e(t)}function Kne(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const Qne=new Oe(""),g_=new Oe(""),XU=new Oe(""),JU=new Oe("");function Yne(){let t=null;return(e,n)=>{null===t&&(t=(_e(Qne,{optional:!0})??[]).reduceRight(Kne,YU));const r=_e(n_),i=r.add();return t(e,n).pipe(f_(()=>r.remove(i)))}}let eB=(()=>{class t extends nC{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=_e(n_);const i=_e(JU,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(g_),...this.injector.get(XU,[])]));this.chain=i.reduceRight((s,o)=>function Zne(t,e,n){return(r,i)=>$l(n,()=>e(r,s=>t(s,i)))}(s,o,this.injector),YU)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(f_(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(k(rC),k(Io))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})();const nre=/^\)\]\}',?\n/;let nB=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new re(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Bn(r.\u0275loadImpl()):mt(null)).pipe(xr(()=>new tn(s=>{const o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((M,N)=>o.setRequestHeader(M,N.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const M=n.detectContentTypeHeader();null!==M&&o.setRequestHeader("Content-Type",M)}if(n.responseType){const M=n.responseType.toLowerCase();o.responseType="json"!==M?M:"text"}const a=n.serializeBody();let u=null;const l=()=>{if(null!==u)return u;const M=o.statusText||"OK",N=new sa(o.getAllResponseHeaders()),Z=function rre(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return u=new sC({headers:N,status:o.status,statusText:M,url:Z}),u},h=()=>{let{headers:M,status:N,statusText:Z,url:W}=l(),J=null;204!==N&&(J=typeof o.response>"u"?o.responseText:o.response),0===N&&(N=J?200:0);let me=N>=200&&N<300;if("json"===n.responseType&&"string"==typeof J){const Ne=J;J=J.replace(nre,"");try{J=""!==J?JSON.parse(J):null}catch(Ge){J=Ne,me&&(me=!1,J={error:Ge,text:J})}}me?(s.next(new xd({body:J,headers:M,status:N,statusText:Z,url:W||void 0})),s.complete()):s.error(new np({error:J,headers:M,status:N,statusText:Z,url:W||void 0}))},p=M=>{const{url:N}=l(),Z=new np({error:M,status:o.status||0,statusText:o.statusText||"Unknown Error",url:N||void 0});s.error(Z)};let y=!1;const C=M=>{y||(s.next(l()),y=!0);let N={type:tc.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(N.total=M.total),"text"===n.responseType&&o.responseText&&(N.partialText=o.responseText),s.next(N)},S=M=>{let N={type:tc.UploadProgress,loaded:M.loaded};M.lengthComputable&&(N.total=M.total),s.next(N)};return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",C),null!==a&&o.upload&&o.upload.addEventListener("progress",S)),o.send(a),s.next({type:tc.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",p),n.reportProgress&&(o.removeEventListener("progress",C),null!==a&&o.upload&&o.upload.removeEventListener("progress",S)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(k(fU))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})();const nA=new Oe("XSRF_ENABLED"),rB=new Oe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),iB=new Oe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class sB{}let ore=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=iU(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(k(qs),k(Yo),k(rB))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})();function are(t,e){const n=t.url.toLowerCase();if(!_e(nA)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=_e(sB).getToken(),i=_e(iB);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var nc=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(nc||{});function ure(...t){const e=[ZU,nB,eB,{provide:nC,useExisting:eB},{provide:rC,useExisting:nB},{provide:g_,useValue:are,multi:!0},{provide:nA,useValue:!0},{provide:sB,useClass:ore}];for(const n of t)e.push(...n.\u0275providers);return function eT(t){return{\u0275providers:t}}(e)}const oB=new Oe("LEGACY_INTERCEPTOR_FN");function lre(){return function Od(t,e){return{\u0275kind:t,\u0275providers:e}}(nc.LegacyInterceptors,[{provide:oB,useFactory:Yne},{provide:g_,useExisting:oB,multi:!0}])}let cre=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=tr({providers:[ure(lre())]})}return t})();const nl="*";function fB(t){return{type:6,styles:t,offset:null}}class m_{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class pB{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function gB(t){return new re(3e3,!1)}function rc(t){switch(t.length){case 0:return new m_;case 1:return t[0];default:return new pB(t)}}function mB(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const l=u.get("offset"),h=l==o,p=h&&a||new Map;u.forEach((y,C)=>{let S=C,M=y;if("offset"!==C)switch(S=t.normalizePropertyName(S,i),M){case"!":M=n.get(C);break;case nl:M=r.get(C);break;default:M=t.normalizeStyleValue(C,S,M,i)}p.set(S,M)}),h||s.push(p),a=p,o=l}),i.length)throw function $re(t){return new re(3502,!1)}();return s}function iA(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&sA(n,"start",t)));break;case"done":t.onDone(()=>r(n&&sA(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&sA(n,"destroy",t)))}}function sA(t,e,n){const s=oA(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function oA(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ao(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function _B(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const eie=(()=>typeof document>"u"?null:document.documentElement)();function aA(t){const e=t.parentNode||t.host||null;return e===eie?null:e}let Nd=null,yB=!1;function vB(t,e){for(;e;){if(e===t)return!0;e=aA(e)}return!1}function wB(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let uA=(()=>{class t{validateStyleProperty(n){return function nie(t){Nd||(Nd=function rie(){return typeof document<"u"?document.body:null}()||{},yB=!!Nd.style&&"WebkitAppearance"in Nd.style);let e=!0;return Nd.style&&!function tie(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Nd.style,!e&&yB&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Nd.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return vB(n,r)}getParentElement(n){return aA(n)}query(n,r,i){return wB(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],u){return new m_(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})(),lA=(()=>{class t{static#e=this.NOOP=new uA}return t})();class cA{}const sie=1e3,dA="ng-enter",aC="ng-leave",uC="ng-trigger",lC=".ng-trigger",CB="ng-animating",hA=".ng-animating";function rl(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fA(parseFloat(e[1]),e[2])}function fA(t,e){return"s"===e?t*sie:t}function cC(t,e,n){return t.hasOwnProperty("duration")?t:function aie(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(gB()),{duration:0,delay:0,easing:""};i=fA(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=fA(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=t;if(!n){let a=!1,u=e.length;i<0&&(e.push(function wre(){return new re(3100,!1)}()),a=!0),s<0&&(e.push(function Ere(){return new re(3101,!1)}()),a=!0),a&&e.splice(u,0,gB())}return{duration:i,delay:s,easing:o}}(t,e,n)}function __(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function IB(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function ic(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function su(t,e,n){e.forEach((r,i)=>{const s=gA(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function kd(t,e){e.forEach((n,r)=>{const i=gA(r);t.style[i]=""})}function y_(t){return Array.isArray(t)?1==t.length?t[0]:function mre(t,e=null){return{type:2,steps:t,options:e}}(t):t}const pA=new RegExp("{{\\s*(.+?)\\s*}}","g");function TB(t){let e=[];if("string"==typeof t){let n;for(;n=pA.exec(t);)e.push(n[1]);pA.lastIndex=0}return e}function v_(t,e,n){const r=t.toString(),i=r.replace(pA,(s,o)=>{let a=e[o];return null==a&&(n.push(function Ire(t){return new re(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function dC(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const cie=/-+([a-z0-9])/g;function gA(t){return t.replace(cie,(...e)=>e[1].toUpperCase())}function Po(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function bre(t){return new re(3004,!1)}()}}function SB(t,e){return window.getComputedStyle(t)[e]}const fie=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class DB extends cA{normalizePropertyName(e,n){return gA(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(fie.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Tre(t,e){return new re(3005,!1)}())}return o+s}}const hC="*";function pie(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function gie(t,e,n){if(":"==t[0]){const u=function mie(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function Vre(t){return new re(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof u)return void e.push(u);t=u}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function Lre(t){return new re(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(AB(i,o));"<"==s[0]&&!(i==hC&&o==hC)&&e.push(AB(o,i))}(r,n,e)):n.push(t),n}const fC=new Set(["true","1"]),pC=new Set(["false","0"]);function AB(t,e){const n=fC.has(t)||pC.has(t),r=fC.has(e)||pC.has(e);return(i,s)=>{let o=t==hC||t==i,a=e==hC||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?fC.has(t):pC.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?fC.has(e):pC.has(e)),o&&a}}const _ie=new RegExp("s*:selfs*,?","g");function mA(t,e,n,r){return new yie(t).build(e,n,r)}class yie{constructor(e){this._driver=e}build(e,n,r){const i=new Eie(n);return this._resetContextStyleTimingState(i),Po(this,y_(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function Sre(){return new re(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(h=>{u.name=h,s.push(this.visitState(u,n))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push(function Dre(){return new re(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{TB(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(dC(s.values()),n.errors.push(function Are(t,e){return new re(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=Po(this,y_(e.animation),n);return{type:1,matchers:pie(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Fd(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>Po(this,r,n)),options:Fd(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=Po(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:Fd(e.options)}}visitAnimate(e,n){const r=function Iie(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return _A(cC(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=_A(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=cC(n,e);return _A(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:fB({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=fB(l)}n.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===nl?r.push(a):n.errors.push(new re(3002,!1)):r.push(IB(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const l=n.collectedStyles.get(n.currentQuerySelector),h=l.get(u);let p=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(n.errors.push(function Mre(t,e,n,r,i){return new re(3010,!1)}()),p=!1),s=h.startTime),p&&l.set(u,{startTime:s,endTime:i}),n.options&&function lie(t,e,n){const r=e.params||{},i=TB(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function Cre(t){return new re(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function Rre(){return new re(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,l=0;const h=e.steps.map(Z=>{const W=this._makeStyleAst(Z,n);let J=null!=W.offset?W.offset:function Cie(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(W.styles),me=0;return null!=J&&(s++,me=W.offset=J),u=u||me<0||me>1,a=a||me<l,l=me,o.push(me),W});u&&n.errors.push(function xre(){return new re(3012,!1)}()),a&&n.errors.push(function Ore(){return new re(3200,!1)}());const p=e.steps.length;let y=0;s>0&&s<p?n.errors.push(function Nre(){return new re(3202,!1)}()):0==s&&(y=1/(p-1));const C=p-1,S=n.currentTime,M=n.currentAnimateTimings,N=M.duration;return h.forEach((Z,W)=>{const J=y>0?W==C?1:y*W:o[W],me=J*N;n.currentTime=S+M.delay+me,M.duration=me,this._validateStyleAst(Z,n),Z.offset=J,r.styles.push(Z)}),r}visitReference(e,n){return{type:8,animation:Po(this,y_(e.animation),n),options:Fd(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:Fd(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:Fd(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function vie(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(_ie,"")),t=t.replace(/@\*/g,lC).replace(/@\w+/g,n=>lC+"-"+n.slice(1)).replace(/:animating/g,hA),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,Ao(n.collectedStyles,n.currentQuerySelector,new Map);const a=Po(this,y_(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Fd(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function kre(){return new re(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:cC(e.timings,n.errors,!0);return{type:12,animation:Po(this,y_(e.animation),n),timings:r,options:null}}}class Eie{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fd(t){return t?(t=__(t)).params&&(t.params=function wie(t){return t?__(t):null}(t.params)):t={},t}function _A(t,e,n){return{duration:t,delay:e,easing:n}}function yA(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class gC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Sie=new RegExp(":enter","g"),Aie=new RegExp(":leave","g");function vA(t,e,n,r,i,s=new Map,o=new Map,a,u,l=[]){return(new Pie).buildKeyframes(t,e,n,r,i,s,o,a,u,l)}class Pie{buildKeyframes(e,n,r,i,s,o,a,u,l,h=[]){l=l||new gC;const p=new wA(e,n,l,i,s,h,[]);p.options=u;const y=u.delay?rl(u.delay):0;p.currentTimeline.delayNextStep(y),p.currentTimeline.setStyles([o],null,p.errors,u),Po(this,r,p);const C=p.timelines.filter(S=>S.containsAnimation());if(C.length&&a.size){let S;for(let M=C.length-1;M>=0;M--){const N=C[M];if(N.element===n){S=N;break}}S&&!S.allowOnlyTimelineStyles()&&S.setStyles([a],null,p.errors,u)}return C.length?C.map(S=>S.buildKeyframes()):[yA(n,[],[],[],0,y,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:rl(v_(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?rl(r.duration):null,a=null!=r.delay?rl(r.delay):null;return 0!==o&&e.forEach(u=>{const l=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Po(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=mC);const o=rl(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Po(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?rl(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),Po(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return cC(n.params?v_(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?rl(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=mC);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((l,h)=>{n.currentQueryIndex=h;const p=n.createSubContext(e.options,l);s&&p.delayNextStep(s),l===n.element&&(u=p.currentTimeline),Po(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,p.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const h=n.currentTimeline;u&&h.delayNextStep(u);const p=h.currentTime;Po(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}}const mC={};class wA{constructor(e,n,r,i,s,o,a,u){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new _C(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=rl(r.duration)),null!=r.delay&&(i.delay=rl(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=v_(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new wA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=mC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Mie(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Sie,"."+this._enterClassName)).replace(Aie,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function Fre(t){return new re(3014,!1)}()),a}}class _C{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new _C(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||nl),this._currentKeyframe.set(n,nl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function Rie(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,nl)}else ic(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,u]of o){const l=v_(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??nl),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=ic(a,new Map,this._backFill);l.forEach((h,p)=>{"!"===h?e.add(p):h===nl&&n.add(p)}),r||l.set("offset",u/this.duration),i.push(l)});const s=e.size?dC(e.values()):[],o=n.size?dC(n.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return yA(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Mie extends _C{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,u=ic(e[0]);u.set("offset",0),s.push(u);const l=ic(e[0]);l.set("offset",RB(a)),s.push(l);const h=e.length-1;for(let p=1;p<=h;p++){let y=ic(e[p]);const C=y.get("offset");y.set("offset",RB((n+C*r)/o)),s.push(y)}r=o,n=0,i="",e=s}return yA(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function RB(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}function xB(t,e,n,r,i,s,o,a,u,l,h,p,y){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:h,totalTime:p,errors:y}}const EA={};class OB{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function xie(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,u,l,h){const p=[],y=this.ast.options&&this.ast.options.params||EA,S=this.buildStyles(r,a&&a.params||EA,p),M=u&&u.params||EA,N=this.buildStyles(i,M,p),Z=new Set,W=new Map,J=new Map,me="void"===i,Ne={params:Oie(M,y),delay:this.ast.options?.delay},Ge=h?[]:vA(e,n,this.ast.animation,s,o,S,N,Ne,l,p);let xt=0;if(Ge.forEach(ls=>{xt=Math.max(ls.duration+ls.delay,xt)}),p.length)return xB(n,this._triggerName,r,i,me,S,N,[],[],W,J,xt,p);Ge.forEach(ls=>{const ha=ls.element,I9=Ao(W,ha,new Set);ls.preStyleProps.forEach(Ah=>I9.add(Ah));const kv=Ao(J,ha,new Set);ls.postStyleProps.forEach(Ah=>kv.add(Ah)),ha!==n&&Z.add(ha)});const Ln=dC(Z.values());return xB(n,this._triggerName,r,i,me,S,N,Ge,Ln,W,J,xt)}}function Oie(t,e){const n=__(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class Nie{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=__(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=v_(o,i,n));const u=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,u,o,n),r.set(a,o)})}),r}}class Fie{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new Nie(i.style,i.options&&i.options.params||{},r))}),NB(this.states,"true","1"),NB(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new OB(e,i,this.states))}),this.fallbackTransition=function Lie(t,e,n){return new OB(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function NB(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const Vie=new gC;class Uie{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=mA(this._driver,n,r,[]);if(r.length)throw function Hre(t){return new re(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=mB(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=vA(this._driver,n,s,dA,aC,new Map,new Map,r,Vie,i),o.forEach(h=>{const p=Ao(a,h.element,new Map);h.postStyleProps.forEach(y=>p.set(y,null))})):(i.push(function zre(){return new re(3300,!1)}()),o=[]),i.length)throw function Wre(t){return new re(3504,!1)}();a.forEach((h,p)=>{h.forEach((y,C)=>{h.set(C,this._driver.computeStyle(p,C,nl))})});const l=rc(o.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function qre(t){return new re(3301,!1)}();return n}listen(e,n,r,i){const s=oA(n,"","","");return iA(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const kB="ng-animate-queued",CA="ng-animate-disabled",zie=[],FB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Wie={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ma="__ng_removed";class IA{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function Zie(t){return t??null}(r?e.value:e),r){const s=__(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const w_="void",bA=new IA(w_);class qie{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,oa(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function Gre(t,e){return new re(3302,!1)}();if(null==r||0==r.length)throw function Kre(t){return new re(3303,!1)}();if(!function Qie(t){return"start"==t||"done"==t}(r))throw function Zre(t,e){return new re(3400,!1)}();const s=Ao(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=Ao(this._engine.statesByElement,e,new Map);return a.has(n)||(oa(e,uC),oa(e,uC+"-"+n),a.set(n,bA)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function Qre(t){return new re(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new TA(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(oa(e,uC),oa(e,uC+"-"+n),this._engine.statesByElement.set(e,a=new Map));let u=a.get(n);const l=new IA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(n,l),u||(u=bA),l.value!==w_&&u.value===l.value){if(!function Jie(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(u.params,l.params)){const M=[],N=s.matchStyles(u.value,u.params,M),Z=s.matchStyles(l.value,l.params,M);M.length?this._engine.reportError(M):this._engine.afterFlush(()=>{kd(e,N),su(e,Z)})}return}const y=Ao(this._engine.playersByElement,e,[]);y.forEach(M=>{M.namespaceId==this.id&&M.triggerName==n&&M.queued&&M.destroy()});let C=s.matchTransition(u.value,l.value,e,l.params),S=!1;if(!C){if(!i)return;C=s.fallbackTransition,S=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:C,fromState:u,toState:l,player:o,isFallbackTransition:S}),S||(oa(e,kB),o.onStart(()=>{rp(e,kB)})),o.onDone(()=>{let M=this.players.indexOf(o);M>=0&&this.players.splice(M,1);const N=this._engine.playersByElement.get(e);if(N){let Z=N.indexOf(o);Z>=0&&N.splice(Z,1)}}),this.players.push(o),y.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,lC,!0);r.forEach(i=>{if(i[Ma])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){const h=this.trigger(e,l,w_,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&rc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,l=r.get(o)||bA,h=new IA(w_),p=new TA(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[Ma];(!s||s===FB)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){oa(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=oA(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,iA(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Gie{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new qie(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const u=i.get(a);if(u){const l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(yC(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!yC(n))return;const s=n[Ma];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),oa(e,CA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),rp(e,CA))}removeNode(e,n,r){if(yC(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[Ma]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return yC(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,lC,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,hA,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return rc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[Ma];if(n&&n.setForRemoval){if(e[Ma]=FB,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(CA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)oa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?rc(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Yre(t){return new re(3402,!1)}()}_flushAnimations(e,n){const r=new gC,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(at=>{h.add(at);const bt=this.driver.query(at,".ng-animate-queued",!0);for(let Ot=0;Ot<bt.length;Ot++)h.add(bt[Ot])});const p=this.bodyNode,y=Array.from(this.statesByElement.keys()),C=UB(y,this.collectedEnterElements),S=new Map;let M=0;C.forEach((at,bt)=>{const Ot=dA+M++;S.set(bt,Ot),at.forEach(Pn=>oa(Pn,Ot))});const N=[],Z=new Set,W=new Set;for(let at=0;at<this.collectedLeaveElements.length;at++){const bt=this.collectedLeaveElements[at],Ot=bt[Ma];Ot&&Ot.setForRemoval&&(N.push(bt),Z.add(bt),Ot.hasAnimation?this.driver.query(bt,".ng-star-inserted",!0).forEach(Pn=>Z.add(Pn)):W.add(bt))}const J=new Map,me=UB(y,Array.from(Z));me.forEach((at,bt)=>{const Ot=aC+M++;J.set(bt,Ot),at.forEach(Pn=>oa(Pn,Ot))}),e.push(()=>{C.forEach((at,bt)=>{const Ot=S.get(bt);at.forEach(Pn=>rp(Pn,Ot))}),me.forEach((at,bt)=>{const Ot=J.get(bt);at.forEach(Pn=>rp(Pn,Ot))}),N.forEach(at=>{this.processLeaveNode(at)})});const Ne=[],Ge=[];for(let at=this._namespaceList.length-1;at>=0;at--)this._namespaceList[at].drainQueuedTransitions(n).forEach(Ot=>{const Pn=Ot.player,Gi=Ot.element;if(Ne.push(Pn),this.collectedEnterElements.length){const Rs=Gi[Ma];if(Rs&&Rs.setForMove){if(Rs.previousTriggersValues&&Rs.previousTriggersValues.has(Ot.triggerName)){const Ph=Rs.previousTriggersValues.get(Ot.triggerName),fa=this.statesByElement.get(Ot.element);if(fa&&fa.has(Ot.triggerName)){const _b=fa.get(Ot.triggerName);_b.value=Ph,fa.set(Ot.triggerName,_b)}}return void Pn.destroy()}}const Au=!p||!this.driver.containsElement(p,Gi),Vo=J.get(Gi),Wc=S.get(Gi),Wr=this._buildInstruction(Ot,r,Wc,Vo,Au);if(Wr.errors&&Wr.errors.length)return void Ge.push(Wr);if(Au)return Pn.onStart(()=>kd(Gi,Wr.fromStyles)),Pn.onDestroy(()=>su(Gi,Wr.toStyles)),void i.push(Pn);if(Ot.isFallbackTransition)return Pn.onStart(()=>kd(Gi,Wr.fromStyles)),Pn.onDestroy(()=>su(Gi,Wr.toStyles)),void i.push(Pn);const S9=[];Wr.timelines.forEach(Rs=>{Rs.stretchStartingKeyframe=!0,this.disabledNodes.has(Rs.element)||S9.push(Rs)}),Wr.timelines=S9,r.append(Gi,Wr.timelines),o.push({instruction:Wr,player:Pn,element:Gi}),Wr.queriedElements.forEach(Rs=>Ao(a,Rs,[]).push(Pn)),Wr.preStyleProps.forEach((Rs,Ph)=>{if(Rs.size){let fa=u.get(Ph);fa||u.set(Ph,fa=new Set),Rs.forEach((_b,SN)=>fa.add(SN))}}),Wr.postStyleProps.forEach((Rs,Ph)=>{let fa=l.get(Ph);fa||l.set(Ph,fa=new Set),Rs.forEach((_b,SN)=>fa.add(SN))})});if(Ge.length){const at=[];Ge.forEach(bt=>{at.push(function Xre(t,e){return new re(3505,!1)}())}),Ne.forEach(bt=>bt.destroy()),this.reportError(at)}const xt=new Map,Ln=new Map;o.forEach(at=>{const bt=at.element;r.has(bt)&&(Ln.set(bt,bt),this._beforeAnimationBuild(at.player.namespaceId,at.instruction,xt))}),i.forEach(at=>{const bt=at.element;this._getPreviousPlayers(bt,!1,at.namespaceId,at.triggerName,null).forEach(Pn=>{Ao(xt,bt,[]).push(Pn),Pn.destroy()})});const ls=N.filter(at=>jB(at,u,l)),ha=new Map;VB(ha,this.driver,W,l,nl).forEach(at=>{jB(at,u,l)&&ls.push(at)});const kv=new Map;C.forEach((at,bt)=>{VB(kv,this.driver,new Set(at),u,"!")}),ls.forEach(at=>{const bt=ha.get(at),Ot=kv.get(at);ha.set(at,new Map([...bt?.entries()??[],...Ot?.entries()??[]]))});const Ah=[],b9=[],T9={};o.forEach(at=>{const{element:bt,player:Ot,instruction:Pn}=at;if(r.has(bt)){if(h.has(bt))return Ot.onDestroy(()=>su(bt,Pn.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(Pn.totalTime),void i.push(Ot);let Gi=T9;if(Ln.size>1){let Vo=bt;const Wc=[];for(;Vo=Vo.parentNode;){const Wr=Ln.get(Vo);if(Wr){Gi=Wr;break}Wc.push(Vo)}Wc.forEach(Wr=>Ln.set(Wr,Gi))}const Au=this._buildAnimation(Ot.namespaceId,Pn,xt,s,kv,ha);if(Ot.setRealPlayer(Au),Gi===T9)Ah.push(Ot);else{const Vo=this.playersByElement.get(Gi);Vo&&Vo.length&&(Ot.parentPlayer=rc(Vo)),i.push(Ot)}}else kd(bt,Pn.fromStyles),Ot.onDestroy(()=>su(bt,Pn.toStyles)),b9.push(Ot),h.has(bt)&&i.push(Ot)}),b9.forEach(at=>{const bt=s.get(at.element);if(bt&&bt.length){const Ot=rc(bt);at.setRealPlayer(Ot)}}),i.forEach(at=>{at.parentPlayer?at.syncPlayerEvents(at.parentPlayer):at.destroy()});for(let at=0;at<N.length;at++){const bt=N[at],Ot=bt[Ma];if(rp(bt,aC),Ot&&Ot.hasAnimation)continue;let Pn=[];if(a.size){let Au=a.get(bt);Au&&Au.length&&Pn.push(...Au);let Vo=this.driver.query(bt,hA,!0);for(let Wc=0;Wc<Vo.length;Wc++){let Wr=a.get(Vo[Wc]);Wr&&Wr.length&&Pn.push(...Wr)}}const Gi=Pn.filter(Au=>!Au.destroyed);Gi.length?Yie(this,bt,Gi):this.processLeaveNode(bt)}return N.length=0,Ah.forEach(at=>{this.players.push(at),at.onDone(()=>{at.destroy();const bt=this.players.indexOf(at);this.players.splice(bt,1)}),at.play()}),Ah}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==w_;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const u of n.timelines){const l=u.element,h=l!==s,p=Ao(r,l,[]);this._getPreviousPlayers(l,h,o,a,n.toState).forEach(C=>{const S=C.getRealPlayer();S.beforeDestroy&&S.beforeDestroy(),C.destroy(),p.push(C)})}kd(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,u=n.element,l=[],h=new Set,p=new Set,y=n.timelines.map(S=>{const M=S.element;h.add(M);const N=M[Ma];if(N&&N.removedBeforeQueried)return new m_(S.duration,S.delay);const Z=M!==u,W=function Xie(t){const e=[];return BB(t,e),e}((r.get(M)||zie).map(xt=>xt.getRealPlayer())).filter(xt=>!!xt.element&&xt.element===M),J=s.get(M),me=o.get(M),Ne=mB(this._normalizer,S.keyframes,J,me),Ge=this._buildPlayer(S,Ne,W);if(S.subTimeline&&i&&p.add(M),Z){const xt=new TA(e,a,M);xt.setRealPlayer(Ge),l.push(xt)}return Ge});l.forEach(S=>{Ao(this.playersByQueriedElement,S.element,[]).push(S),S.onDone(()=>function Kie(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,S.element,S))}),h.forEach(S=>oa(S,CB));const C=rc(y);return C.onDestroy(()=>{h.forEach(S=>rp(S,CB)),su(u,n.toStyles)}),p.forEach(S=>{Ao(i,S,[]).push(C)}),C}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new m_(e.duration,e.delay)}}class TA{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new m_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>iA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Ao(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function yC(t){return t&&1===t.nodeType}function LB(t,e){const n=t.style.display;return t.style.display=e??"none",n}function VB(t,e,n,r,i){const s=[];n.forEach(u=>s.push(LB(u)));const o=[];r.forEach((u,l)=>{const h=new Map;u.forEach(p=>{const y=e.computeStyle(l,p,i);h.set(p,y),(!y||0==y.length)&&(l[Ma]=Wie,o.push(l))}),t.set(l,h)});let a=0;return n.forEach(u=>LB(u,s[a++])),o}function UB(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=n.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&n.get(u).push(a)}),n}function oa(t,e){t.classList?.add(e)}function rp(t,e){t.classList?.remove(e)}function Yie(t,e,n){rc(n).onDone(()=>t.processLeaveNode(e))}function BB(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof pB?BB(r.players,e):e.push(r)}}function jB(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class E_{constructor(e,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Gie(e.body,n,r),this._timelineEngine=new Uie(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],h=mA(this._driver,s,u,[]);if(u.length)throw function jre(t,e){return new re(3404,!1)}();a=function kie(t,e,n){return new Fie(t,e,n)}(i,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=_B(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=_B(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let tse=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&su(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(su(this._element,this._initialStyles),this._endStyles&&(su(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(kd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kd(this._element,this._endStyles),this._endStyles=null),su(this._element,this._initialStyles),this._state=3)}}return t})();function SA(t){let e=null;return t.forEach((n,r)=>{(function nse(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class $B{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:SB(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class HB{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return vB(e,n)}getParentElement(e){return aA(e)}query(e,n,r){return wB(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const l=new Map,h=o.filter(C=>C instanceof $B);(function die(t,e){return 0===t||0===e})(r,i)&&h.forEach(C=>{C.currentSnapshot.forEach((S,M)=>l.set(M,S))});let p=function uie(t){return t.length?t[0]instanceof Map?t:t.map(e=>IB(e)):[]}(n).map(C=>ic(C));p=function hie(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,SB(t,a)))}}return e}(e,p,l);const y=function ese(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=SA(e[0]),e.length>1&&(r=SA(e[e.length-1]))):e instanceof Map&&(n=SA(e)),n||r?new tse(t,n,r):null}(e,p);return new $B(e,p,u,y)}}const zB="@.disabled";class WB{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==zB?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class rse extends WB{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==zB?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function ise(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function sse(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}class ose{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{const o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){const i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){const l=this._rendererCache;let h=l.get(i);return h||(h=new WB("",i,this.engine,()=>l.delete(i)),l.set(i,h)),h}const s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(s,o,e,l.name,l)};return n.data.animation.forEach(a),new rse(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>n(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let ase=(()=>{class t extends E_{constructor(n,r,i,s){super(n,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(k(qs),k(lA),k(cA),k(Dd))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})();const qB=[{provide:cA,useFactory:function use(){return new DB}},{provide:E_,useClass:ase},{provide:jT,useFactory:function lse(t,e,n){return new ose(t,e,n)},deps:[qD,E_,fn]}],DA=[{provide:lA,useFactory:()=>new HB},{provide:o1,useValue:"BrowserAnimations"},...qB],GB=[{provide:lA,useClass:uA},{provide:o1,useValue:"NoopAnimations"},...qB];let cse=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?GB:DA}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=tr({providers:DA,imports:[PU]})}return t})();const{isArray:hse}=Array,{getPrototypeOf:fse,prototype:pse,keys:gse}=Object;function KB(t){if(1===t.length){const e=t[0];if(hse(e))return{args:e,keys:null};if(function mse(t){return t&&"object"==typeof t&&fse(t)===pse}(e)){const n=gse(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:_se}=Array;function ZB(t){return De(e=>function yse(t,e){return _se(e)?t(...e):t(e)}(t,e))}function QB(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function AA(...t){const e=h_(t),n=YD(t),{args:r,keys:i}=KB(t);if(0===r.length)return Bn([],e);const s=new tn(function vse(t,e,n=Gr){return r=>{YB(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)YB(e,()=>{const l=Bn(t[u],e);let h=!1;l.subscribe(Le(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>QB(i,o):Gr));return n?s.pipe(ZB(n)):s}function YB(t,e,n){t?el(n,t,e):e()}const wC=In(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ip(t=1/0){return Es(Gr,t)}function PA(...t){return function wse(){return ip(1)}()(Bn(t,h_(t)))}function XB(t){return new tn(e=>{fo(t()).subscribe(e)})}function EC(t,e){const n=wt(t)?t:()=>t,r=i=>i.error(n());return new tn(e?i=>e.schedule(r,0,i):r)}const ou=new tn(t=>t.complete());function MA(){return ae((t,e)=>{let n=null;t._refCount++;const r=Le(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class JB extends tn{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ee(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new dn;const n=this.getSubject();e.add(this.source.subscribe(Le(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=dn.EMPTY)}return e}refCount(){return MA()(this)}}function sc(t){return t<=0?()=>ou:ae((e,n)=>{let r=0;e.subscribe(Le(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function CC(...t){const e=h_(t);return ae((n,r)=>{(e?PA(t,n,e):PA(t,n)).subscribe(r)})}function IC(t){return ae((e,n)=>{let r=!1;e.subscribe(Le(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ej(t=Cse){return ae((e,n)=>{let r=!1;e.subscribe(Le(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Cse(){return new wC}function oc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ia((i,s)=>t(i,s,r)):Gr,sc(1),n?IC(e):ej(()=>new wC))}function mi(t,e,n){const r=wt(t)||e||n?{next:t,error:e,complete:n}:t;return r?ae((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Le(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Gr}function sp(t){return ae((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Le(n,void 0,void 0,o=>{s=fo(t(o,sp(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function op(t,e){return ae(function Ise(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(Le(o,h=>{const p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}function RA(t){return t<=0?()=>ou:ae((e,n)=>{let r=[];e.subscribe(Le(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function tj(t){return ae((e,n)=>{fo(t).subscribe(Le(n,()=>n.complete(),Jn)),!n.closed&&e.subscribe(n)})}const en="primary",C_=Symbol("RouteTitle");class Sse{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ap(t){return new Sse(t)}function Dse(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function au(t,e){const n=t?xA(t):void 0,r=e?xA(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!nj(t[i],e[i]))return!1;return!0}function xA(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function nj(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function rj(t){return t.length>0?t[t.length-1]:null}function ac(t){return function dse(t){return!!t&&(t instanceof tn||wt(t.lift)&&wt(t.subscribe))}(t)?t:Zm(t)?Bn(Promise.resolve(t)):mt(t)}const Pse={exact:function oj(t,e,n){if(!Ld(t.segments,e.segments)||!bC(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!oj(t.children[r],e.children[r],n))return!1;return!0},subset:aj},ij={exact:function Mse(t,e){return au(t,e)},subset:function Rse(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>nj(t[n],e[n]))},ignored:()=>!0};function sj(t,e,n){return Pse[n.paths](t.root,e.root,n.matrixParams)&&ij[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function aj(t,e,n){return uj(t,e,e.segments,n)}function uj(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ld(i,n)||e.hasChildren()||!bC(i,n,r))}if(t.segments.length===n.length){if(!Ld(t.segments,n)||!bC(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!aj(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ld(t.segments,i)&&bC(t.segments,i,r)&&t.children[en])&&uj(t.children[en],e,s,r)}}function bC(t,e,n){return e.every((r,i)=>ij[n](t[i].parameters,r.parameters))}class up{constructor(e=new Qn([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ap(this.queryParams)),this._queryParamMap}toString(){return Nse.serialize(this)}}class Qn{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return TC(this)}}class I_{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ap(this.parameters)),this._parameterMap}toString(){return dj(this)}}function Ld(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let lp=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:()=>new OA,providedIn:"root"})}return t})();class OA{parse(e){const n=new Wse(e);return new up(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${b_(e.root,!0)}`,r=function Lse(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${SC(n)}=${SC(i)}`).join("&"):`${SC(n)}=${SC(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function kse(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Nse=new OA;function TC(t){return t.segments.map(e=>dj(e)).join("/")}function b_(t,e){if(!t.hasChildren())return TC(t);if(e){const n=t.children[en]?b_(t.children[en],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==en&&r.push(`${i}:${b_(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Ose(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===en&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==en&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===en?[b_(t.children[en],!1)]:[`${i}:${b_(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[en]?`${TC(t)}/${n[0]}`:`${TC(t)}/(${n.join("//")})`}}function lj(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function SC(t){return lj(t).replace(/%3B/gi,";")}function NA(t){return lj(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function DC(t){return decodeURIComponent(t)}function cj(t){return DC(t.replace(/\+/g,"%20"))}function dj(t){return`${NA(t.path)}${function Fse(t){return Object.keys(t).map(e=>`;${NA(e)}=${NA(t[e])}`).join("")}(t.parameters)}`}const Vse=/^[^\/()?;#]+/;function kA(t){const e=t.match(Vse);return e?e[0]:""}const Use=/^[^\/()?;=#]+/,jse=/^[^=?&#]+/,Hse=/^[^&#]+/;class Wse{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qn([],{}):new Qn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[en]=new Qn(e,n)),r}parseSegment(){const e=kA(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(e),new I_(DC(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Bse(t){const e=t.match(Use);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=kA(this.remaining);i&&(r=i,this.capture(r))}e[DC(n)]=DC(r)}parseQueryParam(e){const n=function $se(t){const e=t.match(jse);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function zse(t){const e=t.match(Hse);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=cj(n),s=cj(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=kA(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new re(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=en);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[en]:new Qn([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new re(4011,!1)}}function hj(t){return t.segments.length>0?new Qn([],{[en]:t}):t}function fj(t){const e={};for(const r of Object.keys(t.children)){const s=fj(t.children[r]);if(r===en&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function qse(t){if(1===t.numberOfChildren&&t.children[en]){const e=t.children[en];return new Qn(t.segments.concat(e.segments),e.children)}return t}(new Qn(t.segments,e))}function Vd(t){return t instanceof up}function pj(t){let e;const i=hj(function n(s){const o={};for(const u of s.children){const l=n(u);o[u.outlet]=l}const a=new Qn(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function gj(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return FA(i,i,i,n,r);const s=function Kse(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new _j(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new _j(n,e,r)}(e);if(s.toRoot())return FA(i,i,new Qn([],{}),n,r);const o=function Zse(t,e,n){if(t.isAbsolute)return new PC(e,!0,0);if(!n)return new PC(e,!1,NaN);if(null===n.parent)return new PC(n,!0,0);const r=AC(t.commands[0])?0:1;return function Qse(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new re(4005,!1);i=r.segments.length}return new PC(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?S_(o.segmentGroup,o.index,s.commands):yj(o.segmentGroup,o.index,s.commands);return FA(i,o.segmentGroup,a,n,r)}function AC(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function T_(t){return"object"==typeof t&&null!=t&&t.outlets}function FA(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),o=t===e?n:mj(t,e,n);const a=hj(fj(o));return new up(a,s,i)}function mj(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:mj(s,e,n)}),new Qn(t.segments,r)}class _j{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&AC(r[0]))throw new re(4003,!1);const i=r.find(T_);if(i&&i!==rj(r))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class PC{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function yj(t,e,n){if(t||(t=new Qn([],{})),0===t.segments.length&&t.hasChildren())return S_(t,e,n);const r=function Xse(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(T_(a))break;const u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!wj(u,l,o))return s;r+=2}else{if(!wj(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Qn(t.segments.slice(0,r.pathIndex),{});return s.children[en]=new Qn(t.segments.slice(r.pathIndex),t.children),S_(s,0,i)}return r.match&&0===i.length?new Qn(t.segments,{}):r.match&&!t.hasChildren()?LA(t,e,n):r.match?S_(t,0,i):LA(t,e,n)}function S_(t,e,n){if(0===n.length)return new Qn(t.segments,{});{const r=function Yse(t){return T_(t[0])?t[0].outlets:{[en]:t}}(n),i={};if(Object.keys(r).some(s=>s!==en)&&t.children[en]&&1===t.numberOfChildren&&0===t.children[en].segments.length){const s=S_(t.children[en],e,n);return new Qn(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=yj(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Qn(t.segments,i)}}function LA(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(T_(s)){const u=Jse(s.outlets);return new Qn(r,u)}if(0===i&&AC(n[0])){r.push(new I_(t.segments[e].path,vj(n[0]))),i++;continue}const o=T_(s)?s.outlets[en]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&AC(a)?(r.push(new I_(o,vj(a))),i+=2):(r.push(new I_(o,{})),i++)}return new Qn(r,{})}function Jse(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=LA(new Qn([],{}),0,r))}),e}function vj(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function wj(t,e,n){return t==n.path&&au(e,n.parameters)}const D_="imperative";class uu{constructor(e,n){this.id=e,this.url=n}}class MC extends uu{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class il extends uu{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cp extends uu{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dp extends uu{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class RC extends uu{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ej extends uu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eoe extends uu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class toe extends uu{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class noe extends uu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class roe extends uu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ioe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class soe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ooe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aoe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uoe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class loe{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cj{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class VA{}class UA{constructor(e){this.url=e}}class coe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new A_,this.attachRef=null}}let A_=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new coe,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Ij{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=BA(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=BA(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=jA(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jA(e,this._root).map(n=>n.value)}}function BA(t,e){if(t===e.value)return e;for(const n of e.children){const r=BA(t,n);if(r)return r}return null}function jA(t,e){if(t===e.value)return[e];for(const n of e.children){const r=jA(t,n);if(r.length)return r.unshift(e),r}return[]}class Ra{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function hp(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class bj extends Ij{constructor(e,n){super(e),this.snapshot=n,zA(this,e)}toString(){return this.snapshot.toString()}}function Tj(t,e){const n=function doe(t,e){const o=new HA([],{},{},"",{},en,e,null,{});return new Sj("",new Ra(o,[]))}(0,e),r=new A([new I_("",{})]),i=new A({}),s=new A({}),o=new A({}),a=new A(""),u=new xa(r,i,o,a,s,en,e,n.root);return u.snapshot=n.root,new bj(new Ra(u,[]),n)}class xa{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(De(l=>l[C_]))??mt(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(De(e=>ap(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(De(e=>ap(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $A(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===e||"always"!==n&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}},i&&Aj(i)&&(r.resolve[C_]=i.title),r}class HA{get title(){return this.data?.[C_]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ap(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ap(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sj extends Ij{constructor(e,n){super(n),this.url=e,zA(this,n)}toString(){return Dj(this._root)}}function zA(t,e){e.value._routerState=t,e.children.forEach(n=>zA(t,n))}function Dj(t){const e=t.children.length>0?` { ${t.children.map(Dj).join(", ")} } `:"";return`${t.value}${e}`}function WA(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,au(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),au(e.params,n.params)||t.paramsSubject.next(n.params),function Ase(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!au(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),au(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qA(t,e){const n=au(t.params,e.params)&&function xse(t,e){return Ld(t,e)&&t.every((n,r)=>au(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||qA(t.parent,e.parent))}function Aj(t){return"string"==typeof t.title||null===t.title}let GA=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=en,this.activateEvents=new Yr,this.deactivateEvents=new Yr,this.attachEvents=new Yr,this.detachEvents=new Yr,this.parentContexts=_e(A_),this.location=_e(ea),this.changeDetector=_e(Sf),this.environmentInjector=_e(Io),this.inputBinder=_e(xC,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new hoe(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=_t({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[oo]})}return t})();class hoe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===xa?this.route:e===A_?this.childContexts:this.parent.get(e,n)}}const xC=new Oe("");let Pj=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=AA([r.queryParams,r.params,r.data]).pipe(xr(([s,o,a],u)=>(a={...s,...o,...a},0===u?mt(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function eee(t){const e=Bt(t);if(!e)return null;const n=new Rm(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})();function P_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function poe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return P_(t,r,i);return P_(t,r)})}(t,e,n);return new Ra(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>P_(t,a)),o}}const r=function goe(t){return new xa(new A(t.url),new A(t.params),new A(t.queryParams),new A(t.fragment),new A(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>P_(t,s));return new Ra(r,i)}}const KA="ngNavigationCancelingError";function Mj(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Vd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Rj(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Rj(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[KA]=!0,r.cancellationCode=e,n&&(r.url=n),r}function xj(t){return t&&t[KA]}let Oj=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Vn({type:t,selectors:[["ng-component"]],standalone:!0,features:[CV],decls:1,vars:0,template:function(r,i){1&r&&Ve(0,"router-outlet")},dependencies:[GA],encapsulation:2})}return t})();function ZA(t){const e=t.children&&t.children.map(ZA),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==en&&(n.component=Oj),n}function lu(t){return t.outlet||en}function M_(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Ioe{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),WA(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=hp(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=hp(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=hp(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=hp(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new loe(s.value.snapshot))}),e.children.length&&this.forwardEvent(new aoe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(WA(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),WA(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=M_(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class Nj{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class OC{constructor(e,n){this.component=e,this.route=n}}function boe(t,e,n){const r=t._root;return R_(r,e?e._root:null,n,[r.value])}function fp(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Kc(t){return null!==xu(t)}(t)?e.get(t):t:r}function R_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=hp(e);return t.children.forEach(o=>{(function Soe(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function Doe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ld(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ld(t.url,e.url)||!au(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qA(t,e)||!au(t.queryParams,e.queryParams);default:return!qA(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Nj(r)):(s.data=o.data,s._resolvedData=o._resolvedData),R_(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new OC(a.outlet.component,o))}else o&&x_(e,a,i),i.canActivateChecks.push(new Nj(r)),R_(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>x_(a,n.getContext(o),i)),i}function x_(t,e,n){const r=hp(t),i=t.value;Object.entries(r).forEach(([s,o])=>{x_(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new OC(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function O_(t){return"function"==typeof t}function kj(t){return t instanceof wC||"EmptyError"===t?.name}const NC=Symbol("INITIAL_VALUE");function pp(){return xr(t=>AA(t.map(e=>e.pipe(sc(1),CC(NC)))).pipe(De(e=>{for(const n of e)if(!0!==n){if(n===NC)return NC;if(!1===n||n instanceof up)return n}return!0}),ia(e=>e!==NC),sc(1)))}function Fj(t){return Dr(mi(e=>{if(Vd(e))throw Mj(0,e)}),De(e=>!0===e))}class QA{constructor(e){this.segmentGroup=e||null}}class YA extends Error{constructor(e){super(),this.urlTree=e}}function gp(t){return EC(new QA(t))}class Goe{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return mt(r);if(i.numberOfChildren>1||!i.children[en])return EC(new re(4e3,!1));i=i.children[en]}}applyRedirectCommands(e,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new YA(i);return i}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new up(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Qn(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new re(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const XA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Koe(t,e,n,r,i){const s=JA(t,e,n);return s.matched?(r=function _oe(t,e){return t.providers&&!t._injector&&(t._injector=jS(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function zoe(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?mt(i.map(o=>{const a=fp(o,t);return ac(function Ooe(t){return t&&O_(t.canMatch)}(a)?a.canMatch(e,n):$l(t,()=>a(e,n)))})).pipe(pp(),Fj()):mt(!0)}(r,e,n).pipe(De(o=>!0===o?s:{...XA}))):mt(s)}function JA(t,e,n){if("**"===e.path)return function Zoe(t){return{matched:!0,parameters:t.length>0?rj(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...XA}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Dse)(n,t,e);if(!i)return{...XA};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Lj(t,e,n,r){return n.length>0&&function Xoe(t,e,n){return n.some(r=>kC(t,e,r)&&lu(r)!==en)}(t,n,r)?{segmentGroup:new Qn(e,Yoe(r,new Qn(n,t.children))),slicedSegments:[]}:0===n.length&&function Joe(t,e,n){return n.some(r=>kC(t,e,r))}(t,n,r)?{segmentGroup:new Qn(t.segments,Qoe(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Qn(t.segments,t.children),slicedSegments:n}}function Qoe(t,e,n,r,i){const s={};for(const o of r)if(kC(t,n,o)&&!i[lu(o)]){const a=new Qn([],{});s[lu(o)]=a}return{...i,...s}}function Yoe(t,e){const n={};n[en]=e;for(const r of t)if(""===r.path&&lu(r)!==en){const i=new Qn([],{});n[lu(r)]=i}return n}function kC(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class nae{}class sae{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Goe(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new re(4002,`'${e.segmentGroup}'`)}recognize(){const e=Lj(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(De(n=>{const r=new HA([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},en,this.rootComponentType,null,{}),i=new Ra(r,n),s=new Sj("",i),o=function Gse(t,e,n=null,r=null){return gj(pj(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,en).pipe(sp(r=>{if(r instanceof YA)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof QA?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,i=$A(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(De(s=>s instanceof Ra?[s]:[]))}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Bn(i).pipe(tp(s=>{const o=r.children[s],a=function Eoe(t,e){const n=t.filter(r=>lu(r)===e);return n.push(...t.filter(r=>lu(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),op((s,o)=>(s.push(...o),s)),IC(null),function bse(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ia((i,s)=>t(i,s,r)):Gr,RA(1),n?IC(e):ej(()=>new wC))}(),Es(s=>{if(null===s)return gp(r);const o=Vj(s);return function oae(t){t.sort((e,n)=>e.value.outlet===en?-1:n.value.outlet===en?1:e.value.outlet.localeCompare(n.value.outlet))}(o),mt(o)}))}processSegment(e,n,r,i,s,o){return Bn(n).pipe(tp(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(sp(u=>{if(u instanceof QA)return mt(null);throw u}))),oc(a=>!!a),sp(a=>{if(kj(a))return function tae(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?mt(new nae):gp(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function eae(t,e,n,r){return!!(lu(t)===r||r!==en&&kC(e,n,t))&&JA(e,t,n).matched}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):gp(i):gp(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=JA(n,i,s);if(!a)return gp(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Es(y=>this.processSegment(e,r,n,y.concat(h),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){const o=Koe(n,r,i,e);return"**"===r.path&&(n.children={}),o.pipe(xr(a=>a.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(xr(({routes:u})=>{const l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:y}=a,C=new HA(h,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function uae(t){return t.data||{}}(r),lu(r),r.component??r._loadedComponent??null,r,function lae(t){return t.resolve||{}}(r)),{segmentGroup:S,slicedSegments:M}=Lj(n,h,p,u);if(0===M.length&&S.hasChildren())return this.processChildren(l,u,S).pipe(De(Z=>null===Z?null:new Ra(C,Z)));if(0===u.length&&0===M.length)return mt(new Ra(C,[]));const N=lu(r)===s;return this.processSegment(l,u,S,M,N?en:s,!0).pipe(De(Z=>new Ra(C,Z instanceof Ra?[Z]:[])))})):gp(n)))}getChildConfig(e,n,r){return n.children?mt({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?mt({routes:n._loadedRoutes,injector:n._loadedInjector}):function Hoe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?mt(!0):mt(i.map(o=>{const a=fp(o,t);return ac(function Poe(t){return t&&O_(t.canLoad)}(a)?a.canLoad(e,n):$l(t,()=>a(e,n)))})).pipe(pp(),Fj())}(e,n,r).pipe(Es(i=>i?this.configLoader.loadChildren(e,n).pipe(mi(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function qoe(t){return EC(Rj(!1,3))}())):mt({routes:[],injector:e})}}function aae(t){const e=t.value.routeConfig;return e&&""===e.path}function Vj(t){const e=[],n=new Set;for(const r of t){if(!aae(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=Vj(r.children);e.push(new Ra(r.value,i))}return e.filter(r=>!n.has(r))}function Uj(t){const e=t.children.map(n=>Uj(n)).flat();return[t,...e]}function eP(t){return xr(e=>{const n=t(e);return n?Bn(n).pipe(De(()=>e)):mt(e)})}let Bj=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===en);return r}getResolvedTitleForRoute(n){return n.data[C_]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:()=>_e(gae),providedIn:"root"})}return t})(),gae=(()=>{class t extends Bj{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(k(MU))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const mp=new Oe("",{providedIn:"root",factory:()=>({})}),_p=new Oe("ROUTES");let tP=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_e(o2)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return mt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ac(n.loadComponent()).pipe(De(jj),mi(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),f_(()=>{this.componentLoaders.delete(n)})),i=new JB(r,()=>new P).pipe(MA());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return mt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function mae(t,e,n,r){return ac(t.loadChildren()).pipe(De(jj),Es(i=>i instanceof wV||Array.isArray(i)?mt(i):Bn(e.compileModuleAsync(i))),De(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(_p,[],{optional:!0,self:!0}).flat()),{routes:o.map(ZA),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(f_(()=>{this.childrenLoaders.delete(r)})),o=new JB(s,()=>new P).pipe(MA());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jj(t){return function _ae(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let nP=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:()=>_e(yae),providedIn:"root"})}return t})(),yae=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $j=new Oe(""),Hj=new Oe("");function vae(t,e,n){const r=t.get(Hj),i=t.get(qs);return t.get(fn).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s;const o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),function wae(t){return new Promise(e=>{Wk(e,{injector:t})})}(t))),{onViewTransitionCreated:u}=r;return u&&$l(t,()=>u({transition:a,from:e,to:n})),o})}let FC=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new P,this.transitionAbortSubject=new P,this.configLoader=_e(tP),this.environmentInjector=_e(Io),this.urlSerializer=_e(lp),this.rootContexts=_e(A_),this.location=_e(o_),this.inputBindingEnabled=null!==_e(xC,{optional:!0}),this.titleStrategy=_e(Bj),this.options=_e(mp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_e(nP),this.createViewTransition=_e($j,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>mt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new soe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new ioe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new A({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:D_,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ia(s=>0!==s.id),De(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),xr(s=>{this.currentTransition=s;let o=!1,a=!1;return mt(s).pipe(mi(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xr(u=>{const l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const p="";return this.events.next(new dp(u.id,this.urlSerializer.serialize(u.rawUrl),p,0)),u.resolve(null),ou}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return mt(u).pipe(xr(p=>{const y=this.transitions?.getValue();return this.events.next(new MC(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?ou:Promise.resolve(p)}),function cae(t,e,n,r,i,s){return Es(o=>function rae(t,e,n,r,i,s,o="emptyOnly"){return new sae(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(De(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),mi(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const y=new Ej(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:p,extractedUrl:y,source:C,restoredState:S,extras:M}=u,N=new MC(p,this.urlSerializer.serialize(y),C,S);this.events.next(N);const Z=Tj(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:Z,urlAfterRedirects:y,extras:{...M,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=y,mt(s)}{const p="";return this.events.next(new dp(u.id,this.urlSerializer.serialize(u.extractedUrl),p,1)),u.resolve(null),ou}}),mi(u=>{const l=new eoe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),De(u=>(this.currentTransition=s={...u,guards:boe(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function koe(t,e){return Es(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?mt({...n,guardsResult:!0}):function Foe(t,e,n,r){return Bn(t).pipe(Es(i=>function $oe(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?mt(s.map(a=>{const u=M_(e)??i,l=fp(a,u);return ac(function xoe(t){return t&&O_(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):$l(u,()=>l(t,e,n,r))).pipe(oc())})).pipe(pp()):mt(!0)}(i.component,i.route,n,e,r)),oc(i=>!0!==i,!0))}(o,r,i,t).pipe(Es(a=>a&&function Aoe(t){return"boolean"==typeof t}(a)?function Loe(t,e,n,r){return Bn(e).pipe(tp(i=>PA(function Uoe(t,e){return null!==t&&e&&e(new ooe(t)),mt(!0)}(i.route.parent,r),function Voe(t,e){return null!==t&&e&&e(new uoe(t)),mt(!0)}(i.route,r),function joe(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Toe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>XB(()=>mt(o.guards.map(u=>{const l=M_(o.node)??n,h=fp(u,l);return ac(function Roe(t){return t&&O_(t.canActivateChild)}(h)?h.canActivateChild(r,t):$l(l,()=>h(r,t))).pipe(oc())})).pipe(pp())));return mt(s).pipe(pp())}(t,i.path,n),function Boe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return mt(!0);const i=r.map(s=>XB(()=>{const o=M_(e)??n,a=fp(s,o);return ac(function Moe(t){return t&&O_(t.canActivate)}(a)?a.canActivate(e,t):$l(o,()=>a(e,t))).pipe(oc())}));return mt(i).pipe(pp())}(t,i.route,n))),oc(i=>!0!==i,!0))}(r,s,t,e):mt(a)),De(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),mi(u=>{if(s.guardsResult=u.guardsResult,Vd(u.guardsResult))throw Mj(0,u.guardsResult);const l=new toe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ia(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),eP(u=>{if(u.guards.canActivateChecks.length)return mt(u).pipe(mi(l=>{const h=new noe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),xr(l=>{let h=!1;return mt(l).pipe(function dae(t,e){return Es(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return mt(n);const s=new Set(i.map(u=>u.route)),o=new Set;for(const u of s)if(!o.has(u))for(const l of Uj(u))o.add(l);let a=0;return Bn(o).pipe(tp(u=>s.has(u)?function hae(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!Aj(i)&&(s[C_]=i.title),function fae(t,e,n,r){const i=xA(t);if(0===i.length)return mt({});const s={};return Bn(i).pipe(Es(o=>function pae(t,e,n,r){const i=M_(e)??r,s=fp(t,i);return ac(s.resolve?s.resolve(e,n):$l(i,()=>s(e,n)))}(t[o],e,n,r).pipe(oc(),mi(a=>{s[o]=a}))),RA(1),function Tse(t){return De(()=>t)}(s),sp(o=>kj(o)?ou:EC(o)))}(s,t,e,r).pipe(De(o=>(t._resolvedData=o,t.data=$A(t,t.parent,n).resolve,null)))}(u,r,t,e):(u.data=$A(u,u.parent,t).resolve,mt(void 0))),mi(()=>a++),RA(1),Es(u=>a===o.size?mt(n):ou))})}(this.paramsInheritanceStrategy,this.environmentInjector),mi({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",2)}}))}),mi(l=>{const h=new roe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),eP(u=>{const l=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(mi(y=>{h.component=y}),De(()=>{})));for(const y of h.children)p.push(...l(y));return p};return AA(l(u.targetSnapshot.root)).pipe(IC(null),sc(1))}),eP(()=>this.afterPreactivation()),xr(()=>{const{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Bn(h).pipe(De(()=>s)):mt(s)}),De(u=>{const l=function foe(t,e,n){const r=P_(t,e._root,n?n._root:void 0);return new bj(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:l},this.currentNavigation.targetRouterState=l,s}),mi(()=>{this.events.next(new VA)}),((t,e,n,r)=>De(i=>(new Ioe(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),sc(1),mi({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new il(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),tj(this.transitionAbortSubject.pipe(mi(u=>{throw u}))),f_(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),sp(u=>{if(a=!0,xj(u))this.events.next(new cp(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function moe(t){return xj(t)&&Vd(t.url)}(u)?this.events.next(new UA(u.url)):s.resolve(!1);else{this.events.next(new RC(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(l){s.reject(l)}}return ou}))}))}cancelNavigationTransition(n,r,i){const s=new cp(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Eae(t){return t!==D_}let Cae=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:()=>_e(bae),providedIn:"root"})}return t})();class Iae{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let bae=(()=>{class t extends Iae{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Qr(t)))(i||t)}})();static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zj=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:()=>_e(Tae),providedIn:"root"})}return t})(),Tae=(()=>{class t extends zj{constructor(){super(...arguments),this.location=_e(o_),this.urlSerializer=_e(lp),this.options=_e(mp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_e(nP),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new up,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Tj(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof MC)this.stateMemento=this.createStateMemento();else if(n instanceof dp)this.rawUrlTree=r.initialUrl;else if(n instanceof Ej){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof VA?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof cp&&(3===n.code||2===n.code)?this.restoreHistory(r):n instanceof RC?this.restoreHistory(r,!0):n instanceof il&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Qr(t)))(i||t)}})();static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var N_=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(N_||{});function Wj(t,e){t.events.pipe(ia(n=>n instanceof il||n instanceof cp||n instanceof RC||n instanceof dp),De(n=>n instanceof il||n instanceof dp?N_.COMPLETE:n instanceof cp&&(0===n.code||1===n.code)?N_.REDIRECTING:N_.FAILED),ia(n=>n!==N_.REDIRECTING),sc(1)).subscribe(()=>{e()})}function Sae(t){throw t}const Dae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Aae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ui=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=_e(s2),this.stateManager=_e(zj),this.options=_e(mp,{optional:!0})||{},this.pendingTasks=_e(n_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_e(FC),this.urlSerializer=_e(lp),this.location=_e(o_),this.urlHandlingStrategy=_e(nP),this._events=new P,this.errorHandler=this.options.errorHandler||Sae,this.navigated=!1,this.routeReuseStrategy=_e(Cae),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_e(_p,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_e(xC,{optional:!0}),this.eventsSubscription=new dn,this.isNgZoneEnabled=_e(fn)instanceof fn&&fn.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof cp&&0!==r.code&&1!==r.code)this.navigated=!0;else if(r instanceof il)this.navigated=!0;else if(r instanceof UA){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Eae(i.source)};this.scheduleNavigation(o,D_,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function Mae(t){return!(t instanceof VA||t instanceof UA)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),D_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ZA),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{p=pj(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),p=this.currentUrlTree.root}return gj(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Vd(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,D_,null,r)}navigate(n,r={skipLocationChange:!1}){return function Pae(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new re(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...Dae}:!1===r?{...Aae}:r,Vd(n))return sj(this.currentUrlTree,n,i);const s=this.parseUrl(n);return sj(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,y)=>{a=p,u=y});const h=this.pendingTasks.add();return Wj(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ud=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new P,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof il&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function J1(t,e,n){return function m8(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?X1:Cm}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(Ui),Ie(xa),function gd(t){return function Hb(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(ma(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Un(),t)}("tabindex"),Ie(Xo),Ie(js),Ie(Pd))};static#t=this.\u0275dir=_t({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Mr("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&nu("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Xf],skipLocationChange:["skipLocationChange","skipLocationChange",Xf],replaceUrl:["replaceUrl","replaceUrl",Xf],routerLink:"routerLink"},standalone:!0,features:[eF,oo]})}return t})(),rP=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,s,o){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Yr,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof il&&this.update()})}ngAfterContentInit(){mt(this.links.changes,mt(null)).pipe(ip()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Bn(n).pipe(ip()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function Rae(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(Ui),Ie(js),Ie(Xo),Ie(Sf),Ie(Ud,8))};static#t=this.\u0275dir=_t({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(1&r&&function VV(t,e,n,r){const i=rn();if(i.firstCreatePass){const s=Un();BV(i,new kV(e,n,r),s.index),function gX(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}UV(i,Ce(),n)}(s,Ud,5),2&r){let o;YS(o=XS())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[oo]})}return t})();class qj{}let xae=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ia(n=>n instanceof il),tp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=jS(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Bn(i).pipe(ip())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):mt(null);const s=i.pipe(Es(o=>null===o?mt(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Bn([s,this.loader.loadComponent(r)]).pipe(ip()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(k(Ui),k(o2),k(Io),k(qj),k(tP))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const iP=new Oe("");let Gj=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof MC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof il?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof dp&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Cj&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Cj(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function Ck(){throw new Error("invalid")}()};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac})}return t})();function cu(t,e){return{\u0275kind:t,\u0275providers:e}}function Zj(){const t=_e(lo);return e=>{const n=t.get(Dd);if(e!==n.components[0])return;const r=t.get(Ui),i=t.get(Qj);1===t.get(sP)&&r.initialNavigation(),t.get(Yj,null,Gt.Optional)?.setUpPreloading(),t.get(iP,null,Gt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Qj=new Oe("",{factory:()=>new P}),sP=new Oe("",{providedIn:"root",factory:()=>1}),Yj=new Oe("");function Fae(t){return cu(0,[{provide:Yj,useExisting:xae},{provide:qj,useExisting:t}])}function Vae(t){return cu(9,[{provide:$j,useValue:vae},{provide:Hj,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const Xj=new Oe("ROUTER_FORROOT_GUARD"),Uae=[o_,{provide:lp,useClass:OA},Ui,A_,{provide:xa,useFactory:function Kj(t){return t.routerState.root},deps:[Ui]},tP,[]];let oP=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Uae,[],{provide:_p,multi:!0,useValue:n},{provide:Xj,useFactory:Hae,deps:[[Ui,new ba,new Tw]]},{provide:mp,useValue:r||{}},r?.useHash?{provide:Pd,useClass:see}:{provide:Pd,useClass:K2},{provide:iP,useFactory:()=>{const t=_e(Cte),e=_e(fn),n=_e(mp),r=_e(FC),i=_e(lp);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Gj(i,r,t,e,n)}},r?.preloadingStrategy?Fae(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?zae(r):[],r?.bindToComponentInputs?cu(8,[Pj,{provide:xC,useExisting:Pj}]).\u0275providers:[],r?.enableViewTransitions?Vae().\u0275providers:[],[{provide:Jj,useFactory:Zj},{provide:lD,multi:!0,useExisting:Jj}]]}}static forChild(n){return{ngModule:t,providers:[{provide:_p,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(k(Xj,8))};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=tr({})}return t})();function Hae(t){return"guarded"}function zae(t){return["disabled"===t.initialNavigation?cu(3,[{provide:aD,multi:!0,useFactory:()=>{const e=_e(Ui);return()=>{e.setUpLocationChangeListener()}}},{provide:sP,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?cu(2,[{provide:sP,useValue:0},{provide:aD,multi:!0,deps:[lo],useFactory:e=>{const n=e.get(ree,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Ui),s=e.get(Qj);Wj(i,()=>{r(!0)}),e.get(FC).afterPreactivation=()=>(r(!0),s.closed?mt(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const Jj=new Oe(""),qae_firebaseConfig={apiKey:"AIzaSyCwVifARku6nPemSHNDWivjnivQKT2cc8g",authDomain:"e-shop-c52ad.firebaseapp.com",databaseURL:"https://e-shop-c52ad-default-rtdb.firebaseio.com",projectId:"e-shop-c52ad",storageBucket:"e-shop-c52ad.appspot.com",messagingSenderId:"444472786878",appId:"1:444472786878:web:470744a21521084819c3ef",measurementId:"G-VL5TBK5XY1"};var Cs=ft(534);(0,Cs.registerVersion)("firebase","10.6.0","app");class Zae extends dn{constructor(e,n){super()}schedule(e,n=0){return this}}const LC={setInterval(t,e,...n){const{delegate:r}=LC;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=LC;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class e$ extends Zae{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return LC.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&LC.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Xn(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const aP={now:()=>(aP.delegate||Date).now(),delegate:void 0};class k_{constructor(e,n=k_.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}k_.now=aP.now;class t$ extends k_{constructor(e,n=k_.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Xae=new class Yae extends t${}(class Qae extends e${constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),VC=new t$(e$),yp=new Qf("ANGULARFIRE2_VERSION");class UC{constructor(){return((t,e)=>{const n=e?[e]:(0,Cs.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(Jae)}}const Jae="app-check";function vp(){}class r${zone;delegate;constructor(e,n=Xae){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class eue{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vp,{},vp,vp)),n.pipe(mi({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let BC=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new r$(Zone.current)),this.insideAngular=n.run(()=>new r$(Zone.current,VC)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(k(fn))};static \u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wp(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Bd(t){return wp().ngZone.run(()=>t())}function i$(t){return t.pipe(tl(wp().outsideAngular))}function oi(t){return function nue(t){return function(n){return(n=n.lift(new eue(t.ngZone))).pipe(Rd(t.outsideAngular),tl(t.insideAngular))}}(wp())(t)}const rue=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Bd(()=>t.apply(void 0,r))},lP=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=Bd(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vp,{},vp,vp))),r[s]=rue(r[s],n));const i=function tue(t){return wp().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof tn){const s=wp();return i.pipe(Rd(s.outsideAngular),tl(s.insideAngular))}return Bd(()=>i)}return i instanceof tn?i.pipe(oi):i instanceof Promise?Bd(()=>new Promise((s,o)=>i.then(a=>Bd(()=>s(a)),a=>Bd(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Bd(()=>i)};var Mo=ft(106);Mo.Z.registerVersion("firebase","10.6.0","app-compat");const oue=["ngOnDestroy"];class s${constructor(e){return e}}const Ep=new Oe("angularfire2.app.options"),Cp=new Oe("angularfire2.app.name");function F_(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const o=Mo.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Mo.Z.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){const a=!!module.hot;lue("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new s$(o)}const lue=(t,...e)=>{},cue={provide:s$,useFactory:F_,deps:[Ep,fn,[new ba,Cp]]};let due=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Ep,useValue:n},{provide:Cp,useValue:r}]}}constructor(n){Mo.Z.registerVersion("angularfire",yp.full,"core"),Mo.Z.registerVersion("angularfire",yp.full,"app-compat"),Mo.Z.registerVersion("angular",LX.full,n.toString())}static \u0275fac=function(r){return new(r||t)(k(Yo))};static \u0275mod=Kn({type:t});static \u0275inj=tr({providers:[cue]})}return t})();function jC(t,e,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return function hue(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,o)||(o$("error",`${e} was already initialized on the ${n} Firebase App with different settings.${fue?" You may need to reload as Firebase is not HMR aware.":""}`),o$("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const fue=typeof module<"u"&&!!module.hot,o$=(t,...e)=>{};function cP(...t){const e=h_(t),n=function Cne(t,e){return"number"==typeof QD(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?fo(r[0]):ip(n)(Bn(r,e)):ou}globalThis.\u0275AngularfireInstanceCache||=[],ft(365);class pue extends P{constructor(e=1/0,n=1/0,r=aP){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function a$(t={}){const{connector:e=(()=>new P),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,l=0,h=!1,p=!1;const y=()=>{a?.unsubscribe(),a=void 0},C=()=>{y(),o=u=void 0,h=p=!1},S=()=>{const M=o;C(),M?.unsubscribe()};return ae((M,N)=>{l++,!p&&!h&&y();const Z=u=u??e();N.add(()=>{l--,0===l&&!p&&!h&&(a=dP(S,i))}),Z.subscribe(N),!o&&l>0&&(o=new _n({next:W=>Z.next(W),error:W=>{p=!0,y(),a=dP(C,n,W),Z.error(W)},complete:()=>{h=!0,y(),a=dP(C,r),Z.complete()}}),fo(M).subscribe(o))})(s)}}function dP(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new _n({next:()=>{r.unsubscribe(),t()}});return fo(e(...n)).subscribe(r)}function u$(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,a$({connector:()=>new pue(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function l$(t,e){return wt(e)?xr(()=>t,e):xr(()=>t)}const hP=new Oe("angularfire2.auth.use-emulator"),fP=new Oe("angularfire2.auth.settings"),pP=new Oe("angularfire2.auth.tenant-id"),gP=new Oe("angularfire2.auth.langugage-code"),mP=new Oe("angularfire2.auth.use-device-language"),_P=new Oe("angularfire.auth.persistence"),yP=(t,e,n,r,i,s,o,a)=>jC(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const u=e.runOutsideAngular(()=>t.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[l,h]of Object.entries(o))u.settings[l]=h;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]);let Ip=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,s,o,a,u,l,h,p,y,C){const S=new P,M=mt(void 0).pipe(tl(o.outsideAngular),xr(()=>s.runOutsideAngular(()=>Promise.resolve().then(ft.bind(ft,365)))),De(()=>F_(n,s,r)),De(N=>yP(N,s,a,l,h,p,u,y)),u$({bufferSize:1,refCount:!1}));if(JE(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=mt(null);else{M.pipe(oc()).subscribe();const N=M.pipe(xr(J=>J.getRedirectResult().then(me=>me,()=>null)),oi,u$({bufferSize:1,refCount:!1})),Z=M.pipe(xr(J=>new tn(me=>({unsubscribe:s.runOutsideAngular(()=>J.onAuthStateChanged(Ne=>me.next(Ne),Ne=>me.error(Ne),()=>me.complete()))})))),W=M.pipe(xr(J=>new tn(me=>({unsubscribe:s.runOutsideAngular(()=>J.onIdTokenChanged(Ne=>me.next(Ne),Ne=>me.error(Ne),()=>me.complete()))}))));this.authState=N.pipe(l$(Z),Rd(o.outsideAngular),tl(o.insideAngular)),this.user=N.pipe(l$(W),Rd(o.outsideAngular),tl(o.insideAngular)),this.idToken=this.user.pipe(xr(J=>J?Bn(J.getIdToken()):mt(null))),this.idTokenResult=this.user.pipe(xr(J=>J?Bn(J.getIdTokenResult()):mt(null))),this.credential=cP(N,S,this.authState.pipe(ia(J=>!J))).pipe(De(J=>J?.user?J:null),Rd(o.outsideAngular),tl(o.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{if(t[s])return r?.spy?.get&&r.spy.get(s,t[s]),t[s];if(oue.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const u=a?.[s];return"function"==typeof u?u.bind(a):u?.then?u.then(l=>n.run(()=>l)):n.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>o[u],apply:(a,u,l)=>o.then(h=>{const p=h?.(...l);return r?.spy?.apply&&r.spy.apply(s,l,p),p})})})}))(this,M,s,{spy:{apply:(N,Z,W)=>{(N.startsWith("signIn")||N.startsWith("createUser"))&&W.then(J=>S.next(J))}}})}static \u0275fac=function(r){return new(r||t)(k(Ep),k(Cp,8),k(Yo),k(fn),k(BC),k(hP,8),k(fP,8),k(pP,8),k(gP,8),k(mP,8),k(_P,8),k(UC,8))};static \u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),mue=(()=>{class t{constructor(){Mo.Z.registerVersion("angularfire",yp.full,"auth-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Kn({type:t});static \u0275inj=tr({providers:[Ip]})}return t})();var O=ft(58),Oa=ft(537);const c$="firebasestorage.googleapis.com",d$="storageBucket";class Hr extends O.ZR{constructor(e,n,r=0){super(vP(e),`Firebase Storage: ${n} (${vP(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Hr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Or=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Or||{});function vP(t){return"storage/"+t}function wP(){return new Hr(Or.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function h$(){return new Hr(Or.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f$(){return new Hr(Or.CANCELED,"User canceled the upload/download.")}function p$(){return new Hr(Or.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bp(t){return new Hr(Or.INVALID_ARGUMENT,t)}function g$(){return new Hr(Or.APP_DELETED,"The Firebase app was deleted.")}function m$(t){return new Hr(Or.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function L_(t,e){return new Hr(Or.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function V_(t){throw new Hr(Or.INTERNAL_ERROR,"Internal error: "+t)}class Is{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Is.makeFromUrl(e,n)}catch{return new Is(e,"")}if(""===r.path)return r;throw function Due(t){return new Hr(Or.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l(me){me.path_=decodeURIComponent(me.path)}const p=n.replace(/[.]/g,"\\."),J=[{regex:a,indices:{bucket:1,path:3},postModify:function s(me){"/"===me.path.charAt(me.path.length-1)&&(me.path_=me.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${p}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${n===c$?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let me=0;me<J.length;me++){const Ne=J[me],Ge=Ne.regex.exec(e);if(Ge){let Ln=Ge[Ne.indices.path];Ln||(Ln=""),r=new Is(Ge[Ne.indices.bucket],Ln),Ne.postModify(r);break}}if(null==r)throw function Sue(t){return new Hr(Or.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class xue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function $C(t){return"string"==typeof t||t instanceof String}function _$(t){return EP()&&t instanceof Blob}function EP(){return typeof Blob<"u"&&!(0,O.UG)()}function CP(t,e,n,r){if(r<e)throw bp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw bp(`Invalid value for '${t}'. Expected ${n} or less.`)}function sl(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function y$(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var Tp=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Tp||{});function v$(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}class Vue{constructor(e,n,r,i,s,o,a,u,l,h,p,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,S)=>{this.resolve_=C,this.reject_=S,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function kue(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=wP();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?g$():f$():h$())};this.canceled_?n(0,new HC(!1,null,!0)):this.backoffId_=function Oue(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let l=!1;function h(...N){l||(l=!0,e.apply(null,N))}function p(N){i=setTimeout(()=>{i=null,t(C,u())},N)}function y(){s&&clearTimeout(s)}function C(N,...Z){if(l)return void y();if(N)return y(),void h.call(null,N,...Z);if(u()||o)return y(),void h.call(null,N,...Z);let J;r<64&&(r*=2),1===a?(a=2,J=0):J=1e3*(r+Math.random()),p(J)}let S=!1;function M(N){S||(S=!0,y(),!l&&(null!==i?(N||(a=2),clearTimeout(i),p(0)):N||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,M(!0)},n),M}((r,i)=>{if(i)return void r(!1,new HC(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Tp.NO_ERROR,u=s.getStatus();if(!a||v$(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Tp.ABORT;return void r(!1,new HC(!1,null,h))}const l=-1!==this.successCodes_.indexOf(u);r(!0,new HC(l,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Nue(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class HC{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Wue(...t){const e=function zue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(EP())return new Blob(t);throw new Hr(Or.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ro={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class IP{constructor(e,n){this.data=e,this.contentType=n||null}}function bP(t,e){switch(t){case Ro.RAW:return new IP(w$(e));case Ro.BASE64:case Ro.BASE64URL:return new IP(E$(t,e));case Ro.DATA_URL:return new IP(function Zue(t){const e=new C$(t);return e.base64?E$(Ro.BASE64,e.rest):function Kue(t){let e;try{e=decodeURIComponent(t)}catch{throw L_(Ro.DATA_URL,"Malformed data URL.")}return w$(e)}(e.rest)}(e),function Que(t){return new C$(t).contentType}(e))}throw wP()}function w$(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function E$(t,e){switch(t){case Ro.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw L_(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ro.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw L_(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function Gue(t){if(typeof atob>"u")throw function Rue(t){return new Hr(Or.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:L_(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class C${constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw L_(Ro.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function Yue(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class du{constructor(e,n){let r=0,i="";_$(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(_$(this.data_)){const i=function que(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new du(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new du(r,!0)}}static getBlob(...e){if(EP()){const n=e.map(r=>r instanceof du?r.data_:r);return new du(Wue.apply(null,n))}{const n=e.map(o=>$C(o)?bP(Ro.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new du(i,!0)}}uploadData(){return this.data_}}function TP(t){let e;try{e=JSON.parse(t)}catch{return null}return function Lue(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function I$(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function ele(t,e){return e}class Ks{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||ele}}let zC=null;function U_(){if(zC)return zC;const t=[];t.push(new Ks("bucket")),t.push(new Ks("generation")),t.push(new Ks("metageneration")),t.push(new Ks("name","fullPath",!0));const n=new Ks("name");n.xform=function e(s,o){return function tle(t){return!$C(t)||t.length<2?t:I$(t)}(o)},t.push(n);const i=new Ks("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},t.push(i),t.push(new Ks("timeCreated")),t.push(new Ks("updated")),t.push(new Ks("md5Hash",null,!0)),t.push(new Ks("cacheControl",null,!0)),t.push(new Ks("contentDisposition",null,!0)),t.push(new Ks("contentEncoding",null,!0)),t.push(new Ks("contentLanguage",null,!0)),t.push(new Ks("contentType",null,!0)),t.push(new Ks("metadata","customMetadata",!0)),zC=t,zC}function b$(t,e,n){const r=TP(e);return null===r?null:function rle(t,e,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return function nle(t,e){Object.defineProperty(t,"ref",{get:function n(){const s=new Is(t.bucket,t.fullPath);return e._makeStorageReference(s)}})}(r,t),r}(t,r,n)}function SP(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}const T$="prefixes",S$="items";class hu{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function fu(t){if(!t)throw wP()}function WC(t,e){return function n(r,i){const s=b$(t,i,e);return fu(null!==s),s}}function Sp(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function bue(){return new Hr(Or.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Iue(){return new Hr(Or.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function Cue(t){return new Hr(Or.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function Tue(t){return new Hr(Or.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function B_(t){const e=Sp(t);return function n(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function Eue(t){return new Hr(Or.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),s.serverResponse=i.serverResponse,s}}function D$(t,e,n){const i=sl(e.fullServerUrl(),t.host,t._protocol),o=t.maxOperationRetryTime,a=new hu(i,"GET",WC(t,n),o);return a.errorHandler=B_(e),a}function lle(t,e,n,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=sl(e.bucketOnlyServerUrl(),t.host,t._protocol),l=t.maxOperationRetryTime,h=new hu(a,"GET",function ale(t,e){return function n(r,i){const s=function ole(t,e,n){const r=TP(n);return null===r?null:function sle(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[T$])for(const i of n[T$]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new Is(e,s));r.prefixes.push(o)}if(n[S$])for(const i of n[S$]){const s=t._makeStorageReference(new Is(e,i.name));r.items.push(s)}return r}(t,e,r)}(t,e,i);return fu(null!==s),s}}(t,e.bucket),l);return h.urlParams=s,h.errorHandler=Sp(e),h}function P$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function fle(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class qC{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function DP(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{fu(!1)}return fu(!!n&&-1!==(e||["active"]).indexOf(n)),n}const _le={STATE_CHANGED:"state_changed"},Zs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function AP(t){switch(t){case"running":case"pausing":case"canceling":return Zs.RUNNING;case"paused":return Zs.PAUSED;case"success":return Zs.SUCCESS;case"canceled":return Zs.CANCELED;default:return Zs.ERROR}}class yle{constructor(e,n,r){if(function Fue(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Dp(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let x$=null;class vle{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Tp.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Tp.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Tp.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw V_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw V_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw V_("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw V_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw V_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class wle extends vle{initXhr(){this.xhr_.responseType="text"}}function Na(){return x$?x$():new wle}class O${constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=U_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Or.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(v$(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=h$()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Or.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function ple(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=P$(e,r,i),a={name:o.fullPath},u=sl(s,t.host,t._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=SP(o,n),S=new hu(u,"POST",function C(M){let N;DP(M);try{N=M.getResponseHeader("X-Goog-Upload-URL")}catch{fu(!1)}return fu($C(N)),N},t.maxUploadRetryTime);return S.urlParams=a,S.headers=h,S.body=p,S.errorHandler=Sp(e),S}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Na,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function gle(t,e,n,r){const u=new hu(n,"POST",function s(l){const h=DP(l,["active","final"]);let p=null;try{p=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{fu(!1)}p||fu(!1);const y=Number(p);return fu(!isNaN(y)),new qC(y,r.size(),"final"===h)},t.maxUploadRetryTime);return u.headers={"X-Goog-Upload-Command":"query"},u.errorHandler=Sp(e),u}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Na,n,r);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new qC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=function mle(t,e,n,r,i,s,o,a){const u=new qC(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw function Pue(){return new Hr(Or.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=u.total-u.current;let h=l;i>0&&(h=Math.min(h,i));const p=u.current;let C="";C=0===h?"finalize":l===h?"upload, finalize":"upload";const S={"X-Goog-Upload-Command":C,"X-Goog-Upload-Offset":`${u.current}`},M=r.slice(p,p+h);if(null===M)throw p$();const J=new hu(n,"POST",function N(me,Ne){const Ge=DP(me,["active","final"]),xt=u.current+h,Ln=r.size();let ls;return ls="final"===Ge?WC(e,s)(me,Ne):null,new qC(xt,Ln,"final"===Ge,ls)},e.maxUploadRetryTime);return J.headers=S,J.body=M.uploadData(),J.progressCallback=a||null,J.errorHandler=Sp(t),J}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){return this._error=u,void this._transition("error")}const a=this._ref.storage._makeRequest(o,Na,i,s,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=D$(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Na,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function M$(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},u=function a(){let J="";for(let me=0;me<2;me++)J+=Math.random().toString().slice(2);return J}();o["Content-Type"]="multipart/related; boundary="+u;const l=P$(e,r,i),h=SP(l,n),C=du.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+u+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===C)throw p$();const S={name:l.fullPath},M=sl(s,t.host,t._protocol),Z=t.maxUploadRetryTime,W=new hu(M,"POST",WC(t,n),Z);return W.urlParams=S,W.headers=o,W.body=C.uploadData(),W.errorHandler=Sp(e),W}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Na,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=f$(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=AP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new yle(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(AP(this._state)){case Zs.SUCCESS:Dp(this._resolve.bind(null,this.snapshot))();break;case Zs.CANCELED:case Zs.ERROR:Dp(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(AP(this._state)){case Zs.RUNNING:case Zs.PAUSED:e.next&&Dp(e.next.bind(e,this.snapshot))();break;case Zs.SUCCESS:e.complete&&Dp(e.complete.bind(e))();break;default:e.error&&Dp(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class jd{constructor(e,n){this._service=e,this._location=n instanceof Is?n:Is.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new jd(e,n)}get root(){const e=new Is(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return I$(this._location.path)}get storage(){return this._service}get parent(){const e=function Xue(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Is(this._location.bucket,e);return new jd(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw m$(e)}}function k$(t,e,n){return PP.apply(this,arguments)}function PP(){return(PP=(0,we.Z)(function*(t,e,n){const i=yield F$(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield k$(t,e,i.nextPageToken))})).apply(this,arguments)}function F$(t,e){null!=e&&"number"==typeof e.maxResults&&CP("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=lle(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Na)}function xle(t){t._throwIfRoot("getDownloadURL");const e=function cle(t,e,n){const i=sl(e.fullServerUrl(),t.host,t._protocol),o=t.maxOperationRetryTime,a=new hu(i,"GET",function ule(t,e){return function n(r,i){const s=b$(t,i,e);return fu(null!==s),function ile(t,e,n,r){const i=TP(e);if(null===i||!$C(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const p=t.fullPath;return sl("/b/"+o(t.bucket)+"/o/"+o(p),n,r)+y$({alt:"media",token:l})})[0]}(s,i,t.host,t._protocol)}}(t,n),o);return a.errorHandler=B_(e),a}(t.storage,t._location,U_());return t.storage.makeRequestWithTokens(e,Na).then(n=>{if(null===n)throw function Mue(){return new Hr(Or.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function L$(t,e){const n=function Jue(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Is(t._location.bucket,n);return new jd(t.storage,r)}function V$(t,e){if(t instanceof MP){const n=t;if(null==n._bucket)throw function Aue(){return new Hr(Or.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+d$+"' property when initializing the app?")}();const r=new jd(n,n._bucket);return null!=e?V$(r,e):r}return void 0!==e?L$(t,e):t}function Fle(t,e){if(e&&function Nle(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof MP)return function kle(t,e){return new jd(t,e)}(t,e);throw bp("To use ref(service, url), the first argument must be a Storage instance.")}return V$(t,e)}function U$(t,e){const n=e?.[d$];return null==n?null:Is.makeFromBucketSpec(n,t)}class MP{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=c$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Is.makeFromBucketSpec(i,this._host):U$(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Is.makeFromBucketSpec(this._url,e):U$(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,we.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,we.Z)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jd(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new xue(g$());{const o=function Hue(t,e,n,r,i,s,o=!0){const a=y$(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return function jue(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function Uue(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function Bue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,s),function $ue(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,r),new Vue(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return(0,we.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const B$="@firebase/storage";function H$(t,e){return Fle(t=(0,O.m9)(t),e)}function qle(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new MP(n,r,i,e,Cs.SDK_VERSION)}!function Gle(){(0,Cs._registerComponent)(new Oa.wA("storage",qle,"PUBLIC").setMultipleInstances(!0)),(0,Cs.registerVersion)(B$,"0.11.2",""),(0,Cs.registerVersion)(B$,"0.11.2","esm2017")}();class GC{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class W${constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new GC(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new GC(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(s="function"==typeof n?o=>n(new GC(o,this,this._ref)):{next:n.next?o=>n.next(new GC(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class q${constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new ol(e,this._service))}get items(){return this._delegate.items.map(e=>new ol(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ol{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function Wle(t,e){return L$(t,e)}(this._delegate,e);return new ol(n,this.storage)}get root(){return new ol(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ol(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new W$(function Vle(t,e,n){return function Dle(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new O$(t,new du(e),n)}(t=(0,O.m9)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=Ro.RAW,r){this._throwIfRoot("putString");const i=bP(n,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new W$(new O$(this._delegate,new du(i.data,!0),s),this)}listAll(){return function $le(t){return function Ple(t){const e={prefixes:[],items:[]};return k$(t,e).then(()=>e)}(t=(0,O.m9)(t))}(this._delegate).then(e=>new q$(e,this.storage))}list(e){return function jle(t,e){return F$(t=(0,O.m9)(t),e)}(this._delegate,e||void 0).then(n=>new q$(n,this.storage))}getMetadata(){return function Ule(t){return function Mle(t){t._throwIfRoot("getMetadata");const e=D$(t.storage,t._location,U_());return t.storage.makeRequestWithTokens(e,Na)}(t=(0,O.m9)(t))}(this._delegate)}updateMetadata(e){return function Ble(t,e){return function Rle(t,e){t._throwIfRoot("updateMetadata");const n=function dle(t,e,n,r){const s=sl(e.fullServerUrl(),t.host,t._protocol),a=SP(n,r),l=t.maxOperationRetryTime,h=new hu(s,"PATCH",WC(t,r),l);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=a,h.errorHandler=B_(e),h}(t.storage,t._location,e,U_());return t.storage.makeRequestWithTokens(n,Na)}(t=(0,O.m9)(t),e)}(this._delegate,e)}getDownloadURL(){return function Hle(t){return xle(t=(0,O.m9)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function zle(t){return function Ole(t){t._throwIfRoot("deleteObject");const e=function hle(t,e){const r=sl(e.fullServerUrl(),t.host,t._protocol),a=new hu(r,"DELETE",function o(u,l){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=B_(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Na)}(t=(0,O.m9)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw m$(e)}}class G${constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(K$(e))throw bp("ref() expected a child path but got a URL, use refFromURL instead.");return new ol(H$(this._delegate,e),this)}refFromURL(e){if(!K$(e))throw bp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Is.makeFromUrl(e,this._delegate.host)}catch{throw bp("refFromUrl() expected a valid full URL but got an invalid one.")}return new ol(H$(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function z$(t,e,n,r={}){!function Lle(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,O.Sg)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function K$(t){return/^[A-Za-z]+:\/\//.test(t)}function Yle(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new G$(n,r)}function Z$(t){const e=function Jle(t){return new tn(e=>{const n=o=>e.next(o);n(t.snapshot);const s=t.on("state_changed",n);return t.then(o=>{n(o),e.complete()},o=>{n(t.snapshot),(o=>{e.error(o)})(o)}),function(){s()}}).pipe(function _ue(t,e=VC){return ae((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=s;s=null,r.next(l)}};function u(){const l=o+t,h=e.now();if(h<l)return i=this.schedule(void 0,l-h),void r.add(i);a()}n.subscribe(Le(r,l=>{s=l,o=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(De(n=>n.bytesTransferred/n.totalBytes*100))}}function KC(t){return{getDownloadURL:()=>mt(void 0).pipe(i$,xr(()=>t.getDownloadURL()),oi),getMetadata:()=>mt(void 0).pipe(i$,xr(()=>t.getMetadata()),oi),delete:()=>Bn(t.delete()),child:e=>KC(t.child(e)),updateMetadata:e=>Bn(t.updateMetadata(e)),put:(e,n)=>Z$(t.put(e,n)),putString:(e,n,r)=>Z$(t.putString(e,n,r)),list:e=>Bn(t.list(e)),listAll:()=>Bn(t.listAll())}}!function Xle(t){const e={TaskState:Zs,TaskEvent:_le,StringFormat:Ro,Storage:G$,Reference:ol};t.INTERNAL.registerComponent(new Oa.wA("storage-compat",Yle,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.2")}(Mo.Z);const ece=new Oe("angularfire2.storageBucket"),tce=new Oe("angularfire2.storage.maxUploadRetryTime"),nce=new Oe("angularfire2.storage.maxOperationRetryTime"),rce=new Oe("angularfire2.storage.use-emulator");let ice=(()=>{class t{storage;constructor(n,r,i,s,o,a,u,l,h,p){const y=F_(n,o,r);this.storage=jC(`${y.name}.storage.${i}`,"AngularFireStorage",y.name,()=>{const C=o.runOutsideAngular(()=>y.storage(i||void 0)),S=h;return S&&C.useEmulator(...S),u&&C.setMaxUploadRetryTime(u),l&&C.setMaxOperationRetryTime(l),C},[u,l])}ref(n){return KC(this.storage.ref(n))}refFromURL(n){return KC(this.storage.refFromURL(n))}upload(n,r,i){return KC(this.storage.ref(n)).put(r,i)}static \u0275fac=function(r){return new(r||t)(k(Ep),k(Cp,8),k(ece,8),k(Yo),k(fn),k(BC),k(tce,8),k(nce,8),k(rce,8),k(UC,8))};static \u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),sce=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Kn({type:t});static \u0275inj=tr({})}return t})(),oce=(()=>{class t{constructor(){Mo.Z.registerVersion("angularfire",yp.full,"gcs-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Kn({type:t});static \u0275inj=tr({providers:[ice],imports:[sce]})}return t})();function RP(){return ae((t,e)=>{let n,r=!1;t.subscribe(Le(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}function Q$(t,e=Gr){return t=t??ace,ae((n,r)=>{let i,s=!0;n.subscribe(Le(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function ace(t,e){return t===e}var Ke,xo=ft(879),uce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ka={},xP=xP||{},Ht=uce||self;function ZC(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function j_(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var OP="closure_uid_"+(1e9*Math.random()>>>0),cce=0;function dce(t,e,n){return t.call.apply(t.bind,arguments)}function hce(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function bs(t,e,n){return(bs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dce:hce).apply(null,arguments)}function QC(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Bi(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function uc(){this.s=this.s,this.o=this.o}uc.prototype.s=!1,uc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lce(t){Object.prototype.hasOwnProperty.call(t,OP)&&t[OP]||(t[OP]=++cce)}(this)},uc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Y$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function NP(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function X$(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ZC(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ts(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ts.prototype.h=function(){this.defaultPrevented=!0};var pce=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ht.addEventListener("test",()=>{},e),Ht.removeEventListener("test",()=>{},e)}catch{}return t}();function $_(t){return/^[\s\xa0]*$/.test(t)}function YC(){var t=Ht.navigator;return t&&(t=t.userAgent)?t:""}function pu(t){return-1!=YC().indexOf(t)}function kP(t){return kP[" "](t),t}kP[" "]=function(){};var LP,t,mce=pu("Opera"),Ap=pu("Trident")||pu("MSIE"),J$=pu("Edge"),FP=J$||Ap,e3=pu("Gecko")&&!(-1!=YC().toLowerCase().indexOf("webkit")&&!pu("Edge"))&&!(pu("Trident")||pu("MSIE"))&&!pu("Edge"),_ce=-1!=YC().toLowerCase().indexOf("webkit")&&!pu("Edge");function t3(){var t=Ht.document;return t?t.documentMode:void 0}e:{var VP="",UP=(t=YC(),e3?/rv:([^\);]+)(\)|;)/.exec(t):J$?/Edge\/([\d\.]+)/.exec(t):Ap?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):_ce?/WebKit\/(\S+)/.exec(t):mce?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(UP&&(VP=UP?UP[1]:""),Ap){var BP=t3();if(null!=BP&&BP>parseFloat(VP)){LP=String(BP);break e}}LP=VP}var yce=Ht.document&&Ap&&(t3()||parseInt(LP,10))||void 0;function H_(t,e){if(Ts.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(e3){e:{try{kP(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:vce[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&H_.$.h.call(this)}}Bi(H_,Ts);var vce={2:"touch",3:"pen",4:"mouse"};H_.prototype.h=function(){H_.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var z_="closure_listenable_"+(1e6*Math.random()|0),wce=0;function Ece(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++wce,this.fa=this.ia=!1}function XC(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $P(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function r3(t){const e={};for(const n in t)e[n]=t[n];return e}const i3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function s3(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<i3.length;s++)n=i3[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function JC(t){this.src=t,this.g={},this.h=0}function HP(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=Y$(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(XC(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function zP(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}JC.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=zP(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Ece(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var WP="closure_lm_"+(1e6*Math.random()|0),qP={};function o3(t,e,n,r,i){if(r&&r.once)return u3(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)o3(t,e[s],n,r,i);return null}return n=QP(n),t&&t[z_]?t.O(e,n,j_(r)?!!r.capture:!!r,i):a3(t,e,n,!1,r,i)}function a3(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=j_(i)?!!i.capture:!!i,a=KP(t);if(a||(t[WP]=a=new JC(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Ice(){const e=bce;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pce||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(c3(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function u3(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)u3(t,e[s],n,r,i);return null}return n=QP(n),t&&t[z_]?t.P(e,n,j_(r)?!!r.capture:!!r,i):a3(t,e,n,!0,r,i)}function l3(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)l3(t,e[s],n,r,i);else r=j_(r)?!!r.capture:!!r,n=QP(n),t&&t[z_]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=zP(s=t.g[e],n,r,i))&&(XC(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=KP(t))&&(e=t.g[e.toString()],t=-1,e&&(t=zP(e,n,r,i)),(n=-1<t?e[t]:null)&&GP(n))}function GP(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[z_])HP(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(c3(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=KP(e))?(HP(n,t),0==n.h&&(n.src=null,e[WP]=null)):XC(t)}}}function c3(t){return t in qP?qP[t]:qP[t]="on"+t}function bce(t,e){if(t.fa)t=!0;else{e=new H_(e,this);var n=t.listener,r=t.la||t.src;t.ia&&GP(t),t=n.call(r,e)}return t}function KP(t){return(t=t[WP])instanceof JC?t:null}var ZP="__closure_events_fn_"+(1e9*Math.random()>>>0);function QP(t){return"function"==typeof t?t:(t[ZP]||(t[ZP]=function(e){return t.handleEvent(e)}),t[ZP])}function ji(){uc.call(this),this.i=new JC(this),this.S=this,this.J=null}function rs(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ts(e,t);else if(e instanceof Ts)e.target=e.target||t;else{var i=e;s3(e=new Ts(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=eI(o,r,!0,e)&&i}if(i=eI(o=e.g=t,r,!0,e)&&i,i=eI(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=eI(o=e.g=n[s],r,!1,e)&&i}function eI(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&HP(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Bi(ji,uc),ji.prototype[z_]=!0,ji.prototype.removeEventListener=function(t,e,n,r){l3(this,t,e,n,r)},ji.prototype.N=function(){if(ji.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)XC(n[r]);delete t.g[e],t.h--}}this.J=null},ji.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},ji.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var YP=Ht.JSON.stringify;function Sce(){var t=XP;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var d3=new class Tce{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ace,t=>t.reset());class Ace{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Pce(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Mce(t){Ht.setTimeout(()=>{throw t},0)}let W_,q_=!1,XP=new class Dce{constructor(){this.h=this.g=null}add(e,n){const r=d3.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},h3=()=>{const t=Ht.Promise.resolve(void 0);W_=()=>{t.then(Rce)}};var Rce=()=>{for(var t;t=Sce();){try{t.h.call(t.g)}catch(n){Mce(n)}var e=d3;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}q_=!1};function tI(t,e){ji.call(this),this.h=t||1,this.g=e||Ht,this.j=bs(this.qb,this),this.l=Date.now()}function JP(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function eM(t,e,n){if("function"==typeof t)n&&(t=bs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=bs(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ht.setTimeout(t,e||0)}function f3(t){t.g=eM(()=>{t.g=null,t.i&&(t.i=!1,f3(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Bi(tI,ji),(Ke=tI.prototype).ga=!1,Ke.T=null,Ke.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rs(this,"tick"),this.ga&&(JP(this),this.start()))}},Ke.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ke.N=function(){tI.$.N.call(this),JP(this),delete this.g};class xce extends uc{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:f3(this)}N(){super.N(),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function G_(t){uc.call(this),this.h=t,this.g={}}Bi(G_,uc);var p3=[];function g3(t,e,n,r){Array.isArray(n)||(n&&(p3[0]=n.toString()),n=p3);for(var i=0;i<n.length;i++){var s=o3(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function m3(t){$P(t.g,function(e,n){this.g.hasOwnProperty(n)&&GP(e)},t),t.g={}}function nI(){this.g=!0}function Pp(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Fce(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return YP(n)}catch{return e}}(t,n)+(r?" "+r:"")})}G_.prototype.N=function(){G_.$.N.call(this),m3(this)},G_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nI.prototype.Ea=function(){this.g=!1},nI.prototype.info=function(){};var $d={},_3=null;function rI(){return _3=_3||new ji}function y3(t){Ts.call(this,$d.Ta,t)}function K_(t){const e=rI();rs(e,new y3(e))}function v3(t,e){Ts.call(this,$d.STAT_EVENT,t),this.stat=e}function Qs(t){const e=rI();rs(e,new v3(e,t))}function w3(t,e){Ts.call(this,$d.Ua,t),this.size=e}function Z_(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){t()},e)}$d.Ta="serverreachability",Bi(y3,Ts),$d.STAT_EVENT="statevent",Bi(v3,Ts),$d.Ua="timingevent",Bi(w3,Ts);var iI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},E3={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function tM(){}function I3(){}tM.prototype.h=null;var iM,Q_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function nM(){Ts.call(this,"d")}function rM(){Ts.call(this,"c")}function sI(){}function Y_(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new G_(this),this.P=Lce,this.V=new tI(t=FP?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new b3}function b3(){this.i=null,this.g="",this.h=!1}Bi(nM,Ts),Bi(rM,Ts),Bi(sI,tM),sI.prototype.g=function(){return new XMLHttpRequest},sI.prototype.i=function(){return{}},iM=new sI;var Lce=45e3,sM={},oI={};function oM(t,e,n){t.L=1,t.v=cI(al(e)),t.s=n,t.S=!0,T3(t,null)}function T3(t,e){t.G=Date.now(),X_(t),t.A=al(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),k3(n.i,"t",r),t.C=0,n=t.l.J,t.h=new b3,t.g=sH(t.l,n?e:null,!t.s),0<t.O&&(t.M=new xce(bs(t.Pa,t,t.g),t.O)),g3(t.U,t.g,"readystatechange",t.nb),e=t.I?r3(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),K_(),function Oce(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var h=l[0];l=l[1];var p=h.split("_");o=2<=p.length&&"type"==p[1]?o+(h+"=")+l+"&":o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function S3(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function D3(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Vce(t,n),i==oI){4==e&&(t.o=4,Qs(14),r=!1),Pp(t.j,t.m,null,"[Incomplete Response]");break}if(i==sM){t.o=4,Qs(15),Pp(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Pp(t.j,t.m,i,null),aM(t,i)}S3(t)&&i!=oI&&i!=sM&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Qs(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),pM(e),e.M=!0,Qs(11))):(Pp(t.j,t.m,n,"[Invalid Chunked Response]"),Hd(t),J_(t))}function Vce(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?oI:(n=Number(e.substring(n,r)),isNaN(n)?sM:(r+=1)+n>e.length?oI:(e=e.slice(r,r+n),t.C=r+n,e))}function X_(t){t.Y=Date.now()+t.P,A3(t,t.P)}function A3(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Z_(bs(t.lb,t),e)}function aI(t){t.B&&(Ht.clearTimeout(t.B),t.B=null)}function J_(t){0==t.l.H||t.J||tH(t.l,t)}function Hd(t){aI(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,JP(t.V),m3(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function aM(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||uM(n.i,t)))if(!t.K&&uM(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;mI(n),pI(n)}fM(n),Qs(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Z_(bs(n.ib,n),6e3));if(1>=V3(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Wd(n,11)}else if((t.K||n.g==t)&&mI(n),!$_(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const h=l[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const p=l[4];null!=p&&(n.Ga=p,n.l.info("SVER="+n.Ga));const y=l[5];null!=y&&"number"==typeof y&&0<y&&(n.L=r=1.5*y,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const C=t.g;if(C){const S=C.g?C.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var s=r.i;s.g||-1==S.indexOf("spdy")&&-1==S.indexOf("quic")&&-1==S.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(lM(s,s.h),s.h=null))}if(r.F){const M=C.g?C.g.getResponseHeader("X-HTTP-Session-Id"):null;M&&(r.Da=M,_r(r.I,r.F,M))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=iH(r,r.J?r.pa:null,r.Y),o.K){U3(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(aI(a),X_(a)),r.g=o}else J3(r);0<n.j.length&&gI(n)}else"stop"!=l[0]&&"close"!=l[0]||Wd(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Wd(n,7):hM(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}K_()}catch{}}function P3(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ZC(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Bce(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ZC(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Uce(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(ZC(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(Ke=Y_.prototype).setTimeout=function(t){this.P=t},Ke.nb=function(t){t=t.target;const e=this.M;e&&3==gu(t)?e.l():this.Pa(t)},Ke.Pa=function(t){try{if(t==this.g)e:{const h=gu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||FP||this.g&&(this.h.h||this.g.ja()||G3(this.g)))){this.J||4!=h||7==e||K_(),aI(this);var n=this.g.da();this.ca=n;t:if(S3(this)){var r=G3(this.g);t="";var i=r.length,s=4==gu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hd(this),J_(this);var o="";break t}this.h.i=new Ht.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Nce(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$_(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Qs(12),Hd(this),J_(this);break e}Pp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aM(this,n)}this.S?(D3(this,h,o),FP&&this.i&&3==h&&(g3(this.U,this.V,"tick",this.mb),this.V.start())):(Pp(this.j,this.m,o,null),aM(this,o)),4==h&&Hd(this),this.i&&!this.J&&(4==h?tH(this.l,this):(this.i=!1,X_(this)))}else(function ide(t){const e={};t=(t.g&&2<=gu(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if($_(t[r]))continue;var n=Pce(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Cce(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Qs(12)):(this.o=0,Qs(13)),Hd(this),J_(this)}}}catch{}},Ke.mb=function(){if(this.g){var t=gu(this.g),e=this.g.ja();this.C<e.length&&(aI(this),D3(this,t,e),this.i&&4!=t&&X_(this))}},Ke.cancel=function(){this.J=!0,Hd(this)},Ke.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function kce(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(K_(),Qs(17)),Hd(this),this.o=2,J_(this)):A3(this,this.Y-t)};var M3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zd(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof zd){this.h=t.h,uI(this,t.j),this.s=t.s,this.g=t.g,lI(this,t.m),this.l=t.l;var e=t.i,n=new ny;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),R3(this,n),this.o=t.o}else t&&(e=String(t).match(M3))?(this.h=!1,uI(this,e[1]||"",!0),this.s=ey(e[2]||""),this.g=ey(e[3]||"",!0),lI(this,e[4]),this.l=ey(e[5]||"",!0),R3(this,e[6]||"",!0),this.o=ey(e[7]||"")):(this.h=!1,this.i=new ny(null,this.h))}function al(t){return new zd(t)}function uI(t,e,n){t.j=n?ey(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function lI(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function R3(t,e,n){e instanceof ny?(t.i=e,function Gce(t,e){e&&!t.j&&(lc(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(O3(this,r),k3(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=ty(e,Wce)),t.i=new ny(e,t.h))}function _r(t,e,n){t.i.set(e,n)}function cI(t){return _r(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ey(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ty(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,$ce),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $ce(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}zd.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ty(e,x3,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ty(e,x3,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ty(n,"/"==n.charAt(0)?zce:Hce,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ty(n,qce)),t.join("")};var x3=/[#\/\?@]/g,Hce=/[#\?:]/g,zce=/[#\?]/g,Wce=/[#\?@]/g,qce=/#/g;function ny(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function lc(t){t.g||(t.g=new Map,t.h=0,t.i&&function jce(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function O3(t,e){lc(t),e=Mp(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function N3(t,e){return lc(t),e=Mp(t,e),t.g.has(e)}function k3(t,e,n){O3(t,e),0<n.length&&(t.i=null,t.g.set(Mp(t,e),NP(n)),t.h+=n.length)}function Mp(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Ke=ny.prototype).add=function(t,e){lc(this),this.i=null,t=Mp(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ke.forEach=function(t,e){lc(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ke.ta=function(){lc(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},Ke.Z=function(t){lc(this);let e=[];if("string"==typeof t)N3(this,t)&&(e=e.concat(this.g.get(Mp(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ke.set=function(t,e){return lc(this),this.i=null,N3(this,t=Mp(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ke.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Kce=class{constructor(t,e){this.g=t,this.map=e}};function F3(t){this.l=t||Zce,t=Ht.PerformanceNavigationTiming?0<(t=Ht.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ka&&Ht.g.Ka()&&Ht.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Zce=10;function L3(t){return!!t.h||!!t.g&&t.g.size>=t.j}function V3(t){return t.h?1:t.g?t.g.size:0}function uM(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function lM(t,e){t.g?t.g.add(e):t.h=e}function U3(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function B3(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return NP(t.i)}F3.prototype.cancel=function(){if(this.i=B3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Qce=class{stringify(t){return Ht.JSON.stringify(t,void 0)}parse(t){return Ht.JSON.parse(t,void 0)}};function Yce(){this.g=new Qce}function Xce(t,e,n){const r=n||"";try{P3(t,function(i,s){let o=i;j_(i)&&(o=YP(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dI(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ry(t){this.l=t.ec||null,this.j=t.ob||!1}function hI(t,e){ji.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=cM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bi(ry,tM),ry.prototype.g=function(){return new hI(this.l,this.j)},ry.prototype.i=function(t){return function(){return t}}({}),Bi(hI,ji);var cM=0;function j3(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function iy(t){t.readyState=4,t.l=null,t.j=null,t.A=null,sy(t)}function sy(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ke=hI.prototype).open=function(t,e){if(this.readyState!=cM)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,sy(this)},Ke.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ht).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,iy(this)),this.readyState=cM},Ke.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,sy(this)),this.g&&(this.readyState=3,sy(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ht.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;j3(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ke.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?iy(this):sy(this),3==this.readyState&&j3(this)}},Ke.Za=function(t){this.g&&(this.response=this.responseText=t,iy(this))},Ke.Ya=function(t){this.g&&(this.response=t,iy(this))},Ke.ka=function(){this.g&&iy(this)},Ke.setRequestHeader=function(t,e){this.v.append(t,e)},Ke.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ke.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(hI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var ede=Ht.JSON.parse;function Jr(t){ji.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$3,this.L=this.M=!1}Bi(Jr,ji);var $3="",tde=/^https?$/i,nde=["POST","PUT"];function H3(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,z3(t),fI(t)}function z3(t){t.F||(t.F=!0,rs(t,"complete"),rs(t,"error"))}function W3(t){if(t.h&&typeof xP<"u"&&(!t.C[1]||4!=gu(t)||2!=t.da()))if(t.v&&4==gu(t))eM(t.La,0,t);else if(rs(t,"readystatechange"),4==gu(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(M3)[1]||null;!i&&Ht.self&&Ht.self.location&&(i=Ht.self.location.protocol.slice(0,-1)),r=!tde.test(i?i.toLowerCase():"")}n=r}if(n)rs(t,"complete"),rs(t,"success");else{t.m=6;try{var s=2<gu(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",z3(t)}}finally{fI(t)}}}function fI(t,e){if(t.g){q3(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rs(t,"ready");try{n.onreadystatechange=r}catch{}}}function q3(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ht.clearTimeout(t.A),t.A=null)}function gu(t){return t.g?t.g.readyState:0}function G3(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $3:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function K3(t){let e="";return $P(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function dM(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=K3(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):_r(t,e,n))}function oy(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Z3(t){this.Ga=0,this.j=[],this.l=new nI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=oy("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=oy("baseRetryDelayMs",5e3,t),this.hb=oy("retryDelaySeedMs",1e4,t),this.eb=oy("forwardChannelMaxRetries",2,t),this.xa=oy("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new F3(t&&t.concurrentRequestLimit),this.Ja=new Yce,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function hM(t){if(Q3(t),3==t.H){var e=t.W++,n=al(t.I);if(_r(n,"SID",t.K),_r(n,"RID",e),_r(n,"TYPE","terminate"),ay(t,n),(e=new Y_(t,t.l,e)).L=2,e.v=cI(al(n)),n=!1,Ht.navigator&&Ht.navigator.sendBeacon)try{n=Ht.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ht.Image&&((new Image).src=e.v,n=!0),n||(e.g=sH(e.l,null),e.g.ha(e.v)),e.G=Date.now(),X_(e)}rH(t)}function pI(t){t.g&&(pM(t),t.g.cancel(),t.g=null)}function Q3(t){pI(t),t.u&&(Ht.clearTimeout(t.u),t.u=null),mI(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ht.clearTimeout(t.m),t.m=null)}function gI(t){if(!L3(t.i)&&!t.m){t.m=!0;var e=t.Na;W_||h3(),q_||(W_(),q_=!0),XP.add(e,t),t.C=0}}function Y3(t,e){var n;n=e?e.m:t.W++;const r=al(t.I);_r(r,"SID",t.K),_r(r,"RID",n),_r(r,"AID",t.V),ay(t,r),t.o&&t.s&&dM(r,t.o,t.s),n=new Y_(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=X3(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),lM(t.i,n),oM(n,r,e)}function ay(t,e){t.na&&$P(t.na,function(n,r){_r(e,r,n)}),t.h&&P3({},function(n,r){_r(e,r,n)})}function X3(t,e,n){n=Math.min(t.j.length,n);var r=t.h?bs(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const h=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{Xce(h,o,"req"+l+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function J3(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;W_||h3(),q_||(W_(),q_=!0),XP.add(e,t),t.A=0}}function fM(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Z_(bs(t.Ma,t),nH(t,t.A)),t.A++,0))}function pM(t){null!=t.B&&(Ht.clearTimeout(t.B),t.B=null)}function eH(t){t.g=new Y_(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=al(t.wa);_r(e,"RID","rpc"),_r(e,"SID",t.K),_r(e,"AID",t.V),_r(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&_r(e,"TO",t.qa),_r(e,"TYPE","xmlhttp"),ay(t,e),t.o&&t.s&&dM(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=cI(al(e)),n.s=null,n.S=!0,T3(n,t)}function mI(t){null!=t.v&&(Ht.clearTimeout(t.v),t.v=null)}function tH(t,e){var n=null;if(t.g==e){mI(t),pM(t),t.g=null;var r=2}else{if(!uM(t.i,e))return;n=e.F,U3(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;rs(r=rI(),new w3(r,n)),gI(t)}else J3(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function sde(t,e){return!(V3(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Z_(bs(t.Na,t,e),nH(t,t.C)),t.C++,0)))}(t,e)||2==r&&fM(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Wd(t,5);break;case 4:Wd(t,10);break;case 3:Wd(t,6);break;default:Wd(t,2)}}function nH(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Wd(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=bs(t.pb,t);n||(n=new zd("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||uI(n,"https"),cI(n)),function Jce(t,e){const n=new nI;if(Ht.Image){const r=new Image;r.onload=QC(dI,n,r,"TestLoadImage: loaded",!0,e),r.onerror=QC(dI,n,r,"TestLoadImage: error",!1,e),r.onabort=QC(dI,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=QC(dI,n,r,"TestLoadImage: timeout",!1,e),Ht.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Qs(2);t.H=0,t.h&&t.h.za(e),rH(t),Q3(t)}function rH(t){if(t.H=0,t.ma=[],t.h){const e=B3(t.i);(0!=e.length||0!=t.j.length)&&(X$(t.ma,e),X$(t.ma,t.j),t.i.i.length=0,NP(t.j),t.j.length=0),t.h.ya()}}function iH(t,e,n){var r=n instanceof zd?al(n):new zd(n);if(""!=r.g)e&&(r.g=e+"."+r.g),lI(r,r.m);else{var i=Ht.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new zd(null);r&&uI(s,r),e&&(s.g=e),i&&lI(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&_r(r,n,e),_r(r,"VER",t.ra),ay(t,r),r}function sH(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jr(n&&t.Ha&&!t.va?new ry({ob:!0}):t.va)).Oa(t.J),e}function oH(){}function _I(){if(Ap&&!(10<=Number(yce)))throw Error("Environmental error: no available transport.")}function Oo(t,e){ji.call(this),this.g=new Z3(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!$_(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$_(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Rp(this)}function aH(t){nM.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function uH(){rM.call(this),this.status=1}function Rp(t){this.g=t}function Fa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function gM(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function zn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(Ke=Jr.prototype).Oa=function(t){this.M=t},Ke.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():iM.g(),this.C=function C3(t){return t.h||(t.h=t.i())}(this.u?this.u:iM),this.g.onreadystatechange=bs(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void H3(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Ht.FormData&&t instanceof Ht.FormData,!(0<=Y$(nde,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{q3(this),0<this.B&&((this.L=function rde(t){return Ap&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bs(this.ua,this)):this.A=eM(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){H3(this,s)}},Ke.ua=function(){typeof xP<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rs(this,"timeout"),this.abort(8))},Ke.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rs(this,"complete"),rs(this,"abort"),fI(this))},Ke.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fI(this,!0)),Jr.$.N.call(this)},Ke.La=function(){this.s||(this.G||this.v||this.l?W3(this):this.kb())},Ke.kb=function(){W3(this)},Ke.isActive=function(){return!!this.g},Ke.da=function(){try{return 2<gu(this)?this.g.status:-1}catch{return-1}},Ke.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ke.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ede(e)}},Ke.Ia=function(){return this.m},Ke.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ke=Z3.prototype).ra=8,Ke.H=1,Ke.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Y_(this,this.l,t);let s=this.s;if(this.U&&(s?(s=r3(s),s3(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=X3(this,i,e),_r(n=al(this.I),"RID",t),_r(n,"CVER",22),this.F&&_r(n,"X-HTTP-Session-Id",this.F),ay(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(K3(s)))+"&"+e:this.o&&dM(n,this.o,s)),lM(this.i,i),this.bb&&_r(n,"TYPE","init"),this.P?(_r(n,"$req",e),_r(n,"SID","null"),i.aa=!0,oM(i,n,null)):oM(i,n,e),this.H=2}}else 3==this.H&&(t?Y3(this,t):0==this.j.length||L3(this.i)||Y3(this))},Ke.Ma=function(){if(this.u=null,eH(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Z_(bs(this.jb,this),t)}},Ke.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qs(10),pI(this),eH(this))},Ke.ib=function(){null!=this.v&&(this.v=null,pI(this),fM(this),Qs(19))},Ke.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qs(2)):(this.l.info("Failed to ping google.com"),Qs(1))},Ke.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ke=oH.prototype).Ba=function(){},Ke.Aa=function(){},Ke.za=function(){},Ke.ya=function(){},Ke.isActive=function(){return!0},Ke.Va=function(){},_I.prototype.g=function(t,e){return new Oo(t,e)},Bi(Oo,ji),Oo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qs(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=iH(t,null,t.Y),gI(t)},Oo.prototype.close=function(){hM(this.g)},Oo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=YP(t),t=n);e.j.push(new Kce(e.fb++,t)),3==e.H&&gI(e)},Oo.prototype.N=function(){this.g.h=null,delete this.j,hM(this.g),delete this.g,Oo.$.N.call(this)},Bi(aH,nM),Bi(uH,rM),Bi(Rp,oH),Rp.prototype.Ba=function(){rs(this.g,"a")},Rp.prototype.Aa=function(t){rs(this.g,new aH(t))},Rp.prototype.za=function(t){rs(this.g,new uH)},Rp.prototype.ya=function(){rs(this.g,"b")},Bi(Fa,function ode(){this.blockSize=-1}),Fa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fa.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)gM(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){gM(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){gM(this,r),i=0;break}}this.h=i,this.i+=e},Fa.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var ade={};function mM(t){return-128<=t&&128>t?function gce(t,e){var n=ade;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new zn([0|e],0>e?-1:0)}):new zn([0|t],0>t?-1:0)}function mu(t){if(isNaN(t)||!isFinite(t))return xp;if(0>t)return is(mu(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=_M;return new zn(e,0)}var _M=4294967296,xp=mM(0),yM=mM(1),cH=mM(16777216);function ul(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function aa(t){return-1==t.h}function is(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new zn(n,~t.h).add(yM)}function yI(t,e){return t.add(is(e))}function vI(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function uy(t,e){this.g=t,this.h=e}function wI(t,e){if(ul(e))throw Error("division by zero");if(ul(t))return new uy(xp,xp);if(aa(t))return e=wI(is(t),e),new uy(is(e.g),is(e.h));if(aa(e))return e=wI(t,is(e)),new uy(is(e.g),e.h);if(30<t.g.length){if(aa(t)||aa(e))throw Error("slowDivide_ only works with positive integers.");for(var n=yM,r=e;0>=r.X(t);)n=dH(n),r=dH(r);var i=Op(n,1),s=Op(r,1);for(r=Op(r,2),n=Op(n,2);!ul(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Op(r,1),n=Op(n,1)}return e=yI(t,i.R(e)),new uy(i,e)}for(i=xp;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=mu(n)).R(e);aa(o)||0<o.X(t);)o=(s=mu(n-=r)).R(e);ul(s)&&(s=yM),i=i.add(s),t=yI(t,o)}return new uy(i,t)}function dH(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new zn(n,t.h)}function Op(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new zn(i,t.h)}(Ke=zn.prototype).ea=function(){if(aa(this))return-is(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:_M+r)*e,e*=_M}return t},Ke.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ul(this))return"0";if(aa(this))return"-"+is(this).toString(t);for(var e=mu(Math.pow(t,6)),n=this,r="";;){var i=wI(n,e).g,s=((0<(n=yI(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ul(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ke.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ke.X=function(t){return aa(t=yI(this,t))?-1:ul(t)?0:1},Ke.abs=function(){return aa(this)?is(this):this},Ke.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new zn(n,-2147483648&n[n.length-1]?-1:0)},Ke.R=function(t){if(ul(this)||ul(t))return xp;if(aa(this))return aa(t)?is(this).R(is(t)):is(is(this).R(t));if(aa(t))return is(this.R(is(t)));if(0>this.X(cH)&&0>t.X(cH))return mu(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,vI(n,2*r+2*i),n[2*r+2*i+1]+=s*u,vI(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,vI(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,vI(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new zn(n,0)},Ke.gb=function(t){return wI(this,t).h},Ke.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new zn(n,this.h&t.h)},Ke.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new zn(n,this.h|t.h)},Ke.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new zn(n,this.h^t.h)},_I.prototype.createWebChannel=_I.prototype.g,Oo.prototype.send=Oo.prototype.u,Oo.prototype.open=Oo.prototype.m,Oo.prototype.close=Oo.prototype.close,iI.NO_ERROR=0,iI.TIMEOUT=8,iI.HTTP_ERROR=6,E3.COMPLETE="complete",I3.EventType=Q_,Q_.OPEN="a",Q_.CLOSE="b",Q_.ERROR="c",Q_.MESSAGE="d",ji.prototype.listen=ji.prototype.O,Jr.prototype.listenOnce=Jr.prototype.P,Jr.prototype.getLastError=Jr.prototype.Sa,Jr.prototype.getLastErrorCode=Jr.prototype.Ia,Jr.prototype.getStatus=Jr.prototype.da,Jr.prototype.getResponseJson=Jr.prototype.Wa,Jr.prototype.getResponseText=Jr.prototype.ja,Jr.prototype.send=Jr.prototype.ha,Jr.prototype.setWithCredentials=Jr.prototype.Oa,Fa.prototype.digest=Fa.prototype.l,Fa.prototype.reset=Fa.prototype.reset,Fa.prototype.update=Fa.prototype.j,zn.prototype.add=zn.prototype.add,zn.prototype.multiply=zn.prototype.R,zn.prototype.modulo=zn.prototype.gb,zn.prototype.compare=zn.prototype.X,zn.prototype.toNumber=zn.prototype.ea,zn.prototype.toString=zn.prototype.toString,zn.prototype.getBits=zn.prototype.D,zn.fromNumber=mu,zn.fromString=function lH(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return is(lH(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mu(Math.pow(e,8)),r=xp,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=mu(Math.pow(e,s)),r=r.R(s).add(mu(o))):r=(r=r.R(n)).add(mu(o))}return r};var ude=ka.createWebChannelTransport=function(){return new _I},lde=ka.getStatEventTarget=function(){return rI()},vM=ka.ErrorCode=iI,cde=ka.EventType=E3,dde=ka.Event=$d,hH=ka.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},hde=ka.FetchXmlHttpFactory=ry,EI=ka.WebChannel=I3,fde=ka.XhrIo=Jr,pde=ka.Md5=Fa,Np=ka.Integer=zn;const fH="@firebase/firestore";class $i{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");let kp="10.5.2";const cc=new xo.Yd("@firebase/firestore");function Fp(){return cc.logLevel}function xe(t,...e){if(cc.logLevel<=xo.in.DEBUG){const n=e.map(wM);cc.debug(`Firestore (${kp}): ${t}`,...n)}}function ai(t,...e){if(cc.logLevel<=xo.in.ERROR){const n=e.map(wM);cc.error(`Firestore (${kp}): ${t}`,...n)}}function po(t,...e){if(cc.logLevel<=xo.in.WARN){const n=e.map(wM);cc.warn(`Firestore (${kp}): ${t}`,...n)}}function wM(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Xe(t="Unexpected state"){const e=`FIRESTORE (${kp}) INTERNAL ASSERTION FAILED: `+t;throw ai(e),new Error(e)}function ct(t,e){t||Xe()}function ze(t,e){return t}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends O.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class pH{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _de{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($i.UNAUTHENTICATED))}shutdown(){}}class yde{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vde{constructor(e){this.t=e,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mi,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable((0,we.Z)(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct("string"==typeof r.accessToken),new pH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ct(null===e||"string"==typeof e),new $i(e)}}class wde{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$i.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ede{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new wde(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cde{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct("string"==typeof n.token),this.R=n.token,new gH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ide(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class mH{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Ide(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function jt(t,e){return t<e?-1:t>e?1:0}function Lp(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function _H(t){return t+"\0"}class Nr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Me(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Me(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Me(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Nr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ht(e)}static min(){return new ht(new Nr(0,0))}static max(){return new ht(new Nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ly{constructor(e,n,r){void 0===n?n=0:n>e.length&&Xe(),void 0===r?r=e.length-n:r>e.length-n&&Xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ly.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ly?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Tn extends ly{construct(e,n,r){return new Tn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Tn(n)}static emptyPath(){return new Tn([])}}const bde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends ly{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return bde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Me(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Me(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Me(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Me(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Tn.fromString(e))}static fromName(e){return new qe(Tn.fromString(e).popFirst(5))}static empty(){return new qe(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Tn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Tn(e.slice()))}}class Vp{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function EM(t){return t.fields.find(e=>2===e.kind)}function qd(t){return t.fields.filter(e=>2!==e.kind)}Vp.UNKNOWN_ID=-1;class Gd{constructor(e,n){this.fieldPath=e,this.kind=n}}class Up{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Up(0,No.min())}}function yH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ht.fromTimestamp(1e9===r?new Nr(n+1,0):new Nr(n,r));return new No(i,qe.empty(),e)}function vH(t){return new No(t.readTime,t.key,-1)}class No{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new No(ht.min(),qe.empty(),-1)}static max(){return new No(ht.max(),qe.empty(),-1)}}function CM(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=qe.comparator(t.documentKey,e.documentKey),0!==n?n:jt(t.largestBatchId,e.largestBatchId))}const wH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function dc(t){return IM.apply(this,arguments)}function IM(){return IM=(0,we.Z)(function*(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==wH)throw t;xe("LocalStore","Unexpectedly lost primary lease")}),IM.apply(this,arguments)}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(i=>i?ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new ie((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}class CI{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Mi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new cy(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=bM(r.target.error);this.V.reject(new cy(e,i))}}static open(e,n,r,i){try{return new CI(n,e.transaction(i,r))}catch(s){throw new cy(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Ade(n)}}class La{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===La.S((0,O.z$)())&&ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return xe("SimpleDb","Removing database:",e),Kd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,O.hl)())return!1;if(La.C())return!0;const e=(0,O.z$)(),n=La.S(e),r=0<n&&n<10,i=La.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,we.Z)(function*(){return n.db||(xe("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const s=indexedDB.open(n.name,n.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new cy(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new Me(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Me(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new cy(e,a))},s.onupgradeneeded=o=>{xe("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',o.oldVersion),n.p.N(o.target.result,s.transaction,o.oldVersion,n.version).next(()=>{xe("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var s=this;return(0,we.Z)(function*(){const o="readonly"===n;let a=0;for(;;){++a;try{s.db=yield s.O(e);const u=CI.open(s.db,e,o?"readonly":"readwrite",r),l=i(u).next(h=>(u.g(),h)).catch(h=>(u.abort(h),ie.reject(h))).toPromise();return l.catch(()=>{}),yield u.m,l}catch(u){const l=u,h="FirebaseError"!==l.name&&a<3;if(xe("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),s.close(),!h)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Dde{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Kd(this.k.delete())}}class cy extends Me{constructor(e,n){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function hc(t){return"IndexedDbTransactionError"===t.name}class Ade{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(xe("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Kd(r)}add(e){return xe("SimpleDb","ADD",this.store.name,e,e),Kd(this.store.add(e))}get(e){return Kd(this.store.get(e)).next(n=>(void 0===n&&(n=null),xe("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return xe("SimpleDb","DELETE",this.store.name,e),Kd(this.store.delete(e))}count(){return xe("SimpleDb","COUNT",this.store.name),Kd(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new ie((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new ie((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){xe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new ie((r,i)=>{n.onerror=s=>{const o=bM(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new ie((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new Dde(a),l=n(a.primaryKey,a.value,u);if(l instanceof ie){const h=l.catch(p=>(u.done(),ie.reject(p)));r.push(h)}u.isDone?i():null===u.$?a.continue():a.continue(u.$)}}).next(()=>ie.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Kd(t){return new ie((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=bM(r.target.error);n(i)}})}let CH=!1;function bM(t){const e=La.S((0,O.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CH||(CH=!0,setTimeout(()=>{throw r},0)),r}}return t}class Pde{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;xe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,we.Z)(function*(){n.task=null;try{xe("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(r){hc(r)?xe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield dc(r)}yield n.ee(6e4)}))}}class Mde{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,we.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,s=!0;return ie.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return xe("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(xe("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=vH(s);CM(o,r)>0&&(r=o)}),new No(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let ko=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function dy(t){return null==t}function hy(t){return 0===t&&1/t==-1/0}function IH(t){return"number"==typeof t&&Number.isInteger(t)&&!hy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ss(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bH(e)),e=Rde(t.get(n),e);return bH(e)}function Rde(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function bH(t){return t+"\x01\x01"}function _u(t){const e=t.length;if(ct(e>=2),2===e)return ct("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Tn.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("\x01",s);switch((o<0||o>n)&&Xe(),t.charAt(o+1)){case"\x01":const a=t.substring(s,o);let u;0===i.length?u=a:(i+=a,u=i,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Xe()}s=o+2}return new Tn(r)}const TH=["userId","batchId"];function II(t,e){return[t,Ss(e)]}function SH(t,e,n){return[t,Ss(e),n]}const xde={},Ode=["prefixPath","collectionGroup","readTime","documentId"],Nde=["prefixPath","collectionGroup","documentId"],kde=["collectionGroup","readTime","prefixPath","documentId"],Fde=["canonicalId","targetId"],Lde=["targetId","path"],Vde=["path","targetId"],Ude=["collectionId","parent"],Bde=["indexId","uid"],jde=["uid","sequenceNumber"],$de=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Hde=["indexId","uid","orderedDocumentKey"],zde=["userId","collectionPath","documentId"],Wde=["userId","collectionPath","largestBatchId"],qde=["userId","collectionGroup","largestBatchId"],DH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Gde=[...DH,"documentOverlays"],AH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],PH=AH,Kde=[...PH,"indexConfiguration","indexState","indexEntries"];class TM extends EH{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Hi(t,e){const n=ze(t);return La.M(n.ae,e)}function MH(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class cr{constructor(e,n){this.comparator=e,this.root=n||ss.EMPTY}insert(e,n){return new cr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ss.BLACK,null,null))}remove(e){return new cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ss.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bI(this.root,e,this.comparator,!1)}getReverseIterator(){return new bI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bI(this.root,e,this.comparator,!0)}}class bI{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ss{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ss.RED,this.left=i??ss.EMPTY,this.right=s??ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ss(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return ss.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}ss.EMPTY=null,ss.RED=!0,ss.BLACK=!1,ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ss(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yn{constructor(e){this.comparator=e,this.data=new cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xH(this.data.getIterator())}getIteratorFrom(e){return new xH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yn(this.comparator);return n.data=e,n}}class xH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bp(t){return t.hasNext()?t.getNext():void 0}class go{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new go([])}unionWith(e){let n=new Yn(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new go(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lp(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class OH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ri{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new OH("Invalid base64 string: "+s):s}}(e);return new Ri(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ri(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ri.EMPTY_BYTE_STRING=new Ri("");const Qde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pc(t){if(ct(!!t),"string"==typeof t){let e=0;const n=Qde.exec(t);if(ct(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ei(t.seconds),nanos:ei(t.nanos)}}function ei(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ll(t){return"string"==typeof t?Ri.fromBase64String(t):Ri.fromUint8Array(t)}function TI(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function SI(t){const e=t.mapValue.fields.__previous_value__;return TI(e)?SI(e):e}function fy(t){const e=pc(t.mapValue.fields.__local_write_time__.timestampValue);return new Nr(e.seconds,e.nanos)}class Yde{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class gc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new gc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}const mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},DI={nullValue:"NULL_VALUE"};function _c(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?TI(t)?4:LH(t)?9007199254740991:10:Xe()}function yu(t,e){if(t===e)return!0;const n=_c(t);if(n!==_c(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fy(t).isEqual(fy(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=pc(i.timestampValue),a=pc(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,ll(t.bytesValue).isEqual(ll(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ei(i.geoPointValue.latitude)===ei(s.geoPointValue.latitude)&&ei(i.geoPointValue.longitude)===ei(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ei(i.integerValue)===ei(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ei(i.doubleValue),a=ei(s.doubleValue);return o===a?hy(o)===hy(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Lp(t.arrayValue.values||[],e.arrayValue.values||[],yu);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(MH(o)!==MH(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!yu(o[u],a[u])))return!1;return!0}(t,e);default:return Xe()}var s}function py(t,e){return void 0!==(t.values||[]).find(n=>yu(n,e))}function yc(t,e){if(t===e)return 0;const n=_c(t),r=_c(e);if(n!==r)return jt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ei(s.integerValue||s.doubleValue),u=ei(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return NH(t.timestampValue,e.timestampValue);case 4:return NH(fy(t),fy(e));case 5:return jt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ll(s),u=ll(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const h=jt(a[l],u[l]);if(0!==h)return h}return jt(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=jt(ei(s.latitude),ei(o.latitude));return 0!==a?a:jt(ei(s.longitude),ei(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const h=yc(a[l],u[l]);if(h)return h}return jt(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===mc.mapValue&&o===mc.mapValue)return 0;if(s===mc.mapValue)return 1;if(o===mc.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const y=jt(u[p],h[p]);if(0!==y)return y;const C=yc(a[u[p]],l[h[p]]);if(0!==C)return C}return jt(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function NH(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return jt(t,e);const n=pc(t),r=pc(e),i=jt(n.seconds,r.seconds);return 0!==i?i:jt(n.nanos,r.nanos)}function jp(t){return SM(t)}function SM(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=pc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ll(t.bytesValue).toBase64():"referenceValue"in t?qe.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=SM(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${SM(n.fields[o])}`;return i+"}"}(t.mapValue):Xe()}function Zd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function DM(t){return!!t&&"integerValue"in t}function gy(t){return!!t&&"arrayValue"in t}function kH(t){return!!t&&"nullValue"in t}function FH(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function PI(t){return!!t&&"mapValue"in t}function my(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=my(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=my(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LH(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function Xde(t){return"nullValue"in t?DI:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Zd(gc.empty(),qe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Xe()}function Jde(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Zd(gc.empty(),qe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?mc:Xe()}function VH(t,e){const n=yc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function UH(t,e){const n=yc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!PI(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=my(n)}setAll(e){let n=yr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=my(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());PI(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];PI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new os(my(this.value))}}function BH(t){const e=[];return fc(t.fields,(n,r)=>{const i=new yr([n]);if(PI(r)){const s=BH(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new go(e)}class vr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vr(e,0,ht.min(),ht.min(),ht.min(),os.empty(),0)}static newFoundDocument(e,n,r,i){return new vr(e,1,n,ht.min(),r,i,0)}static newNoDocument(e,n){return new vr(e,2,n,ht.min(),ht.min(),os.empty(),0)}static newUnknownDocument(e,n){return new vr(e,3,n,ht.min(),ht.min(),os.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ht.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vc{constructor(e,n){this.position=e,this.inclusive=n}}function jH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?qe.comparator(qe.fromName(o.referenceValue),n.key):yc(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function $H(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yu(t.position[n],e.position[n]))return!1;return!0}class _y{constructor(e,n="asc"){this.field=e,this.dir=n}}function ehe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class HH{}class yn extends HH{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new the(e,n,r):"array-contains"===n?new ihe(e,r):"in"===n?new ZH(e,r):"not-in"===n?new she(e,r):"array-contains-any"===n?new ohe(e,r):new yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new nhe(e,r):new rhe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(yc(n,this.value)):null!==n&&_c(this.value)===_c(n)&&this.matchesComparison(yc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends HH{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Wn(e,n)}matches(e){return $p(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function $p(t){return"and"===t.op}function AM(t){return"or"===t.op}function PM(t){return zH(t)&&$p(t)}function zH(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function MM(t){if(t instanceof yn)return t.field.canonicalString()+t.op.toString()+jp(t.value);if(PM(t))return t.filters.map(e=>MM(e)).join(",");{const e=t.filters.map(n=>MM(n)).join(",");return`${t.op}(${e})`}}function WH(t,e){return t instanceof yn?(r=t,(i=e)instanceof yn&&r.op===i.op&&r.field.isEqual(i.field)&&yu(r.value,i.value)):t instanceof Wn?function(r,i){return i instanceof Wn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&WH(o,i.filters[a]),!0)}(t,e):void Xe();var r,i}function qH(t,e){const n=t.filters.concat(e);return Wn.create(n,t.op)}function GH(t){return t instanceof yn?`${(n=t).field.canonicalString()} ${n.op} ${jp(n.value)}`:t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(GH).join(" ,")+"}"}(t):"Filter";var n}class the extends yn{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class nhe extends yn{constructor(e,n){super(e,"in",n),this.keys=KH(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rhe extends yn{constructor(e,n){super(e,"not-in",n),this.keys=KH(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KH(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>qe.fromName(r.referenceValue))}class ihe extends yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gy(n)&&py(n.arrayValue,this.value)}}class ZH extends yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&py(this.value.arrayValue,n)}}class she extends yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(py(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!py(this.value.arrayValue,n)}}class ohe extends yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>py(this.value.arrayValue,r))}}class ahe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function RM(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ahe(t,e,n,r,i,s,o)}function Qd(t){const e=ze(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>MM(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),dy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jp(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jp(r)).join(",")),e.ce=n}return e.ce}function yy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ehe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WH(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$H(t.startAt,e.startAt)&&$H(t.endAt,e.endAt)}function MI(t){return qe.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function RI(t,e){return t.filters.filter(n=>n instanceof yn&&n.field.isEqual(e))}function QH(t,e,n){let r=DI,i=!0;for(const s of RI(t,e)){let o=DI,a=!0;switch(s.op){case"<":case"<=":o=Xde(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=DI}VH({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];VH({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}return{value:r,inclusive:i}}function YH(t,e,n){let r=mc,i=!0;for(const s of RI(t,e)){let o=mc,a=!0;switch(s.op){case">=":case">":o=Jde(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=mc}UH({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];UH({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}return{value:r,inclusive:i}}class cl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function XH(t,e,n,r,i,s,o,a){return new cl(t,e,n,r,i,s,o,a)}function Hp(t){return new cl(t)}function JH(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function xM(t){return null!==t.collectionGroup}function zp(t){const e=ze(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Yn(yr.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new _y(s,r))}),n.has(yr.keyField().canonicalString())||e.le.push(new _y(yr.keyField(),r))}return e.le}function Ys(t){const e=ze(t);return e.he||(e.he=function e4(t,e){if("F"===t.limitType)return RM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new _y(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new vc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vc(t.startAt.position,t.startAt.inclusive):null;return RM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,zp(t))),e.he}function OM(t,e){const n=t.filters.concat([e]);return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xI(t,e,n){return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vy(t,e){return yy(Ys(t),Ys(e))&&t.limitType===e.limitType}function t4(t){return`${Qd(Ys(t))}|lt:${t.limitType}`}function Wp(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>GH(i)).join(", ")}]`),dy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jp(i)).join(",")),`Target(${r})`}(Ys(t))}; limitType=${t.limitType})`}function wy(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):qe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of zp(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,u){const l=jH(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,zp(r),i)||r.endAt&&!function(o,a,u){const l=jH(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,zp(r),i)));var r,i}function n4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function r4(t){return(e,n)=>{let r=!1;for(const i of zp(t)){const s=uhe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function uhe(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return null!==u&&null!==l?yc(u,l):Xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}class dl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return RH(this.inner)}size(){return this.innerSize}}const lhe=new cr(qe.comparator);function mo(){return lhe}const i4=new cr(qe.comparator);function Ey(...t){let e=i4;for(const n of t)e=e.insert(n.key,n);return e}function s4(t){let e=i4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vu(){return Cy()}function o4(){return Cy()}function Cy(){return new dl(t=>t.toString(),(t,e)=>t.isEqual(e))}const che=new cr(qe.comparator),dhe=new Yn(qe.comparator);function Xt(...t){let e=dhe;for(const n of t)e=e.add(n);return e}const hhe=new Yn(jt);function NM(){return hhe}function a4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hy(e)?"-0":e}}function u4(t){return{integerValue:""+t}}function l4(t,e){return IH(e)?u4(e):a4(t,e)}class OI{constructor(){this._=void 0}}function fhe(t,e,n){return t instanceof qp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&TI(s)&&(s=SI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Yd?d4(t,e):t instanceof Xd?h4(t,e):function(i,s){const o=c4(i,s),a=f4(o)+f4(i.Ie);return DM(o)&&DM(i.Ie)?u4(a):a4(i.serializer,a)}(t,e)}function phe(t,e,n){return t instanceof Yd?d4(t,e):t instanceof Xd?h4(t,e):n}function c4(t,e){return t instanceof Gp?DM(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class qp extends OI{}class Yd extends OI{constructor(e){super(),this.elements=e}}function d4(t,e){const n=p4(e);for(const r of t.elements)n.some(i=>yu(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xd extends OI{constructor(e){super(),this.elements=e}}function h4(t,e){let n=p4(e);for(const r of t.elements)n=n.filter(i=>!yu(i,r));return{arrayValue:{values:n}}}class Gp extends OI{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function f4(t){return ei(t.integerValue||t.doubleValue)}function p4(t){return gy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Iy{constructor(e,n){this.field=e,this.transform=n}}class mhe{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function NI(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class kI{}function g4(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Zp(t.key,kr.none()):new Kp(t.key,t.data,kr.none());{const n=t.data,r=os.empty();let i=new Yn(yr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new hl(t.key,r,new go(i.toArray()),kr.none())}}function _he(t,e,n){t instanceof Kp?function(i,s,o){const a=i.value.clone(),u=y4(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hl?function(i,s,o){if(!NI(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=y4(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(_4(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function by(t,e,n,r){return t instanceof Kp?function(s,o,a,u){if(!NI(s.precondition,o))return a;const l=s.value.clone(),h=v4(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof hl?function(s,o,a,u){if(!NI(s.precondition,o))return a;const l=v4(s.fieldTransforms,u,o),h=o.data;return h.setAll(_4(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):(a=n,NI(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function yhe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=c4(r.transform,i||null);null!=s&&(null===n&&(n=os.empty()),n.set(r.field,s))}return n||null}function m4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Lp(r,i,(s,o)=>function ghe(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Yd&&i instanceof Yd||r instanceof Xd&&i instanceof Xd?Lp(r.elements,i.elements,yu):r instanceof Gp&&i instanceof Gp?yu(r.Ie,i.Ie):r instanceof qp&&i instanceof qp);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class Kp extends kI{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hl extends kI{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function y4(t,e,n){const r=new Map;ct(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,phe(o,a,n[i]))}return r}function v4(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,fhe(s,o,e))}return r}class Zp extends kI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kM extends kI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_he(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=by(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=by(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=o4();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=g4(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ht.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xt())}isEqual(e){return this.batchId===e.batchId&&Lp(this.mutations,e.mutations,(n,r)=>m4(n,r))&&Lp(this.baseMutations,e.baseMutations,(n,r)=>m4(n,r))}}class LM{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ct(e.mutations.length===r.length);let i=che;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new LM(e,n,r,i)}}class VM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class whe{constructor(e,n){this.count=e,this.unchangedNames=n}}var _i,Sn;function w4(t){switch(t){default:return Xe();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function E4(t){if(void 0===t)return ai("GRPC error has no .code"),pe.UNKNOWN;switch(t){case _i.OK:return pe.OK;case _i.CANCELLED:return pe.CANCELLED;case _i.UNKNOWN:return pe.UNKNOWN;case _i.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case _i.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case _i.INTERNAL:return pe.INTERNAL;case _i.UNAVAILABLE:return pe.UNAVAILABLE;case _i.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case _i.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case _i.NOT_FOUND:return pe.NOT_FOUND;case _i.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case _i.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case _i.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case _i.ABORTED:return pe.ABORTED;case _i.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case _i.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case _i.DATA_LOSS:return pe.DATA_LOSS;default:return Xe()}}(Sn=_i||(_i={}))[Sn.OK=0]="OK",Sn[Sn.CANCELLED=1]="CANCELLED",Sn[Sn.UNKNOWN=2]="UNKNOWN",Sn[Sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sn[Sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sn[Sn.NOT_FOUND=5]="NOT_FOUND",Sn[Sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sn[Sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sn[Sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sn[Sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sn[Sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sn[Sn.ABORTED=10]="ABORTED",Sn[Sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sn[Sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sn[Sn.INTERNAL=13]="INTERNAL",Sn[Sn.UNAVAILABLE=14]="UNAVAILABLE",Sn[Sn.DATA_LOSS=15]="DATA_LOSS";function C4(){return new TextEncoder}const Ehe=new Np([4294967295,4294967295],0);function I4(t){const e=C4().encode(t),n=new pde;return n.update(e),new Uint8Array(n.digest())}function b4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Np([n,r],0),new Np([i,s],0)]}class UM{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ty(`Invalid padding: ${n}`);if(r<0)throw new Ty(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ty(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Ty(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Np.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Np.fromNumber(r)));return 1===i.compare(Ehe)&&(i=new Np([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=I4(e),[r,i]=b4(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new UM(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=I4(e),[r,i]=b4(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Ty extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dy.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sy(ht.min(),i,new cr(jt),mo(),Xt())}}class Dy{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dy(r,n,Xt(),Xt(),Xt())}}class LI{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class T4{constructor(e,n){this.targetId=e,this.fe=n}}class S4{constructor(e,n,r=Ri.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class D4{constructor(){this.ge=0,this.pe=P4(),this.ye=Ri.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Xt(),n=Xt(),r=Xt();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Xe()}}),new Dy(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=P4()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Che{constructor(e){this.Le=e,this.ke=new Map,this.qe=mo(),this.Qe=A4(),this.Ke=new cr(jt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(MI(s))if(0===r){const o=new qe(s.path);this.We(n,o,vr.newNoDocument(o,ht.min()))}else ct(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;0!==u&&(this.He(n),this.Ke=this.Ke.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ll(r).toUint8Array()}catch(u){if(u instanceof OH)return po("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new UM(o,i,s)}catch(u){return po(u instanceof Ty?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&MI(a.target)){const u=new qe(a.target.path);null!==this.qe.get(u)||this.st(o,u)||this.We(o,u,vr.newNoDocument(u,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Xt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Sy(e,n,this.Ke,this.qe,r);return this.qe=mo(),this.Qe=A4(),this.Ke=new cr(jt),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new D4,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Yn(jt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||xe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new D4),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function A4(){return new cr(qe.comparator)}function P4(){return new cr(qe.comparator)}const Ihe={asc:"ASCENDING",desc:"DESCENDING"},bhe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},The={and:"AND",or:"OR"};class She{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function BM(t,e){return t.useProto3Json||dy(e)?e:{value:e}}function Qp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Dhe(t,e){return Qp(t,e.toTimestamp())}function ui(t){return ct(!!t),ht.fromTimestamp(function(n){const r=pc(n);return new Nr(r.seconds,r.nanos)}(t))}function jM(t,e){return(r=t,new Tn(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function R4(t){const e=Tn.fromString(t);return ct(B4(e)),e}function Ay(t,e){return jM(t.databaseId,e.path)}function wu(t,e){const n=R4(e);if(n.get(1)!==t.databaseId.projectId)throw new Me(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Me(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(O4(n))}function $M(t,e){return jM(t.databaseId,e)}function x4(t){const e=R4(t);return 4===e.length?Tn.emptyPath():O4(e)}function Py(t){return new Tn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O4(t){return ct(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function N4(t,e,n){return{name:Ay(t,e),fields:n.value.mapValue.fields}}function k4(t,e,n){const r=wu(t,e.name),i=ui(e.updateTime),s=e.createTime?ui(e.createTime):ht.min(),o=new os({mapValue:{fields:e.fields}}),a=vr.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function My(t,e){let n;if(e instanceof Kp)n={update:N4(t,e.key,e.value)};else if(e instanceof Zp)n={delete:Ay(t,e.key)};else if(e instanceof hl)n={update:N4(t,e.key,e.data),updateMask:khe(e.fieldMask)};else{if(!(e instanceof kM))return Xe();n={verify:Ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof qp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gp)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Xe()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:Dhe(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Xe()),n;var s}function HM(t,e){const n=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?kr.updateTime(ui(s.updateTime)):void 0!==s.exists?kr.exists(s.exists):kr.none():kr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;"setToServerValue"in a?(ct("REQUEST_TIME"===a.setToServerValue),u=new qp):"appendMissingElements"in a?u=new Yd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Xd(a.removeAllFromArray.values||[]):"increment"in a?u=new Gp(o,a.increment):Xe();const l=yr.fromServerFormat(a.fieldPath);return new Iy(l,u)}(t,i)):[];var s;if(e.update){const i=wu(t,e.update.name),s=new os({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new go((e.updateMask.fieldPaths||[]).map(h=>yr.fromServerFormat(h)));return new hl(i,s,o,n,r)}return new Kp(i,s,n,r)}if(e.delete){const i=wu(t,e.delete);return new Zp(i,n)}if(e.verify){const i=wu(t,e.verify);return new kM(i,n)}return Xe()}function F4(t,e){return{documents:[$M(t,e.path)]}}function zM(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=$M(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$M(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return U4(Wn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:wc((p=l).field),direction:xhe(p.dir)};var p})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=BM(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n;var u}function L4(t){let e=x4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ct(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){const y=V4(p);return y instanceof Wn&&PM(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(y=>{return new _y(Yp((S=y).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let a=null;n.limit&&(a=function(p){let y;return y="object"==typeof p?p.value:p,dy(y)?null:y}(n.limit));let u=null;var p;n.startAt&&(u=new vc((p=n.startAt).values||[],!!p.before));let l=null;return n.endAt&&(l=function(p){return new vc(p.values||[],!p.before)}(n.endAt)),XH(e,i,o,s,a,"F",u,l)}function V4(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yp(n.unaryFilter.field);return yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yp(n.unaryFilter.field);return yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Yp(n.unaryFilter.field);return yn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yp(n.unaryFilter.field);return yn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):void 0!==t.fieldFilter?yn.create(Yp((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Wn.create(n.compositeFilter.filters.map(r=>V4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(n.compositeFilter.op))}(t):Xe();var n}function xhe(t){return Ihe[t]}function Ohe(t){return bhe[t]}function Nhe(t){return The[t]}function wc(t){return{fieldPath:t.canonicalString()}}function Yp(t){return yr.fromServerFormat(t.fieldPath)}function U4(t){return t instanceof yn?function(n){if("=="===n.op){if(FH(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NAN"}};if(kH(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(FH(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NOT_NAN"}};if(kH(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(n.field),op:Ohe(n.op),value:n.value}}}(t):t instanceof Wn?function(n){const r=n.getFilters().map(i=>U4(i));return 1===r.length?r[0]:{compositeFilter:{op:Nhe(n.op),filters:r}}}(t):Xe()}function khe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function B4(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class fl{constructor(e,n,r,i,s=ht.min(),o=ht.min(),a=Ri.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new fl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class j4{constructor(e){this.ut=e}}function $4(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:VI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ay(s=t.ut,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Qp(s,o.version.toTimestamp()),createTime:Qp(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Jd(e.version)};else{if(!e.isUnknownDocument())return Xe();r.unknownDocument={path:n.path.toArray(),version:Jd(e.version)}}var s,o;return r}function VI(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Jd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function eh(t){const e=new Nr(t.seconds,t.nanoseconds);return ht.fromTimestamp(e)}function th(t,e){const n=(e.baseMutations||[]).map(s=>HM(t.ut,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>HM(t.ut,s)),i=Nr.fromMillis(e.localWriteTimeMs);return new FM(e.batchId,i,n,r)}function Ry(t){const e=eh(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?eh(t.lastLimboFreeSnapshotVersion):ht.min();let r;return r=void 0!==t.query.documents?(ct(1===(s=t.query).documents.length),Ys(Hp(x4(s.documents[0])))):function(s){return Ys(L4(s))}(t.query),new fl(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ri.fromBase64String(t.resumeToken));var s}function H4(t,e){const n=Jd(e.snapshotVersion),r=Jd(e.lastLimboFreeSnapshotVersion);let i;i=MI(e.target)?F4(t.ut,e.target):zM(t.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qd(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function WM(t){const e=L4({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?xI(e,e.limit,"L"):e}function qM(t,e){return new VM(e.largestBatchId,HM(t.ut,e.overlayMutation))}function z4(t,e){const n=e.path.lastSegment();return[t,Ss(e.path.popLast()),n]}function W4(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Jd(r.readTime),documentKey:Ss(r.documentKey.path),largestBatchId:r.largestBatchId}}class Lhe{getBundleMetadata(e,n){return q4(e).get(n).next(r=>{if(r)return{id:(s=r).bundleId,createTime:eh(s.createTime),version:s.version};var s})}saveBundleMetadata(e,n){return q4(e).put({bundleId:(i=n).id,createTime:Jd(ui(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return G4(e).get(n).next(r=>{if(r)return{name:(s=r).name,query:WM(s.bundledQuery),readTime:eh(s.readTime)};var s})}saveNamedQuery(e,n){return G4(e).put({name:(i=n).name,readTime:Jd(ui(i.readTime)),bundledQuery:i.bundledQuery});var i}}function q4(t){return Hi(t,"bundles")}function G4(t){return Hi(t,"namedQueries")}class UI{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new UI(e,n.uid||"")}getOverlay(e,n){return xy(e).get(z4(this.userId,n)).next(r=>r?qM(this.serializer,r):null)}getOverlays(e,n){const r=vu();return ie.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new VM(n,o);i.push(this.lt(e,a))}),ie.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Ss(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(xy(e).H("collectionPathOverlayIndex",a))}),ie.waitFor(s)}getOverlaysForCollection(e,n,r){const i=vu(),s=Ss(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return xy(e).W("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const l=qM(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=vu();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return xy(e).Y({index:"collectionGroupOverlayIndex",range:a},(u,l,h)=>{const p=qM(this.serializer,l);s.size()<i||p.largestBatchId===o?(s.set(p.getKey(),p),o=p.largestBatchId):h.done()}).next(()=>s)}lt(e,n){return xy(e).put(function(i,s,o){const[a,u,l]=z4(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:My(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function xy(t){return Hi(t,"documentOverlays")}class nh{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(ei(e.integerValue));else if("doubleValue"in e){const r=ei(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),hy(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(ll(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?LH(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Xe()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),qe.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function Vhe(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function K4(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=Vhe(255&r[s]);if(i+=o,8!==o)break}return i}(t);return Math.ceil(e/8)}nh.St=new nh;class Uhe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=K4(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=K4(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Bhe{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class jhe{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Oy{constructor(){this.Wt=new Uhe,this.Gt=new Bhe(this.Wt),this.zt=new jhe(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class rh{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new rh(this.indexId,this.documentKey,this.arrayValue,r)}}function Ec(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=Z4(t.arrayValue,e.arrayValue),0!==n?n:(n=Z4(t.directionalValue,e.directionalValue),0!==n?n:qe.comparator(t.documentKey,e.documentKey)))}function Z4(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class Q4{constructor(e){this.Jt=new Yn((n,r)=>yr.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(ct(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=EM(e);if(void 0!==n&&!this.tn(n))return!1;const r=qd(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const u=r[s];if(!this.nn(a,u)||!this.rn(this.Yt[o++],u))return!1}++s}for(;s<r.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],r[s]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Yn(yr.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new Gd(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Gd(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Gd(r.field,"asc"===r.dir?0:1)));return new Vp(Vp.UNKNOWN_ID,this.collectionId,n,Up.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function Y4(t){var e,n;if(ct(t instanceof yn||t instanceof Wn),t instanceof yn){if(t instanceof ZH){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(s=>yn.create(t.field,"==",s)))||[];return Wn.create(i,"or")}return t}const r=t.filters.map(i=>Y4(i));return Wn.create(r,t.op)}function $he(t){if(0===t.getFilters().length)return[];const e=ZM(Y4(t));return ct(X4(e)),GM(e)||KM(e)?[e]:e.getFilters()}function GM(t){return t instanceof yn}function KM(t){return t instanceof Wn&&PM(t)}function X4(t){return GM(t)||KM(t)||function(n){if(n instanceof Wn&&AM(n)){for(const r of n.getFilters())if(!GM(r)&&!KM(r))return!1;return!0}return!1}(t)}function ZM(t){if(ct(t instanceof yn||t instanceof Wn),t instanceof yn)return t;if(1===t.filters.length)return ZM(t.filters[0]);const e=t.filters.map(r=>ZM(r));let n=Wn.create(e,t.op);return n=BI(n),X4(n)?n:(ct(n instanceof Wn),ct($p(n)),ct(n.filters.length>1),n.filters.reduce((r,i)=>QM(r,i)))}function QM(t,e){let n;return ct(t instanceof yn||t instanceof Wn),ct(e instanceof yn||e instanceof Wn),n=t instanceof yn?e instanceof yn?Wn.create([t,e],"and"):J4(t,e):e instanceof yn?J4(e,t):function(i,s){if(ct(i.filters.length>0&&s.filters.length>0),$p(i)&&$p(s))return qH(i,s.getFilters());const o=AM(i)?i:s,a=AM(i)?s:i,u=o.filters.map(l=>QM(l,a));return Wn.create(u,"or")}(t,e),BI(n)}function J4(t,e){if($p(e))return qH(e,t.getFilters());{const n=e.filters.map(r=>QM(t,r));return Wn.create(n,"or")}}function BI(t){if(ct(t instanceof yn||t instanceof Wn),t instanceof yn)return t;const e=t.getFilters();if(1===e.length)return BI(e[0]);if(zH(t))return t;const n=e.map(i=>BI(i)),r=[];return n.forEach(i=>{i instanceof yn?r.push(i):i instanceof Wn&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Wn.create(r,t.op)}class Hhe{constructor(){this.on=new YM}addToCollectionParentIndex(e,n){return this.on.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(No.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(No.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class YM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Yn(Tn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yn(Tn.comparator)).toArray()}}const jI=new Uint8Array(0);class zhe{constructor(e,n){this.user=e,this.databaseId=n,this._n=new YM,this.an=new dl(r=>Qd(r),(r,i)=>yy(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:Ss(i)};return ez(e).put(s)}return ie.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[_H(n),""],!1,!0);return ez(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(_u(o.parent))}return r})}addFieldIndex(e,n){const r=Ny(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete i.indexId;const s=r.add(i);if(n.indexState){const o=Jp(e);return s.next(a=>{o.put(W4(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Ny(e),i=Jp(e),s=Xp(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Ny(e),r=Xp(e),i=Jp(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return ie.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new Q4(r).sn();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Xp(e);let i=!0;const s=new Map;return ie.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Xt();const a=[];return ie.forEach(s,(u,l)=>{var J;xe("IndexedDbIndexManager",`Using index ${J=u,`id=${J.indexId}|cg=${J.collectionGroup}|f=${J.fields.map(me=>`${me.fieldPath}:${me.kind}`).join(",")}`} to execute ${Qd(n)}`);const h=function(J,me){const Ne=EM(me);if(void 0===Ne)return null;for(const Ge of RI(J,Ne.fieldPath))switch(Ge.op){case"array-contains-any":return Ge.value.arrayValue.values||[];case"array-contains":return[Ge.value]}return null}(l,u),p=function(J,me){const Ne=new Map;for(const Ge of qd(me))for(const xt of RI(J,Ge.fieldPath))switch(xt.op){case"==":case"in":Ne.set(Ge.fieldPath.canonicalString(),xt.value);break;case"not-in":case"!=":return Ne.set(Ge.fieldPath.canonicalString(),xt.value),Array.from(Ne.values())}return null}(l,u),y=function(J,me){const Ne=[];let Ge=!0;for(const xt of qd(me)){const Ln=0===xt.kind?QH(J,xt.fieldPath,J.startAt):YH(J,xt.fieldPath,J.startAt);Ne.push(Ln.value),Ge&&(Ge=Ln.inclusive)}return new vc(Ne,Ge)}(l,u),C=function(J,me){const Ne=[];let Ge=!0;for(const xt of qd(me)){const Ln=0===xt.kind?YH(J,xt.fieldPath,J.endAt):QH(J,xt.fieldPath,J.endAt);Ne.push(Ln.value),Ge&&(Ge=Ln.inclusive)}return new vc(Ne,Ge)}(l,u),S=this.ln(u,l,y),M=this.ln(u,l,C),N=this.hn(u,l,p),Z=this.Pn(u.indexId,h,S,y.inclusive,M,C.inclusive,N);return ie.forEach(Z,W=>r.j(W,n.limit).next(J=>{J.forEach(me=>{const Ne=qe.fromSegments(me.documentKey);o.has(Ne)||(o=o.add(Ne),a.push(Ne))})}))}).next(()=>a)}return ie.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:$he(Wn.create(e.filters,"and")).map(r=>RM(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){const u=(null!=n?n.length:1)*Math.max(r.length,s.length),l=u/(null!=n?n.length:1),h=[];for(let p=0;p<u;++p){const y=n?this.In(n[p/l]):jI,C=this.Tn(e,y,r[p%l],i),S=this.En(e,y,s[p%l],o),M=a.map(N=>this.Tn(e,y,N,!0));h.push(...this.createRange(C,S,M))}return h}Tn(e,n,r,i){const s=new rh(e,qe.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){const s=new rh(e,qe.empty(),n,r);return i?s.Ht():s}cn(e,n){const r=new Q4(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return ie.forEach(i,s=>this.cn(e,s).next(o=>{o?0!==r&&o.fields.length<function(u){let l=new Yn(yr.comparator),h=!1;for(const p of u.filters)for(const y of p.getFlattenedFilters())y.field.isKeyField()||("array-contains"===y.op||"array-contains-any"===y.op?h=!0:l=l.add(y.field));for(const p of u.orderBy)p.field.isKeyField()||(l=l.add(p.field));return l.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}dn(e,n){const r=new Oy;for(const i of qd(e)){const s=n.data.field(i.fieldPath);if(null==s)return null;const o=r.jt(i.kind);nh.St.ht(s,o)}return r.Ut()}In(e){const n=new Oy;return nh.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new Oy;return nh.St.ht(Zd(this.databaseId,n),r.jt(function(s){const o=qd(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(null===r)return[];let i=[];i.push(new Oy);let s=0;for(const o of qd(e)){const a=r[s++];for(const u of i)if(this.Rn(n,o.fieldPath)&&gy(a))i=this.Vn(i,o,a);else{const l=u.jt(o.kind);nh.St.ht(a,l)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new Oy;u.seed(a.Ut()),nh.St.ht(o,u.jt(n.kind)),s.push(u)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof yn&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=Ny(e),i=Jp(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return ie.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(h,p){const y=p?new Up(p.sequenceNumber,new No(eh(p.readTime),new qe(_u(p.documentKey)),p.largestBatchId)):Up.empty(),C=h.fields.map(([S,M])=>new Gd(yr.fromServerFormat(S),M));return new Vp(h.indexId,h.collectionGroup,C,y)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:jt(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Ny(e),s=Jp(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>ie.forEach(a,u=>s.put(W4(u.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return ie.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?ie.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),ie.forEach(a,u=>this.gn(e,i,u).next(l=>{const h=this.pn(s,u);return l.isEqual(h)?ie.resolve():this.yn(e,s,u,l,h)}))))})}wn(e,n,r,i){return Xp(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return Xp(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=Xp(e);let s=new Yn(Ec);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new rh(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new Yn(Ec);const i=this.dn(n,e);if(null==i)return r;const s=EM(n);if(null!=s){const o=e.data.field(s.fieldPath);if(gy(o))for(const a of o.arrayValue.values||[])r=r.add(new rh(n.indexId,e.key,this.In(a),i))}else r=r.add(new rh(n.indexId,e.key,jI,i));return r}yn(e,n,r,i,s){xe("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(u,l,h,p,y){const C=u.getIterator(),S=l.getIterator();let M=Bp(C),N=Bp(S);for(;M||N;){let Z=!1,W=!1;if(M&&N){const J=h(M,N);J<0?W=!0:J>0&&(Z=!0)}else null!=M?W=!0:Z=!0;Z?(p(N),N=Bp(S)):W?(y(M),M=Bp(C)):(M=Bp(C),N=Bp(S))}}(i,s,Ec,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),ie.waitFor(o)}fn(e){let n=1;return Jp(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ec(o,a)).filter((o,a,u)=>!a||0!==Ec(o,u[a-1]));const i=[];i.push(e);for(const o of r){const a=Ec(o,e),u=Ec(o,n);if(0===a)i[0]=e.Ht();else if(a>0&&u<0)i.push(o),i.push(o.Ht());else if(u>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,jI,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,jI,[]]))}return s}bn(e,n){return Ec(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(tz)}getMinOffset(e,n){return ie.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||Xe())).next(tz)}}function ez(t){return Hi(t,"collectionParents")}function Xp(t){return Hi(t,"indexEntries")}function Ny(t){return Hi(t,"indexConfiguration")}function Jp(t){return Hi(t,"indexState")}function tz(t){ct(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;CM(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new No(e.readTime,e.documentKey,n)}const nz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ds{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ds(e,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rz(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Y({range:o},(h,p,y)=>(a++,y.delete()));s.push(u.next(()=>{ct(1===a)}));const l=[];for(const h of n.mutations){const p=SH(e,h.key.path,n.batchId);s.push(i.delete(p)),l.push(h.key)}return ie.waitFor(s).next(()=>l)}function $I(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xe();e=t.noDocument}return JSON.stringify(e).length}Ds.DEFAULT_COLLECTION_PERCENTILE=10,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ds.DEFAULT=new Ds(41943040,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ds.DISABLED=new Ds(-1,0,0);class HI{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){ct(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new HI(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cc(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=eg(e),o=Cc(e);return o.add({}).next(a=>{ct("number"==typeof a);const u=new FM(a,n,r,i),l=function(C,S,M){const N=M.baseMutations.map(W=>My(C.ut,W)),Z=M.mutations.map(W=>My(C.ut,W));return{userId:S,batchId:M.batchId,localWriteTimeMs:M.localWriteTime.toMillis(),baseMutations:N,mutations:Z}}(this.serializer,this.userId,u),h=[];let p=new Yn((y,C)=>jt(y.canonicalString(),C.canonicalString()));for(const y of i){const C=SH(this.userId,y.key.path,a);p=p.add(y.key.path.popLast()),h.push(o.put(l)),h.push(s.put(C,xde))}return p.forEach(y=>{h.push(this.indexManager.addToCollectionParentIndex(e,y))}),e.addOnCommittedListener(()=>{this.Dn[a]=u.keys()}),ie.waitFor(h).next(()=>u)})}lookupMutationBatch(e,n){return Cc(e).get(n).next(r=>r?(ct(r.userId===this.userId),th(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?ie.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Cc(e).Y({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(ct(a.batchId>=r),s=th(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Cc(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cc(e).W("userMutationsIndex",n).next(r=>r.map(i=>th(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=II(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return eg(e).Y({range:i},(o,a,u)=>{const[l,h,p]=o,y=_u(h);if(l===this.userId&&n.path.isEqual(y))return Cc(e).get(p).next(C=>{if(!C)throw Xe();ct(C.userId===this.userId),s.push(th(this.serializer,C))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yn(jt);const i=[];return n.forEach(s=>{const o=II(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=eg(e).Y({range:a},(l,h,p)=>{const[y,C,S]=l,M=_u(C);y===this.userId&&s.path.isEqual(M)?r=r.add(S):p.done()});i.push(u)}),ie.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=II(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Yn(jt);return eg(e).Y({range:o},(u,l,h)=>{const[p,y,C]=u,S=_u(y);p===this.userId&&r.isPrefixOf(S)?S.length===i&&(a=a.add(C)):h.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Cc(e).get(s).next(o=>{if(null===o)throw Xe();ct(o.userId===this.userId),r.push(th(this.serializer,o))}))}),ie.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return rz(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),ie.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ie.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return eg(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=_u(s[1]);i.push(u)}else a.done()}).next(()=>{ct(0===i.length)})})}containsKey(e,n){return iz(e,this.userId,n)}Mn(e){return sz(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function iz(t,e,n){const r=II(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return eg(t).Y({range:s,J:!0},(a,u,l)=>{const[h,p,y]=a;h===e&&p===i&&(o=!0),l.done()}).next(()=>o)}function Cc(t){return Hi(t,"mutations")}function eg(t){return Hi(t,"documentMutations")}function sz(t){return Hi(t,"mutationQueues")}class ih{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ih(0)}static Nn(){return new ih(-1)}}class Whe{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new ih(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ht.fromTimestamp(new Nr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>tg(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ct(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return tg(e).Y((o,a)=>{const u=Ry(a);u.sequenceNumber<=n&&null===r.get(u.targetId)&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>ie.waitFor(s)).next(()=>i)}forEachTarget(e,n){return tg(e).Y((r,i)=>{const s=Ry(i);n(s)})}Bn(e){return oz(e).get("targetGlobalKey").next(n=>(ct(null!==n),n))}Ln(e,n){return oz(e).put("targetGlobalKey",n)}kn(e,n){return tg(e).put(H4(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Qd(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return tg(e).Y({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const l=Ry(a);yy(n,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Ic(e);return n.forEach(o=>{const a=Ss(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),ie.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ic(e);return ie.forEach(n,s=>{const o=Ss(s.path);return ie.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Ic(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ic(e);let s=Xt();return i.Y({range:r,J:!0},(o,a,u)=>{const l=_u(o[1]),h=new qe(l);s=s.add(h)}).next(()=>s)}containsKey(e,n){const r=Ss(n.path),i=IDBKeyRange.bound([r],[_H(r)],!1,!0);let s=0;return Ic(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],u,l)=>{0!==o&&(s++,l.done())}).next(()=>s>0)}_t(e,n){return tg(e).get(n).next(r=>r?Ry(r):null)}}function tg(t){return Hi(t,"targets")}function oz(t){return Hi(t,"targetGlobal")}function Ic(t){return Hi(t,"targetDocuments")}function az([t,e],[n,r]){const i=jt(t,n);return 0===i?jt(e,r):i}class qhe{constructor(e){this.Qn=e,this.buffer=new Yn(az),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();az(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;xe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,we.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){hc(r)?xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield dc(r)}yield n.Gn(3e5)}))}}class Ghe{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return ie.resolve(ko._e);const r=new qhe(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(nz)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nz):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,u,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Fp()<=xo.in.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-h}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(u-a)+`ms\n\tRemoved ${p} documents in `+(l-u)+`ms\nTotal Duration: ${l-h}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}class Khe{constructor(e,n){this.db=e,this.garbageCollector=function lz(t,e){return new Ghe(t,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return zI(e,r)}removeReference(e,n,r){return zI(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return zI(e,n)}Xn(e,n){return function(i,s){let o=!1;return sz(i).Z(a=>iz(i,a,s).next(u=>(u&&(o=!0),ie.resolve(!u)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=n){const u=this.Xn(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ht.min()),Ic(e).delete([0,Ss(o.path)])))});i.push(u)}}).next(()=>ie.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return zI(e,n)}Zn(e,n){const r=Ic(e);let i,s=ko._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{0===o?(s!==ko._e&&n(new qe(_u(i)),s),s=l,i=u):s=ko._e}).next(()=>{s!==ko._e&&n(new qe(_u(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zI(t,e){return Ic(t).put((i=t.currentSequenceNumber,{targetId:0,path:Ss(e.path),sequenceNumber:i}));var i}class cz{constructor(){this.changes=new dl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zhe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return sh(e).put(r)}removeEntry(e,n,r){return sh(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],VI(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=vr.newInvalidDocument(n);return sh(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ky(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:vr.newInvalidDocument(n)};return sh(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ky(n))},(i,s)=>{r={document:this.tr(n,s),size:$I(s)}}).next(()=>r)}getEntries(e,n){let r=mo();return this.rr(e,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=mo(),i=new cr(qe.comparator);return this.rr(e,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,$I(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return ie.resolve();let i=new Yn(pz);n.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(ky(i.first()),ky(i.last())),o=i.getIterator();let a=o.getNext();return sh(e).Y({index:"documentKeyIndex",range:s},(u,l,h)=>{const p=qe.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&pz(a,p)<0;)r(a,null),a=o.getNext();a&&a.isEqual(p)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?h.U(ky(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),VI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sh(e).W(IDBKeyRange.bound(a,u,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let h=mo();for(const p of l){const y=this.tr(qe.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);y.isFoundDocument()&&(wy(n,y)||i.has(y.key))&&(h=h.insert(y.key,y))}return h})}getAllFromCollectionGroup(e,n,r,i){let s=mo();const o=fz(n,r),a=fz(n,No.max());return sh(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,h)=>{const p=this.tr(qe.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(p.key,p),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new Qhe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return hz(e).get("remoteDocumentGlobalKey").next(n=>(ct(!!n),n))}er(e,n){return hz(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=function Fhe(t,e){let n;if(e.document)n=k4(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=qe.fromSegments(e.noDocument.path),i=eh(e.noDocument.readTime);n=vr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xe();{const r=qe.fromSegments(e.unknownDocument.path),i=eh(e.unknownDocument.version);n=vr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Nr(i[0],i[1]);return ht.fromTimestamp(s)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(ht.min()))return r}return vr.newInvalidDocument(e)}}function dz(t){return new Zhe(t)}class Qhe extends cz{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new dl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Yn((s,o)=>jt(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=$4(this._r.serializer,o);i=i.add(s.path.popLast());const l=$I(u);r+=l-a.size,n.push(this._r.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=$4(this._r.serializer,o.convertToNoDocument(ht.min()));n.push(this._r.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),ie.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function hz(t){return Hi(t,"remoteDocumentGlobal")}function sh(t){return Hi(t,"remoteDocumentsV14")}function ky(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fz(t,e){const n=e.documentKey.path.toArray();return[t,VI(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function pz(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=jt(n[s],r[s]),i)return i;return i=jt(n.length,r.length),i||(i=jt(n[n.length-2],r[r.length-2]),i||jt(n[n.length-1],r[r.length-1]))}class Yhe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class gz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&by(r.mutation,i,go.empty(),Nr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xt()){const i=vu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ey();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=vu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=mo();const o=Cy(),a=Cy();return n.forEach((u,l)=>{const h=r.get(l.key);i.has(l.key)&&(void 0===h||h.mutation instanceof hl)?s=s.insert(l.key,l):void 0!==h?(o.set(l.key,h.mutation.getFieldMask()),by(h.mutation,l,h.mutation.getFieldMask(),Nr.now())):o.set(l.key,go.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Yhe(h,null!==(p=o.get(l))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Cy();let i=new cr((o,a)=>o-a),s=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(null===l)return;let h=r.get(u)||go.empty();h=a.applyToLocalView(l,h),r.set(u,h);const p=(i.get(a.batchId)||Xt()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,h=u.value,p=o4();h.forEach(y=>{if(!s.has(y)){const C=g4(n.get(y),r.get(y));null!==C&&p.set(y,C),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return ie.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return qe.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):xM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ie.resolve(vu());let a=-1,u=s;return o.next(l=>ie.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?ie.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,Xt())).next(h=>({batchId:a,changes:s4(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next(r=>{let i=Ey();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ey();return this.indexManager.getCollectionParents(e,s).next(a=>ie.forEach(a,u=>{const l=(p=n,y=u.child(s),new cl(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,y;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const h=l.getKey();null===o.get(h)&&(o=o.insert(h,vr.newInvalidDocument(h)))});let a=Ey();return o.forEach((u,l)=>{const h=s.get(u);void 0!==h&&by(h.mutation,l,go.empty(),Nr.now()),wy(n,l)&&(a=a.insert(u,l))}),a})}}class Xhe{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return ie.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:ui(i.createTime)}),ie.resolve();var i}getNamedQuery(e,n){return ie.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:WM(i.bundledQuery),readTime:ui(i.readTime)}),ie.resolve();var i}}class Jhe{constructor(){this.overlays=new cr(qe.comparator),this.lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vu();return ie.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const i=vu(),s=n.length+1,o=new qe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new cr((l,h)=>l-h);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);null===h&&(h=vu(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=vu(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return ie.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new VM(n,r));let s=this.lr.get(n);void 0===s&&(s=Xt(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class XM{constructor(){this.hr=new Yn(zi.Pr),this.Ir=new Yn(zi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new zi(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new zi(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new qe(new Tn([])),r=new zi(n,e),i=new zi(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new qe(new Tn([])),r=new zi(n,e),i=new zi(n,e+1);let s=Xt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new zi(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class zi{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return qe.comparator(e.key,n.key)||jt(e.gr,n.gr)}static Tr(e,n){return jt(e.gr,n.gr)||qe.comparator(e.key,n.key)}}class efe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Yn(zi.Pr)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new FM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new zi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ie.resolve(o)}lookupMutationBatch(e,n){return ie.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zi(n,0),i=new zi(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yn(jt);return n.forEach(i=>{const s=new zi(i,0),o=new zi(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),ie.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;qe.isDocumentKey(s)||(s=s.child(""));const o=new zi(new qe(s),0);let a=new Yn(jt);return this.yr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.gr)),!0)},o),ie.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){ct(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return ie.forEach(n.mutations,i=>{const s=new zi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new zi(n,0),i=this.yr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return ie.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class tfe{constructor(e){this.Cr=e,this.docs=new cr(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():vr.newInvalidDocument(n))}getEntries(e,n){let r=mo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vr.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=mo();const o=n.path,a=new qe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||CM(vH(h),r)<=0||(i.has(h.key)||wy(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return ie.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Xe()}vr(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nfe(this)}getSize(e){return ie.resolve(this.size)}}class nfe extends cz{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class rfe{constructor(e){this.persistence=e,this.Fr=new dl(n=>Qd(n),yy),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.Mr=0,this.Or=new XM,this.targetCount=0,this.Nr=ih.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),ie.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ih(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.kn(n),ie.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ie.waitFor(s).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ie.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.Or.containsKey(n))}}class JM{constructor(e,n){this.Br={},this.overlays={},this.Lr=new ko(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new rfe(this),this.indexManager=new Hhe,this.remoteDocumentCache=new tfe(r=>this.referenceDelegate.Qr(r)),this.serializer=new j4(n),this.Kr=new Xhe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Jhe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new efe(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const i=new ife(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return ie.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class ife extends EH{constructor(e){super(),this.currentSequenceNumber=e}}class WI{constructor(e){this.persistence=e,this.Gr=new XM,this.zr=null}static jr(e){return new WI(e)}get Hr(){if(this.zr)return this.zr;throw Xe()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Hr,r=>{const i=qe.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ht.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return ie.or([()=>ie.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class sfe{constructor(e){this.serializer=e}N(e,n,r,i){const s=new CI("createOrUpgrade",n);var u;r<1&&i>=1&&(e.createObjectStore("owner"),(u=e).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TH,{unique:!0}),u.createObjectStore("documentMutations"),mz(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=ie.resolve();return r<3&&i>=3&&(0!==r&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),mz(e)),o=o.next(()=>function(u){const l=u.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ht.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(u,l){return l.store("mutations").W().next(h=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TH,{unique:!0});const p=l.store("mutations"),y=h.map(C=>p.put(C));return ie.waitFor(y)})}(e,s))),o=o.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(u){const l=u.createObjectStore("documentOverlays",{keyPath:zde});l.createIndex("collectionPathOverlayIndex",Wde,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",qde,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const l=u.createObjectStore("remoteDocumentsV14",{keyPath:Ode});l.createIndex("documentKeyIndex",Nde),l.createIndex("collectionGroupIndex",kde)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:Bde}).createIndex("sequenceNumberIndex",jde,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:$de}).createIndex("documentKeyIndex",Hde,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=$I(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>ie.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>ie.forEach(a,u=>{ct(u.userId===s.userId);const l=th(this.serializer,u);return rz(e,s.userId,l).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const u=new Tn(o),l=[0,Ss(u)];s.push(n.get(l).next(h=>h?ie.resolve():n.put({targetId:0,path:Ss(u),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ie.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Ude});const r=n.store("collectionParents"),i=new YM,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:Ss(u)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const u=new Tn(o);return s(u.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,u],l)=>{const h=_u(a);return s(h.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const s=Ry(i),o=H4(this.serializer,s);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),u=(p=o,p.document?new qe(Tn.fromString(p.document.name).popFirst(5)):p.noDocument?qe.fromSegments(p.noDocument.path):p.unknownDocument?qe.fromSegments(p.unknownDocument.path):Xe()).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var p;i.push(a.put(l))}).next(()=>ie.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=dz(this.serializer),s=new JM(WI.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(u=>{var l;let h=null!==(l=a.get(u.userId))&&void 0!==l?l:Xt();th(this.serializer,u).keys().forEach(p=>h=h.add(p)),a.set(u.userId,h)}),ie.forEach(a,(u,l)=>{const h=new $i(l),p=UI.ct(this.serializer,h),y=s.getIndexManager(h),C=HI.ct(h,this.serializer,y,s.referenceDelegate);return new gz(i,C,p,y).recalculateAndSaveOverlaysForDocumentKeys(new TM(n,ko._e),u).next()})})}}function mz(t){t.createObjectStore("targetDocuments",{keyPath:Lde}).createIndex("documentTargetsIndex",Vde,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fde,{unique:!0}),t.createObjectStore("targetGlobal")}const eR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tR{constructor(e,n,r,i,s,o,a,u,l,h,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=l,this._i=h,this.ai=p,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=y=>Promise.resolve(),!tR.D())throw new Me(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Khe(this,i),this.Ii=n+"main",this.serializer=new j4(u),this.Ti=new La(this.Ii,this.ai,new sfe(this.serializer)),this.qr=new Whe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dz(this.serializer),this.Kr=new Lhe,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(pe.FAILED_PRECONDITION,eR);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new ko(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var r=(0,we.Z)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,we.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>GI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(hc(e))return xe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Fy(e).get("owner").next(n=>ie.resolve(this.wi(n)))}Si(e){return GI(e).delete(this.clientId)}bi(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Hi(r,"clientMetadata");return i.W().next(s=>{const o=e.Ci(s,18e5),a=s.filter(u=>-1===o.indexOf(u));return ie.forEach(a,u=>i.delete(u.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of n)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?ie.resolve(!0):Fy(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new Me(pe.FAILED_PRECONDITION,eR);return!1}}return!(!this.networkEnabled||!this.inForeground)||GI(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&xe("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,we.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new TM(n,ko._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>GI(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return HI.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zhe(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return UI.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){xe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",s=15===(u=this.ai)?Kde:14===u?PH:13===u?AH:12===u?Gde:11===u?DH:void Xe();var u;let o;return this.Ti.runTransaction(e,i,s,a=>(o=new TM(a,this.Lr?this.Lr.next():ko._e),"readwrite-primary"===n?this.fi(o).next(u=>!!u||this.gi(o)).next(u=>{if(!u)throw ai(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new Me(pe.FAILED_PRECONDITION,wH);return r(o)}).next(u=>this.yi(o).next(()=>u)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return Fy(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Me(pe.FAILED_PRECONDITION,eR)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fy(e).put("owner",n)}static D(){return La.D()}pi(e){const n=Fy(e);return n.get("owner").next(r=>this.wi(r)?(xe("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ie.resolve())}Di(e,n){const r=Date.now();return!(e<r-n||e>r&&(ai(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,O.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return xe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ai("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ai("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fy(t){return Hi(t,"owner")}function GI(t){return Hi(t,"clientMetadata")}function nR(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class rR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Xt(),i=Xt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new rR(e,n.fromCache,r,i)}}class ofe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _z{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ofe;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Fp()<=xo.in.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Wp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),ie.resolve()):(Fp()<=xo.in.DEBUG&&xe("QueryEngine","Query:",Wp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Fp()<=xo.in.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Wp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ys(n))):ie.resolve())}zi(e,n){if(JH(n))return ie.resolve(null);let r=Ys(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=xI(n,null,"F"),r=Ys(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Xt(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Yi(n,a);return this.Zi(n,l,o,u.readTime)?this.zi(e,xI(n,null,"F")):this.Xi(e,l,n,u)}))})))}ji(e,n,r,i){return JH(n)||i.isEqual(ht.min())?ie.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?ie.resolve(null):(Fp()<=xo.in.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wp(n)),this.Xi(e,o,n,yH(i,-1)).next(a=>a))})}Yi(e,n){let r=new Yn(r4(e));return n.forEach((i,s)=>{wy(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Fp()<=xo.in.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Wp(n)),this.Gi.getDocumentsMatchingQuery(e,n,No.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class afe{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new cr(jt),this.ns=new dl(s=>Qd(s),yy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gz(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function yz(t,e,n,r){return new afe(t,e,n,r)}function vz(t,e){return iR.apply(this,arguments)}function iR(){return iR=(0,we.Z)(function*(t,e){const n=ze(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Xt();for(const l of i){o.push(l.batchId);for(const h of l.mutations)u=u.add(h.key)}for(const l of s){a.push(l.batchId);for(const h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),iR.apply(this,arguments)}function wz(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Ez(t,e,n){let r=Xt(),i=Xt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=mo();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ht.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{us:o,cs:i}})}function cfe(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ng(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,ie.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new fl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function rg(t,e,n){return sR.apply(this,arguments)}function sR(){return sR=(0,we.Z)(function*(t,e,n){const r=ze(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!hc(o))throw o;xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),sR.apply(this,arguments)}function KI(t,e,n){const r=ze(t);let i=ht.min(),s=Xt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){const p=ze(u),y=p.ns.get(h);return void 0!==y?ie.resolve(p.ts.get(y)):p.qr.getTargetData(l,h)}(r,o,Ys(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ht.min(),n?s:Xt())).next(a=>(bz(r,n4(e),a),{documents:a,ls:s})))}function Cz(t,e){const n=ze(t),r=ze(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function Iz(t,e){const n=ze(t),r=n.rs.get(e)||ht.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,yH(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(bz(n,e,i),i))}function bz(t,e,n){let r=t.rs.get(e)||ht.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}function oR(){return oR=(0,we.Z)(function*(t,e,n,r){const i=ze(t);let s=Xt(),o=mo();for(const l of n){const h=e.hs(l.metadata.name);l.document&&(s=s.add(h));const p=e.Ps(l);p.setReadTime(e.Is(l.metadata.readTime)),o=o.insert(h,p)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),u=yield ng(i,(h=r,Ys(Hp(Tn.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>Ez(l,a,o).next(h=>(a.apply(l),h)).next(h=>i.qr.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.qr.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,h.us,h.cs)).next(()=>h.us)))}),oR.apply(this,arguments)}function hfe(t,e){return aR.apply(this,arguments)}function aR(){return aR=(0,we.Z)(function*(t,e,n=Xt()){const r=yield ng(t,Ys(WM(e.bundledQuery))),i=ze(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=ui(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(Ri.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}),aR.apply(this,arguments)}function Tz(t,e){return`firestore_clients_${t}_${e}`}function Sz(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function uR(t,e){return`firestore_targets_${t}_${e}`}class ZI{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new Me(i.error.code,i.error.message))),o?new ZI(e,n,i.state,s):(ai("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ly{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Me(r.error.code,r.error.message))),s?new Ly(e,r.state,i):(ai("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class QI{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=NM();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=IH(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new QI(e,s):(ai("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class lR{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new lR(n.clientId,n.onlineState):(ai("SharedClientState",`Failed to parse online state: ${e}`),null)}}class cR{constructor(){this.activeTargetIds=NM()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dR{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new cr(jt),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=Tz(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new cR),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Rs)continue;const s=e.getItem(Tz(e.persistenceKey,i));if(s){const o=QI.Ts(i,s);o&&(e.gs=e.gs.insert(o.clientId,o))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(uR(this.persistenceKey,e));if(r){const i=Ly.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uR(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return xe("SharedClientState","READ",e,n),n}setItem(e,n){xe("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(xe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void ai("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,we.Z)(function*(){if(n.started){if(null!==r.key)if(n.Ss.test(r.key)){if(null==r.newValue){const i=n.Ks(r.key);return n.$s(i,null)}{const i=n.Us(r.key,r.newValue);if(i)return n.$s(i.clientId,i)}}else if(n.bs.test(r.key)){if(null!==r.newValue){const i=n.Ws(r.key,r.newValue);if(i)return n.Gs(i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.zs(r.key,r.newValue);if(i)return n.js(i)}}else if(r.key===n.Cs){if(null!==r.newValue){const i=n.Ms(r.newValue);if(i)return n.xs(i)}}else if(r.key===n.ws){const i=function(o){let a=ko._e;if(null!=o)try{const u=JSON.parse(o);ct("number"==typeof u),a=u}catch(u){ai("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(r.newValue);i!==ko._e&&n.sequenceNumberHandler(i)}else if(r.key===n.vs){const i=n.Hs(r.newValue);yield Promise.all(i.map(s=>n.syncEngine.Js(s)))}}else n.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new ZI(this.currentUser,e,n,r),s=Sz(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const n=Sz(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,r){const i=uR(this.persistenceKey,e),s=new Ly(e,n,r);this.setItem(i,s.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return QI.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]);return ZI.Ts(new $i(void 0!==r[2]?r[2]:null),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return Ly.Ts(i,n)}Ms(e){return lR.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,we.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);xe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=NM();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class Dz{constructor(){this.eo=new cR,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new cR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ffe{ro(e){}shutdown(){}}class Az{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let YI=null;function hR(){return null===YI?YI=268435456+Math.round(2147483648*Math.random()):YI++,"0x"+YI.toString(16)}const pfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gfe{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const As="WebChannelConnection";class mfe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=hR(),u=this.So(n,r);xe("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,u,l,i).then(h=>(xe("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw po("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+kp,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${pfe[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=hR();return new Promise((o,a)=>{const u=new fde;u.setWithCredentials(!0),u.listenOnce(cde.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case vM.NO_ERROR:const h=u.getResponseJson();xe(As,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case vM.TIMEOUT:xe(As,`RPC '${e}' ${s} timed out`),a(new Me(pe.DEADLINE_EXCEEDED,"Request time out"));break;case vM.HTTP_ERROR:const p=u.getStatus();if(xe(As,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const C=y?.error;if(C&&C.status&&C.message){const S=function(N){const Z=N.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(Z)>=0?Z:pe.UNKNOWN}(C.status);a(new Me(S,C.message))}else a(new Me(pe.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Me(pe.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{xe(As,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);xe(As,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}vo(e,n,r){const i=hR(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ude(),a=lde(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new hde({})),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");xe(As,`Creating RPC '${e}' stream ${i}: ${h}`,u);const p=o.createWebChannel(h,u);let y=!1,C=!1;const S=new gfe({co:N=>{C?xe(As,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(y||(xe(As,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),xe(As,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},lo:()=>p.close()}),M=(N,Z,W)=>{N.listen(Z,J=>{try{W(J)}catch(me){setTimeout(()=>{throw me},0)}})};return M(p,EI.EventType.OPEN,()=>{C||xe(As,`RPC '${e}' stream ${i} transport opened.`)}),M(p,EI.EventType.CLOSE,()=>{C||(C=!0,xe(As,`RPC '${e}' stream ${i} transport closed`),S.Ro())}),M(p,EI.EventType.ERROR,N=>{C||(C=!0,po(As,`RPC '${e}' stream ${i} transport errored:`,N),S.Ro(new Me(pe.UNAVAILABLE,"The operation could not be completed")))}),M(p,EI.EventType.MESSAGE,N=>{var Z;if(!C){const W=N.data[0];ct(!!W);const me=W.error||(null===(Z=W[0])||void 0===Z?void 0:Z.error);if(me){xe(As,`RPC '${e}' stream ${i} received error:`,me);const Ne=me.status;let Ge=function(ls){const ha=_i[ls];if(void 0!==ha)return E4(ha)}(Ne),xt=me.message;void 0===Ge&&(Ge=pe.INTERNAL,xt="Unknown error status: "+Ne+" with message "+me.message),C=!0,S.Ro(new Me(Ge,xt)),p.close()}else xe(As,`RPC '${e}' stream ${i} received:`,W),S.Vo(W)}}),M(a,dde.STAT_EVENT,N=>{N.stat===hH.PROXY?xe(As,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===hH.NOPROXY&&xe(As,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.Ao()},0),S}}function Pz(){return typeof window<"u"?window:null}function XI(){return typeof document<"u"?document:null}function Vy(t){return new She(t,!0)}class fR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Mz{constructor(e,n,r,i,s,o,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new fR(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,we.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,we.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return(0,we.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new Me(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,we.Z)(function*(){e.state=0,e.start()}))}o_(e){return xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _fe extends Mz{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Phe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Xe(),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(ct(void 0===h||"string"==typeof h),Ri.fromBase64String(h||"")):(ct(void 0===h||h instanceof Uint8Array),Ri.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const h=void 0===l.code?pe.UNKNOWN:E4(l.code);return new Me(h,l.message||"")}(o);n=new S4(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=wu(t,r.document.name),s=ui(r.document.updateTime),o=r.document.createTime?ui(r.document.createTime):ht.min(),a=new os({mapValue:{fields:r.document.fields}}),u=vr.newFoundDocument(i,s,o,a);n=new LI(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=wu(t,r.document),s=r.readTime?ui(r.readTime):ht.min(),o=vr.newNoDocument(i,s);n=new LI([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=wu(t,r.document);n=new LI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new whe(i,s);n=new T4(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return ht.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ht.min():o.readTime?ui(o.readTime):ht.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Py(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=MI(u)?{documents:F4(s,u)}:{query:zM(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=M4(s,o.resumeToken);const l=BM(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ht.min())>0){a.readTime=Qp(s,o.snapshotVersion.toTimestamp());const l=BM(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function Rhe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Py(this.serializer),n.removeTarget=e,this.e_(n)}}class yfe extends Mz{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Mhe(t,e){return t&&t.length>0?(ct(void 0!==e),t.map(n=>function(i,s){let o=ui(i.updateTime?i.updateTime:s);return o.isEqual(ht.min())&&(o=ui(s)),new mhe(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ui(e.commitTime);return this.listener.I_(r,n)}return ct(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Py(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>My(this.serializer,r))};this.e_(n)}}class vfe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new Me(pe.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(pe.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Me(pe.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Efe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ai(n),this.f_=!1):xe("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Cfe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,we.Z)(function*(){var u;bc(o)&&(xe("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,we.Z)(function*(h){const p=ze(h);p.C_.add(4),yield ig(p),p.M_.set("Unknown"),p.C_.delete(4),yield Uy(p)}),function l(h){return u.apply(this,arguments)})(o))}))}),this.M_=new Efe(r,i)}}function Uy(t){return gR.apply(this,arguments)}function gR(){return gR=(0,we.Z)(function*(t){if(bc(t))for(const e of t.v_)yield e(!0)}),gR.apply(this,arguments)}function ig(t){return mR.apply(this,arguments)}function mR(){return mR=(0,we.Z)(function*(t){for(const e of t.v_)yield e(!1)}),mR.apply(this,arguments)}function JI(t,e){const n=ze(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),vR(n)?yR(n):og(n).Ho()&&_R(n,e))}function By(t,e){const n=ze(t),r=og(n);n.D_.delete(e),r.Ho()&&Rz(n,e),0===n.D_.size&&(r.Ho()?r.Zo():bc(n)&&n.M_.set("Unknown"))}function _R(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ht.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}og(t).u_(e)}function Rz(t,e){t.x_.Oe(e),og(t).c_(e)}function yR(t){t.x_=new Che({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),og(t).start(),t.M_.g_()}function vR(t){return bc(t)&&!og(t).jo()&&t.D_.size>0}function bc(t){return 0===ze(t).C_.size}function xz(t){t.x_=void 0}function Ife(t){return wR.apply(this,arguments)}function wR(){return wR=(0,we.Z)(function*(t){t.D_.forEach((e,n)=>{_R(t,e)})}),wR.apply(this,arguments)}function bfe(t,e){return ER.apply(this,arguments)}function ER(){return ER=(0,we.Z)(function*(t,e){xz(t),vR(t)?(t.M_.w_(e),yR(t)):t.M_.set("Unknown")}),ER.apply(this,arguments)}function Tfe(t,e,n){return CR.apply(this,arguments)}function CR(){return CR=(0,we.Z)(function*(t,e,n){if(t.M_.set("Online"),e instanceof S4&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.D_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.D_.delete(u),s.x_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield e0(t,r)}else if(e instanceof LI?t.x_.$e(e):e instanceof T4?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ht.min()))try{const r=yield wz(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.D_.get(l);h&&s.D_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const h=s.D_.get(u);if(!h)return;s.D_.set(u,h.withResumeToken(Ri.EMPTY_BYTE_STRING,h.snapshotVersion)),Rz(s,u);const p=new fl(h.target,u,l,h.sequenceNumber);_R(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){xe("RemoteStore","Failed to raise snapshot:",r),yield e0(t,r)}var r}),CR.apply(this,arguments)}function e0(t,e,n){return IR.apply(this,arguments)}function IR(){return IR=(0,we.Z)(function*(t,e,n){if(!hc(e))throw e;t.C_.add(1),yield ig(t),t.M_.set("Offline"),n||(n=()=>wz(t.localStore)),t.asyncQueue.enqueueRetryable((0,we.Z)(function*(){xe("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Uy(t)}))}),IR.apply(this,arguments)}function Oz(t,e){return e().catch(n=>e0(t,n,e))}function sg(t){return bR.apply(this,arguments)}function bR(){return bR=(0,we.Z)(function*(t){const e=ze(t),n=Tc(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Sfe(e);)try{const i=yield cfe(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,Dfe(e,i)}catch(i){yield e0(e,i)}Nz(e)&&kz(e)}),bR.apply(this,arguments)}function Sfe(t){return bc(t)&&t.b_.length<10}function Dfe(t,e){t.b_.push(e);const n=Tc(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function Nz(t){return bc(t)&&!Tc(t).jo()&&t.b_.length>0}function kz(t){Tc(t).start()}function Afe(t){return TR.apply(this,arguments)}function TR(){return TR=(0,we.Z)(function*(t){Tc(t).E_()}),TR.apply(this,arguments)}function Pfe(t){return SR.apply(this,arguments)}function SR(){return SR=(0,we.Z)(function*(t){const e=Tc(t);for(const n of t.b_)e.P_(n.mutations)}),SR.apply(this,arguments)}function Mfe(t,e,n){return DR.apply(this,arguments)}function DR(){return DR=(0,we.Z)(function*(t,e,n){const r=t.b_.shift(),i=LM.from(r,e,n);yield Oz(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield sg(t)}),DR.apply(this,arguments)}function Rfe(t,e){return AR.apply(this,arguments)}function AR(){return AR=(0,we.Z)(function*(t,e){var n;e&&Tc(t).h_&&(yield(n=(0,we.Z)(function*(i,s){if(w4(a=s.code)&&a!==pe.ABORTED){const o=i.b_.shift();Tc(i).Yo(),yield Oz(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield sg(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),Nz(t)&&kz(t)}),AR.apply(this,arguments)}function Fz(t,e){return PR.apply(this,arguments)}function PR(){return PR=(0,we.Z)(function*(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials");const r=bc(n);n.C_.add(3),yield ig(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Uy(n)}),PR.apply(this,arguments)}function MR(t,e){return RR.apply(this,arguments)}function RR(){return RR=(0,we.Z)(function*(t,e){const n=ze(t);e?(n.C_.delete(2),yield Uy(n)):e||(n.C_.add(2),yield ig(n),n.M_.set("Unknown"))}),RR.apply(this,arguments)}function og(t){return t.O_||(t.O_=function(n,r,i){const s=ze(n);return s.A_(),new _fe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Ife.bind(null,t),Io:bfe.bind(null,t),a_:Tfe.bind(null,t)}),t.v_.push(function(){var e=(0,we.Z)(function*(n){n?(t.O_.Yo(),vR(t)?yR(t):t.M_.set("Unknown")):(yield t.O_.stop(),xz(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function Tc(t){return t.N_||(t.N_=function(n,r,i){const s=ze(n);return s.A_(),new yfe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Afe.bind(null,t),Io:Rfe.bind(null,t),T_:Pfe.bind(null,t),I_:Mfe.bind(null,t)}),t.v_.push(function(){var e=(0,we.Z)(function*(n){n?(t.N_.Yo(),yield sg(t)):(yield t.N_.stop(),t.b_.length>0&&(xe("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class xR{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new xR(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(t,e){if(ai("AsyncQueue",`${e}: ${t}`),hc(t))return new Me(pe.UNAVAILABLE,`${e}: ${t}`);throw t}class ug{constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=Ey(),this.sortedSet=new cr(this.comparator)}static emptySet(e){return new ug(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ug)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new ug;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Lz{constructor(){this.B_=new cr(qe.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Xe():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class lg{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new lg(e,n,ug.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class xfe{constructor(){this.k_=void 0,this.listeners=[]}}class Ofe{constructor(){this.queries=new dl(e=>t4(e),vy),this.onlineState="Unknown",this.q_=new Set}}function OR(t,e){return NR.apply(this,arguments)}function NR(){return NR=(0,we.Z)(function*(t,e){const n=ze(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new xfe),i)try{s.k_=yield n.onListen(r)}catch(o){const a=ag(o,`Initialization of query '${Wp(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&LR(n)}),NR.apply(this,arguments)}function kR(t,e){return FR.apply(this,arguments)}function FR(){return FR=(0,we.Z)(function*(t,e){const n=ze(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),FR.apply(this,arguments)}function Nfe(t,e){const n=ze(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&LR(n)}function kfe(t,e,n){const r=ze(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function LR(t){t.q_.forEach(e=>{e.next()})}class VR{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new lg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=lg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Ffe{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class Vz{constructor(e){this.serializer=e}hs(e){return wu(this.serializer,e)}Ps(e){return e.metadata.exists?k4(this.serializer,e.document,!1):vr.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return ui(e)}}class Lfe{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Uz(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=Tn.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new Vz(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||Xt()).add(s);n.set(o,a)}}return n}complete(){var e=this;return(0,we.Z)(function*(){const n=yield function dfe(t,e,n,r){return oR.apply(this,arguments)}(e.localStore,new Vz(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield hfe(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function Uz(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class Bz{constructor(e){this.key=e}}class jz{constructor(e){this.key=e}}class $z{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Xt(),this.mutatedKeys=Xt(),this._a=r4(e),this.aa=new ug(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Lz,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const y=i.get(h),C=wy(this.query,p)?p:null,S=!!y&&this.mutatedKeys.has(y.key),M=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;y&&C?y.data.isEqual(C.data)?S!==M&&(r.track({type:3,doc:C}),N=!0):this.ha(y,C)||(r.track({type:2,doc:C}),N=!0,(u&&this._a(C,u)>0||l&&this._a(C,l)<0)&&(a=!0)):!y&&C?(r.track({type:0,doc:C}),N=!0):y&&!C&&(r.track({type:1,doc:y}),N=!0,(u||l)&&(a=!0)),N&&(C?(o=o.add(C),s=M?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const h="F"===this.query.limitType?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,h)=>function(y,C){const S=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return S(y)-S(C)}(l.type,h.type)||this._a(l.doc,h.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,u=a!==this.sa;return this.sa=a,0!==s.length||u?{snapshot:new lg(this.query,e.aa,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Lz,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Xt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new jz(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Bz(r))}),n}da(e){this.ia=e.ls,this.oa=Xt();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return lg.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Vfe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ufe{constructor(e){this.key=e,this.Ra=!1}}class Bfe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new dl(a=>t4(a),vy),this.fa=new Map,this.ga=new Set,this.pa=new cr(qe.comparator),this.ya=new Map,this.wa=new XM,this.Sa={},this.ba=new Map,this.Da=ih.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function jfe(t,e){return UR.apply(this,arguments)}function UR(){return UR=(0,we.Z)(function*(t,e){const n=ux(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield ng(n.localStore,Ys(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield BR(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&JI(n.remoteStore,o)}return i}),UR.apply(this,arguments)}function BR(t,e,n,r,i){return jR.apply(this,arguments)}function jR(){return jR=(0,we.Z)(function*(t,e,n,r,i){t.va=(p,y,C)=>{return(S=(0,we.Z)(function*(N,Z,W,J){let me=Z.view.ca(W);me.Zi&&(me=yield KI(N.localStore,Z.query,!1).then(({documents:xt})=>Z.view.ca(xt,me)));const Ne=J&&J.targetChanges.get(Z.targetId),Ge=Z.view.applyChanges(me,N.isPrimaryClient,Ne);return YR(N,Z.targetId,Ge.Ta),Ge.snapshot}),function M(N,Z,W,J){return S.apply(this,arguments)})(t,p,y,C);var S};const s=yield KI(t.localStore,e,!0),o=new $z(e,s.ls),a=o.ca(s.documents),u=Dy.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,u);YR(t,n,l.Ta);const h=new Vfe(e,n,o);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),jR.apply(this,arguments)}function $fe(t,e){return $R.apply(this,arguments)}function $R(){return $R=(0,we.Z)(function*(t,e){const n=ze(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!vy(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield rg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),By(n.remoteStore,r.targetId),cg(n,r.targetId)}).catch(dc))):(cg(n,r.targetId),yield rg(n.localStore,r.targetId,!0))}),$R.apply(this,arguments)}function HR(){return HR=(0,we.Z)(function*(t,e,n){const r=lx(t);try{const i=yield function(o,a){const u=ze(o),l=Nr.now(),h=a.reduce((C,S)=>C.add(S.key),Xt());let p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",C=>{let S=mo(),M=Xt();return u.ss.getEntries(C,h).next(N=>{S=N,S.forEach((Z,W)=>{W.isValidDocument()||(M=M.add(Z))})}).next(()=>u.localDocuments.getOverlayedDocuments(C,S)).next(N=>{p=N;const Z=[];for(const W of a){const J=yhe(W,p.get(W.key).overlayedDocument);null!=J&&Z.push(new hl(W.key,J,BH(J.value.mapValue),kr.exists(!0)))}return u.mutationQueue.addMutationBatch(C,l,Z,a)}).next(N=>{y=N;const Z=N.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(C,N.batchId,Z)})}).then(()=>({batchId:y.batchId,changes:s4(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Sa[o.currentUser.toKey()];l||(l=new cr(jt)),l=l.insert(a,u),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield pl(r,i.changes),yield sg(r.remoteStore)}catch(i){const s=ag(i,"Failed to persist write");n.reject(s)}}),HR.apply(this,arguments)}function Hz(t,e){return zR.apply(this,arguments)}function zR(){return zR=(0,we.Z)(function*(t,e){const n=ze(t);try{const r=yield function lfe(t,e){const n=ze(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,p)=>{const y=i.get(p);if(!y)return;a.push(n.qr.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.qr.addMatchingKeys(s,h.addedDocuments,p)));let C=y.withSequenceNumber(s.currentSequenceNumber);var M,N,Z;null!==e.targetMismatches.get(p)?C=C.withResumeToken(Ri.EMPTY_BYTE_STRING,ht.min()).withLastLimboFreeSnapshotVersion(ht.min()):h.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(h.resumeToken,r)),i=i.insert(p,C),N=C,Z=h,(0===(M=y).resumeToken.approximateByteSize()||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8||Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,C))});let u=mo(),l=Xt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(Ez(s,o,e.documentUpdates).next(h=>{u=h.us,l=h.cs})),!r.isEqual(ht.min())){const h=n.qr.getLastRemoteSnapshotVersion(s).next(p=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return ie.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ct(o.Ra):i.removedDocuments.size>0&&(ct(o.Ra),o.Ra=!1))}),yield pl(n,r,e)}catch(r){yield dc(r)}}),zR.apply(this,arguments)}function zz(t,e,n){const r=ze(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ze(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(const y of p.listeners)y.Q_(a)&&(l=!0)}),l&&LR(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zfe(t,e,n){return WR.apply(this,arguments)}function WR(){return WR=(0,we.Z)(function*(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new cr(qe.comparator);o=o.insert(s,vr.newNoDocument(s,ht.min()));const a=Xt().add(s),u=new Sy(ht.min(),new Map,new cr(jt),o,a);yield Hz(r,u),r.pa=r.pa.remove(s),r.ya.delete(e),XR(r)}else yield rg(r.localStore,e,!1).then(()=>cg(r,e,n)).catch(dc)}),WR.apply(this,arguments)}function Wfe(t,e){return qR.apply(this,arguments)}function qR(){return qR=(0,we.Z)(function*(t,e){const n=ze(t),r=e.batch.batchId;try{const i=yield function ufe(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){const p=l.batch,y=p.keys();let C=ie.resolve();return y.forEach(S=>{C=C.next(()=>h.getEntry(u,S)).next(M=>{const N=l.docVersions.get(S);ct(null!==N),M.version.compareTo(N)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),C.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Xt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);QR(n,r,null),ZR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield pl(n,i)}catch(i){yield dc(i)}}),qR.apply(this,arguments)}function qfe(t,e,n){return GR.apply(this,arguments)}function GR(){return GR=(0,we.Z)(function*(t,e,n){const r=ze(t);try{const i=yield function(o,a){const u=ze(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ct(null!==p),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);QR(r,e,n),ZR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield pl(r,i)}catch(i){yield dc(i)}}),GR.apply(this,arguments)}function KR(){return KR=(0,we.Z)(function*(t,e){const n=ze(t);bc(n.remoteStore)||xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=ze(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(-1===r)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=ag(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),KR.apply(this,arguments)}function ZR(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function QR(t,e,n){const r=ze(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function cg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||Wz(t,r)})}function Wz(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(By(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),XR(t))}function YR(t,e,n){for(const r of n)r instanceof Bz?(t.wa.addReference(r.key,e),Kfe(t,r)):r instanceof jz?(xe("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||Wz(t,r.key)):Xe()}function Kfe(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(xe("SyncEngine","New document in limbo: "+n),t.ga.add(r),XR(t))}function XR(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new qe(Tn.fromString(e)),r=t.Da.next();t.ya.set(r,new Ufe(n)),t.pa=t.pa.insert(n,r),JI(t.remoteStore,new fl(Ys(Hp(n.path)),r,"TargetPurposeLimboResolution",ko._e))}}function pl(t,e,n){return JR.apply(this,arguments)}function JR(){return JR=(0,we.Z)(function*(t,e,n){const r=ze(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const h=rR.Qi(u.targetId,l);s.push(h)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,we.Z)(function*(l,h){const p=ze(l);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ie.forEach(h,C=>ie.forEach(C.ki,S=>p.persistence.referenceDelegate.addReference(y,C.targetId,S)).next(()=>ie.forEach(C.qi,S=>p.persistence.referenceDelegate.removeReference(y,C.targetId,S)))))}catch(y){if(!hc(y))throw y;xe("LocalStore","Failed to update sequence numbers: "+y)}for(const y of h){const C=y.targetId;if(!y.fromCache){const S=p.ts.get(C),N=S.withLastLimboFreeSnapshotVersion(S.snapshotVersion);p.ts=p.ts.insert(C,N)}}}),function u(l,h){return a.apply(this,arguments)})(r.localStore,s))}),JR.apply(this,arguments)}function Zfe(t,e){return ex.apply(this,arguments)}function ex(){return ex=(0,we.Z)(function*(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){xe("SyncEngine","User change. New user:",e.toKey());const r=yield vz(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(u=>{u.reject(new Me(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pl(n,r._s)}var s}),ex.apply(this,arguments)}function Qfe(t,e){const n=ze(t),r=n.ya.get(e);if(r&&r.Ra)return Xt().add(r.key);{let i=Xt();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function Yfe(t,e){return tx.apply(this,arguments)}function tx(){return tx=(0,we.Z)(function*(t,e){const n=ze(t),r=yield KI(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&YR(n,e.targetId,i.Ta),i}),tx.apply(this,arguments)}function Xfe(t,e){return nx.apply(this,arguments)}function nx(){return nx=(0,we.Z)(function*(t,e){const n=ze(t);return Iz(n.localStore,e).then(r=>pl(n,r))}),nx.apply(this,arguments)}function Jfe(t,e,n,r){return rx.apply(this,arguments)}function rx(){return rx=(0,we.Z)(function*(t,e,n,r){const i=ze(t),s=yield function(a,u){const l=ze(a),h=ze(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.Cn(p,u).next(y=>y?l.localDocuments.getDocuments(p,y):ie.resolve(null)))}(i.localStore,e);var u;null!==s?("pending"===n?yield sg(i.remoteStore):"acknowledged"===n||"rejected"===n?(QR(i,e,r||null),ZR(i,e),u=e,ze(ze(i.localStore).mutationQueue).Fn(u)):Xe(),yield pl(i,s)):xe("SyncEngine","Cannot apply mutation batch with id: "+e)}),rx.apply(this,arguments)}function ix(){return ix=(0,we.Z)(function*(t,e){const n=ze(t);if(ux(n),lx(n),!0===e&&!0!==n.Ca){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield qz(n,r.toArray());n.Ca=!0,yield MR(n.remoteStore,!0);for(const s of i)JI(n.remoteStore,s)}else if(!1===e&&!1!==n.Ca){const r=[];let i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(cg(n,o),rg(n.localStore,o,!0))),By(n.remoteStore,o)}),yield i,yield qz(n,r),function(o){const a=ze(o);a.ya.forEach((u,l)=>{By(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new cr(qe.comparator)}(n),n.Ca=!1,yield MR(n.remoteStore,!1)}}),ix.apply(this,arguments)}function qz(t,e,n){return sx.apply(this,arguments)}function sx(){return sx=(0,we.Z)(function*(t,e,n){const r=ze(t),i=[],s=[];for(const o of e){let a;const u=r.fa.get(o);if(u&&0!==u.length){a=yield ng(r.localStore,Ys(u[0]));for(const l of u){const h=r.ma.get(l),p=yield Yfe(r,h);p.snapshot&&s.push(p.snapshot)}}else{const l=yield Cz(r.localStore,o);a=yield ng(r.localStore,l),yield BR(r,Gz(l),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}),sx.apply(this,arguments)}function Gz(t){return XH(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function tpe(t){return n=ze(t).localStore,ze(ze(n).persistence).Bi();var n}function npe(t,e,n,r){return ox.apply(this,arguments)}function ox(){return ox=(0,we.Z)(function*(t,e,n,r){const i=ze(t);if(i.Ca)return void xe("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=yield Iz(i.localStore,n4(s[0])),a=Sy.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Ri.EMPTY_BYTE_STRING);yield pl(i,o,a);break}case"rejected":yield rg(i.localStore,e,!0),cg(i,e,r);break;default:Xe()}}),ox.apply(this,arguments)}function rpe(t,e,n){return ax.apply(this,arguments)}function ax(){return ax=(0,we.Z)(function*(t,e,n){const r=ux(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){xe("SyncEngine","Adding an already active target "+i);continue}const s=yield Cz(r.localStore,i),o=yield ng(r.localStore,s);yield BR(r,Gz(s),o.targetId,!1,o.resumeToken),JI(r.remoteStore,o)}for(const i of n)r.fa.has(i)&&(yield rg(r.localStore,i,!1).then(()=>{By(r.remoteStore,i),cg(r,i)}).catch(dc))}}),ax.apply(this,arguments)}function ux(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zfe.bind(null,e),e.Va.a_=Nfe.bind(null,e.eventManager),e.Va.Fa=kfe.bind(null,e.eventManager),e}function lx(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qfe.bind(null,e),e}class jy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,we.Z)(function*(){n.serializer=Vy(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return yz(this.persistence,new _z,e.initialUser,this.serializer)}createPersistence(e){return new JM(WI.jr,this.serializer)}createSharedClientState(e){return new Dz}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class cx extends jy{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield n().call(r,e),yield r.xa.initialize(r,e),yield lx(r.xa.syncEngine),yield sg(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return yz(this.persistence,new _z,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new uz(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Mde(n,this.persistence);return new Pde(e.asyncQueue,r)}createPersistence(e){const n=nR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ds.withCacheSize(this.cacheSizeBytes):Ds.DEFAULT;return new tR(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Pz(),XI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Dz}}class Kz extends cx{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield n().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof dR&&(r.sharedClientState.syncEngine={Ys:Jfe.bind(null,i),Zs:npe.bind(null,i),Xs:rpe.bind(null,i),Bi:tpe.bind(null,i),Js:Xfe.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var s=(0,we.Z)(function*(o){yield function epe(t,e){return ix.apply(this,arguments)}(r.xa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const n=Pz();if(!dR.D(n))throw new Me(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=nR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dR(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class dg{initialize(e,n){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>zz(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Zfe.bind(null,r.syncEngine),yield MR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ofe}createDatastore(e){const n=Vy(e.databaseInfo.databaseId),r=new mfe(e.databaseInfo);return new vfe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>zz(this.syncEngine,n,0),a=Az.D()?new Az:new ffe,new Cfe(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){const p=new Bfe(i,s,o,a,u,l);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,we.Z)(function*(r){const i=ze(r);xe("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield ig(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function Zz(t,e=10240){let n=0;return{read:()=>(0,we.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class t0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class ope{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Mi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,we.Z)(function*(){const n=yield e.qa();if(null===n)return null;const r=e.La.decode(n),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const s=yield e.Ka(i);return new Ffe(JSON.parse(s),n.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,we.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ka(e){var n=this;return(0,we.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const r=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,we.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class ape{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,we.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Me(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,we.Z)(function*(o,a){const u=ze(o),l=Py(u.serializer)+"/documents",h={documents:a.map(S=>Ay(u.serializer,S))},p=yield u.Co("BatchGetDocuments",l,h,a.length),y=new Map;p.forEach(S=>{const M=function Ahe(t,e){return"found"in e?function(r,i){ct(!!i.found);const s=wu(r,i.found.name),o=ui(i.found.updateTime),a=i.found.createTime?ui(i.found.createTime):ht.min(),u=new os({mapValue:{fields:i.found.fields}});return vr.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){ct(!!i.missing),ct(!!i.readTime);const s=wu(r,i.missing),o=ui(i.readTime);return vr.newNoDocument(s,o)}(t,e):Xe()}(u.serializer,S);y.set(M.key.toString(),M)});const C=[];return a.forEach(S=>{const M=y.get(S.toString());ct(!!M),C.push(M)}),C}),function s(o,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Zp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const s=qe.fromPath(i);e.mutations.push(new kM(s,e.precondition(s)))}),yield(r=(0,we.Z)(function*(s,o){const a=ze(s),u=Py(a.serializer)+"/documents",l={writes:o.map(h=>My(a.serializer,h))};yield a.wo("Commit",u,l)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Xe();n=ht.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Me(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ht.min())?kr.exists(!1):kr.updateTime(n):kr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ht.min()))throw new Me(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kr.updateTime(n)}return kr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class upe{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new fR(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,we.Z)(function*(){const n=new ape(e.datastore),r=e.za(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ja(s)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const n=this.updateFunction(e);return!dy(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!w4(n)}return!1}}class lpe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$i.UNAUTHENTICATED,this.clientId=mH.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,we.Z)(function*(a){xe("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(xe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ag(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function n0(t,e){return dx.apply(this,arguments)}function dx(){return dx=(0,we.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,we.Z)(function*(s){r.isEqual(s)||(yield vz(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),dx.apply(this,arguments)}function hx(t,e){return fx.apply(this,arguments)}function fx(){return fx=(0,we.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield px(t);xe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Fz(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Fz(e.remoteStore,s)),t._onlineComponents=e}),fx.apply(this,arguments)}function Qz(t){return"FirebaseError"===t.name?t.code===pe.FAILED_PRECONDITION||t.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function px(t){return gx.apply(this,arguments)}function gx(){return gx=(0,we.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield n0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Qz(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),yield n0(t,new jy)}}else xe("FirestoreClient","Using default OfflineComponentProvider"),yield n0(t,new jy);return t._offlineComponents}),gx.apply(this,arguments)}function r0(t){return mx.apply(this,arguments)}function mx(){return mx=(0,we.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe("FirestoreClient","Using user provided OnlineComponentProvider"),yield hx(t,t._uninitializedComponentsProvider._online)):(xe("FirestoreClient","Using default OnlineComponentProvider"),yield hx(t,new dg))),t._onlineComponents}),mx.apply(this,arguments)}function Yz(t){return px(t).then(e=>e.persistence)}function hg(t){return px(t).then(e=>e.localStore)}function Xz(t){return r0(t).then(e=>e.remoteStore)}function _x(t){return r0(t).then(e=>e.syncEngine)}function fg(t){return yx.apply(this,arguments)}function yx(){return yx=(0,we.Z)(function*(t){const e=yield r0(t),n=e.eventManager;return n.onListen=jfe.bind(null,e.syncEngine),n.onUnlisten=$fe.bind(null,e.syncEngine),n}),yx.apply(this,arguments)}function eW(t,e,n={}){const r=new Mi;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(s,o,a,u,l){const h=new t0({next:y=>{o.enqueueAndForget(()=>kR(s,p));const C=y.docs.has(a);!C&&y.fromCache?l.reject(new Me(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&y.fromCache&&u&&"server"===u.source?l.reject(new Me(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new VR(Hp(a.path),h,{includeMetadataChanges:!0,J_:!0});return OR(s,p)}(yield fg(t),t.asyncQueue,e,n,r)})),r.promise}function tW(t,e,n={}){const r=new Mi;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(s,o,a,u,l){const h=new t0({next:y=>{o.enqueueAndForget(()=>kR(s,p)),y.fromCache&&"server"===u.source?l.reject(new Me(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new VR(a,h,{includeMetadataChanges:!0,J_:!0});return OR(s,p)}(yield fg(t),t.asyncQueue,e,n,r)})),r.promise}function nW(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const rW=new Map;function vx(t,e,n){if(!n)throw new Me(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iW(t,e,n,r){if(!0===e&&!0===r)throw new Me(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sW(t){if(!qe.isDocumentKey(t))throw new Me(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oW(t){if(qe.isDocumentKey(t))throw new Me(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function s0(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Xe()}function pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=s0(t);throw new Me(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function aW(t,e){if(e<=0)throw new Me(pe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class uW{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=nW(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Me(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Me(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Me(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $y{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uW({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uW(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new _de;switch(r.type){case"firstParty":return new Ede(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Me(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rW.get(n);r&&(xe("ComponentProvider","Removing Datastore"),rW.delete(n),r.terminate())}(this),Promise.resolve()}}class as{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new as(this.firestore,e,this._query)}}class wr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wr(this.firestore,e,this._key)}}class Eu extends as{constructor(e,n,r){super(e,n,Hp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wr(this.firestore,null,new qe(e))}withConverter(e){return new Eu(this.firestore,e,this._path)}}function cW(t,e,...n){if(t=(0,O.m9)(t),vx("collection","path",e),t instanceof $y){const r=Tn.fromString(e,...n);return oW(r),new Eu(t,null,r)}{if(!(t instanceof wr||t instanceof Eu))throw new Me(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tn.fromString(e,...n));return oW(r),new Eu(t.firestore,null,r)}}function Hy(t,e,...n){if(t=(0,O.m9)(t),1===arguments.length&&(e=mH.newId()),vx("doc","path",e),t instanceof $y){const r=Tn.fromString(e,...n);return sW(r),new wr(t,null,new qe(r))}{if(!(t instanceof wr||t instanceof Eu))throw new Me(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tn.fromString(e,...n));return sW(r),new wr(t.firestore,t instanceof Eu?t.converter:null,new qe(r))}}function dW(t,e){return t=(0,O.m9)(t),e=(0,O.m9)(e),(t instanceof wr||t instanceof Eu)&&(e instanceof wr||e instanceof Eu)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function wx(t,e){return t=(0,O.m9)(t),e=(0,O.m9)(e),t instanceof as&&e instanceof as&&t.firestore===e.firestore&&vy(t._query,e._query)&&t.converter===e.converter}class Epe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new fR(this,"async_queue_retry"),this.iu=()=>{const n=XI();n&&xe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=XI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=XI();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Mi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,we.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!hc(n))throw n;xe("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,ai("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=xR.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Xe()}verifyOperationInProgress(){}uu(){var e=this;return(0,we.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Ex(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class Cpe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class dr extends $y{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Epe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hW(this),this._firestoreClient.terminate()}}function ti(t){return t._firestoreClient||hW(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hW(t){var e,n,r;const i=t._freezeSettings(),s=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Yde(t._databaseId,u,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,nW(h.experimentalLongPollingOptions),h.useFetchStreams));var u,h;t._firestoreClient=new lpe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function fW(t,e,n){const r=new Mi;return t.asyncQueue.enqueue((0,we.Z)(function*(){try{yield n0(t,n),yield hx(t,e),r.resolve()}catch(i){const s=i;if(!Qz(s))throw s;po("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function pW(t){if(t._initialized||t._terminated)throw new Me(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Cu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cu(Ri.fromBase64String(e))}catch(n){throw new Me(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cu(Ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Me(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oh{constructor(e){this._methodName=e}}class o0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Me(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Me(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const Ope=/^__.*__$/;class Npe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new hl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kp(e,this.data,n,this.fieldTransforms)}}class gW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mW(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class a0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new a0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return c0(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(mW(this.Iu)&&Ope.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class kpe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vy(e)}pu(e,n,r,i=!1){return new a0({Iu:e,methodName:n,gu:r,path:yr.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ah(t){const e=t._freezeSettings(),n=Vy(t._databaseId);return new kpe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function u0(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);Tx("Data must be an object, but it was:",o,r);const a=vW(r,o);let u,l;if(s.merge)u=new go(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const y=qy(e,p,n);if(!o.contains(y))throw new Me(pe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);EW(h,y)||h.push(y)}u=new go(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Npe(new os(a),u,l)}class Wy extends oh{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wy}}function _W(t,e,n){return new a0({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Cx extends oh{_toFieldTransform(e){return new Iy(e.path,new qp)}isEqual(e){return e instanceof Cx}}class Fpe extends oh{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=_W(this,e,!0),r=this.yu.map(s=>uh(s,n)),i=new Yd(r);return new Iy(e.path,i)}isEqual(e){return this===e}}class Lpe extends oh{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=_W(this,e,!0),r=this.yu.map(s=>uh(s,n)),i=new Xd(r);return new Iy(e.path,i)}isEqual(e){return this===e}}class Vpe extends oh{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new Gp(e.serializer,l4(e.serializer,this.wu));return new Iy(e.path,n)}isEqual(e){return this===e}}function Ix(t,e,n,r){const i=t.pu(1,e,n);Tx("Data must be an object, but it was:",i,r);const s=[],o=os.empty();fc(r,(u,l)=>{const h=l0(e,u,n);l=(0,O.m9)(l);const p=i.Ru(h);if(l instanceof Wy)s.push(h);else{const y=uh(l,p);null!=y&&(s.push(h),o.set(h,y))}});const a=new go(s);return new gW(o,a,i.fieldTransforms)}function bx(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[qy(e,r,n)],u=[i];if(s.length%2!=0)throw new Me(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)a.push(qy(e,s[y])),u.push(s[y+1]);const l=[],h=os.empty();for(let y=a.length-1;y>=0;--y)if(!EW(l,a[y])){const C=a[y];let S=u[y];S=(0,O.m9)(S);const M=o.Ru(C);if(S instanceof Wy)l.push(C);else{const N=uh(S,M);null!=N&&(l.push(C),h.set(C,N))}}const p=new go(l);return new gW(h,p,o.fieldTransforms)}function yW(t,e,n,r=!1){return uh(n,t.pu(r?4:3,e))}function uh(t,e){if(wW(t=(0,O.m9)(t)))return Tx("Unsupported field value:",e,t),vW(t,e);if(t instanceof oh)return function(r,i){if(!mW(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=uh(a,i.Vu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=(0,O.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return l4(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Nr.fromDate(r);return{timestampValue:Qp(i.serializer,s)}}if(r instanceof Nr){const s=new Nr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qp(i.serializer,s)}}if(r instanceof o0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cu)return{bytesValue:M4(i.serializer,r._byteString)};if(r instanceof wr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:jM(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${s0(r)}`)}(t,e)}function vW(t,e){const n={};return RH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fc(t,(r,i)=>{const s=uh(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function wW(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Nr||t instanceof o0||t instanceof Cu||t instanceof wr||t instanceof oh)}function Tx(t,e,n){if(!wW(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=s0(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function qy(t,e,n){if((e=(0,O.m9)(e))instanceof gl)return e._internalPath;if("string"==typeof e)return l0(t,e);throw c0("Field path arguments must be of type string or ",t,!1,void 0,n)}const Upe=new RegExp("[~\\*/\\[\\]]");function l0(t,e,n){if(e.search(Upe)>=0)throw c0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gl(...e.split("."))._internalPath}catch{throw c0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function c0(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Me(pe.INVALID_ARGUMENT,a+t+u)}function EW(t,e){return t.some(n=>n.isEqual(e))}class Gy{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new wr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(d0("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Bpe extends Gy{data(){return super.data()}}function d0(t,e){return"string"==typeof e?l0(t,e):e instanceof gl?e._internalPath:e._delegate._internalPath}function CW(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Me(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sx{}class Ky extends Sx{}function Sc(t,e,...n){let r=[];e instanceof Sx&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof pg).length,a=s.filter(u=>u instanceof Zy).length;if(o>1||o>0&&a>0)throw new Me(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Zy extends Ky{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zy(e,n,r)}_apply(e){const n=this._parse(e);return SW(e._query,n),new as(e.firestore,e.converter,OM(e._query,n))}_parse(e){const n=ah(e.firestore);return function(s,o,a,u,l,h,p){let y;if(l.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new Me(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){TW(p,h);const C=[];for(const S of p)C.push(bW(u,s,S));y={arrayValue:{values:C}}}else y=bW(u,s,p)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||TW(p,h),y=yW(a,"where",p,"in"===h||"not-in"===h);return yn.create(l,h,y)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class pg extends Sx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)SW(o,u),o=OM(o,u)}(e._query,n),new as(e.firestore,e.converter,OM(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Dx extends Ky{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Dx(e,n)}_apply(e){const n=function(i,s,o){if(null!==i.startAt)throw new Me(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Me(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _y(s,o)}(e._query,this._field,this._direction);return new as(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new cl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class h0 extends Ky{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new h0(e,n,r)}_apply(e){return new as(e.firestore,e.converter,xI(e._query,this._limit,this._limitType))}}class f0 extends Ky{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new f0(e,n,r)}_apply(e){const n=IW(e,this.type,this._docOrFields,this._inclusive);return new as(e.firestore,e.converter,(s=n,new cl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class p0 extends Ky{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new p0(e,n,r)}_apply(e){const n=IW(e,this.type,this._docOrFields,this._inclusive);return new as(e.firestore,e.converter,(s=n,new cl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function IW(t,e,n,r){if(n[0]=(0,O.m9)(n[0]),n[0]instanceof Gy)return function(s,o,a,u,l){if(!u)throw new Me(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const p of zp(s))if(p.field.isKeyField())h.push(Zd(o,u.key));else{const y=u.data.field(p.field);if(TI(y))throw new Me(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===y){const C=p.field.canonicalString();throw new Me(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${C}' (used as the orderBy) does not exist.`)}h.push(y)}return new vc(h,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ah(t.firestore);return function(o,a,u,l,h,p){const y=o.explicitOrderBy;if(h.length>y.length)throw new Me(pe.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const C=[];for(let S=0;S<h.length;S++){const M=h[S];if(y[S].field.isKeyField()){if("string"!=typeof M)throw new Me(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof M}`);if(!xM(o)&&-1!==M.indexOf("/"))throw new Me(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${M}' contains a slash.`);const N=o.path.child(Tn.fromString(M));if(!qe.isDocumentKey(N))throw new Me(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${N}' is not because it contains an odd number of segments.`);const Z=new qe(N);C.push(Zd(a,Z))}else{const N=yW(u,l,M);C.push(N)}}return new vc(C,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function bW(t,e,n){if("string"==typeof(n=(0,O.m9)(n))){if(""===n)throw new Me(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xM(e)&&-1!==n.indexOf("/"))throw new Me(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Tn.fromString(n));if(!qe.isDocumentKey(r))throw new Me(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zd(t,new qe(r))}if(n instanceof wr)return Zd(t,n._key);throw new Me(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${s0(n)}.`)}function TW(t,e){if(!Array.isArray(t)||0===t.length)throw new Me(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SW(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Me(pe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ax{convertValue(e,n="none"){switch(_c(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ll(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new o0(ei(e.latitude),ei(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=SI(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fy(e));default:return null}}convertTimestamp(e){const n=pc(e);return new Nr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tn.fromString(e);ct(B4(r));const i=new gc(r.get(1),r.get(3)),s=new qe(r.popFirst(5));return i.isEqual(n)||ai(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function g0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Zpe extends Ax{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,n)}}class lh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ml extends Gy{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(d0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qy extends ml{data(e={}){return super.data(e)}}class Dc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qy(this._firestore,this._userDataWriter,r.key,r,new lh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Me(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Qy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new Qy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,h=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Ype(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ype(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function AW(t,e){return t instanceof ml&&e instanceof ml?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Dc&&e instanceof Dc&&t._firestore===e._firestore&&wx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Ac extends Ax{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,n)}}function Px(t,e,n){t=pn(t,wr);const r=pn(t.firestore,dr),i=g0(t.converter,e,n);return gg(r,[u0(ah(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,kr.none())])}function PW(t,e,n,...r){t=pn(t,wr);const i=pn(t.firestore,dr),s=ah(i);let o;return o="string"==typeof(e=(0,O.m9)(e))||e instanceof gl?bx(s,"updateDoc",t._key,e,n,r):Ix(s,"updateDoc",t._key,e),gg(i,[o.toMutation(t._key,kr.exists(!0))])}function MW(t,...e){var n,r,i;t=(0,O.m9)(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Ex(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Ex(e[o])){const p=e[o];e[o]=null===(n=p.next)||void 0===n?void 0:n.bind(p),e[o+1]=null===(r=p.error)||void 0===r?void 0:r.bind(p),e[o+2]=null===(i=p.complete)||void 0===i?void 0:i.bind(p)}let u,l,h;if(t instanceof wr)l=pn(t.firestore,dr),h=Hp(t._key.path),u={next:p=>{e[o]&&e[o](Mx(l,t,p))},error:e[o+1],complete:e[o+2]};else{const p=pn(t,as);l=pn(p.firestore,dr),h=p._query;const y=new Ac(l);u={next:C=>{e[o]&&e[o](new Dc(l,y,p,C))},error:e[o+1],complete:e[o+2]},CW(t._query)}return function(y,C,S,M){const N=new t0(M),Z=new VR(C,N,S);return y.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return OR(yield fg(y),Z)})),()=>{N.Na(),y.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return kR(yield fg(y),Z)}))}}(ti(l),h,a,u)}function gg(t,e){return function(r,i){const s=new Mi;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function Hfe(t,e,n){return HR.apply(this,arguments)}(yield _x(r),i,s)})),s.promise}(ti(t),e)}function Mx(t,e,n){const r=n.docs.get(e._key),i=new Ac(t);return new ml(t,i,e._key,r,new lh(n.hasPendingWrites,n.fromCache),e.converter)}const gge={maxAttempts:5};class RW{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ah(e)}set(e,n,r){this._verifyNotCommitted();const i=Pc(e,this._firestore),s=g0(i.converter,n,r),o=u0(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,kr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Pc(e,this._firestore);let o;return o="string"==typeof(n=(0,O.m9)(n))||n instanceof gl?bx(this._dataReader,"WriteBatch.update",s._key,n,r,i):Ix(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Pc(e,this._firestore);return this._mutations=this._mutations.concat(new Zp(n._key,kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pc(t,e){if((t=(0,O.m9)(t)).firestore!==e)throw new Me(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class mge extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=ah(n)}get(n){const r=Pc(n,this._firestore),i=new Zpe(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return Xe();const o=s[0];if(o.isFoundDocument())return new Gy(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Gy(this._firestore,i,r._key,null,r.converter);throw Xe()})}set(n,r,i){const s=Pc(n,this._firestore),o=g0(s.converter,r,i),a=u0(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Pc(n,this._firestore);let a;return a="string"==typeof(r=(0,O.m9)(r))||r instanceof gl?bx(this._dataReader,"Transaction.update",o._key,r,i,s):Ix(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Pc(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Pc(e,this._firestore),r=new Ac(this._firestore);return super.get(e).then(i=>new ml(this._firestore,r,n._key,i._document,new lh(!1,!1),n.converter))}}function xx(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function kW(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function FW(){if(!function Zde(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){kp=Cs.SDK_VERSION,(0,Cs._registerComponent)(new Oa.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new dr(new vde(r.getProvider("auth-internal")),new Cde(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Me(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Cs.registerVersion)(fH,"4.3.2",e),(0,Cs.registerVersion)(fH,"4.3.2","esm2017")}();class Yy{constructor(e){this._delegate=e}static fromBase64String(e){return FW(),new Yy(Cu.fromBase64String(e))}static fromUint8Array(e){return kW(),new Yy(Cu.fromUint8Array(e))}toBase64(){return FW(),this._delegate.toBase64()}toUint8Array(){return kW(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ox(t){return function Sge(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class Dge{enableIndexedDbPersistence(e,n){return function bpe(t,e){pW(t=pn(t,dr));const n=ti(t);if(n._uninitializedComponentsProvider)throw new Me(pe.FAILED_PRECONDITION,"SDK cache is already specified.");po("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new dg;return fW(n,i,new cx(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function Tpe(t){pW(t=pn(t,dr));const e=ti(t);if(e._uninitializedComponentsProvider)throw new Me(pe.FAILED_PRECONDITION,"SDK cache is already specified.");po("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new dg;return fW(e,r,new Kz(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Spe(t){if(t._initialized&&!t._terminated)throw new Me(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mi;return t._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(n=(0,we.Z)(function*(i){if(!La.D())return Promise.resolve();const s=i+"main";yield La.delete(s)}),function r(i){return n.apply(this,arguments)})(nR(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class LW{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof gc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&po("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function lW(t,e,n,r={}){var i;const s=(t=pn(t,$y))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=$i.MOCK_USER;else{a=(0,O.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Me(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new $i(l)}t._authCredentials=new yde(new pH(a,u))}}(this._delegate,e,n,r)}enableNetwork(){return function Ape(t){return function cpe(t){return t.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield Yz(t),n=yield Xz(t);return e.setNetworkEnabled(!0),function(i){const s=ze(i);return s.C_.delete(0),Uy(s)}(n)}))}(ti(t=pn(t,dr)))}(this._delegate)}disableNetwork(){return function Ppe(t){return function dpe(t){return t.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield Yz(t),n=yield Xz(t);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(s){const o=ze(s);o.C_.add(0),yield ig(o),o.M_.set("Offline")}),function i(s){return r.apply(this,arguments)})(n);var r}))}(ti(t=pn(t,dr)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,iW("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Dpe(t){return function(n){const r=new Mi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function Gfe(t,e){return KR.apply(this,arguments)}(yield _x(n),r)})),r.promise}(ti(t=pn(t,dr)))}(this._delegate)}onSnapshotsInSync(e){return function oge(t,e){return function ppe(t,e){const n=new t0(e);return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield fg(t),s=n,ze(i).q_.add(s),void s.next();var i,s})),()=>{n.Na(),t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield fg(t),s=n,void ze(i).q_.delete(s);var i,s}))}}(ti(t=pn(t,dr)),Ex(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new mg(this,cW(this._delegate,e))}catch(n){throw Xs(n,"collection()","Firestore.collection()")}}doc(e){try{return new ua(this,Hy(this._delegate,e))}catch(n){throw Xs(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Js(this,function wpe(t,e){if(t=pn(t,$y),vx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new as(t,null,(r=e,new cl(Tn.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw Xs(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _ge(t,e,n){t=pn(t,dr);const r=Object.assign(Object.assign({},gge),n);return function(s){if(s.maxAttempts<1)throw new Me(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new Mi;return s.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const l=yield function Jz(t){return r0(t).then(e=>e.datastore)}(s);new upe(s.asyncQueue,l,a,o,u).run()})),u.promise}(ti(t),i=>e(new mge(t,i)),r)}(this._delegate,n=>e(new VW(this,n)))}batch(){return ti(this._delegate),new UW(new RW(this._delegate,e=>gg(this._delegate,e)))}loadBundle(e){return function Mpe(t,e){const n=ti(t=pn(t,dr)),r=new Cpe;return function gpe(t,e,n,r){const i=function(o,a){let u;return u="string"==typeof o?C4().encode(o):o,h=function(h,p){if(h instanceof Uint8Array)return Zz(h,p);if(h instanceof ArrayBuffer)return Zz(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new ope(h,a);var h}(n,Vy(e));t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function ipe(t,e,n){const r=ze(t);var i;(i=(0,we.Z)(function*(o,a,u){try{const l=yield a.getMetadata();if(yield function(S,M){const N=ze(S),Z=ui(M.createTime);return N.persistence.runTransaction("hasNewerBundle","readonly",W=>N.Kr.getBundleMetadata(W,M.id)).then(W=>!!W&&W.createTime.compareTo(Z)>=0)}(o.localStore,l))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(S=l).totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}),Promise.resolve(new Set);u._updateProgress(Uz(l));const h=new Lfe(l,o.localStore,a.serializer);let p=yield a.Ma();for(;p;){const C=yield h.ea(p);C&&u._updateProgress(C),p=yield a.Ma()}const y=yield h.complete();return yield pl(o,y.ra,void 0),yield function(S,M){const N=ze(S);return N.persistence.runTransaction("Save bundle","readwrite",Z=>N.Kr.saveBundleMetadata(Z,M))}(o.localStore,l),u._completeWith(y.progress),Promise.resolve(y.na)}catch(l){return po("SyncEngine",`Loading bundle failed with ${l}`),u._failWith(l),Promise.resolve(new Set)}var S}),function s(o,a,u){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield _x(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Rpe(t,e){return function mpe(t,e){return t.asyncQueue.enqueue((0,we.Z)(function*(){return function(r,i){const s=ze(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield hg(t),e)}))}(ti(t=pn(t,dr)),e).then(n=>n?new as(t,null,n.query):null)}(this._delegate,e).then(n=>n?new Js(this,n):null)}}class _0 extends Ax{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yy(new Cu(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ua.forKey(n,this.firestore,null)}}class VW{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new _0(e)}get(e){const n=dh(e);return this._delegate.get(n).then(r=>new Xy(this._firestore,new ml(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=dh(e);return r?(xx("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=dh(e);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=dh(e);return this._delegate.delete(n),this}}class UW{constructor(e){this._delegate=e}set(e,n,r){const i=dh(e);return r?(xx("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=dh(e);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=dh(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ch{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Qy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jy(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ch.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new ch(e,new _0(e),n),i.set(n,s)),s}}ch.INSTANCES=new WeakMap;class ua{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new _0(e)}static forPath(e,n,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ua(n,new wr(n._delegate,r,new qe(e)))}static forKey(e,n,r){return new ua(n,new wr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new mg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new mg(this.firestore,cW(this._delegate,e))}catch(n){throw Xs(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,O.m9)(e))instanceof wr&&dW(this._delegate,e)}set(e,n){n=xx("DocumentReference.set",n);try{return n?Px(this._delegate,e,n):Px(this._delegate,e)}catch(r){throw Xs(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?PW(this._delegate,e):PW(this._delegate,e,n,...r)}catch(i){throw Xs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function ige(t){return gg(pn(t.firestore,dr),[new Zp(t._key,kr.none())])}(this._delegate)}onSnapshot(...e){const n=BW(e),r=jW(e,i=>new Xy(this.firestore,new ml(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return MW(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function Jpe(t){t=pn(t,wr);const e=pn(t.firestore,dr),n=ti(e),r=new Ac(e);return function hpe(t,e){const n=new Mi;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(s,o,a){try{const u=yield function(h,p){const y=ze(h);return y.persistence.runTransaction("read document","readonly",C=>y.localDocuments.getDocument(C,p))}(s,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new Me(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const l=ag(u,`Failed to get document '${o} from cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield hg(t),e,n);var r})),n.promise}(n,t._key).then(i=>new ml(e,r,t._key,i,new lh(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function ege(t){t=pn(t,wr);const e=pn(t.firestore,dr);return eW(ti(e),t._key,{source:"server"}).then(n=>Mx(e,t,n))}(this._delegate):function Xpe(t){t=pn(t,wr);const e=pn(t.firestore,dr);return eW(ti(e),t._key).then(n=>Mx(e,t,n))}(this._delegate),n.then(r=>new Xy(this.firestore,new ml(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ua(this.firestore,this._delegate.withConverter(e?ch.getInstance(this.firestore,e):null))}}function Xs(t,e,n){return t.message=t.message.replace(e,n),t}function BW(t){for(const e of t)if("object"==typeof e&&!Ox(e))return e;return{}}function jW(t,e){var n,r;let i;return i=Ox(t[0])?t[0]:Ox(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Xy{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ua(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return AW(this._delegate,e._delegate)}}class Jy extends Xy{data(e){const n=this._delegate.data(e);return this._delegate._converter||function mde(t,e){t||Xe()}(void 0!==n),n}}class Js{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new _0(e)}where(e,n,r){try{return new Js(this.firestore,Sc(this._delegate,function jpe(t,e,n){const r=e,i=d0("where",t);return Zy._create(i,r,n)}(e,n,r)))}catch(i){throw Xs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Js(this.firestore,Sc(this._delegate,function $pe(t,e="asc"){const n=e,r=d0("orderBy",t);return Dx._create(r,n)}(e,n)))}catch(r){throw Xs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Js(this.firestore,Sc(this._delegate,function Hpe(t){return aW("limit",t),h0._create("limit",t,"F")}(e)))}catch(n){throw Xs(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Js(this.firestore,Sc(this._delegate,function zpe(t){return aW("limitToLast",t),h0._create("limitToLast",t,"L")}(e)))}catch(n){throw Xs(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Js(this.firestore,Sc(this._delegate,function Wpe(...t){return f0._create("startAt",t,!0)}(...e)))}catch(n){throw Xs(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Js(this.firestore,Sc(this._delegate,function qpe(...t){return f0._create("startAfter",t,!1)}(...e)))}catch(n){throw Xs(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Js(this.firestore,Sc(this._delegate,function Gpe(...t){return p0._create("endBefore",t,!1)}(...e)))}catch(n){throw Xs(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Js(this.firestore,Sc(this._delegate,function Kpe(...t){return p0._create("endAt",t,!0)}(...e)))}catch(n){throw Xs(n,"endAt()","Query.endAt()")}}isEqual(e){return wx(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function nge(t){t=pn(t,as);const e=pn(t.firestore,dr),n=ti(e),r=new Ac(e);return function fpe(t,e){const n=new Mi;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(s,o,a){try{const u=yield KI(s,o,!0),l=new $z(o,u.ls),h=l.ca(u.documents),p=l.applyChanges(h,!1);a.resolve(p.snapshot)}catch(u){const l=ag(u,`Failed to execute query '${o} against cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield hg(t),e,n);var r})),n.promise}(n,t._query).then(i=>new Dc(e,r,t,i))}(this._delegate):"server"===e?.source?function rge(t){t=pn(t,as);const e=pn(t.firestore,dr),n=ti(e),r=new Ac(e);return tW(n,t._query,{source:"server"}).then(i=>new Dc(e,r,t,i))}(this._delegate):function tge(t){t=pn(t,as);const e=pn(t.firestore,dr),n=ti(e),r=new Ac(e);return CW(t._query),tW(n,t._query).then(i=>new Dc(e,r,t,i))}(this._delegate),n.then(r=>new Nx(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=BW(e),r=jW(e,i=>new Nx(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return MW(this._delegate,n,r)}withConverter(e){return new Js(this.firestore,this._delegate.withConverter(e?ch.getInstance(this.firestore,e):null))}}class Pge{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Jy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Nx{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Js(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Jy(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Pge(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Jy(this._firestore,r))})}isEqual(e){return AW(this._delegate,e._delegate)}}class mg extends Js{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ua(this.firestore,e):null}doc(e){try{return new ua(this.firestore,void 0===e?Hy(this._delegate):Hy(this._delegate,e))}catch(n){throw Xs(n,"doc()","CollectionReference.doc()")}}add(e){return function sge(t,e){const n=pn(t.firestore,dr),r=Hy(t),i=g0(t.converter,e);return gg(n,[u0(ah(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new ua(this.firestore,n))}isEqual(e){return dW(this._delegate,e._delegate)}withConverter(e){return new mg(this.firestore,this._delegate.withConverter(e?ch.getInstance(this.firestore,e):null))}}function dh(t){return pn(t,wr)}class kx{constructor(...e){this._delegate=new gl(...e)}static documentId(){return new kx(yr.keyField().canonicalString())}isEqual(e){return(e=(0,O.m9)(e))instanceof gl&&this._delegate._internalPath.isEqual(e._internalPath)}}class hh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vge(){return new Cx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hh(e)}static delete(){const e=function yge(){return new Wy("deleteField")}();return e._methodName="FieldValue.delete",new hh(e)}static arrayUnion(...e){const n=function wge(...t){return new Fpe("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new hh(n)}static arrayRemove(...e){const n=function Ege(...t){return new Lpe("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new hh(n)}static increment(e){const n=function Cge(t){return new Vpe("increment",t)}(e);return n._methodName="FieldValue.increment",new hh(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Mge={Firestore:LW,GeoPoint:o0,Timestamp:Nr,Blob:Yy,Transaction:VW,WriteBatch:UW,DocumentReference:ua,DocumentSnapshot:Xy,Query:Js,QueryDocumentSnapshot:Jy,QuerySnapshot:Nx,CollectionReference:mg,FieldPath:kx,FieldValue:hh,setLogLevel:function Age(t){!function gde(t){cc.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function $W(t,e){return function Oge(t,e=VC){return new tn(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function Fx(t,e){return $W(t,e).pipe(De(n=>({payload:n,type:"query"})))}!function xge(t){(function Rge(t,e){t.INTERNAL.registerComponent(new Oa.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Mge)))})(t,(e,n)=>new LW(e,n,new Dge)),t.registerVersion("@firebase/firestore-compat","0.3.22")}(Mo.Z);class HW{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:s}=ZW(r,n);return new qW(i,s,this.afs)}snapshotChanges(){return function Nge(t,e){return $W(t,e).pipe(CC(void 0),RP(),De(n=>{const[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oi)}valueChanges(e={}){return this.snapshotChanges().pipe(De(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return Bn(this.ref.get(e)).pipe(oi)}}function y0(t,e){return Fx(t,e).pipe(CC(void 0),RP(),De(n=>{const[r,i]=n,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const l=s.find(p=>p.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(p=>p.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function zW(t,e,n){return y0(t,n).pipe(op((r,i)=>function kge(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function Fge(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Lx(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Lx(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Lx(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(s=>s.payload),e),[]),Q$(),De(r=>r.map(i=>({type:i.type,payload:i}))))}function Lx(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function WW(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class qW{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=y0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(De(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(CC(void 0),RP(),ia(([r,i])=>i.length>0||!r),De(([,r])=>r),oi)}auditTrail(e){return this.stateChanges(e).pipe(op((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=WW(e);return zW(this.query,n,this.afs.schedulers.outsideAngular).pipe(oi)}valueChanges(e={}){return Fx(this.query,this.afs.schedulers.outsideAngular).pipe(De(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),oi)}get(e){return Bn(this.query.get(e)).pipe(oi)}add(e){return this.ref.add(e)}doc(e){return new HW(this.ref.doc(e),this.afs)}}class Lge{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?y0(this.query,this.afs.schedulers.outsideAngular).pipe(De(n=>n.filter(r=>e.indexOf(r.type)>-1)),ia(n=>n.length>0),oi):y0(this.query,this.afs.schedulers.outsideAngular).pipe(oi)}auditTrail(e){return this.stateChanges(e).pipe(op((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=WW(e);return zW(this.query,n,this.afs.schedulers.outsideAngular).pipe(oi)}valueChanges(e={}){return Fx(this.query,this.afs.schedulers.outsideAngular).pipe(De(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),oi)}get(e){return Bn(this.query.get(e)).pipe(oi)}}const GW=new Oe("angularfire2.enableFirestorePersistence"),KW=new Oe("angularfire2.firestore.persistenceSettings"),Vge=new Oe("angularfire2.firestore.settings"),Uge=new Oe("angularfire2.firestore.use-emulator");function ZW(t,e=(n=>n)){return{query:e(t),ref:t}}let fh=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,s,o,a,u,l,h,p,y,C,S,M,N,Z,W){this.schedulers=u;const J=F_(n,a,r),me=h;p&&yP(J,a,y,S,M,N,C,Z),[this.firestore,this.persistenceEnabled$]=jC(`${J.name}.firestore`,"AngularFirestore",J.name,()=>{const Ne=a.runOutsideAngular(()=>J.firestore());if(s&&Ne.settings(s),me&&Ne.useEmulator(...me),i&&!JE(o)){const Ge=()=>{try{return Bn(Ne.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(xt){return typeof console<"u"&&console.warn(xt),mt(!1)}};return[Ne,a.runOutsideAngular(Ge)]}return[Ne,mt(!1)]},[s,me,i])}collection(n,r){let i;i="string"==typeof n?this.firestore.collection(n):n;const{ref:s,query:o}=ZW(i,r),a=this.schedulers.ngZone.run(()=>s);return new qW(a,o,this)}collectionGroup(n,r){const i=r||(o=>o),s=this.firestore.collectionGroup(n);return new Lge(i(s),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const i=this.schedulers.ngZone.run(()=>r);return new HW(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(k(Ep),k(Cp,8),k(GW,8),k(Vge,8),k(Yo),k(fn),k(BC),k(KW,8),k(Uge,8),k(Ip,8),k(hP,8),k(fP,8),k(pP,8),k(gP,8),k(mP,8),k(_P,8),k(UC,8))};static \u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),Bge=(()=>{class t{constructor(){Mo.Z.registerVersion("angularfire",yp.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:GW,useValue:!0},{provide:KW,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Kn({type:t});static \u0275inj=tr({providers:[fh]})}return t})();const QW="@firebase/database";let Vx="";function Ux(t){Vx=t}class Hge{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,O.Wl)(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:(0,O.cI)(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class zge{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return(0,O.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const XW=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Hge(e)}}catch{}return new zge},ph=XW("localStorage"),Bx=XW("sessionStorage"),_g=new xo.Yd("@firebase/database"),JW=function(){let t=1;return function(){return t++}}(),e5=function(t){const e=(0,O.dS)(t),n=new O.gQ;n.update(e);const r=n.digest();return O.US.encodeByteArray(r)},ev=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=ev.apply(null,r):e+="object"==typeof r?(0,O.Wl)(r):r,e+=" "}return e};let gh=null,t5=!0;const n5=function(t,e){(0,O.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(_g.logLevel=xo.in.VERBOSE,gh=_g.log.bind(_g),e&&Bx.set("logging_enabled",!0)):"function"==typeof t?gh=t:(gh=null,Bx.remove("logging_enabled"))},Wi=function(...t){if(!0===t5&&(t5=!1,null===gh&&!0===Bx.get("logging_enabled")&&n5(!0)),gh){const e=ev.apply(null,t);gh(e)}},tv=function(t){return function(...e){Wi(t,...e)}},jx=function(...t){const e="FIREBASE INTERNAL ERROR: "+ev(...t);_g.error(e)},Iu=function(...t){const e=`FIREBASE FATAL ERROR: ${ev(...t)}`;throw _g.error(e),new Error(e)},Ps=function(...t){const e="FIREBASE WARNING: "+ev(...t);_g.warn(e)},v0=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Mc="[MIN_NAME]",_l="[MAX_NAME]",mh=function(t,e){if(t===e)return 0;if(t===Mc||e===_l)return-1;if(e===Mc||t===_l)return 1;{const n=s5(t),r=s5(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Gge=function(t,e){return t===e?0:t<e?-1:1},nv=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,O.Wl)(e))},$x=function(t){if("object"!=typeof t||null===t)return(0,O.Wl)(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=(0,O.Wl)(e[r]),n+=":",n+=$x(t[e[r]]);return n+="}",n},r5=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function qi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const i5=function(t){(0,O.hu)(!v0(t),"Invalid JSON number");const r=1023;let i,s,o,a,u;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const l=[];for(u=52;u;u-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();const h=l.join("");let p="";for(u=0;u<64;u+=8){let y=parseInt(h.substr(u,8),2).toString(16);1===y.length&&(y="0"+y),p+=y}return p.toLowerCase()},Yge=new RegExp("^-?(0*)\\d{1,10}$"),s5=function(t){if(Yge.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},yg=function(t){try{t()}catch(e){setTimeout(()=>{throw Ps("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},rv=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class tme{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ps(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class nme{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Wi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ps(e)}}let iv=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const c5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,f5="websocket",p5="long_polling";class zx{constructor(e,n,r,i,s=!1,o="",a=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ph.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ph.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function g5(t,e,n){let r;if((0,O.hu)("string"==typeof e,"typeof type must == string"),(0,O.hu)("object"==typeof n,"typeof params must == object"),e===f5)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==p5)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function rme(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return qi(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class ime{constructor(){this.counters_={}}incrementCounter(e,n=1){(0,O.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return(0,O.p$)(this.counters_)}}const Wx={},qx={};function Gx(t){const e=t.toString();return Wx[e]||(Wx[e]=new ime),Wx[e]}class ome{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&yg(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Rc{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tv(e),this.stats_=Gx(n),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),g5(n,p5,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ome(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,O.Yr)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Kx((...s)=>{const[o,a,u,l,h]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&c5.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rc.forceAllow_=!0}static forceDisallow(){Rc.forceDisallow_=!0}static isAvailable(){return!((0,O.Yr)()||!Rc.forceAllow_&&(Rc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=(0,O.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=(0,O.h$)(n),i=r5(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if((0,O.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=(0,O.Wl)(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Kx{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,O.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=JW(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=Kx.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Wi("frame writing exception"),a.stack&&Wi(a.stack),Wi(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Wi("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){(0,O.Yr)()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Wi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let E0=null;typeof MozWebSocket<"u"?E0=MozWebSocket:typeof WebSocket<"u"&&(E0=WebSocket);let vg=(()=>{class t{constructor(n,r,i,s,o,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tv(this.connId),this.stats_=Gx(r),this.connURL=t.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return!(0,O.Yr)()&&typeof location<"u"&&location.hostname&&c5.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),g5(n,f5,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ph.set("previous_websocket_failure",!0);try{let i;if((0,O.Yr)()){i={headers:{"User-Agent":`Firebase/5/${Vx}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new E0(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==E0&&!t.forceDisallow_}static previouslyFailed(){return ph.isInMemoryStorage||!0===ph.get("previous_websocket_failure")}markConnectionHealthy(){ph.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,O.cI)(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,O.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=(0,O.Wl)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=r5(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),C5=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Rc,vg]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=vg&&vg.isAvailable();let i=r&&!vg.previouslyFailed();if(n.webSocketOnly&&(r||Ps("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[vg];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class P5{constructor(e,n,r,i,s,o,a,u,l,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tv("c:"+this.id+":"),this.transportManager_=new C5(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=rv(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=nv("t",e),r=nv("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=nv("t",e),r=nv("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=nv("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?jx("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jx("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Ps("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),rv(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rv(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ph.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class M5{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class R5{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,O.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,O.hu)(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class C0 extends R5{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,O.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new C0}getInitialEvent(e){return(0,O.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class jn{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Nn(){return new jn("")}function sn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function xc(t){return t.pieces_.length-t.pieceNum_}function sr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new jn(t.pieces_,e)}function Qx(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function sv(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function N5(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new jn(e,0)}function Fr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof jn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new jn(n,0)}function on(t){return t.pieceNum_>=t.pieces_.length}function eo(t,e){const n=sn(t),r=sn(e);if(null===n)return e;if(n===r)return eo(sr(t),sr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ame(t,e){const n=sv(t,0),r=sv(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=mh(n[i],r[i]);if(0!==s)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Yx(t,e){if(xc(t)!==xc(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function la(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(xc(t)>xc(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Pme{constructor(e,n){this.errorPrefix_=n,this.parts_=sv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,O.ug)(this.parts_[r]);k5(this)}}function k5(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+_h(t))}function _h(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class Xx extends R5{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Xx}getInitialEvent(e){return(0,O.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ov=1e3;let b0,yh=(()=>{class t extends M5{constructor(n,r,i,s,o,a,u,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=tv("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ov,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,O.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xx.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&C0.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_((0,O.Wl)(o)),(0,O.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new O.BH,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const u=a.d;"ok"===a.s?r.resolve(u):r.reject(u)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),(0,O.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,O.hu)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,u=>{const l=u.d,h=u.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),"ok"!==h&&this.removeListen_(i,s),n.onComplete&&n.onComplete(h,l))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&(0,O.r3)(n,"w")){const i=(0,O.DV)(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Ps(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,O.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=(0,O.w9)(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,O.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,O.Wl)(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):jx("Unrecognized action received from server: "+(0,O.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,O.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ov,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ov,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ov),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,we.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let u=!1,l=null;const h=function(){l?l.close():(u=!0,s())};n.realtime_={close:h,sendRequest:function(C){(0,O.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(C)}};const y=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[C,S]=yield Promise.all([n.authTokenProvider_.getToken(y),n.appCheckTokenProvider_.getToken(y)]);u?Wi("getToken() completed but was canceled"):(Wi("getToken() completed. Creating connection."),n.authToken_=C&&C.accessToken,n.appCheckToken_=S&&S.token,l=new P5(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,M=>{Ps(M+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(C){n.log_("Failed to get token: "+C),u||(n.repoInfo_.nodeAdmin&&Ps(C),h())}}})()}interrupt(n){Wi("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Wi("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,O.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ov,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>$x(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new jn(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Wi("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Wi("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";(0,O.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+Vx.replace(/\./g,"-")]=1,(0,O.uI)()?n["framework.cordova"]=1:(0,O.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=C0.getInstance().currentlyOnline();return(0,O.xb)(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class cn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new cn(e,n)}}class I0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new cn(Mc,e),i=new cn(Mc,n);return 0!==this.compare(r,i)}minPost(){return cn.MIN}}class V5 extends I0{static get __EMPTY_NODE(){return b0}static set __EMPTY_NODE(e){b0=e}compare(e,n){return mh(e.name,n.name)}isDefinedOn(e){throw(0,O.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return cn.MIN}maxPost(){return new cn(_l,b0)}makePost(e,n){return(0,O.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new cn(e,b0)}toString(){return".key"}}const bu=new V5;class T0{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let eO,Va=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??_o.EMPTY_NODE,this.right=o??_o.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return _o.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return _o.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class _o{constructor(e,n=_o.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new _o(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Va.BLACK,null,null))}remove(e){return new _o(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Va.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new T0(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new T0(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new T0(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new T0(this.root_,null,this.comparator_,!0,e)}}function Lme(t,e){return mh(t.name,e.name)}function Jx(t,e){return mh(t,e)}_o.EMPTY_NODE=new class Fme{copy(e,n,r,i,s){return this}insert(e,n,r){return new Va(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const U5=function(t){return"number"==typeof t?"number:"+i5(t):"string:"+t},B5=function(t){if(t.isLeafNode()){const e=t.val();(0,O.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,O.r3)(e,".sv"),"Priority must be a string or number.")}else(0,O.hu)(t===eO||t.isEmpty(),"priority of unexpected type.");(0,O.hu)(t===eO||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let j5,$5,H5,wg=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,(0,O.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),B5(this.priorityNode_)}static set __childrenNodeConstructor(n){j5=n}static get __childrenNodeConstructor(){return j5}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return on(n)?this:".priority"===sn(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=sn(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,O.hu)(".priority"!==i||1===xc(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(sr(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+U5(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?i5(this.value_):this.value_,this.lazyHash_=e5(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:((0,O.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return(0,O.hu)(s>=0,"Unknown leaf type: "+r),(0,O.hu)(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const hr=new class jme extends I0{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?mh(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return cn.MIN}maxPost(){return new cn(_l,new wg("[PRIORITY-POST]",H5))}makePost(e,n){const r=$5(e);return new cn(n,new wg("[PRIORITY-POST]",r))}toString(){return".priority"}},$me=Math.log(2);class Hme{constructor(e){this.count=parseInt(Math.log(e+1)/$me,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const S0=function(t,e,n,r){t.sort(e);const i=function(u,l){const h=l-u;let p,y;if(0===h)return null;if(1===h)return p=t[u],y=n?n(p):p,new Va(y,p.node,Va.BLACK,null,null);{const C=parseInt(h/2,10)+u,S=i(u,C),M=i(C+1,l);return p=t[C],y=n?n(p):p,new Va(y,p.node,Va.BLACK,S,M)}},a=function(u){let l=null,h=null,p=t.length;const y=function(S,M){const N=p-S,Z=p;p-=S;const W=i(N+1,Z),J=t[N],me=n?n(J):J;C(new Va(me,J.node,M,null,W))},C=function(S){l?(l.left=S,l=S):(h=S,l=S)};for(let S=0;S<u.count;++S){const M=u.nextBitIsOne(),N=Math.pow(2,u.count-(S+1));M?y(N,Va.BLACK):(y(N,Va.BLACK),y(N,Va.RED))}return h}(new Hme(t.length));return new _o(r||e,a)};let tO;const Eg={};class yl{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return(0,O.hu)(Eg&&hr,"ChildrenNode.ts has not been loaded"),tO=tO||new yl({".priority":Eg},{".priority":hr}),tO}get(e){const n=(0,O.DV)(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof _o?n:null}hasIndex(e){return(0,O.r3)(this.indexSet_,e.toString())}addIndex(e,n){(0,O.hu)(e!==bu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(cn.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?S0(r,e.getCompare()):Eg;const u=e.toString(),l=Object.assign({},this.indexSet_);l[u]=e;const h=Object.assign({},this.indexes_);return h[u]=a,new yl(h,l)}addToIndexes(e,n){const r=(0,O.UI)(this.indexes_,(i,s)=>{const o=(0,O.DV)(this.indexSet_,s);if((0,O.hu)(o,"Missing index implementation for "+s),i===Eg){if(o.isDefinedOn(e.node)){const a=[],u=n.getIterator(cn.Wrap);let l=u.getNext();for(;l;)l.name!==e.name&&a.push(l),l=u.getNext();return a.push(e),S0(a,o.getCompare())}return Eg}{const a=n.get(e.name);let u=i;return a&&(u=u.remove(new cn(e.name,a))),u.insert(e,e.node)}});return new yl(r,this.indexSet_)}removeFromIndexes(e,n){const r=(0,O.UI)(this.indexes_,i=>{if(i===Eg)return i;{const s=n.get(e.name);return s?i.remove(new cn(e.name,s)):i}});return new yl(r,this.indexSet_)}}let av,Zt=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&B5(this.priorityNode_),this.children_.isEmpty()&&(0,O.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return av||(av=new t(new _o(Jx),null,yl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||av}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?av:r}}getChild(n){const r=sn(n);return null===r?this:this.getImmediateChild(r).getChild(sr(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if((0,O.hu)(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new cn(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?av:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=sn(n);if(null===i)return r;{(0,O.hu)(".priority"!==sn(n)||1===xc(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(sr(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(hr,(a,u)=>{r[a]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+U5(this.getPriority().val())+":"),this.forEachChild(hr,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":e5(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new cn(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new cn(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new cn(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,cn.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,cn.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===uv?-1:0}withIndex(n){if(n===bu||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===bu||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(hr),s=r.getIterator(hr);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===bu?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const uv=new class zme extends Zt{constructor(){super(new _o(Jx),Zt.EMPTY_NODE,yl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Zt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(cn,{MIN:{value:new cn(Mc,Zt.EMPTY_NODE)},MAX:{value:new cn(_l,uv)}}),V5.__EMPTY_NODE=Zt.EMPTY_NODE,wg.__childrenNodeConstructor=Zt,function Vme(t){eO=t}(uv),function Bme(t){H5=t}(uv);const Wme=!0;function zr(t,e=null){if(null===t)return Zt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,O.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new wg(t,zr(e));if(t instanceof Array||!Wme){let n=Zt.EMPTY_NODE;return qi(t,(r,i)=>{if((0,O.r3)(t,r)&&"."!==r.substring(0,1)){const s=zr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(zr(e))}{const n=[];let r=!1;if(qi(t,(o,a)=>{if("."!==o.substring(0,1)){const u=zr(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new cn(o,u)))}}),0===n.length)return Zt.EMPTY_NODE;const s=S0(n,Lme,o=>o.name,Jx);if(r){const o=S0(n,hr.getCompare());return new Zt(s,zr(e),new yl({".priority":o},{".priority":hr}))}return new Zt(s,zr(e),yl.Default)}}!function Ume(t){$5=t}(zr);class nO extends I0{constructor(e){super(),this.indexPath_=e,(0,O.hu)(!on(e)&&".priority"!==sn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?mh(e.name,n.name):s}makePost(e,n){const r=zr(e),i=Zt.EMPTY_NODE.updateChild(this.indexPath_,r);return new cn(n,i)}maxPost(){const e=Zt.EMPTY_NODE.updateChild(this.indexPath_,uv);return new cn(_l,e)}toString(){return sv(this.indexPath_,0).join("/")}}const rO=new class qme extends I0{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?mh(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return cn.MIN}maxPost(){return cn.MAX}makePost(e,n){const r=zr(e);return new cn(n,r)}toString(){return".value"}};function z5(t){return{type:"value",snapshotNode:t}}function Cg(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function lv(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function cv(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class iO{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){(0,O.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(lv(n,a)):(0,O.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Cg(n,r)):o.trackChildChange(cv(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(hr,(i,s)=>{n.hasChild(i)||r.trackChildChange(lv(i,s))}),n.isLeafNode()||n.forEachChild(hr,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(cv(i,s,o))}else r.trackChildChange(Cg(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Zt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class dv{constructor(e){this.indexedFilter_=new iO(e.getIndex()),this.index_=e.getIndex(),this.startPost_=dv.getStartPost_(e),this.endPost_=dv.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new cn(n,r))||(r=Zt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Zt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Zt.EMPTY_NODE);const s=this;return n.forEachChild(hr,(o,a)=>{s.matches(new cn(o,a))||(i=i.updateImmediateChild(o,Zt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class Kme{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new dv(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new cn(n,r))||(r=Zt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Zt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let s;i=Zt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),o++}}}else{let s;i=n.withIndex(this.index_),i=i.updatePriority(Zt.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Zt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const p=this.index_.getCompare();o=(y,C)=>p(C,y)}else o=this.index_.getCompare();const a=e;(0,O.hu)(a.numChildren()===this.limit_,"");const u=new cn(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(a.hasChild(n)){const p=a.getImmediateChild(n);let y=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=y&&(y.name===n||a.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);const C=null==y?1:o(y,u);if(h&&!r.isEmpty()&&C>=0)return s?.trackChildChange(cv(n,r,p)),a.updateImmediateChild(n,r);{s?.trackChildChange(lv(n,p));const M=a.updateImmediateChild(n,Zt.EMPTY_NODE);return null!=y&&this.rangedFilter_.matches(y)?(s?.trackChildChange(Cg(y.name,y.node)),M.updateImmediateChild(y.name,y.node)):M}}return r.isEmpty()?e:h&&o(l,u)>=0?(null!=s&&(s.trackChildChange(lv(l.name,l.node)),s.trackChildChange(Cg(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,Zt.EMPTY_NODE)):e}}class D0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_l}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,O.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hr}copy(){const e=new D0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function sO(t,e,n){const r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function oO(t,e,n){const r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function A0(t,e){const n=t.copy();return n.index_=e,n}function W5(t){const e={};if(t.isDefault())return e;let n;if(t.index_===hr?n="$priority":t.index_===rO?n="$value":t.index_===bu?n="$key":((0,O.hu)(t.index_ instanceof nO,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,O.Wl)(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=(0,O.Wl)(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+(0,O.Wl)(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=(0,O.Wl)(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+(0,O.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function q5(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==hr&&(e.i=t.index_.toString()),e}class P0 extends M5{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=tv("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:((0,O.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=P0.getListenId_(e,r),a={};this.listens_[o]=a;const u=W5(e._queryParams);this.restRequest_(s+".json",u,(l,h)=>{let p=h;if(404===l&&(p=null,l=null),null===l&&this.onDataUpdate_(s,p,!1,r),(0,O.DV)(this.listens_,o)===a){let y;y=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(y,null)}})}unlisten(e,n){const r=P0.getListenId_(e,n);delete this.listens_[r]}get(e){const n=W5(e._queryParams),r=e._path.toString(),i=new O.BH;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,O.xO)(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=(0,O.cI)(a.responseText)}catch{Ps("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&Ps("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class e_e{constructor(){this.rootNode_=Zt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function M0(){return{value:null,children:new Map}}function Ig(t,e,n){if(on(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=sn(e);t.children.has(r)||t.children.set(r,M0()),Ig(t.children.get(r),e=sr(e),n)}}function aO(t,e){if(on(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(hr,(r,i)=>{Ig(t,new jn(r),i)}),aO(t,e)}}if(t.children.size>0){const n=sn(e);return e=sr(e),t.children.has(n)&&aO(t.children.get(n),e)&&t.children.delete(n),0===t.children.size}return!0}function uO(t,e,n){null!==t.value?n(e,t.value):function t_e(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{uO(i,new jn(e.toString()+"/"+r),n)})}class n_e{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&qi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class s_e{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new n_e(e);const r=1e4+2e4*Math.random();rv(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;qi(e,(i,s)=>{s>0&&(0,O.r3)(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),rv(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Tu=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Tu||{});function dO(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class R0{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Tu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(on(this.path)){if(null!=this.affectedTree.value)return(0,O.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new jn(e));return new R0(Nn(),n,this.revert)}}return(0,O.hu)(sn(this.path)===e,"operationForChild called for unrelated child."),new R0(sr(this.path),this.affectedTree,this.revert)}}class hv{constructor(e,n){this.source=e,this.path=n,this.type=Tu.LISTEN_COMPLETE}operationForChild(e){return on(this.path)?new hv(this.source,Nn()):new hv(this.source,sr(this.path))}}class vh{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Tu.OVERWRITE}operationForChild(e){return on(this.path)?new vh(this.source,Nn(),this.snap.getImmediateChild(e)):new vh(this.source,sr(this.path),this.snap)}}class bg{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Tu.MERGE}operationForChild(e){if(on(this.path)){const n=this.children.subtree(new jn(e));return n.isEmpty()?null:n.value?new vh(this.source,Nn(),n.value):new bg(this.source,Nn(),n)}return(0,O.hu)(sn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bg(this.source,sr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Oc{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(on(e))return this.isFullyInitialized()&&!this.filtered_;const n=sn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class o_e{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function fv(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,u)=>function l_e(t,e,n){if(null==e.childName||null==n.childName)throw(0,O.g5)("Should only compare child_ events.");const r=new cn(e.childName,e.snapshotNode),i=new cn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,u)),o.forEach(a=>{const u=function u_e(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(u,t.query_))})})}function x0(t,e){return{eventCache:t,serverCache:e}}function pv(t,e,n,r){return x0(new Oc(e,n,r),t.serverCache)}function K5(t,e,n,r){return x0(t.eventCache,new Oc(e,n,r))}function O0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function wh(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let hO;class fr{constructor(e,n=(()=>(hO||(hO=new _o(Gge)),hO))()){this.value=e,this.children=n}static fromObject(e){let n=new fr(null);return qi(e,(r,i)=>{n=n.set(new jn(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Nn(),value:this.value};if(on(e))return null;{const r=sn(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(sr(e),n);return null!=s?{path:Fr(new jn(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(on(e))return this;{const n=sn(e),r=this.children.get(n);return null!==r?r.subtree(sr(e)):new fr(null)}}set(e,n){if(on(e))return new fr(n,this.children);{const r=sn(e),s=(this.children.get(r)||new fr(null)).set(sr(e),n),o=this.children.insert(r,s);return new fr(this.value,o)}}remove(e){if(on(e))return this.children.isEmpty()?new fr(null):new fr(null,this.children);{const n=sn(e),r=this.children.get(n);if(r){const i=r.remove(sr(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new fr(null):new fr(this.value,s)}return this}}get(e){if(on(e))return this.value;{const n=sn(e),r=this.children.get(n);return r?r.get(sr(e)):null}}setTree(e,n){if(on(e))return n;{const r=sn(e),s=(this.children.get(r)||new fr(null)).setTree(sr(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new fr(this.value,o)}}fold(e){return this.fold_(Nn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Fr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Nn(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(on(e))return null;{const s=sn(e),o=this.children.get(s);return o?o.findOnPath_(sr(e),Fr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Nn(),n)}foreachOnPath_(e,n,r){if(on(e))return this;{this.value&&r(n,this.value);const i=sn(e),s=this.children.get(i);return s?s.foreachOnPath_(sr(e),Fr(n,i),r):new fr(null)}}foreach(e){this.foreach_(Nn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Fr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Ua{constructor(e){this.writeTree_=e}static empty(){return new Ua(new fr(null))}}function gv(t,e,n){if(on(e))return new Ua(new fr(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=eo(i,e);return s=s.updateChild(o,n),new Ua(t.writeTree_.set(i,s))}{const i=new fr(n),s=t.writeTree_.setTree(e,i);return new Ua(s)}}}function fO(t,e,n){let r=t;return qi(n,(i,s)=>{r=gv(r,Fr(e,i),s)}),r}function Z5(t,e){if(on(e))return Ua.empty();{const n=t.writeTree_.setTree(e,new fr(null));return new Ua(n)}}function pO(t,e){return null!=Eh(t,e)}function Eh(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(eo(n.path,e)):null}function Q5(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(hr,(r,i)=>{e.push(new cn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new cn(r,i.value))}),e}function Nc(t,e){if(on(e))return t;{const n=Eh(t,e);return new Ua(null!=n?new fr(n):t.writeTree_.subtree(e))}}function gO(t){return t.writeTree_.isEmpty()}function Tg(t,e){return Y5(Nn(),t.writeTree_,e)}function Y5(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,O.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=Y5(Fr(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Fr(t,".priority"),r)),n}}function N0(t,e){return nq(e,t)}function g_e(t,e){if(t.snap)return la(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&la(Fr(t.path,n),e))return!0;return!1}function __e(t){return t.visible}function X5(t,e,n){let r=Ua.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)la(n,o)?(a=eo(n,o),r=gv(r,a,s.snap)):la(o,n)&&(a=eo(o,n),r=gv(r,Nn(),s.snap.getChild(a)));else{if(!s.children)throw(0,O.g5)("WriteRecord should have .snap or .children");if(la(n,o))a=eo(n,o),r=fO(r,a,s.children);else if(la(o,n))if(a=eo(o,n),on(a))r=fO(r,Nn(),s.children);else{const u=(0,O.DV)(s.children,sn(a));if(u){const l=u.getChild(sr(a));r=gv(r,Nn(),l)}}}}}return r}function J5(t,e,n,r,i){if(r||i){const s=Nc(t.visibleWrites,e);return!i&&gO(s)?n:i||null!=n||pO(s,Nn())?Tg(X5(t.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(la(l.path,e)||la(e,l.path))},e),n||Zt.EMPTY_NODE):null}{const s=Eh(t.visibleWrites,e);if(null!=s)return s;{const o=Nc(t.visibleWrites,e);return gO(o)?n:null!=n||pO(o,Nn())?Tg(o,n||Zt.EMPTY_NODE):null}}}function k0(t,e,n,r){return J5(t.writeTree,t.treePath,e,n,r)}function mO(t,e){return function y_e(t,e,n){let r=Zt.EMPTY_NODE;const i=Eh(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(hr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Nc(t.visibleWrites,e);return n.forEachChild(hr,(o,a)=>{const u=Tg(Nc(s,new jn(o)),a);r=r.updateImmediateChild(o,u)}),Q5(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return Q5(Nc(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function eq(t,e,n,r){return function v_e(t,e,n,r,i){(0,O.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Fr(e,n);if(pO(t.visibleWrites,s))return null;{const o=Nc(t.visibleWrites,s);return gO(o)?i.getChild(n):Tg(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function F0(t,e){return function E_e(t,e){return Eh(t.visibleWrites,e)}(t.writeTree,Fr(t.treePath,e))}function _O(t,e,n){return function w_e(t,e,n,r){const i=Fr(e,n),s=Eh(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Tg(Nc(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function tq(t,e){return nq(Fr(t.treePath,e),t.writeTree)}function nq(t,e){return{treePath:t,writeTree:e}}class T_e{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;(0,O.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,O.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,cv(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,lv(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,Cg(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw(0,O.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,cv(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const rq=new class S_e{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class yO{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Oc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _O(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:wh(this.viewCache_),s=function b_e(t,e,n,r,i,s){return function C_e(t,e,n,r,i,s,o){let a;const u=Nc(t.visibleWrites,e),l=Eh(u,Nn());if(null!=l)a=l;else{if(null==n)return[];a=Tg(u,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const h=[],p=o.getCompare(),y=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let C=y.getNext();for(;C&&h.length<i;)0!==p(C,r)&&h.push(C),C=y.getNext();return h}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function iq(t,e,n,r,i,s){const o=e.eventCache;if(null!=F0(r,n))return e;{let a,u;if(on(n))if((0,O.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=wh(e),p=mO(r,l instanceof Zt?l:Zt.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const l=k0(r,wh(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{const l=sn(n);if(".priority"===l){(0,O.hu)(1===xc(n),"Can't have a priority with additional path components");const h=o.getNode();u=e.serverCache.getNode();const p=eq(r,n,h,u);a=null!=p?t.filter.updatePriority(h,p):o.getNode()}else{const h=sr(n);let p;if(o.isCompleteForChild(l)){u=e.serverCache.getNode();const y=eq(r,n,o.getNode(),u);p=null!=y?o.getNode().getImmediateChild(l).updateChild(h,y):o.getNode().getImmediateChild(l)}else p=_O(r,l,e.serverCache);a=null!=p?t.filter.updateChild(o.getNode(),l,p,h,i,s):o.getNode()}}return pv(e,a,o.isFullyInitialized()||on(n),t.filter.filtersNodes())}}function L0(t,e,n,r,i,s,o,a){const u=e.serverCache;let l;const h=o?t.filter:t.filter.getIndexedFilter();if(on(n))l=h.updateFullNode(u.getNode(),r,null);else if(h.filtersNodes()&&!u.isFiltered()){const C=u.getNode().updateChild(n,r);l=h.updateFullNode(u.getNode(),C,null)}else{const C=sn(n);if(!u.isCompleteForPath(n)&&xc(n)>1)return e;const S=sr(n),N=u.getNode().getImmediateChild(C).updateChild(S,r);l=".priority"===C?h.updatePriority(u.getNode(),N):h.updateChild(u.getNode(),C,N,S,rq,null)}const p=K5(e,l,u.isFullyInitialized()||on(n),h.filtersNodes());return iq(t,p,n,i,new yO(i,p,s),a)}function vO(t,e,n,r,i,s,o){const a=e.eventCache;let u,l;const h=new yO(i,e,s);if(on(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=pv(e,l,!0,t.filter.filtersNodes());else{const p=sn(n);if(".priority"===p)l=t.filter.updatePriority(e.eventCache.getNode(),r),u=pv(e,l,a.isFullyInitialized(),a.isFiltered());else{const y=sr(n),C=a.getNode().getImmediateChild(p);let S;if(on(y))S=r;else{const M=h.getCompleteChild(p);S=null!=M?".priority"===Qx(y)&&M.getChild(N5(y)).isEmpty()?M:M.updateChild(y,r):Zt.EMPTY_NODE}u=C.equals(S)?e:pv(e,t.filter.updateChild(a.getNode(),p,S,y,h,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return u}function sq(t,e){return t.eventCache.isCompleteForChild(e)}function oq(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function wO(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,u=e;l=on(n)?r:new fr(null).setTree(n,r);const h=e.serverCache.getNode();return l.children.inorderTraversal((p,y)=>{if(h.hasChild(p)){const S=oq(0,e.serverCache.getNode().getImmediateChild(p),y);u=L0(t,u,new jn(p),S,i,s,o,a)}}),l.children.inorderTraversal((p,y)=>{const C=!e.serverCache.isCompleteForChild(p)&&null===y.value;if(!h.hasChild(p)&&!C){const M=oq(0,e.serverCache.getNode().getImmediateChild(p),y);u=L0(t,u,new jn(p),M,i,s,o,a)}}),u}class k_e{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new iO(r.getIndex()),s=function Zme(t){return t.loadsAllData()?new iO(t.getIndex()):t.hasLimit()?new Kme(t):new dv(t)}(r);this.processor_=function D_e(t){return{filter:t}}(s);const o=n.serverCache,a=n.eventCache,u=i.updateFullNode(Zt.EMPTY_NODE,o.getNode(),null),l=s.updateFullNode(Zt.EMPTY_NODE,a.getNode(),null),h=new Oc(u,o.isFullyInitialized(),i.filtersNodes()),p=new Oc(l,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=x0(p,h),this.eventGenerator_=new o_e(this.query_)}get query(){return this.query_}}function V_e(t,e){const n=wh(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!on(e)&&!n.getImmediateChild(sn(e)).isEmpty())?n.getChild(e):null}function aq(t){return 0===t.eventRegistrations_.length}function uq(t,e,n){const r=[];if(n){(0,O.hu)(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}else i.push(o)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function lq(t,e,n,r){e.type===Tu.MERGE&&null!==e.source.queryId&&((0,O.hu)(wh(t.viewCache_),"We should always have a full cache before handling merges"),(0,O.hu)(O0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function P_e(t,e,n,r,i){const s=new T_e;let o,a;if(n.type===Tu.OVERWRITE){const l=n;l.source.fromUser?o=vO(t,e,l.path,l.snap,r,i,s):((0,O.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!on(l.path),o=L0(t,e,l.path,l.snap,r,i,a,s))}else if(n.type===Tu.MERGE){const l=n;l.source.fromUser?o=function R_e(t,e,n,r,i,s,o){let a=e;return r.foreach((u,l)=>{const h=Fr(n,u);sq(e,sn(h))&&(a=vO(t,a,h,l,i,s,o))}),r.foreach((u,l)=>{const h=Fr(n,u);sq(e,sn(h))||(a=vO(t,a,h,l,i,s,o))}),a}(t,e,l.path,l.children,r,i,s):((0,O.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=wO(t,e,l.path,l.children,r,i,a,s))}else if(n.type===Tu.ACK_USER_WRITE){const l=n;o=l.revert?function N_e(t,e,n,r,i,s){let o;if(null!=F0(r,n))return e;{const a=new yO(r,e,i),u=e.eventCache.getNode();let l;if(on(n)||".priority"===sn(n)){let h;if(e.serverCache.isFullyInitialized())h=k0(r,wh(e));else{const p=e.serverCache.getNode();(0,O.hu)(p instanceof Zt,"serverChildren would be complete if leaf node"),h=mO(r,p)}l=t.filter.updateFullNode(u,h,s)}else{const h=sn(n);let p=_O(r,h,e.serverCache);null==p&&e.serverCache.isCompleteForChild(h)&&(p=u.getImmediateChild(h)),l=null!=p?t.filter.updateChild(u,h,p,sr(n),a,s):e.eventCache.getNode().hasChild(h)?t.filter.updateChild(u,h,Zt.EMPTY_NODE,sr(n),a,s):u,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=k0(r,wh(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=F0(r,Nn()),pv(e,l,o,t.filter.filtersNodes())}}(t,e,l.path,r,i,s):function x_e(t,e,n,r,i,s,o){if(null!=F0(i,n))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(on(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return L0(t,e,n,u.getNode().getChild(n),i,s,a,o);if(on(n)){let l=new fr(null);return u.getNode().forEachChild(bu,(h,p)=>{l=l.set(new jn(h),p)}),wO(t,e,n,l,i,s,a,o)}return e}{let l=new fr(null);return r.foreach((h,p)=>{const y=Fr(n,h);u.isCompleteForPath(y)&&(l=l.set(h,u.getNode().getChild(y)))}),wO(t,e,n,l,i,s,a,o)}}(t,e,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Tu.LISTEN_COMPLETE)throw(0,O.g5)("Unknown operation type: "+n.type);o=function O_e(t,e,n,r,i){const s=e.serverCache;return iq(t,K5(e,s.getNode(),s.isFullyInitialized()||on(n),s.isFiltered()),n,r,rq,i)}(t,e,n.path,r,s)}const u=s.getChanges();return function M_e(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=O0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(z5(O0(e)))}}(e,o,u),{viewCache:o,changes:u}}(t.processor_,i,e,n,r);return function A_e(t,e){(0,O.hu)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,O.hu)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),(0,O.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,cq(t,s.changes,s.viewCache.eventCache.getNode(),null)}function cq(t,e,n,r){return function a_e(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Gme(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),fv(t,i,"child_removed",e,r,n),fv(t,i,"child_added",e,r,n),fv(t,i,"child_moved",s,r,n),fv(t,i,"child_changed",e,r,n),fv(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let V0,B0;class dq{constructor(){this.views=new Map}}function EO(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return(0,O.hu)(null!=s,"SyncTree gave us an op for an invalid query."),lq(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(lq(o,e,n,r));return s}}function hq(t,e,n,r,i){const o=t.views.get(e._queryIdentifier);if(!o){let a=k0(n,i?r:null),u=!1;a?u=!0:r instanceof Zt?(a=mO(n,r),u=!1):(a=Zt.EMPTY_NODE,u=!1);const l=x0(new Oc(a,u,!1),new Oc(r,i,!1));return new k_e(e,l)}return o}function fq(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function kc(t,e){let n=null;for(const r of t.views.values())n=n||V_e(r,e);return n}function pq(t,e){return e._queryParams.loadsAllData()?U0(t):t.views.get(e._queryIdentifier)}function gq(t,e){return null!=pq(t,e)}function Fc(t){return null!=U0(t)}function U0(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let K_e=1;class mq{constructor(e){this.listenProvider_=e,this.syncPointTree_=new fr(null),this.pendingWriteTree_=function I_e(){return{visibleWrites:Ua.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function CO(t,e,n,r,i){return function d_e(t,e,n,r,i){(0,O.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=gv(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Sg(t,new vh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Lc(t,e,n=!1){const r=function f_e(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function p_e(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);(0,O.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&g_e(a,r.path)?i=!1:la(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function m_e(t){t.visibleWrites=X5(t.allWrites,__e,Nn()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=Z5(t.visibleWrites,r.path):qi(r.children,u=>{t.visibleWrites=Z5(t.visibleWrites,Fr(r.path,u))}),!0))}(t.pendingWriteTree_,e)){let s=new fr(null);return null!=r.snap?s=s.set(Nn(),!0):qi(r.children,o=>{s=s.set(new jn(o),!0)}),Sg(t,new R0(r.path,s,n))}return[]}function mv(t,e,n){return Sg(t,new vh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function j0(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&("default"===e._queryIdentifier||gq(o,e))){const u=function W_e(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Fc(t);if("default"===i)for(const[u,l]of t.views.entries())o=o.concat(uq(l,n,r)),aq(l)&&(t.views.delete(u),l.query._queryParams.loadsAllData()||s.push(l.query));else{const u=t.views.get(i);u&&(o=o.concat(uq(u,n,r)),aq(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return a&&!Fc(t)&&s.push(new(function $_e(){return(0,O.hu)(V0,"Reference.ts has not been loaded"),V0}())(e._repo,e._path)),{removed:s,events:o}}(o,e,n,r);(function H_e(t){return 0===t.views.size})(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const l=u.removed;if(a=u.events,!i){const h=-1!==l.findIndex(y=>y._queryParams.loadsAllData()),p=t.syncPointTree_.findOnPath(s,(y,C)=>Fc(C));if(h&&!p){const y=t.syncPointTree_.subtree(s);if(!y.isEmpty()){const C=function tye(t){return t.fold((e,n,r)=>{if(n&&Fc(n))return[U0(n)];{let i=[];return n&&(i=fq(n)),qi(r,(s,o)=>{i=i.concat(o)}),i}})}(y);for(let S=0;S<C.length;++S){const M=C[S],N=M.query,Z=wq(t,M);t.listenProvider_.startListening(yv(N),_v(t,N),Z.hashFn,Z.onComplete)}}}!p&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(yv(e),null):l.forEach(y=>{const C=t.queryToTagMap.get(H0(y));t.listenProvider_.stopListening(yv(y),C)}))}!function nye(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=H0(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}(t,l)}return a}function _q(t,e,n,r){const i=bO(t,r);if(null!=i){const s=TO(i),o=s.path,a=s.queryId,u=eo(o,e);return SO(t,o,new vh(dO(a),u,n))}return[]}function IO(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(y,C)=>{const S=eo(y,i);s=s||kc(C,S),o=o||Fc(C)});let u,a=t.syncPointTree_.get(i);a?(o=o||Fc(a),s=s||kc(a,Nn())):(a=new dq,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=s?u=!0:(u=!1,s=Zt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((C,S)=>{const M=kc(S,Nn());M&&(s=s.updateImmediateChild(C,M))}));const l=gq(a,e);if(!l&&!e._queryParams.loadsAllData()){const y=H0(e);(0,O.hu)(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const C=function rye(){return K_e++}();t.queryToTagMap.set(y,C),t.tagToQueryMap.set(C,y)}let p=function z_e(t,e,n,r,i,s){const o=hq(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),function U_e(t,e){t.eventRegistrations_.push(e)}(o,n),function B_e(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(hr,(s,o)=>{r.push(Cg(s,o))}),n.isFullyInitialized()&&r.push(z5(n.getNode())),cq(t,r,n.getNode(),e)}(o,n)}(a,e,n,N0(t.pendingWriteTree_,i),s,u);if(!l&&!o&&!r){const y=pq(a,e);p=p.concat(function iye(t,e,n){const r=e._path,i=_v(t,e),s=wq(t,n),o=t.listenProvider_.startListening(yv(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)(0,O.hu)(!Fc(a.value),"If we're adding a query, it shouldn't be shadowed");else{const u=a.fold((l,h,p)=>{if(!on(l)&&h&&Fc(h))return[U0(h).query];{let y=[];return h&&(y=y.concat(fq(h).map(C=>C.query))),qi(p,(C,S)=>{y=y.concat(S)}),y}});for(let l=0;l<u.length;++l){const h=u[l];t.listenProvider_.stopListening(yv(h),_v(t,h))}}return o}(t,e,y))}return p}function $0(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=kc(a,eo(o,e));if(l)return l});return J5(i,e,s,n,!0)}function Sg(t,e){return yq(e,t.syncPointTree_,null,N0(t.pendingWriteTree_,Nn()))}function yq(t,e,n,r){if(on(t.path))return vq(t,e,n,r);{const i=e.get(Nn());null==n&&null!=i&&(n=kc(i,Nn()));let s=[];const o=sn(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const l=n?n.getImmediateChild(o):null,h=tq(r,o);s=s.concat(yq(a,u,l,h))}return i&&(s=s.concat(EO(i,t,r,n))),s}}function vq(t,e,n,r){const i=e.get(Nn());null==n&&null!=i&&(n=kc(i,Nn()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=n?n.getImmediateChild(o):null,l=tq(r,o),h=t.operationForChild(o);h&&(s=s.concat(vq(h,a,u,l)))}),i&&(s=s.concat(EO(i,t,r,n))),s}function wq(t,e){const n=e.query,r=_v(t,n);return{hashFn:()=>(function F_e(t){return t.viewCache_.serverCache.getNode()}(e)||Zt.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function X_e(t,e,n){const r=bO(t,n);if(r){const i=TO(r),s=i.path,o=i.queryId,a=eo(s,e);return SO(t,s,new hv(dO(o),a))}return[]}(t,n._path,r):function Y_e(t,e){return Sg(t,new hv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const s=function Qge(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return j0(t,n,null,s)}}}}function _v(t,e){const n=H0(e);return t.queryToTagMap.get(n)}function H0(t){return t._path.toString()+"$"+t._queryIdentifier}function bO(t,e){return t.tagToQueryMap.get(e)}function TO(t){const e=t.indexOf("$");return(0,O.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new jn(t.substr(0,e))}}function SO(t,e,n){const r=t.syncPointTree_.get(e);return(0,O.hu)(r,"Missing sync point for query tag that we're tracking"),EO(r,n,N0(t.pendingWriteTree_,e),null)}function yv(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function G_e(){return(0,O.hu)(B0,"Reference.ts has not been loaded"),B0}())(t._repo,t._path):t}class DO{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new DO(n)}node(){return this.node_}}class AO{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Fr(this.path_,e);return new AO(this.syncTree_,n)}node(){return $0(this.syncTree_,this.path_)}}const sye=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},Eq=function(t,e,n){return t&&"object"==typeof t?((0,O.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?oye(t[".sv"],e,n):"object"==typeof t[".sv"]?aye(t[".sv"],e):void(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},oye=function(t,e,n){if("timestamp"===t)return n.timestamp;(0,O.hu)(!1,"Unexpected server value: "+t)},aye=function(t,e,n){t.hasOwnProperty("increment")||(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,O.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,O.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},Cq=function(t,e,n,r){return MO(e,new AO(n,t),r)},PO=function(t,e,n){return MO(t,new DO(e),n)};function MO(t,e,n){const r=t.getPriority().val(),i=Eq(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Eq(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new wg(a,zr(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new wg(i))),o.forEachChild(hr,(a,u)=>{const l=MO(u,e.getImmediateChild(a),n);l!==u&&(s=s.updateImmediateChild(a,l))}),s}}class RO{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function z0(t,e){let n=e instanceof jn?e:new jn(e),r=t,i=sn(n);for(;null!==i;){const s=(0,O.DV)(r.node.children,i)||{children:{},childCount:0};r=new RO(i,r,s),n=sr(n),i=sn(n)}return r}function Ch(t){return t.node.value}function xO(t,e){t.node.value=e,OO(t)}function Iq(t){return t.node.childCount>0}function W0(t,e){qi(t.node.children,(n,r)=>{e(new RO(n,t,r))})}function bq(t,e,n,r){n&&!r&&e(t),W0(t,i=>{bq(i,e,!0,r)}),n&&r&&e(t)}function vv(t){return new jn(null===t.parent?t.name:vv(t.parent)+"/"+t.name)}function OO(t){null!==t.parent&&function cye(t,e,n){const r=function uye(t){return void 0===Ch(t)&&!Iq(t)}(n),i=(0,O.r3)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,OO(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,OO(t))}(t.parent,t.name,t)}const dye=/[\[\].#$\/\u0000-\u001F\u007F]/,hye=/[\[\].#$\u0000-\u001F\u007F]/,NO=10485760,q0=function(t){return"string"==typeof t&&0!==t.length&&!dye.test(t)},Tq=function(t){return"string"==typeof t&&0!==t.length&&!hye.test(t)},wv=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!v0(t)||t&&"object"==typeof t&&(0,O.r3)(t,".sv")},Su=function(t,e,n,r){r&&void 0===e||Ev((0,O.gK)(t,"value"),e,n)},Ev=function(t,e,n){const r=n instanceof jn?new Pme(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+_h(r));if("function"==typeof e)throw new Error(t+"contains a function "+_h(r)+" with contents = "+e.toString());if(v0(e))throw new Error(t+"contains "+e.toString()+" "+_h(r));if("string"==typeof e&&e.length>NO/3&&(0,O.ug)(e)>NO)throw new Error(t+"contains a string greater than "+NO+" utf8 bytes "+_h(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(qi(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!q0(o)))throw new Error(t+" contains an invalid key ("+o+") "+_h(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Mme(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,O.ug)(e),k5(t)})(r,o),Ev(t,a,r),function Rme(t){const e=t.parts_.pop();t.byteLength_-=(0,O.ug)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+_h(r)+" in addition to actual children.")}},Sq=function(t,e,n,r){if(r&&void 0===e)return;const i=(0,O.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];qi(e,(o,a)=>{const u=new jn(o);if(Ev(i,a,Fr(n,u)),".priority"===Qx(u)&&!wv(a))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=sv(r);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!q0(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Ame);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&la(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},kO=function(t,e,n){if(!n||void 0!==e){if(v0(e))throw new Error((0,O.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wv(e))throw new Error((0,O.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Cv=function(t,e,n,r){if(!(r&&void 0===n||q0(n)))throw new Error((0,O.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Iv=function(t,e,n,r){if(!(r&&void 0===n||Tq(n)))throw new Error((0,O.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},gye=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Iv(t,e,n,r)},ca=function(t,e){if(".info"===sn(e))throw new Error(t+" failed = Can't modify data under /.info/")},Dq=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!q0(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Tq(t)}(n))throw new Error((0,O.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class mye{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function G0(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!Yx(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Aq(t,e,n){G0(t,n),Pq(t,r=>Yx(r,e))}function Fo(t,e,n){G0(t,n),Pq(t,r=>la(r,e)||la(e,r))}function Pq(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(_ye(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function _ye(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();gh&&Wi("event: "+n.toString()),yg(r)}}}const Mq="repo_interrupt",yye=25;class vye{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mye,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=M0(),this.transactionQueueTree_=new RO,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Rq(t){const n=t.infoData_.getNode(new jn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function bv(t){return sye({timestamp:Rq(t)})}function xq(t,e,n,r,i){t.dataUpdateCount++;const s=new jn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=(0,O.UI)(n,l=>zr(l));o=function J_e(t,e,n,r){const i=bO(t,r);if(i){const s=TO(i),o=s.path,a=s.queryId,u=eo(o,e),l=fr.fromObject(n);return SO(t,o,new bg(dO(a),u,l))}return[]}(t.serverSyncTree_,s,u,i)}else{const u=zr(n);o=_q(t.serverSyncTree_,s,u,i)}else if(r){const u=(0,O.UI)(n,l=>zr(l));o=function Q_e(t,e,n){const r=fr.fromObject(n);return Sg(t,new bg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,u)}else{const u=zr(n);o=mv(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=Ag(t,s)),Fo(t.eventQueue_,a,o)}function Oq(t,e){FO(t,"connected",e),!1===e&&function bye(t){Dg(t,"onDisconnectEvents");const e=bv(t),n=M0();uO(t.onDisconnect_,Nn(),(i,s)=>{const o=Cq(i,s,t.serverSyncTree_,e);Ig(n,i,o)});let r=[];uO(n,Nn(),(i,s)=>{r=r.concat(mv(t.serverSyncTree_,i,s));const o=BO(t,i);Ag(t,o)}),t.onDisconnect_=M0(),Fo(t.eventQueue_,Nn(),r)}(t)}function FO(t,e,n){const r=new jn("/.info/"+e),i=zr(n);t.infoData_.updateSnapshot(r,i);const s=mv(t.infoSyncTree_,r,i);Fo(t.eventQueue_,r,s)}function K0(t){return t.nextWriteId_++}function LO(t,e,n,r,i){Dg(t,"set",{path:e.toString(),value:n,priority:r});const s=bv(t),o=zr(n,r),a=$0(t.serverSyncTree_,e),u=PO(o,a,s),l=K0(t),h=CO(t.serverSyncTree_,e,u,l,!0);G0(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(y,C)=>{const S="ok"===y;S||Ps("set at "+e+" failed: "+y);const M=Lc(t.serverSyncTree_,l,!S);Fo(t.eventQueue_,e,M),Vc(0,i,y,C)});const p=BO(t,e);Ag(t,p),Fo(t.eventQueue_,p,[])}function Tye(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&aO(t.onDisconnect_,e),Vc(0,n,r,i)})}function Nq(t,e,n,r){const i=zr(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{"ok"===s&&Ig(t.onDisconnect_,e,i),Vc(0,r,s,o)})}function VO(t,e,n){let r;r=".info"===sn(e._path)?j0(t.infoSyncTree_,e,n):j0(t.serverSyncTree_,e,n),Aq(t.eventQueue_,e._path,r)}function kq(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Mq)}function Dg(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Wi(n,...e)}function Vc(t,e,n,r){e&&yg(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function UO(t,e,n){return $0(t.serverSyncTree_,e,n)||Zt.EMPTY_NODE}function Z0(t,e=t.transactionQueueTree_){if(e||Q0(t,e),Ch(e)){const n=Lq(t,e);(0,O.hu)(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function Rye(t,e,n){const r=n.map(l=>l.currentWriteId),i=UO(t,e,r);let s=i;const o=i.hash();for(let l=0;l<n.length;l++){const h=n[l];(0,O.hu)(0===h.status,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const p=eo(e,h.path);s=s.updateChild(p,h.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;t.server_.put(u.toString(),a,l=>{Dg(t,"transaction put response",{path:u.toString(),status:l});let h=[];if("ok"===l){const p=[];for(let y=0;y<n.length;y++)n[y].status=2,h=h.concat(Lc(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&p.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();Q0(t,z0(t.transactionQueueTree_,e)),Z0(t,t.transactionQueueTree_),Fo(t.eventQueue_,e,h);for(let y=0;y<p.length;y++)yg(p[y])}else{if("datastale"===l)for(let p=0;p<n.length;p++)n[p].status=3===n[p].status?4:0;else{Ps("transaction at "+u.toString()+" failed: "+l);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=l}Ag(t,e)}},o)}(t,vv(e),n)}else Iq(e)&&W0(e,n=>{Z0(t,n)})}function Ag(t,e){const n=Fq(t,e),r=vv(n);return function xye(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],l=eo(n,u.path);let p,h=!1;if((0,O.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,p=u.abortReason,i=i.concat(Lc(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=yye)h=!0,p="maxretry",i=i.concat(Lc(t.serverSyncTree_,u.currentWriteId,!0));else{const y=UO(t,u.path,o);u.currentInputSnapshot=y;const C=e[a].update(y.val());if(void 0!==C){Ev("transaction failed: Data returned ",C,u.path);let S=zr(C);"object"==typeof C&&null!=C&&(0,O.r3)(C,".priority")||(S=S.updatePriority(y.getPriority()));const N=u.currentWriteId,Z=bv(t),W=PO(S,y,Z);u.currentOutputSnapshotRaw=S,u.currentOutputSnapshotResolved=W,u.currentWriteId=K0(t),o.splice(o.indexOf(N),1),i=i.concat(CO(t.serverSyncTree_,u.path,W,u.currentWriteId,u.applyLocally)),i=i.concat(Lc(t.serverSyncTree_,N,!0))}else h=!0,p="nodata",i=i.concat(Lc(t.serverSyncTree_,u.currentWriteId,!0))}Fo(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===p?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(p),!1,null)))}Q0(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)yg(r[a]);Z0(t,t.transactionQueueTree_)}(t,Lq(t,n),r),r}function Fq(t,e){let n,r=t.transactionQueueTree_;for(n=sn(e);null!==n&&void 0===Ch(r);)r=z0(r,n),n=sn(e=sr(e));return r}function Lq(t,e){const n=[];return Vq(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Vq(t,e,n){const r=Ch(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);W0(e,i=>{Vq(t,i,n)})}function Q0(t,e){const n=Ch(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,xO(e,n.length>0?n:void 0)}W0(e,r=>{Q0(t,r)})}function BO(t,e){const n=vv(Fq(t,e)),r=z0(t.transactionQueueTree_,e);return function lye(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{jO(t,i)}),jO(t,r),bq(r,i=>{jO(t,i)}),n}function jO(t,e){const n=Ch(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?((0,O.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):((0,O.hu)(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Lc(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?xO(e,void 0):n.length=s+1,Fo(t.eventQueue_,vv(e),i);for(let o=0;o<r.length;o++)yg(r[o])}}const $O=function(t,e){const n=kye(t),r=n.namespace;return"firebase.com"===n.domain&&Iu(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Iu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ps("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new zx(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new jn(n.pathString)}},kye=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof t){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let h=t.indexOf("/");-1===h&&(h=t.length);let p=t.indexOf("?");-1===p&&(p=t.length),e=t.substring(0,Math.min(h,p)),h<p&&(i=function Oye(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(h,p)));const y=function Nye(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ps(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,p)));l=e.indexOf(":"),l>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(l+1),10)):l=e.length;const C=e.slice(0,l);if("localhost"===C.toLowerCase())n="localhost";else if(C.split(".").length<=2)n=C;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),s=r}"ns"in y&&(s=y.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},Uq="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Fye=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Uq.charAt(n%64),n=Math.floor(n/64);(0,O.hu)(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=Uq.charAt(e[i]);return(0,O.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class Bq{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,O.Wl)(this.snapshot.exportVal())}}class jq{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class HO{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return(0,O.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class $q{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new O.BH;return Tye(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ca("OnDisconnect.remove",this._path);const e=new O.BH;return Nq(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ca("OnDisconnect.set",this._path),Su("OnDisconnect.set",e,this._path,!1);const n=new O.BH;return Nq(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){ca("OnDisconnect.setWithPriority",this._path),Su("OnDisconnect.setWithPriority",e,this._path,!1),kO("OnDisconnect.setWithPriority",n,!1);const r=new O.BH;return function Sye(t,e,n,r,i){const s=zr(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{"ok"===o&&Ig(t.onDisconnect_,e,s),Vc(0,i,o,a)})}(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){ca("OnDisconnect.update",this._path),Sq("OnDisconnect.update",e,this._path,!1);const n=new O.BH;return function Dye(t,e,n,r){if((0,O.xb)(n))return Wi("onDisconnect().update() called with empty data.  Don't do anything."),void Vc(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{"ok"===i&&qi(n,(o,a)=>{const u=zr(a);Ig(t.onDisconnect_,Fr(e,o),u)}),Vc(0,r,i,s)})}(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}class yo{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return on(this._path)?null:Qx(this._path)}get ref(){return new da(this._repo,this._path)}get _queryIdentifier(){const e=q5(this._queryParams),n=$x(e);return"{}"===n?"default":n}get _queryObject(){return q5(this._queryParams)}isEqual(e){if(!((e=(0,O.m9)(e))instanceof yo))return!1;const n=this._repo===e._repo,r=Yx(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Dme(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function Y0(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Uc(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===bu){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Mc)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==_l)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===hr){if(null!=e&&!wv(e)||null!=n&&!wv(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,O.hu)(t.getIndex()instanceof nO||t.getIndex()===rO,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function X0(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class da extends yo{constructor(e,n){super(e,n,new D0,!1)}get parent(){const e=N5(this._path);return null===e?null:new da(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ih{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new jn(e),r=bh(this.ref,e);return new Ih(this._node.getChild(n),r,hr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Ih(i,bh(this.ref,r),hr)))}hasChild(e){const n=new jn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Hq(t,e){return(t=(0,O.m9)(t))._checkNotDeleted("ref"),void 0!==e?bh(t._root,e):t._root}function zq(t,e){(t=(0,O.m9)(t))._checkNotDeleted("refFromURL");const n=$O(e,t._repo.repoInfo_.nodeAdmin);Dq("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Iu("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Hq(t,n.path.toString())}function bh(t,e){return null===sn((t=(0,O.m9)(t))._path)?gye("child","path",e,!1):Iv("child","path",e,!1),new da(t._repo,Fr(t._path,e))}function zO(t,e){t=(0,O.m9)(t),ca("set",t._path),Su("set",e,t._path,!1);const n=new O.BH;return LO(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function jye(t,e){Sq("update",e,t._path,!1);const n=new O.BH;return function Iye(t,e,n,r){Dg(t,"update",{path:e.toString(),value:n});let i=!0;const s=bv(t),o={};if(qi(n,(a,u)=>{i=!1,o[a]=Cq(Fr(e,a),zr(u),t.serverSyncTree_,s)}),i)Wi("update() called with empty data.  Don't do anything."),Vc(0,r,"ok",void 0);else{const a=K0(t),u=function Z_e(t,e,n,r){!function h_e(t,e,n,r){(0,O.hu)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=fO(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=fr.fromObject(n);return Sg(t,new bg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,o,a);G0(t.eventQueue_,u),t.server_.merge(e.toString(),n,(l,h)=>{const p="ok"===l;p||Ps("update at "+e+" failed: "+l);const y=Lc(t.serverSyncTree_,a,!p),C=y.length>0?Ag(t,e):e;Fo(t.eventQueue_,C,y),Vc(0,r,l,h)}),qi(n,l=>{const h=BO(t,Fr(e,l));Ag(t,h)}),Fo(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function $ye(t){t=(0,O.m9)(t);const e=new HO(()=>{}),n=new Tv(e);return function Cye(t,e,n){const r=function eye(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(l,h)=>{const p=eo(l,n);r=r||kc(h,p)});let i=t.syncPointTree_.get(n);i?r=r||kc(i,Nn()):(i=new dq,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=null!=r,o=s?new Oc(r,!0,!1):null;return function L_e(t){return O0(t.viewCache_)}(hq(i,e,N0(t.pendingWriteTree_,e._path),s?o.getNode():Zt.EMPTY_NODE,s))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const s=zr(i).withIndex(e._queryParams.getIndex());let o;if(IO(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())o=mv(t.serverSyncTree_,e._path,s);else{const a=_v(t.serverSyncTree_,e);o=_q(t.serverSyncTree_,e._path,s,a)}return Fo(t.eventQueue_,e._path,o),j0(t.serverSyncTree_,e,n,null,!0),s},i=>(Dg(t,"get for query "+(0,O.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new Ih(r,new da(t._repo,t._path),t._queryParams.getIndex()))}class Tv{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new Bq("value",this,new Ih(e.snapshotNode,new da(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new jq(this,e,n):null}matches(e){return e instanceof Tv&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class J0{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new jq(this,e,n):null}createEvent(e,n){(0,O.hu)(null!=e.childName,"Child events should have a childName.");const r=bh(new da(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Bq(e.type,this,new Ih(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof J0&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Sv(t,e,n,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const u=n,l=(h,p)=>{VO(t._repo,t,a),u(h,p)};l.userCallback=n.userCallback,l.context=n.context,n=l}const o=new HO(n,s||void 0),a="value"===e?new Tv(o):new J0(e,o);return function Aye(t,e,n){let r;r=".info"===sn(e._path)?IO(t.infoSyncTree_,e,n):IO(t.serverSyncTree_,e,n),Aq(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>VO(t._repo,t,a)}function WO(t,e,n,r){return Sv(t,"value",e,n,r)}function Wq(t,e,n,r){return Sv(t,"child_added",e,n,r)}function qq(t,e,n,r){return Sv(t,"child_changed",e,n,r)}function Gq(t,e,n,r){return Sv(t,"child_moved",e,n,r)}function Kq(t,e,n,r){return Sv(t,"child_removed",e,n,r)}function Zq(t,e,n){let r=null;const i=n?new HO(n):null;"value"===e?r=new Tv(i):e&&(r=new J0(e,i)),VO(t._repo,t,r)}class Ba{}class Qq extends Ba{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Su("endAt",this._value,e._path,!0);const n=oO(e._queryParams,this._value,this._key);if(X0(n),Uc(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yo(e._repo,e._path,n,e._orderByCalled)}}class zye extends Ba{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Su("endBefore",this._value,e._path,!1);const n=function Jme(t,e,n){let r;return r=oO(t,e,t.index_===bu||n?n:Mc),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(X0(n),Uc(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yo(e._repo,e._path,n,e._orderByCalled)}}class Yq extends Ba{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Su("startAt",this._value,e._path,!0);const n=sO(e._queryParams,this._value,this._key);if(X0(n),Uc(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new yo(e._repo,e._path,n,e._orderByCalled)}}class Gye extends Ba{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Su("startAfter",this._value,e._path,!1);const n=function Xme(t,e,n){let r;return r=sO(t,e,t.index_===bu||n?n:_l),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(X0(n),Uc(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new yo(e._repo,e._path,n,e._orderByCalled)}}class Zye extends Ba{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new yo(e._repo,e._path,function Qme(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class Yye extends Ba{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new yo(e._repo,e._path,function Yme(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class Jye extends Ba{constructor(e){super(),this._path=e}_apply(e){Y0(e,"orderByChild");const n=new jn(this._path);if(on(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new nO(n),i=A0(e._queryParams,r);return Uc(i),new yo(e._repo,e._path,i,!0)}}class tve extends Ba{_apply(e){Y0(e,"orderByKey");const n=A0(e._queryParams,bu);return Uc(n),new yo(e._repo,e._path,n,!0)}}class rve extends Ba{_apply(e){Y0(e,"orderByPriority");const n=A0(e._queryParams,hr);return Uc(n),new yo(e._repo,e._path,n,!0)}}class sve extends Ba{_apply(e){Y0(e,"orderByValue");const n=A0(e._queryParams,rO);return Uc(n),new yo(e._repo,e._path,n,!0)}}class ave extends Ba{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(Su("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Qq(this._value,this._key)._apply(new Yq(this._value,this._key)._apply(e))}}function ja(t,...e){let n=(0,O.m9)(t);for(const r of e)n=r._apply(n);return n}(function j_e(t){(0,O.hu)(!V0,"__referenceConstructor has already been defined"),V0=t})(da),function q_e(t){(0,O.hu)(!B0,"__referenceConstructor has already been defined"),B0=t}(da);const qO={};function GO(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||Iu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Wi("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u,l,o=$O(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(u=!0,s=`http://${l}?ns=${a.namespace}`,o=$O(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const h=i&&u?new iv(iv.OWNER):new nme(t.name,t.options,e);Dq("Invalid Firebase Database URL",o),on(o.path)||Iu("Database URL must point to the root of a Firebase Database (not including a child path).");const p=function hve(t,e,n,r){let i=qO[e.name];i||(i={},qO[e.name]=i);let s=i[t.toURLString()];return s&&Iu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new vye(t,false,n,r),i[t.toURLString()]=s,s}(a,t,h,new tme(t.name,n));return new pve(p,t)}class pve{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function wye(t,e,n){if(t.stats_=Gx(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new P0(t.repoInfo_,(r,i,s,o)=>{xq(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Oq(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,O.Wl)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new yh(t.repoInfo_,e,(r,i,s,o)=>{xq(t,r,i,s,o)},r=>{Oq(t,r)},r=>{!function Eye(t,e){qi(e,(n,r)=>{FO(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function sme(t,e){const n=t.toString();return qx[n]||(qx[n]=e()),qx[n]}(t.repoInfo_,()=>new s_e(t.stats_,t.server_)),t.infoData_=new e_e,t.infoSyncTree_=new mq({startListening:(r,i,s,o)=>{let a=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=mv(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),FO(t,"connected",!1),t.serverSyncTree_=new mq({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{const l=o(a,u);Fo(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new da(this._repo,Nn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function dve(t,e){const n=qO[e];(!n||n[t.key]!==t)&&Iu(`Database ${e}(${t.repoInfo_}) has already been deleted.`),kq(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Iu("Cannot call "+e+" on a deleted database.")}}function Jq(){C5.IS_TRANSPORT_INITIALIZED&&Ps("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function gve(){Jq(),Rc.forceDisallow()}function mve(){Jq(),vg.forceDisallow(),Rc.forceAllow()}function vve(t,e){n5(t,e)}const Eve={".sv":"timestamp"};class bve{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}yh.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},yh.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function wve(t){Ux(Cs.SDK_VERSION),(0,Cs._registerComponent)(new Oa.wA("database",(e,{instanceIdentifier:n})=>GO(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,Cs.registerVersion)(QW,"1.0.1",t),(0,Cs.registerVersion)(QW,"1.0.1","esm2017")}();const Ave=new xo.Yd("@firebase/database-compat"),tG=function(t){Ave.warn("FIREBASE WARNING: "+t)};class Rve{constructor(e){this._delegate=e}cancel(e){(0,O.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,O.Wj)("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){(0,O.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,O.Wj)("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){(0,O.Dv)("OnDisconnect.set",1,2,arguments.length),(0,O.Wj)("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,O.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,O.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if((0,O.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,tG("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,O.Wj)("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}class xve{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return(0,O.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Bc{constructor(e,n){this._database=e,this._delegate=n}val(){return(0,O.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,O.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,O.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,O.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,O.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),Iv("DataSnapshot.child","path",e,!1),new Bc(this._database,this._delegate.child(e))}hasChild(e){return(0,O.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Iv("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,O.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,O.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,O.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Bc(this._database,n)))}hasChildren(){return(0,O.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,O.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,O.Dv)("DataSnapshot.ref",0,0,arguments.length),new Lo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class us{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var s;(0,O.Dv)("Query.on",2,4,arguments.length),(0,O.Wj)("Query.on","callback",n,!1);const o=us.getCancelAndContextArgs_("Query.on",r,i),a=(l,h)=>{n.call(o.context,new Bc(this.database,l),h)};a.userCallback=n,a.context=o.context;const u=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(e){case"value":return WO(this._delegate,a,u),n;case"child_added":return Wq(this._delegate,a,u),n;case"child_removed":return Kq(this._delegate,a,u),n;case"child_changed":return qq(this._delegate,a,u),n;case"child_moved":return Gq(this._delegate,a,u),n;default:throw new Error((0,O.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if((0,O.Dv)("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,O.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,O.Wj)("Query.off","callback",n,!0),(0,O.lb)("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,Zq(this._delegate,e,i)}else Zq(this._delegate,e)}get(){return $ye(this._delegate).then(e=>new Bc(this.database,e))}once(e,n,r,i){(0,O.Dv)("Query.once",1,4,arguments.length),(0,O.Wj)("Query.once","callback",n,!0);const s=us.getCancelAndContextArgs_("Query.once",r,i),o=new O.BH,a=(l,h)=>{const p=new Bc(this.database,l);n&&n.call(s.context,p,h),o.resolve(p)};a.userCallback=n,a.context=s.context;const u=l=>{s.cancel&&s.cancel.call(s.context,l),o.reject(l)};switch(e){case"value":WO(this._delegate,a,u,{onlyOnce:!0});break;case"child_added":Wq(this._delegate,a,u,{onlyOnce:!0});break;case"child_removed":Kq(this._delegate,a,u,{onlyOnce:!0});break;case"child_changed":qq(this._delegate,a,u,{onlyOnce:!0});break;case"child_moved":Gq(this._delegate,a,u,{onlyOnce:!0});break;default:throw new Error((0,O.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return(0,O.Dv)("Query.limitToFirst",1,1,arguments.length),new us(this.database,ja(this._delegate,function Qye(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Zye(t)}(e)))}limitToLast(e){return(0,O.Dv)("Query.limitToLast",1,1,arguments.length),new us(this.database,ja(this._delegate,function Xye(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Yye(t)}(e)))}orderByChild(e){return(0,O.Dv)("Query.orderByChild",1,1,arguments.length),new us(this.database,ja(this._delegate,function eve(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Iv("orderByChild","path",t,!1),new Jye(t)}(e)))}orderByKey(){return(0,O.Dv)("Query.orderByKey",0,0,arguments.length),new us(this.database,ja(this._delegate,function nve(){return new tve}()))}orderByPriority(){return(0,O.Dv)("Query.orderByPriority",0,0,arguments.length),new us(this.database,ja(this._delegate,function ive(){return new rve}()))}orderByValue(){return(0,O.Dv)("Query.orderByValue",0,0,arguments.length),new us(this.database,ja(this._delegate,function ove(){return new sve}()))}startAt(e=null,n){return(0,O.Dv)("Query.startAt",0,2,arguments.length),new us(this.database,ja(this._delegate,function qye(t=null,e){return Cv("startAt","key",e,!0),new Yq(t,e)}(e,n)))}startAfter(e=null,n){return(0,O.Dv)("Query.startAfter",0,2,arguments.length),new us(this.database,ja(this._delegate,function Kye(t,e){return Cv("startAfter","key",e,!0),new Gye(t,e)}(e,n)))}endAt(e=null,n){return(0,O.Dv)("Query.endAt",0,2,arguments.length),new us(this.database,ja(this._delegate,function Hye(t,e){return Cv("endAt","key",e,!0),new Qq(t,e)}(e,n)))}endBefore(e=null,n){return(0,O.Dv)("Query.endBefore",0,2,arguments.length),new us(this.database,ja(this._delegate,function Wye(t,e){return Cv("endBefore","key",e,!0),new zye(t,e)}(e,n)))}equalTo(e,n){return(0,O.Dv)("Query.equalTo",1,2,arguments.length),new us(this.database,ja(this._delegate,function uve(t,e){return Cv("equalTo","key",e,!0),new ave(t,e)}(e,n)))}toString(){return(0,O.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,O.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,O.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof us))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,(0,O.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,O.lb)(e,"context",i.context,!0);else if(n)if("object"==typeof n&&null!==n)i.context=n;else{if("function"!=typeof n)throw new Error((0,O.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=n}return i}get ref(){return new Lo(this.database,new da(this._delegate._repo,this._delegate._path))}}class Lo extends us{constructor(e,n){super(e,new yo(n._repo,n._path,new D0,!1)),this.database=e,this._delegate=n}getKey(){return(0,O.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,O.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Lo(this.database,bh(this._delegate,e))}getParent(){(0,O.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Lo(this.database,e):null}getRoot(){return(0,O.Dv)("Reference.root",0,0,arguments.length),new Lo(this.database,this._delegate.root)}set(e,n){(0,O.Dv)("Reference.set",1,2,arguments.length),(0,O.Wj)("Reference.set","onComplete",n,!0);const r=zO(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if((0,O.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,tG("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ca("Reference.update",this._delegate._path),(0,O.Wj)("Reference.update","onComplete",n,!0);const r=jye(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,O.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,O.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function Bye(t,e,n){if(ca("setWithPriority",t._path),Su("setWithPriority",e,t._path,!1),kO("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new O.BH;return LO(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){(0,O.Dv)("Reference.remove",0,1,arguments.length),(0,O.Wj)("Reference.remove","onComplete",e,!0);const n=function Vye(t){return ca("remove",t._path),zO(t,null)}(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){(0,O.Dv)("Reference.transaction",1,3,arguments.length),(0,O.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,O.Wj)("Reference.transaction","onComplete",n,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,O.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function Tve(t,e,n){var r;if(t=(0,O.m9)(t),ca("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=null===(r=n?.applyLocally)||void 0===r||r,s=new O.BH,a=WO(t,()=>{});return function Mye(t,e,n,r,i,s){Dg(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:JW(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=UO(t,e,void 0);o.currentInputSnapshot=a;const u=o.update(a.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Ev("transaction failed: Data returned ",u,o.path),o.status=0;const l=z0(t.transactionQueueTree_,e),h=Ch(l)||[];let p;h.push(o),xO(l,h),"object"==typeof u&&null!==u&&(0,O.r3)(u,".priority")?(p=(0,O.DV)(u,".priority"),(0,O.hu)(wv(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=($0(t.serverSyncTree_,e)||Zt.EMPTY_NODE).getPriority().val();const y=bv(t),C=zr(u,p),S=PO(C,a,y);o.currentOutputSnapshotRaw=C,o.currentOutputSnapshotResolved=S,o.currentWriteId=K0(t);const M=CO(t.serverSyncTree_,e,S,o.currentWriteId,o.applyLocally);Fo(t.eventQueue_,e,M),Z0(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(u,l,h)=>{let p=null;u?s.reject(u):(p=new Ih(h,new da(t._repo,t._path),hr),s.resolve(new bve(l,p)))},a,i),s.promise}(this._delegate,e,{applyLocally:r}).then(s=>new xve(s.committed,new Bc(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){(0,O.Dv)("Reference.setPriority",1,2,arguments.length),(0,O.Wj)("Reference.setPriority","onComplete",n,!0);const r=function Uye(t,e){t=(0,O.m9)(t),ca("setPriority",t._path),kO("setPriority",e,!1);const n=new O.BH;return LO(t._repo,Fr(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){(0,O.Dv)("Reference.push",0,2,arguments.length),(0,O.Wj)("Reference.push","onComplete",n,!0);const r=function Lye(t,e){t=(0,O.m9)(t),ca("push",t._path),Su("push",e,t._path,!0);const n=Rq(t._repo),r=Fye(n),i=bh(t,r),s=bh(t,r);let o;return o=null!=e?zO(s,e).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(this._delegate,e),i=r.then(o=>new Lo(this.database,o));n&&i.then(()=>n(null),o=>n(o));const s=new Lo(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return ca("Reference.onDisconnect",this._delegate._path),new Rve(new $q(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Dv{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:gve,forceLongPolling:mve}}useEmulator(e,n,r={}){!function eG(t,e,n,r={}){(t=(0,O.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Iu("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Iu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new iv(iv.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:(0,O.Sg)(r.mockUserToken,t.app.options.projectId);s=new iv(o)}!function cve(t,e,n,r){t.repoInfo_=new zx(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(this._delegate,e,n,r)}ref(e){if((0,O.Dv)("database.ref",0,1,arguments.length),e instanceof Lo){const n=zq(this._delegate,e.toString());return new Lo(this,n)}{const n=Hq(this._delegate,e);return new Lo(this,n)}}refFromURL(e){(0,O.Dv)("database.refFromURL",1,1,arguments.length);const r=zq(this._delegate,e);return new Lo(this,r)}goOffline(){return(0,O.Dv)("database.goOffline",0,0,arguments.length),function _ve(t){(t=(0,O.m9)(t))._checkNotDeleted("goOffline"),kq(t._repo)}(this._delegate)}goOnline(){return(0,O.Dv)("database.goOnline",0,0,arguments.length),function yve(t){(t=(0,O.m9)(t))._checkNotDeleted("goOnline"),function Pye(t){t.persistentConnection_&&t.persistentConnection_.resume(Mq)}(t._repo)}(this._delegate)}}Dv.ServerValue={TIMESTAMP:function Cve(){return Eve}(),increment:t=>function Ive(t){return{".sv":{increment:t}}}(t)};var Nve=Object.freeze({__proto__:null,initStandalone:function Ove({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:o=!1}){Ux(n);const a=new Oa.H0("database-standalone"),u=new Oa.zt("auth-internal",a);let l;return u.setComponent(new Oa.wA("auth-internal",()=>r,"PRIVATE")),i&&(l=new Oa.zt("app-check-internal",a),l.setComponent(new Oa.wA("app-check-internal",()=>i,"PRIVATE"))),{instance:new Dv(GO(t,u,l,e,o),t),namespace:s}}});const kve=Dv.ServerValue;function Av(t,e,n="on",r=VC){return new tn(i=>{let s=null;return s=t[n](e,(o,a)=>{r.schedule(()=>{i.next({snapshot:o,prevKey:a})}),"once"===n&&r.schedule(()=>i.complete())},o=>{r.schedule(()=>i.error(o))}),"on"===n?{unsubscribe(){null!=s&&t.off(e,s)}}:{unsubscribe(){}}}).pipe(De(i=>{const{snapshot:s,prevKey:o}=i;let a=null;return s.exists()&&(a=s.key),{type:e,payload:s,prevKey:o,key:a}}),a$())}function nG(t){return null==t}function rG(t){return"function"==typeof t.set}function iG(t,e){return rG(e)?e:t.ref(e)}function sG(t,e){if(function Lve(t){return"string"==typeof t}(t))return e.stringCase();if(rG(t))return e.firebaseCase();if(function Vve(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function oG(t){return(nG(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function aG(t,e,n){return cP(...(e=oG(e)).map(i=>Av(t,i,"on",n)))}function uG(t,e){return function(r,i){return sG(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function $ve(t){return function(n){return n?sG(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function lG(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function Wve(t,e){const{payload:n,prevKey:r,key:i}=e,s=lG(t,i),o=function zve(t,e){if(nG(e))return 0;{const n=lG(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(u=>{const l={payload:u,type:"value",prevKey:a,key:u.key};return a=u.key,t=[...t,l],!1})}return t;case"child_added":if(s>-1)(t[s-1]?.key||null)!==r&&(t=t.filter(u=>u.payload.key!==n.key)).splice(o,0,e);else{if(null==r)return[e,...t];(t=t.slice()).splice(o,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(s>-1){const a=t.splice(s,1)[0];return(t=t.slice()).splice(o,0,a),t}return t;default:return t}}function cG(t,e,n){return function Hve(t,e,n){return Av(t,"value","once",n).pipe(xr(r=>{const i=[mt(r)];return e.forEach(s=>i.push(Av(t,s,"on",n))),cP(...i).pipe(op(Wve,[]))}),Q$())}(t,e=oG(e),n)}function dG(t,e){return function(){return Av(t,"value","on",e)}}!function Fve(t){t.INTERNAL.registerComponent(new Oa.wA("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Dv(i,r)},"PUBLIC").setServiceProps({Reference:Lo,Query:us,Database:Dv,DataSnapshot:Bc,enableLogging:vve,INTERNAL:Nve,ServerValue:kve}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","1.0.1")}(Mo.Z);const Kve=new Oe("angularfire2.realtimeDatabaseURL"),Zve=new Oe("angularfire2.database.use-emulator");let Th=(()=>{class t{schedulers;database;constructor(n,r,i,s,o,a,u,l,h,p,y,C,S,M,N){this.schedulers=a;const Z=u,W=F_(n,o,r);l&&yP(W,o,h,y,C,S,p,M),this.database=jC(`${W.name}.database.${i}`,"AngularFireDatabase",W.name,()=>{const J=o.runOutsideAngular(()=>W.database(i||void 0));return Z&&J.useEmulator(...Z),J},[Z])}list(n,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>iG(this.database,n));let s=i;return r&&(s=r(i)),function qve(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:uG(r,"update"),set:uG(r,"set"),push:i=>r.push(i),remove:$ve(r),snapshotChanges:i=>cG(t,i,n).pipe(oi),stateChanges:i=>aG(t,i,n).pipe(oi),auditTrail:i=>function Uve(t,e,n){return function jve(t,e,n){return function Bve(t,e){return Av(t,"value","on",e).pipe(De(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}(t,n).pipe(function jge(...t){const e=YD(t);return ae((n,r)=>{const i=t.length,s=new Array(i);let o=t.map(()=>!1),a=!1;for(let u=0;u<i;u++)fo(t[u]).subscribe(Le(r,l=>{s[u]=l,!a&&!o[u]&&(o[u]=!0,(a=o.every(Gr))&&(o=null))},Jn));n.subscribe(Le(r,u=>{if(a){const l=[u,...s];r.next(e?e(...l):l)}}))})}(e),De(([i,s])=>{const o=i.lastKeyToLoad,a=s.map(u=>u.key);return{actions:s,lastKeyToLoad:o,loadedKeys:a}}),function $ge(t){return ae((e,n)=>{let r=!1,i=0;e.subscribe(Le(n,s=>(r||(r=!t(s,i++)))&&n.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),De(i=>i.actions))}(t,aG(t,e).pipe(op((i,s)=>[...i,s],[])),n)}(t,i,n).pipe(oi),valueChanges:(i,s)=>cG(t,i,n).pipe(De(a=>a.map(u=>s&&s.idField?{...u.payload.val(),[s.idField]:u.key}:u.payload.val())),oi)}}(s,this)}object(n){return function Gve(t,e){return{query:t,snapshotChanges:()=>dG(t,e.schedulers.outsideAngular)().pipe(oi),update:n=>t.ref.update(n),set:n=>t.ref.set(n),remove:()=>t.ref.remove(),valueChanges:()=>dG(t,e.schedulers.outsideAngular)().pipe(oi,De(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>iG(this.database,n)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||t)(k(Ep),k(Cp,8),k(Kve,8),k(Yo),k(fn),k(BC),k(Zve,8),k(Ip,8),k(hP,8),k(fP,8),k(pP,8),k(gP,8),k(mP,8),k(_P,8),k(UC,8))};static \u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),Qve=(()=>{class t{constructor(){Mo.Z.registerVersion("angularfire",yp.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Kn({type:t});static \u0275inj=tr({providers:[Th]})}return t})(),hG=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(Xo),Ie(js))};static#t=this.\u0275dir=_t({type:t})}return t})(),Sh=(()=>{class t extends hG{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Qr(t)))(i||t)}})();static#t=this.\u0275dir=_t({type:t,features:[Hn]})}return t})();const Du=new Oe("NgValueAccessor"),Jve={provide:Du,useExisting:se(()=>eb),multi:!0},twe=new Oe("CompositionEventMode");let eb=(()=>{class t extends hG{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ewe(){const t=Xl()?Xl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(Xo),Ie(js),Ie(twe,8))};static#t=this.\u0275dir=_t({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Mr("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Rr([Jve]),Hn]})}return t})();function jc(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const Ms=new Oe("NgValidators"),$c=new Oe("NgAsyncValidators");function _G(t){return jc(t.value)?{required:!0}:null}function tb(t){return null}function IG(t){return null!=t}function bG(t){return Zm(t)?Bn(t):t}function TG(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function SG(t,e){return e.map(n=>n(t))}function DG(t){return t.map(e=>function rwe(t){return!t.validate}(e)?e:n=>e.validate(n))}function KO(t){return null!=t?function AG(t){if(!t)return null;const e=t.filter(IG);return 0==e.length?null:function(n){return TG(SG(n,e))}}(DG(t)):null}function ZO(t){return null!=t?function PG(t){if(!t)return null;const e=t.filter(IG);return 0==e.length?null:function(n){return function Yve(...t){const e=YD(t),{args:n,keys:r}=KB(t),i=new tn(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let h=0;h<o;h++){let p=!1;fo(n[h]).subscribe(Le(s,y=>{p||(p=!0,l--),a[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?QB(r,a):a),s.complete())}))}});return e?i.pipe(ZB(e)):i}(SG(n,e).map(bG)).pipe(De(TG))}}(DG(t)):null}function MG(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function QO(t){return t?Array.isArray(t)?t:[t]:[]}function nb(t,e){return Array.isArray(t)?t.includes(e):t===e}function OG(t,e){const n=QO(e);return QO(t).forEach(i=>{nb(n,i)||n.push(i)}),n}function NG(t,e){return QO(e).filter(n=>!nb(t,n))}class kG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class to extends kG{get formDirective(){return null}get path(){return null}}class Hc extends kG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class FG{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let LG=(()=>{class t extends FG{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(Hc,2))};static#t=this.\u0275dir=_t({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Om("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Hn]})}return t})(),YO=(()=>{class t extends FG{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(to,10))};static#t=this.\u0275dir=_t({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Om("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Hn]})}return t})();const Pv="VALID",ib="INVALID",Pg="PENDING",Mv="DISABLED";function eN(t){return(sb(t)?t.validators:t)||null}function tN(t,e){return(sb(e)?e.asyncValidators:t)||null}function sb(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class jG{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pv}get invalid(){return this.status===ib}get pending(){return this.status==Pg}get disabled(){return this.status===Mv}get enabled(){return this.status!==Mv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(OG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(OG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NG(e,this._rawAsyncValidators))}hasValidator(e){return nb(this._rawValidators,e)}hasAsyncValidator(e){return nb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Pg,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Mv,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Pv,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pv||this.status===Pg)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mv:Pv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Pg,this._hasOwnPendingAsyncValidator=!0;const n=bG(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Yr,this.statusChanges=new Yr}_calculateStatus(){return this._allControlsDisabled()?Mv:this.errors?ib:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pg)?Pg:this._anyControlsHaveStatus(ib)?ib:Pv}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function awe(t){return Array.isArray(t)?KO(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function uwe(t){return Array.isArray(t)?ZO(t):t||null}(this._rawAsyncValidators)}}class nN extends jG{constructor(e,n,r){super(eN(n),tN(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function BG(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new re(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function UG(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new re(1e3,"");if(!r[n])throw new re(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Mg=new Oe("CallSetDisabledState",{providedIn:"root",factory:()=>ob}),ob="always";function Rv(t,e,n=ob){rN(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function dwe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&$G(t,e)})}(t,e),function fwe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function hwe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&$G(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function cwe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function lb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function rN(t,e){const n=function RG(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(MG(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function xG(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(MG(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();lb(e._rawValidators,i),lb(e._rawAsyncValidators,i)}function $G(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const ywe={provide:to,useExisting:se(()=>Ov)},xv=(()=>Promise.resolve())();let Ov=(()=>{class t extends to{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Yr,this.form=new nN({},KO(n),ZO(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){xv.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Rv(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){xv.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){xv.then(()=>{const r=this._findContainer(n.path),i=new nN({});(function HG(t,e){rN(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){xv.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){xv.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function zG(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(Ms,10),Ie($c,10),Ie(Mg,8))};static#t=this.\u0275dir=_t({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Mr("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Rr([ywe]),Hn]})}return t})();function WG(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function qG(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const GG=class extends jG{constructor(e=null,n,r){super(eN(n),tN(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sb(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=qG(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){WG(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){WG(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){qG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Ewe={provide:Hc,useExisting:se(()=>aN)},QG=(()=>Promise.resolve())();let aN=(()=>{class t extends Hc{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new GG,this._registered=!1,this.name="",this.update=new Yr,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function oN(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===eb?n=s:function mwe(t){return Object.getPrototypeOf(t.constructor)===Sh}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function sN(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){QG.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Xf(r);QG.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function ab(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(to,9),Ie(Ms,10),Ie($c,10),Ie(Du,10),Ie(Sf,8),Ie(Mg,8))};static#t=this.\u0275dir=_t({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Rr([Ewe]),Hn,oo]})}return t})(),uN=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=_t({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const Cwe={provide:Du,useExisting:se(()=>lN),multi:!0};let lN=(()=>{class t extends Sh{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Qr(t)))(i||t)}})();static#t=this.\u0275dir=_t({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&Mr("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Rr([Cwe]),Hn]})}return t})(),YG=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=tr({})}return t})();const Rwe={provide:Du,useExisting:se(()=>db),multi:!0};function i9(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let db=(()=>{class t extends Sh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=i9(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function xwe(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Qr(t)))(i||t)}})();static#t=this.\u0275dir=_t({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&Mr("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Rr([Rwe]),Hn]})}return t})(),s9=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(i9(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(js),Ie(Xo),Ie(db,9))};static#t=this.\u0275dir=_t({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const Owe={provide:Du,useExisting:se(()=>fN),multi:!0};function o9(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let fN=(()=>{class t extends Sh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const l=this._getOptionValue(o[a].value);i.push(l)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Nwe(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Qr(t)))(i||t)}})();static#t=this.\u0275dir=_t({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&Mr("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Rr([Owe]),Hn]})}return t})(),a9=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(o9(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(o9(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(js),Ie(Xo),Ie(fN,9))};static#t=this.\u0275dir=_t({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();let Dh=(()=>{class t{constructor(){this._validator=tb}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):tb,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=_t({type:t,features:[oo]})}return t})();const Fwe={provide:Ms,useExisting:se(()=>pN),multi:!0};let pN=(()=>{class t extends Dh{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>function l9(t){return"number"==typeof t?t:parseFloat(t)}(n),this.createValidator=n=>function gG(t){return e=>{if(jc(e.value)||jc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(n)}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Qr(t)))(i||t)}})();static#t=this.\u0275dir=_t({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&nu("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Rr([Fwe]),Hn]})}return t})();const Lwe={provide:Ms,useExisting:se(()=>hb),multi:!0};let hb=(()=>{class t extends Dh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Xf,this.createValidator=n=>_G}enabled(n){return n}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Qr(t)))(i||t)}})();static#t=this.\u0275dir=_t({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&nu("required",i._enabled?"":null)},inputs:{required:"required"},features:[Rr([Lwe]),Hn]})}return t})();const $we={provide:Ms,useExisting:se(()=>gN),multi:!0};let gN=(()=>{class t extends Dh{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=n=>n,this.createValidator=n=>function CG(t){if(!t)return tb;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(jc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(n)}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Qr(t)))(i||t)}})();static#t=this.\u0275dir=_t({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&nu("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[Rr([$we]),Hn]})}return t})(),Hwe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=tr({imports:[YG]})}return t})(),Wwe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Mg,useValue:n.callSetDisabledState??ob}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=tr({imports:[Hwe]})}return t})();var Gwe=function(){function t(e,n,r){this.el=e,this.vcr=n,this.renderer=r,this.dtOptions={}}return t.prototype.ngOnInit=function(){var e=this;this.dtTrigger?this.dtTrigger.subscribe(function(n){e.displayTable(n)}):this.displayTable(null)},t.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},t.prototype.displayTable=function(e){var n=this;e&&(this.dtOptions=e),this.dtInstance=new Promise(function(r,i){Promise.resolve(n.dtOptions).then(function(s){0===Object.keys(s).length&&0===$("tbody tr",n.el.nativeElement).length?i("Both the table and dtOptions cannot be empty"):(s.columns&&s.columns.forEach(function(a){var u;""===(null!==(u=a.id)&&void 0!==u?u:"").trim()&&(a.id=n.getColumnUniqueId())}),setTimeout(function(){var a={rowCallback:function(u,l,h){if(s.columns){var p=s.columns;n.applyNgPipeTransform(u,p),n.applyNgRefTemplate(u,p,l)}s.rowCallback&&s.rowCallback(u,l,h)}};a=Object.assign({},s,a),n.dt=$(n.el.nativeElement).DataTable(a),r(n.dt)}))})})},t.prototype.applyNgPipeTransform=function(e,n){n.filter(function(i){return i.ngPipeInstance&&!i.ngTemplateRef}).forEach(function(i){var s=i.ngPipeInstance,o=i.ngPipeArgs||[],a=n.filter(function(p){return!1!==p.visible}).findIndex(function(p){return p.id===i.id}),u=e.childNodes.item(a),l=$(u).text(),h=s.transform.apply(s,function(t,e,n){if(n||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}([l],o,!1));$(u).text(h)})},t.prototype.applyNgRefTemplate=function(e,n,r){var i=this;n.filter(function(o){return o.ngTemplateRef&&!o.ngPipeInstance}).forEach(function(o){var a=o.ngTemplateRef,u=a.ref,l=a.context,h=n.filter(function(S){return!1!==S.visible}).findIndex(function(S){return S.id===o.id}),p=e.childNodes.item(h);$(p).html("");var y=Object.assign({},l,l?.userData,{adtData:r}),C=i.vcr.createEmbeddedView(u,y);i.renderer.appendChild(p,C.rootNodes[0])})},t.prototype.getColumnUniqueId=function(){for(var e="",r=0;r<6;r++){var i=Math.floor(62*Math.random());e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i)}return e.trim()},t.\u0275fac=function(n){return new(n||t)(Ie(js),Ie(ea),Ie(Xo))},t.\u0275dir=_t({type:t,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),t}(),Kwe=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Kn({type:t}),t.\u0275inj=tr({imports:[VD]}),t}();const Zwe=["scroller"];function Qwe(t,e){1&t&&(U(0,"div",117)(1,"a",95),Ve(2,"img",118),z()())}let Ywe=(()=>{class t{ngOnInit(){setInterval(()=>{this.countdown()},1e3),this.addAnimation(),window.addEventListener("resize",()=>{this.windowHeight=window.innerHeight})}constructor(n,r){this.elementRef=n,this.renderer=r,this.windowHeight=window.innerHeight,this.days=Math.floor(6*Math.random())+1,this.hours=Math.floor(22*Math.random())+1,this.minutes=Math.floor(57*Math.random())+1,this.secondes=Math.floor(58*Math.random())+1,console.log(this.windowHeight)}ngAfterViewInit(){window.matchMedia("(prefers-reduced-motion: reduce)").matches||setTimeout(()=>this.addAnimation(),0)}countdown(){this.secondes--,0==this.secondes&&(this.secondes=59,this.minutes--),0==this.minutes&&(this.minutes=59,this.hours--)}addAnimation(){const n=this.scrollerElement.nativeElement,r=n.querySelector(".scroller__inner");r&&(Array.from(r.children).forEach(s=>{const o=s.cloneNode(!0);this.renderer.setAttribute(o,"aria-hidden","true"),this.renderer.appendChild(r,o)}),this.renderer.setAttribute(n,"data-animated","true"))}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(js),Ie(Xo))};static#t=this.\u0275cmp=Vn({type:t,selectors:[["app-home"]],viewQuery:function(r,i){if(1&r&&function LV(t,e,n){const r=rn();r.firstCreatePass&&(BV(r,new kV(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),UV(r,Ce(),e)}(Zwe,5),2&r){let s;YS(s=XS())&&(i.scrollerElement=s.first)}},decls:496,vars:5,consts:[[2,"margin-top","5px"],[1,"countainer","felxx"],[1,"container"],[1,"header_image",2,"display","flex","justify-content","center","align-items","center"],[1,"countainer","text-center"],["src","assets/sales.png","alt",""],["routerLink","/shopping-cart",1,"btn","btn-dark","magic_btnn"],[2,"text-align","center"],["data-speed","fast",1,"scroller"],["scroller",""],["data-speed","fast",1,"tag-list","scroller__inner"],["data-speed","slow","data-direction","right",1,"scroller"],[1,"tag-list","scroller__inner"],["src","https://m.media-amazon.com/images/I/61lNb+JO0rL._AC_SL1500_.jpg",2,"height","200px","width","200px"],["src","https://m.media-amazon.com/images/I/81U7zKn3htL._AC_SL1500_.jpg","alt","",2,"height","200px","width","200px"],["src","https://m.media-amazon.com/images/I/51WoTvn5LFL._AC_SL1250_.jpg","alt","",2,"height","200px","width","200px"],["src","https://m.media-amazon.com/images/I/8174nkaT-HL._AC_SL1500_.jpg","alt","",2,"height","200px","width","200px"],["src","https://m.media-amazon.com/images/I/618PlE1DM8L._AC_SL1500_.jpg","alt","",2,"height","200px","width","200px"],["src","https://m.media-amazon.com/images/I/61DtvpgVlOL._AC_SL1500_.jpg","alt","",2,"height","200px","width","200px"],[1,"top_products"],[1,"countainer",2,"max-width","300px"],["id","carouselExampleInterval","data-bs-ride","carousel",1,"carousel","slide",2,"max-width","300px","overflow","hidden"],[1,"carousel-inner",2,"max-width","300px"],["data-bs-interval","3000",1,"carousel-item","active",2,"max-width","280px","overflow","-moz-hidden-unscrollable"],[1,"shop_card","magic_shaow-sm",2,"width","250px","margin","10px"],[1,"product_image"],["src","assets/products/watch.jpg"],[1,"details"],[1,"stars"],["src","assets/icons/start-filled.svg","alt",""],["src","assets/icons/star-grey.svg","alt",""],[1,"price"],[1,"btns"],["src","assets/icons/cart-2.svg","alt",""],[1,"test"],[1,"fa-solid","fa-arrow-right-long"],["data-bs-interval","3000",1,"carousel-item"],["src","assets/products/iphone15.png"],["src","assets/products/visionpro.png"],["src","assets/products/shoes1.jpg"],["src","assets/products/drone.png"],["src","assets/products/smartwatch.png"],["src","assets/products/adidasbag.png"],["data-bs-target","#carouselExampleInterval","data-bs-slide","prev",1,"slider-btn","prev-btn"],["src","assets/icons/pre.svg","alt",""],["data-bs-target","#carouselExampleInterval","data-bs-slide","next",1,"slider-btn","next-btn"],["src","assets/icons/next.svg","alt",""],[1,"text-center","mt-3"],[1,"btn","btn-outline-dark","magic_btnn"],["id","about",1,"about"],[1,"countainer"],[1,"about_wrap"],[1,"left_about"],["src","assets/shopp1.png","alt","",2,"border-radius","10px"],[1,"right_about"],[2,"color","goldenrod"],["id","services",1,"servcies"],[1,"services_wrap"],[1,"services_card"],["src","assets/icons/transport.svg","alt",""],[1,"btn","btn-dark"],["src","assets/icons/bag.svg","alt",""],[1,"text-primay"],[1,"btn","btn-primary"],["src","assets/icons/usd.svg","alt",""],[1,"big_deal"],[1,"text-light"],[1,"timer","row"],[1,"col-lg-4","col-md-6","col-sm-12"],["id","blogs",1,"lattest_new"],[1,"blog_wrap","row",2,"padding-right","0","padding-left","0"],[1,"blog_card","col-lg-4","col-md-6","col-sm-12"],["src","assets/online2.jpg","alt",""],[1,"meta"],["src","assets/online.jpg","alt",""],[1,"text-center","mt-4"],[1,"subscribe"],["src","assets/newsletter2.png","alt","",2,"max-width","80px","max-height","80px"],[1,"input_group"],["type","text","placeholder","Enter Your E-mail","aria-label","Recipient's username","aria-describedby","button-addon2",1,"form-control"],[1,"btn","btn-outline-secondary"],["class","to_top",4,"ngIf"],["id","contact_us",1,"contact_us"],[1,"right"],[2,"width","100%"],[1,"contact_info"],["src","assets/icons/phone-2.svg","alt",""],["src","assets/icons/email.svg","alt",""],["src","assets/icons/clock-2.svg","alt",""],[1,"maps"],["src","https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d12795.335221001535!2d10.236008627416997!3d36.70253138395785!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sfr!2stn!4v1707602454496!5m2!1sfr!2stn","width","600","height","450","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","solid gray 1px","border-radius","5px"],[1,"container",2,"margin","20px","overflow","hidden"],[1,"box",2,"color","rgb(189, 189, 189)","overflow","hidden"],[2,"color","gray"],[1,"box",2,"color","rgb(189, 189, 189)"],["href","#"],["href","https://www.facebook.com/arbi.jridi.315"],["src","assets/icons/facebook.svg","alt","facebook","width","30px","height","30px"],["href","https://twitter.com/AR_JRIDI"],["src","assets/icons/twitter.svg","alt","twitter","width","30px","height","30px"],["href","https://github.com/arbi-jridi"],["src","assets/icons/github.svg","alt","Github","width","30px","height","30px"],["href","https://www.linkedin.com/in/arbi-jridi/"],["src","assets/icons/linkedin.svg","alt","Linkedin","width","30px","height","30px"],[1,"box","instagram-api",2,"color","rgb(189, 189, 189)"],[1,"post-wrap"],["src","assets/shop.gif","alt",""],["src","assets/shop3.gif","alt",""],["src","assets/shop6.gif","alt",""],["src","assets/shop4.gif","alt",""],["src","assets/shop2.gif","alt",""],["src","assets/shop5.gif","alt",""],[1,"copyright"],[1,"cart"],[1,"fa-regular","fa-circle-xmark"],[1,"cart_product"],[1,"last"],[1,"to_top"],["src","assets/icons/arrow.svg","alt","","width","35px","height","35px"]],template:function(r,i){1&r&&(U(0,"header",0)(1,"div",1)(2,"div",2)(3,"h1"),te(4,"Welcome to...."),z(),U(5,"h1"),te(6,"E-SHOP"),z()(),U(7,"div",3)(8,"div",4),Ve(9,"img",5),U(10,"button",6),te(11,"Shop Now !"),z()()()()(),U(12,"section")(13,"h1",7),te(14,"FEATURED"),z(),U(15,"div",8,9)(17,"div",10)(18,"li"),te(19,"Hi-Tech"),z(),U(20,"li"),te(21,"SmartPhones"),z(),U(22,"li"),te(23,"Laptop"),z(),U(24,"li"),te(25,"SmartWatch"),z(),U(26,"li"),te(27,"Gadgets"),z(),U(28,"li"),te(29,"Drones"),z(),U(30,"li"),te(31,"Consoles"),z(),U(32,"li"),te(33,"Games"),z()(),U(34,"div",11,9)(36,"div",12)(37,"li"),Ve(38,"img",13),z(),U(39,"li"),Ve(40,"img",14),z(),U(41,"li"),Ve(42,"img",15),z(),U(43,"li"),Ve(44,"img",16),z(),U(45,"li"),Ve(46,"img",17),z(),U(47,"li"),Ve(48,"img",18),z()()()()(),U(49,"section",19)(50,"div",20)(51,"h1"),te(52,"Top Products"),z(),U(53,"div",21)(54,"div",22)(55,"div",23)(56,"div",24)(57,"div",25),Ve(58,"img",26),z(),Ve(59,"hr"),U(60,"div",27)(61,"h2"),te(62,"Fossil Watch"),z(),U(63,"div",28),Ve(64,"img",29)(65,"img",29)(66,"img",29)(67,"img",30)(68,"img",30),z()(),U(69,"p",31),te(70," $100 "),U(71,"span"),te(72,"$200"),z()(),U(73,"div",32)(74,"button"),Ve(75,"img",33),U(76,"span"),te(77," Add To Cart"),z(),U(78,"div",34),te(79,"Add To Cart "),Ve(80,"i",35),z()()()()(),U(81,"div",36)(82,"div",24)(83,"div",25),Ve(84,"img",37),z(),Ve(85,"hr"),U(86,"div",27)(87,"h2"),te(88,"iphone 15"),z(),U(89,"div",28),Ve(90,"img",29)(91,"img",29)(92,"img",29)(93,"img",30)(94,"img",30),z()(),U(95,"p",31),te(96," $1000 "),U(97,"span"),te(98,"$1500"),z()(),U(99,"div",32)(100,"button"),Ve(101,"img",33),U(102,"span"),te(103," Add To Cart"),z(),U(104,"div",34),te(105,"Add To Cart "),Ve(106,"i",35),z()()()()(),U(107,"div",36)(108,"div",24)(109,"div",25),Ve(110,"img",38),z(),Ve(111,"hr"),U(112,"div",27)(113,"h2"),te(114,"Vision Pro"),z(),U(115,"div",28),Ve(116,"img",29)(117,"img",29)(118,"img",29)(119,"img",30)(120,"img",30),z()(),U(121,"p",31),te(122," $3700 "),U(123,"span"),te(124,"$4000"),z()(),U(125,"div",32)(126,"button"),Ve(127,"img",33),U(128,"span"),te(129," Add To Cart"),z(),U(130,"div",34),te(131,"Add To Cart "),Ve(132,"i",35),z()()()()(),U(133,"div",36)(134,"div",24)(135,"div",25),Ve(136,"img",39),z(),Ve(137,"hr"),U(138,"div",27)(139,"h2"),te(140,"shoes HRx"),z(),U(141,"div",28),Ve(142,"img",29)(143,"img",29)(144,"img",29)(145,"img",30)(146,"img",30),z()(),U(147,"p",31),te(148," $400 "),U(149,"span"),te(150,"$500"),z()(),U(151,"div",32)(152,"button"),Ve(153,"img",33),U(154,"span"),te(155," Add To Cart"),z(),U(156,"div",34),te(157,"Add To Cart "),Ve(158,"i",35),z()()()()(),U(159,"div",36)(160,"div",24)(161,"div",25),Ve(162,"img",40),z(),Ve(163,"hr"),U(164,"div",27)(165,"h2"),te(166,"Phantom drone"),z(),U(167,"div",28),Ve(168,"img",29)(169,"img",29)(170,"img",29)(171,"img",30)(172,"img",30),z()(),U(173,"p",31),te(174," $3000 "),U(175,"span"),te(176,"$3500"),z()(),U(177,"div",32)(178,"button"),Ve(179,"img",33),U(180,"span"),te(181," Add To Cart"),z(),U(182,"div",34),te(183,"Add To Cart "),Ve(184,"i",35),z()()()()(),U(185,"div",36)(186,"div",24)(187,"div",25),Ve(188,"img",41),z(),Ve(189,"hr"),U(190,"div",27)(191,"h2"),te(192,"Smart Watch"),z(),U(193,"div",28),Ve(194,"img",29)(195,"img",29)(196,"img",29)(197,"img",30)(198,"img",30),z()(),U(199,"p",31),te(200," $2000 "),U(201,"span"),te(202,"$2500"),z()(),U(203,"div",32)(204,"button"),Ve(205,"img",33),U(206,"span"),te(207," Add To Cart"),z(),U(208,"div",34),te(209,"Add To Cart "),Ve(210,"i",35),z()()()()(),U(211,"div",36)(212,"div",24)(213,"div",25),Ve(214,"img",42),z(),Ve(215,"hr"),U(216,"div",27)(217,"h2"),te(218,"Adidas Bag"),z(),U(219,"div",28),Ve(220,"img",29)(221,"img",29)(222,"img",29)(223,"img",30)(224,"img",30),z()(),U(225,"p",31),te(226," $200 "),U(227,"span"),te(228,"$300"),z()(),U(229,"div",32)(230,"button"),Ve(231,"img",33),U(232,"span"),te(233," Add To Cart"),z(),U(234,"div",34),te(235,"Add To Cart "),Ve(236,"i",35),z()()()()()()(),U(237,"button",43),Ve(238,"img",44),z(),U(239,"button",45),Ve(240,"img",46),z(),U(241,"div",47)(242,"a",48),te(243," View More"),z()()()(),U(244,"section",49)(245,"div",50)(246,"h1"),te(247,"About Our Store"),z(),U(248,"div",51)(249,"div",52),Ve(250,"img",53),z(),U(251,"div",54)(252,"h2",55),te(253,"We bring you everything you want!"),z(),U(254,"p"),te(255,"Welcome to E-STORE. We are dedicated to bringing you the best products and services. Our team works tirelessly to ensure that your shopping experience is seamless and enjoyable. We believe in providing high-quality products at affordable prices. Thank you for choosing E-STORE."),z(),U(256,"div",47)(257,"a",48),te(258,"Read More.."),z()()()()()(),U(259,"section",56)(260,"div",50)(261,"h1"),te(262," Our Services "),z(),U(263,"div",57)(264,"div",58),Ve(265,"img",59),U(266,"h2"),te(267,"Free Home Delivery"),z(),U(268,"p"),te(269,"Get free delivery on all your orders to your Home"),z(),U(270,"button",60),te(271,"Learn More"),z()(),U(272,"div",58),Ve(273,"img",61),U(274,"h2",62),te(275,"30 Days Return "),z(),U(276,"p"),te(277,"Return ...what are you talking about"),z(),U(278,"button",63),te(279,"Read More"),z()(),U(280,"div",58),Ve(281,"img",64),U(282,"h2"),te(283,"Mony Back Guranted"),z(),U(284,"p"),te(285,"you will got no money back , absolutly kidding \u{1f923} "),z(),U(286,"button",60),te(287,"Read More"),z()()()()(),U(288,"section",65)(289,"div",50)(290,"h1",66),te(291,"HURRY ...CATCH OUR NEXT DEAL!"),z(),U(292,"div",67)(293,"div",68)(294,"span"),te(295),z(),U(296,"span"),te(297,"Days"),z()(),U(298,"div",68)(299,"span"),te(300),z(),U(301,"span"),te(302,"Hours"),z()(),U(303,"div",68)(304,"span"),te(305),z(),U(306,"span"),te(307,"Mintes"),z()(),U(308,"div",68)(309,"span"),te(310),z(),U(311,"span"),te(312,"Secondes"),z()()()()(),U(313,"section",69)(314,"div",50)(315,"h1"),te(316,"TESTMONIAL"),z(),U(317,"div",70)(318,"div",71)(319,"div"),Ve(320,"img",72),z(),U(321,"div",27)(322,"div",73)(323,"span"),te(324,"(Feb 15, 2024)"),z(),U(325,"span"),te(326,"(Posted By "),U(327,"strong"),te(328,"Elon Musk"),z(),te(329,")"),z(),U(330,"span"),te(331,"(12 Commentns)"),z()(),U(332,"h2"),te(333,"One of The best Stores i ever see..."),z(),U(334,"p"),te(335,"Shopping at the e-shop has been a delightful experience. The wide range of high-quality products at affordable prices is truly impressive. "),z()()(),U(336,"div",71)(337,"div"),Ve(338,"img",74),z(),U(339,"div",27)(340,"div",73)(341,"span"),te(342,"(Jan 03, 2024)"),z(),U(343,"span"),te(344,"(Posted By "),U(345,"strong"),te(346,"Mark ZukerBurg"),z(),te(347,")"),z(),U(348,"span"),te(349,"(7 Commentns)"),z()(),U(350,"h2"),te(351,"E-shop was a really nice experience ..."),z(),U(352,"p"),te(353," The seamless shopping process and the excellent customer service have made me a loyal customer. I highly recommend the e-shop to everyone!"),z()()()(),U(354,"div",75)(355,"a",48),te(356," View More"),z()()()(),U(357,"section",76)(358,"div",50)(359,"div"),Ve(360,"img",77),z(),U(361,"div",27)(362,"h2"),te(363,"Subscribe To Our NewsLetter"),z(),U(364,"p"),te(365,"Subscribe to our newsletter to receive the latest updates and promotions."),z(),U(366,"div",78),Ve(367,"input",79),U(368,"button",80),te(369,"Subscribe"),z()()()()(),Zn(370,Qwe,3,0,"div",81),U(371,"section",82)(372,"div",83)(373,"h1",84),te(374,"Contact US"),z(),U(375,"div",85)(376,"div")(377,"div"),Ve(378,"img",86),z(),U(379,"div")(380,"span"),te(381,"Call Us :"),z(),U(382,"span"),te(383,"(+216) 98 756 636"),z()()(),U(384,"div")(385,"div"),Ve(386,"img",87),z(),U(387,"div")(388,"span"),te(389,"E-mail :"),z(),U(390,"span"),te(391,"arbi.jridi@gmail.com"),z()()(),U(392,"div")(393,"div"),Ve(394,"img",88),z(),U(395,"div")(396,"span"),te(397,"Working Hours :"),z(),U(398,"span"),te(399,"Monday-Saturday (8.00pm - 6.00pm)"),z()()()()(),U(400,"div",89),Ve(401,"iframe",90),z()(),U(402,"footer")(403,"div",91)(404,"div",92)(405,"h3"),te(406,"About us"),z(),U(407,"p",93),te(408,"At E-Shop, we are committed to providing the best service to our customers. Our team works tirelessly to ensure that your shopping experience is seamless and enjoyable. We believe in providing high-quality products at affordable prices. Thank you for choosing E-Shop."),z(),U(409,"button",63),te(410,"Read More"),z()(),U(411,"div",94)(412,"h3"),te(413,"Quik Links"),z(),U(414,"ul")(415,"li")(416,"a",95),te(417,"Home"),z()(),U(418,"li")(419,"a",95),te(420,"About us"),z()(),U(421,"li")(422,"a",95),te(423,"Products"),z()(),U(424,"li")(425,"a",95),te(426,"Login"),z()(),U(427,"li")(428,"a",95),te(429,"Services"),z()(),U(430,"li")(431,"a",95),te(432,"Gallery"),z()(),U(433,"li")(434,"a",95),te(435,"Contact us"),z()()()(),U(436,"div",94)(437,"h3"),te(438,"Follow Us"),z(),U(439,"div")(440,"ul")(441,"li")(442,"a",96),Ve(443,"img",97),U(444,"span"),te(445,"Facebook"),z()()(),U(446,"li")(447,"a",98),Ve(448,"img",99),U(449,"span"),te(450,"Twitter"),z()()(),U(451,"li")(452,"a",100),Ve(453,"img",101),U(454,"span"),te(455,"Github"),z()()(),U(456,"li")(457,"a",102),Ve(458,"img",103),U(459,"span"),te(460,"Linkedin"),z()()()()()(),U(461,"div",104)(462,"h3"),te(463,"SHOP NOW !"),z(),U(464,"div",105)(465,"div"),Ve(466,"img",106),z(),U(467,"div"),Ve(468,"img",107),z(),U(469,"div"),Ve(470,"img",108),z(),U(471,"div"),Ve(472,"img",109),z(),U(473,"div"),Ve(474,"img",110),z(),U(475,"div"),Ve(476,"img",111),z()()()()(),U(477,"footer",112)(478,"div"),te(479," Copyright \xa9 "),Ve(480,"span"),te(481," .All rights reserved by "),U(482,"a",100),te(483,"Arbi Jridi"),z(),te(484,". "),z()(),U(485,"div",113),Ve(486,"i",114),U(487,"h2"),te(488," Cart Items"),z(),U(489,"div",115),te(490," ur cart is empty "),z(),U(491,"div",116)(492,"h5"),te(493,"total"),z(),U(494,"p"),te(495,"$0.00"),z()()()),2&r&&(Ct(295),Hs(i.days),Ct(5),Hs(i.hours),Ct(5),Hs(i.minutes),Ct(5),Hs(i.secondes),Ct(60),Kt("ngIf",i.windowHeight>100))},dependencies:[Md,Ud],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}[_ngcontent-%COMP%]:root{--primary: #EEBF00 ;--secondary: #232B38 ;--ternary: #6C6C6C ;--danger: #FE4545 ;--pure: #FEFEFE;--light: #f3f1f1 ;--chartreuse:#faf5e6ef ;--footer: #2D333F;--clr-neutral-100: hsl(0, 0%, 100%);--clr-primary-100: hsl(205, 15%, 58%);--clr-primary-400: hsl(215, 25%, 27%);--clr-primary-800: hsl(217, 33%, 17%);--clr-primary-900: hsl(218, 33%, 9%)}.countainer[_ngcontent-%COMP%]{width:100%;padding:0 15px;margin:auto}.btn1[_ngcontent-%COMP%]{background-color:#00f;color:#1e90ff;font-size:20px;padding:10px 20px;border-radius:10px;cursor:pointer;margin-top:10px;margin-left:50%}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:nth-child(1){color:#5f5906;font-family:Work Sans,sans-serif;font-weight:800;font-size:20px;margin:0 10% 2% 30%;text-align:center;white-space:nowrap;overflow:hidden;width:170px;animation:_ngcontent-%COMP%_type 2s steps(40,end) forwards}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:nth-child(2){opacity:0;font-family:Work Sans,sans-serif;margin:0 0 auto;background:linear-gradient(to right,#d88d6f,#8f393f,#d6184e);font-weight:600;font-size:100px;width:430px;-webkit-background-clip:text;-webkit-text-fill-color:transparent;overflow:hidden;animation:_ngcontent-%COMP%_shring-animation 2.2s steps(40,end) 2s forwards,blink .5s step-end infinite alternate}@keyframes _ngcontent-%COMP%_shring-animation{0%{background-position:0 0;opacity:0;width:0}1%{background-position:0 0;opacity:1;border-right:1px solid orange}50%{background-position:150px 0;opacity:1;border-right:1px solid orange}to{background-position:400px 0;opacity:1;border-right:1px solid orange}}@keyframes _ngcontent-%COMP%_type{0%{width:0}1%,99%{border-right:1px solid orange}to{border-right:none}}@keyframes _ngcontent-%COMP%_blink{50%{border-color:transparent}}@media (min-width:576px){.top_products[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{max-width:540px}}@media (min-width:768px){.top_products[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{max-width:720px}}@media (min-width:992px){.top_products[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{max-width:960px}}@media (min-width:1200px){.top_products[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{max-width:1150px}}body[_ngcontent-%COMP%]{overflow-wrap:hidden;overflow-y:hidden}nav[_ngcontent-%COMP%]{margin-bottom:0;position:sticky;top:0;transition:.5s;z-index:5000;border-radius:0 0 20px 20px}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]{background-color:#232b38;color:#1e90ff;font-family:Raleway-semibolder;padding:5px 30px;transition:.5s}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:10px}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   img[_ngcontent-%COMP%]{cursor:pointer;transition:.5s}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   img[_ngcontent-%COMP%]:hover{color:#eebf00;transform:rotate(360deg)}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{padding:0 10px}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1e90ff;text-decoration:none;transition:.5s}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:none;transition:.5s;color:red;border:1px solid white;padding:1px 5px;border-radius:50%}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#1e90ff;transition:.5s}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#eebf00}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{color:#eebf00}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:3px}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]{padding:20px 0 0;transition:.5s;background-color:#fff}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{padding:0 30px;display:flex;align-items:center;justify-content:space-between}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:15px}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;font-size:17px;margin-bottom:0}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-family:Raleway;font-size:15px;font-weight:600;margin-bottom:0;color:#6c6c6c}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:15px}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]{padding:15px 30px;margin-top:15px;transition:.5s}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .countainerrr[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .countainerrr[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#232b38;font-family:Raleway,sans-serif;font-size:15px;font-weight:700;padding:15px 20px;transition:.5s ease;width:100%}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .countainerrr[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .countainerrr[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#eebf00;color:#1e90ff}.magic_shaow[_ngcontent-%COMP%]{position:relative;background-color:#faf5e6ef}.magic_shaow[_ngcontent-%COMP%]:after{content:"";position:absolute;display:block;overflow:hidden;width:100%;height:70px;bottom:-22px;background-image:url(shadow.a80cc95da208e0cd.svg);background-repeat:no-repeat;background-position:center;z-index:-1}.magic_shaow-sm[_ngcontent-%COMP%]{position:relative;background-color:#faf5e6ef}.magic_shaow-sm[_ngcontent-%COMP%]:after{content:"";position:absolute;display:block;overflow:hidden;width:100%;height:70px;bottom:-25px;background-image:url(shadow-sm.d2bac880bd57ed29.svg);background-repeat:no-repeat;background-position:center;z-index:-1}.togel_div[_ngcontent-%COMP%]{display:none}.togller[_ngcontent-%COMP%]{cursor:pointer;font-size:25px;transition:.5s}.togller.close[_ngcontent-%COMP%]{transform:rotate(90deg);-webkit-text-stroke:.5px #EEBF00;text-shadow:1px 1px 15px rgb(232,230,230)}@media (max-width:768px){.togel_div[_ngcontent-%COMP%]{display:block}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:none}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]{height:0;opacity:0;overflow:hidden;transform:translateY(100px);margin-top:15px;transition:.5s}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down.toggell_links[_ngcontent-%COMP%]{height:100%;padding:15px 30px;opacity:1;overflow:visible;transform:translateY(0);transition:.5s;border-bottom:3px dotted #EEBF00}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .countainerrr[_ngcontent-%COMP%]{display:block;text-align:center}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .countainerrr[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .countainerrr[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;margin:auto}.magic_shaow[_ngcontent-%COMP%]:after{background-image:none}}@media (max-width : 490px){nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:none}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{flex-direction:column}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:12px}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{padding:0 5px}@media (max-width : 410px){nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]{padding:5px 15px}@media (max-width : 360px){nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]{padding:5px 2px}}}}header[_ngcontent-%COMP%]{height:400px;min-height:400px;margin:0;background-image:url(banner1.42f63494518244a8.jpg);background-repeat:no-repeat;background-position:100% 100%;background-size:cover;overflow:hidden;border-radius:20px 20px 0 0}header[_ngcontent-%COMP%]   .felxx[_ngcontent-%COMP%]{height:100%;width:100%;padding:0 200px;display:flex;align-items:center;justify-content:space-around}header[_ngcontent-%COMP%]   .welcome[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:10px}header[_ngcontent-%COMP%]   .welcome[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;font-style:italic;color:#232b38}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:bolder;color:#232b38;font-size:38px;margin-bottom:5px}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#eebf00}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:600;opacity:.5;line-height:1.5;width:62%}header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 13px;border-radius:5px;border-color:transparent;outline:none;line-height:.8;font-size:18px;cursor:pointer;transition:.5s}header[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{border-color:#eebf00;background-color:#eebf00;color:#faf5e6ef}header[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{border-color:#232b38;background-color:#232b38;color:#faf5e6ef}header[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:hover{background-color:#faf5e6ef;color:#eebf00;border-color:#eebf00}header[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#faf5e6ef;color:#232b38;border-color:#232b38}header[_ngcontent-%COMP%]   .header_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px}header[_ngcontent-%COMP%]   .header_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_top_and_down 2s linear infinite}@keyframes _ngcontent-%COMP%_top_and_down{50%{transform:translateY(-10px)}0%,to{transform:translateY(0)}}@media (max-width:992px){header[_ngcontent-%COMP%]   .felxx[_ngcontent-%COMP%]{padding:0 15px}}@media (max-width:768px){header[_ngcontent-%COMP%]   .felxx[_ngcontent-%COMP%]{padding:0 5px}header[_ngcontent-%COMP%]   .header_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:220px}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:35px;width:100%}}@media (max-width : 450px){.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:nth-child(2){margin:0 10px 0 2%;font-weight:800;font-size:40px;width:165px}}@media (max-width : 615px){header[_ngcontent-%COMP%]   .header_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:150PX;animation:rightandleft 2s linear infinite}@keyframes rightandleft{50%{transform:translate(10px)}0%,to{transform:translate(0)}}header[_ngcontent-%COMP%]{padding:50px 15px}header[_ngcontent-%COMP%]   .felxx[_ngcontent-%COMP%]{min-height:auto;width:auto;flex-direction:column;align-items:center;justify-content:center;gap:30px}header[_ngcontent-%COMP%]   .flexx[_ngcontent-%COMP%]   .welcome[_ngcontent-%COMP%]{font-size:10px}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px;line-height:.9}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;line-height:.9}}section[_ngcontent-%COMP%]{padding:65px 0}section.top_products[_ngcontent-%COMP%]{background-color:#f3f1f1}section.top_products[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:100%}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;text-align:center;position:relative;margin-bottom:60px}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:30px;background-image:url(hr.ac20412bcd26c1e0.png);background-repeat:no-repeat;background-position:center;right:0;bottom:-40px}section.top_products[_ngcontent-%COMP%]   .shop_card[_ngcontent-%COMP%]{background-color:#faf5e6ef;box-sizing:border-box;padding:20px 0;box-shadow:#00000029 0 1px 4px;transition:.5s;border-radius:5px}section.top_products[_ngcontent-%COMP%]   .shop_card[_ngcontent-%COMP%]:hover{border-radius:40px;box-shadow:orange 0 0 20px,orange 0 0 6px}.product_image[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.product_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:200px;padding-bottom:15px;object-fit:contain}section.top_products[_ngcontent-%COMP%]   .shop_card[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:1px solid #f3f1f1;opacity:.8;margin:15px auto}section.top_products[_ngcontent-%COMP%]   .shop_card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;font-size:23px;margin-bottom:5px;text-align:center}section.top_products[_ngcontent-%COMP%]   .shop_card[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}section.top_products[_ngcontent-%COMP%]   .shop_card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:green}section.top_products[_ngcontent-%COMP%]   .shop_card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:line-through;color:red}.btns[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:30px;overflow:hidden;width:100%}.btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;display:flex;height:100%;align-items:center;justify-content:flex-start;border-radius:5px;gap:8px;font-family:Raleway,sans-serif;font-weight:700;color:#232b38;background-color:#faf5e6ef;border:2px solid var( --primary);width:50%;font-size:12px;transition:.5 ease;overflow:hidden}.btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-color:#eebf00;padding:8px;height:32px}.btns[_ngcontent-%COMP%]   .test[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;left:34px;background-color:#eebf00;z-index:-1;width:0;transition:.5s;color:#f3f1f1;display:flex;align-items:center;justify-content:flex-start;overflow:hidden;padding-left:8px}.btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .test[_ngcontent-%COMP%]{z-index:5;width:100%}.btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 0 0 10px}.controller[_ngcontent-%COMP%]{color:#eebf00}.carousel-item[_ngcontent-%COMP%]{width:40%}.shop_slider[_ngcontent-%COMP%]{display:flex;gap:10px;transition:transform .5s ease}.slick-slide[_ngcontent-%COMP%]{margin:0 27px}.slick-list[_ngcontent-%COMP%]{margin:0 -27px}.slick-track[_ngcontent-%COMP%]{padding:15px 0}.slider-btn[_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:5px;background-color:#eebf00;color:#f3f1f1}.slider-btn.prev-btn[_ngcontent-%COMP%]{position:relative;left:10%}.slider-btn.next-btn[_ngcontent-%COMP%]{position:relative;left:60%}.magic_btnn[_ngcontent-%COMP%]{border:1px solid black;font-style:italic;font-family:Raleway,sans-serif;font-weight:700;position:relative;transition:.5s}.magic_btnn[_ngcontent-%COMP%]:before{position:absolute;content:"";top:50%;left:-30px;transform:translateY(-50%);background-color:#eebf00;height:12px;width:12px;border-radius:50%}.magic_btnn[_ngcontent-%COMP%]:after{position:absolute;content:"";top:50%;right:-30px;transform:translateY(-50%);background-color:#eebf00;height:12px;width:12px;border-radius:50%}.magic_btnn[_ngcontent-%COMP%]:hover:after{z-index:-1;animation:_ngcontent-%COMP%_rightmove .5s linear forwards;transition:.5s;border:1px solid black}.magic_btnn[_ngcontent-%COMP%]:hover:before{z-index:-1;animation:_ngcontent-%COMP%_leftmove .5s linear forwards;animation-duration:.5s;transition:.5s}.magic_btnn[_ngcontent-%COMP%]:hover{letter-spacing:1.3px;color:#f3f1f1;border-color:#eebf00;background-color:#eebf00;transition-delay:.5s;border:1px solid gray}@keyframes _ngcontent-%COMP%_rightmove{50%{right:0;z-index:1}to{right:0;width:51%;height:105%;border-radius:0}}@keyframes _ngcontent-%COMP%_leftmove{50%{right:0;z-index:1}to{left:0;width:51%;height:105%;border-radius:0}}@media (max-width:992px){.top_products[_ngcontent-%COMP%]   .slider-btn[_ngcontent-%COMP%]{display:none!important}}.about_wrap[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.about_wrap[_ngcontent-%COMP%]   .left_about[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:85%;border:0px solid #fff}.about_wrap[_ngcontent-%COMP%]   .right_about[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;gap:20px;width:50%}.about_wrap[_ngcontent-%COMP%]   .right_about[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;font-style:oblique;font-size:25px;line-height:1.2}.about_wrap[_ngcontent-%COMP%]   .right_about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.8}@media (max-width:768px){.about_wrap[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.about_wrap[_ngcontent-%COMP%]   .right_about[_ngcontent-%COMP%]{width:auto;padding:10px 15px}}.servcies[_ngcontent-%COMP%]{background-color:#f3f1f1}.servcies[_ngcontent-%COMP%]   .services_wrap[_ngcontent-%COMP%]{padding-top:60px}.servcies[_ngcontent-%COMP%]   .services_wrap[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;gap:30px}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]{width:30%;background-color:#faf5e6ef;padding:60px 15px 30px;text-align:center;position:relative;border-radius:5px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px;transition:.5s;box-shadow:#63636333 0 2px 8px}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]:hover{border-radius:20px;box-shadow:#000 0 1px 2px,#000 0 1px 3px 1px}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]:nth-child(2):hover{border-radius:20px;box-shadow:#eebf00 0 1px 2px,#eebf00 0 1px 3px 1px}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:-45px;left:50%;transform:translate(-50%);transition:.5s}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-top:-10px}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;font-size:25px}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.8}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]:nth-child(2)   img[_ngcontent-%COMP%]{color:#eebf00}.btn-primary[_ngcontent-%COMP%]{background-color:#1e90ff;border-color:#eebf00}.btn-primary[_ngcontent-%COMP%]:hover{border-color:#eebf00;background-color:#f9d33b}.text-primay[_ngcontent-%COMP%]{color:#eebf00}@media (max-width:992px){.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]{width:auto}}.big_deal[_ngcontent-%COMP%]{background:linear-gradient(rgba(33,43,56,.8),rgba(33,43,56,.8)),url(shoppkid.9689fabcf4736506.jpg);background-position:center center;background-repeat:no-repeat;background-size:cover;background-attachment:fixed}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:30px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#eebf00;display:flex;align-items:center;justify-content:center;flex-direction:column;color:#f3f1f1;width:150px;height:150px;transition:all .5s ease;border-radius:15px;cursor:pointer}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{border-radius:0}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-family:Raleway,sans-serif;text-shadow:1px 1px 3px #faf5e6ef;font-weight:700;font-size:30px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-family:Raleway,sans-serif;font-size:25px;font-style:italic}@media (max-width:768px){.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{gap:20px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100px;height:100px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:25px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:17px}}@media (max-width : 615px){.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{gap:8px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:80px;height:80px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:20px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:12px}}.lattest_new[_ngcontent-%COMP%]{background-color:#f3f1f1}.blog_wrap.row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.lattest_new[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{padding:15px 50px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{width:100%;overflow:hidden;transition:.5s}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110%;padding:0;transition:.5s}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1);border-radius:10px 10px 0 0}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child:hover{border-radius:10px 10px 0 0}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:20px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]{box-shadow:#43475545 0 0 .25em,#5a7dbc0d 0 .25em 1em;transition:.5s;background-color:#faf5e6ef}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]:hover{box-shadow:#eebf00 0 0 .25em,#eebf00 0 .25em 1em;border-radius:10px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{padding:30px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-weight:400;transition:.3s}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{text-decoration:underline}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{-webkit-text-decoration:underline black;text-decoration:underline black}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;font-size:25px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]:hover   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#eebf00;transition:.5s}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.8}@media (max-width:1200px){.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width:992){.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width:768px){.lattest_new[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{padding:15px 30px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{padding:15px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;font-size:13px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width : 615px){.lattest_new[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{padding:15px 60px}}.input_group[_ngcontent-%COMP%]{position:relative}.input_group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px}.btn-outline-secondary[_ngcontent-%COMP%]{background-color:#eebf00;color:#faf5e6ef;position:absolute;right:5px;top:50%;transform:translateY(-50%)}.subscribe[_ngcontent-%COMP%]{background-color:#eebf00;padding:50px 60px}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:500px}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{width:50%}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;font-size:30px}@media (max-width:992px){.subscribe[_ngcontent-%COMP%]{padding:50px 30px}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px}}@media (max-width:768px){.subscribe[_ngcontent-%COMP%]{padding:50px 20px}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width:680px){.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.subscribe[_ngcontent-%COMP%]{padding:50px}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{width:100%}}.contact_us[_ngcontent-%COMP%]{display:flex;padding-top:0;padding-bottom:0}.contact_us[_ngcontent-%COMP%]   .maps[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-bottom:10px;width:100%;overflow:hidden;align-items:flex-end;justify-content:flex-end}.contact_us[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:5px}.contact_us[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .contact_info[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;flex-direction:column;gap:10px}.contact_us[_ngcontent-%COMP%]   .contact_info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:15px}.contact_us[_ngcontent-%COMP%]   .contact_info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;gap:0}.contact_us[_ngcontent-%COMP%]   .contact_info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2)   span[_ngcontent-%COMP%]:first-child{font-family:Raleway,sans-serif;font-weight:700}.contact_us[_ngcontent-%COMP%]   .contact_info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2)   span[_ngcontent-%COMP%]:nth-child(2){font-style:italic}@media (max-width:680px){.contact_us[_ngcontent-%COMP%]{flex-direction:column}.contact_us[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:100%}.contact_us[_ngcontent-%COMP%]   .maps[_ngcontent-%COMP%]{width:100%;height:350px}}footer[_ngcontent-%COMP%]{background-color:#f3f1f1;padding:4rem 0}footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;color:#1e90ff}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{flex:1;margin-right:2rem;text-align:center}footer[_ngcontent-%COMP%]   .instagram-api[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}footer[_ngcontent-%COMP%]   .instagram-api[_ngcontent-%COMP%]   .post-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}footer[_ngcontent-%COMP%]   .instagram-api[_ngcontent-%COMP%]   .post-wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:calc(1/3*100% - (1 - 1/3)*10px);margin-bottom:10px}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:gray;text-decoration:none;transition:all .3s ease;-webkit-transition:all .3s ease;-moz-transition:all .3s ease;-ms-transition:all .3s ease;-o-transition:all .3s ease}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#eebf00}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:1px solid #EEBF00;padding-bottom:1rem;margin-bottom:1rem}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;margin-bottom:1rem}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1rem}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3) > div[_ngcontent-%COMP%]{display:flex;justify-content:center}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3){text-align:left}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3)   h3[_ngcontent-%COMP%]{text-align:center}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3) > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:1rem}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3)   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1.5rem}footer.copyright[_ngcontent-%COMP%]{padding:1rem 0;background:#232B38;color:#1e90ff;text-align:center;font-size:.75rem}footer.copyright[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#eebf00;text-decoration:none}@media (max-width:992px){footer[_ngcontent-%COMP%]   .instagram-api[_ngcontent-%COMP%]   .post-wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:calc(1/2*100% - (1 - 1/3)*10px)}}@media (max-width:768px){footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{flex-direction:column}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{text-align:left;margin-right:0;margin-bottom:3rem}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3)   h3[_ngcontent-%COMP%]{text-align:left}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3) > div[_ngcontent-%COMP%]{display:block}}.product[_ngcontent-%COMP%]{padding:50px;width:100%;background:linear-gradient(#faf5e6ef,#f3f1f1,#f3f1f1,#f3f1f1);display:flex;align-items:center;justify-content:center;flex-direction:column;gap:20px}.countainer[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:20px auto;font-family:Raleway,sans-serif;font-weight:700;font-style:oblique;text-align:center;position:relative;margin-bottom:60px}.countainer[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:30px;background-image:url(hr.ac20412bcd26c1e0.png);background-repeat:no-repeat;background-position:center;right:0;bottom:-40px}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]{width:320px;margin:5px;border:1px solid transparent;transition:.5s;box-shadow:#63636333 0 2px 8px;border-radius:5px}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]:hover{box-shadow:#eebf00 0 2px 4px,#eebf00 0 2px 16px;border-radius:20px}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]:hover   h5[_ngcontent-%COMP%]{color:#eebf00;font-weight:700;transition:.5s}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:green;font-weight:700;transition:.5s}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{background-color:#eebf00;border-color:transparent;transition:.5s}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]:hover{background-color:#f3d457;letter-spacing:1.5px;border:2px solid orange;border-radius:10px}.product[_ngcontent-%COMP%]   .roww[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:20px;flex-wrap:wrap}.product[_ngcontent-%COMP%]   .roww[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{width:100%;overflow:hidden;transition:.5s}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110%;padding:0;transition:.5s}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1);border-radius:20px 20px 0 0}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child:hover{border-radius:20px 20px 0 0}.product[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.product[_ngcontent-%COMP%]   .roww[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;border-width:2px}.product[_ngcontent-%COMP%]   .roww[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#444}.product[_ngcontent-%COMP%]   .roww[_ngcontent-%COMP%]   .cardd-body[_ngcontent-%COMP%]{text-align:center}@media (max-width:768px){.roww[_ngcontent-%COMP%]{padding:0}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]{width:70%}}@media (max-width : 600px){.product[_ngcontent-%COMP%]{padding:0 10px}.roww[_ngcontent-%COMP%]{padding:0}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]{width:100%}}body.open[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]{right:0}.cart[_ngcontent-%COMP%]{position:fixed;padding:10px 8px;bottom:0;right:-400px;width:400px;height:100vh;background-color:#232b38;color:#fff;border-radius:10px 0 0 10px;border-left:2px solid #EEBF00;border-top:2px solid #EEBF00;text-align:center;z-index:6000;transition:.5s;overflow-y:scroll}.cart[_ngcontent-%COMP%]   .jhjh[_ngcontent-%COMP%]{position:sticky;top:0}.cart[_ngcontent-%COMP%]   .fa-circle-xmark[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px;cursor:pointer;font-size:20px}.cart[_ngcontent-%COMP%]   .last[_ngcontent-%COMP%]{position:absolute;bottom:0;display:flex;align-items:center;justify-content:space-around;position:relative;padding:5px;border-top:1px solid #fff}.cart_product[_ngcontent-%COMP%]   .append[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:5px 10px;margin:5px auto;background-color:#555}.cart_product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;border:2px solid transparent;outline:2px solid green}.cart_product[_ngcontent-%COMP%]   .details_one[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:15px;text-align:left}.cart_product[_ngcontent-%COMP%]   .details_one[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0}.cart_product[_ngcontent-%COMP%]   .details_one[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){font-style:italic;font-size:20px;color:beige}.cart_product[_ngcontent-%COMP%]   .details_one[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){color:#00f800}.cart_product[_ngcontent-%COMP%]   .details_two[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:20px}.cart_product[_ngcontent-%COMP%]   .details_two[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}.cart_product[_ngcontent-%COMP%]   .details_two[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #fff;outline:none;border-radius:50%;background-color:#000;color:#fff;width:25px;height:25px;display:flex;align-items:center;justify-content:center;transition:.5s}.cart_product[_ngcontent-%COMP%]   .details_two[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#333}.cart_product[_ngcontent-%COMP%]   .details_two[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px}.cart_product[_ngcontent-%COMP%]   .details_two[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d74646;margin-right:5px;font-size:20px;cursor:pointer}@media (max-width : 415px){.cart[_ngcontent-%COMP%]{width:350px}}.blur[_ngcontent-%COMP%]{position:fixed;height:100vh;width:100%;background-color:#000000a1;z-index:1000}.popup_box[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:400px;height:250px;background-color:#faf5e6ef;z-index:1001;box-shadow:5px 5px 10px gray;border-radius:10px;padding:20px;border:2px solid rgb(4,255,4);color:#000}.popup_box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-size:25px;margin-top:10px}.popup_box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0f0;font-weight:700;font-style:italic}.popup_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:50%;margin:auto;position:absolute;bottom:30px;left:39%;animation:_ngcontent-%COMP%_test 1s linear}@keyframes _ngcontent-%COMP%_test{0%{transform:rotate(360deg);opacity:0;color:#000}to{transform:rotate(0);opacity:1;background-color:gold}}.popup_box[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{position:absolute;left:5px;top:5px;width:25px;height:25px;display:flex;align-items:center;justify-content:center;background-color:brown;color:#fff;border:1px solid #000;cursor:pointer;border-radius:50%}@media (max-width : 415px){.popup_box[_ngcontent-%COMP%]{width:350px}.popup_box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}.loader[_ngcontent-%COMP%]{width:100%;height:100vh;background-repeat:no-repeat;background-position:center center;position:fixed;z-index:1000000}.foorm[_ngcontent-%COMP%]{padding:50px;display:flex;align-items:center;justify-content:center}.co_form[_ngcontent-%COMP%]{background-color:#fff;color:#000;border-radius:30px;box-shadow:5px 5px 10px 5px gray;position:relative;overflow:hidden;width:768px;max-width:100%;min-height:480px}.co_form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:20px;letter-spacing:.5px;margin:20px 0}.co_form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.co_form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-size:13px;margin:15px 0 10px}.co_form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#eebf00;font-weight:700;padding:10px 40px;border:1px solid transparent;border-radius:10px;outline:none;text-transform:uppercase;letter-spacing:.5px;color:#fff;cursor:pointer;font-size:12px;margin-top:10px}.co_form[_ngcontent-%COMP%]   .oneee[_ngcontent-%COMP%]{background-color:#287ce9}.co_form[_ngcontent-%COMP%]   .twooo[_ngcontent-%COMP%]{background-color:#eebf00}.co_form[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.co_form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;height:100%}.co_form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#eee;border:none;outline:none;width:100%;padding:10px 15px;margin:8px 0;font-size:13px;border-radius:10px}.form_countainer[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:.5s ease-in-out}.sign_in[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.countainer.active[_ngcontent-%COMP%]   .sign_in[_ngcontent-%COMP%]{transform:translate(100%)}.sign_up[_ngcontent-%COMP%]{left:0;width:50%;opacity:0;z-index:1}.co_form.active[_ngcontent-%COMP%]   .sign_up[_ngcontent-%COMP%]{transform:translate(100%);opacity:1;z-index:5;animation:_ngcontent-%COMP%_move .5s}@keyframes _ngcontent-%COMP%_move{0%,49.99%{opacity:0;z-index:1}50%,to{opacity:1;z-index:5}}.social_icons[_ngcontent-%COMP%]{margin:20px 0;display:flex;align-items:center;justify-content:center;flex-wrap:wrap;gap:5px}.social_icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-radius:20%;border:1px solid #ccc;background-color:#efeeed;display:flex;align-items:center;justify-content:center;width:40px;height:40px;margin:0}.toggel_countainer[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;transition:.5s ease-in-out;z-index:1000;border-radius:100px 0 0 100px}.co_form.active[_ngcontent-%COMP%]   .toggel_countainer[_ngcontent-%COMP%]{transform:translate(-100%);border-radius:0 100px 100px 0}.toggel[_ngcontent-%COMP%]{background-color:#eebf00;background:linear-gradient(to right,rgb(81,140,218),rgb(97,127,247),#cbb352);background-position:center;background-repeat:no-repeat;background-size:cover;background-attachment:fixed;color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:.5s ease-in-out}.co_form.active[_ngcontent-%COMP%]   .toggel[_ngcontent-%COMP%]{transform:translate(50%)}.toggel_panal[_ngcontent-%COMP%]{position:absolute;width:50%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 30px;text-align:center;top:0;transform:translate(0);transition:.5s ease-in-out}.toggel_panal.left[_ngcontent-%COMP%]{transform:translate(-200%)}.co_form.active[_ngcontent-%COMP%]   .toggel_panal.left[_ngcontent-%COMP%]{transform:translate(0)}.toggel_panal.right[_ngcontent-%COMP%]{transform:translate(0);right:0}.co_form.active[_ngcontent-%COMP%]   .toggel_panal.right[_ngcontent-%COMP%]{transform:translate(200%)}.to_top[_ngcontent-%COMP%]{position:fixed;bottom:25px;left:30px;cursor:pointer;font-size:30px;color:#eebf00;padding:2px 8px;background-color:transparent;border-radius:50%;transition:.5s;display:flex}.to_top[_ngcontent-%COMP%]:hover{color:#faf5e6ef;transform:rotate(360deg)}.scroller[_ngcontent-%COMP%]{max-width:8s00px}.scroller__inner[_ngcontent-%COMP%]{padding-block:1rem;display:flex;flex-wrap:wrap;gap:1rem}.scroller[data-animated=true][_ngcontent-%COMP%]{overflow:hidden;-webkit-mask:linear-gradient(90deg,transparent,rgb(255,255,255) 95%,rgb(255,255,255) 5%,transparent);mask:linear-gradient(90deg,transparent,white 5%,white 95%,transparent)}.scroller[data-animated=true][_ngcontent-%COMP%]   .scroller__inner[_ngcontent-%COMP%]{width:max-content;flex-wrap:nowrap;animation:_ngcontent-%COMP%_scroll var(--_animation-duration, 40s) var(--_animation-direction, forwards) linear infinite}.scroller[data-direction=right][_ngcontent-%COMP%]{--_animation-direction: reverse}.scroller[data-direction=left][_ngcontent-%COMP%]{--_animation-direction: forwards}.scroller[data-speed=fast][_ngcontent-%COMP%]{--_animation-duration: 20s}.scroller[data-speed=slow][_ngcontent-%COMP%]{--_animation-duration: 40s}@keyframes _ngcontent-%COMP%_scroll{to{transform:translate(calc(-50% - .5rem))}}html[_ngcontent-%COMP%]{color-scheme:dark}body[_ngcontent-%COMP%]{display:grid;min-block-size:100vh;place-content:center;font-family:system-ui;font-size:1.125rem;background-color:#f5f5f5}.tag-list[_ngcontent-%COMP%]{margin:0;padding-inline:0;list-style:none}.tag-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:solid 1px gold;padding:1rem;background:rgb(255,255,255);border-radius:.5rem;box-shadow:0 .5rem 1rem -.25rem gray}.tag-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{border:solid 1px dodgerblue;cursor:pointer}.test[_ngcontent-%COMP%]{background:red!important}']})}return t})();var fb=ft(562);function g9(t){return new tn(function(e){return{unsubscribe:(0,fb.w)(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}const vN=lP(g9,!0);let Rg=(()=>{class t{constructor(n,r,i,s,o){this.afAuth=n,this.router=r,this.afs=i,this.db=s,this.http=o,this.afAuth.authState.subscribe(a=>{a?(this.userData=a,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user")),console.log(a)):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))}),this.theUser$=n.authState}saveUser(n){this.db.object("/users/"+n.uid).update({user:n.displayName,email:n.email})}getUser(n){return this.db.object("/users/"+n)}SetUserData(n){return this.afs.doc(`users/${n.uid}`).set({uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL,emailVerified:n.emailVerified},{merge:!0})}GoogleAuth(){return this.AuthLogin(new fb.X).then(n=>{let r=localStorage.getItem("returnUrl");this.router.navigateByUrl(r??"/"),location.reload(),this.saveUser(n.user),this.SetUserData(vN)})}signInWithFacebook(){return this.AuthLogin(new fb.W).then(n=>{let r=localStorage.getItem("returnUrl");this.router.navigateByUrl(r??"/"),location.reload(),this.saveUser(n.user),this.SetUserData(vN)})}googleSignIn(){return this.afAuth.signInWithPopup(new fb.X).then(n=>{localStorage.setItem("token",JSON.stringify(n.user))},n=>{alert(n.message)})}AuthLogin(n){return this.afAuth.signInWithPopup(n).then(r=>{this.SetUserData(r.user),alert(this.userData.displayName),localStorage.setItem("logged",JSON.stringify(this.userData)),console.table(vN)}).catch(r=>{console.log(r)})}logout(){this.afAuth.signOut().then(()=>{localStorage.removeItem("token"),localStorage.removeItem("logged"),localStorage.removeItem("returnUrl"),this.router.navigate(["/login"]),location.reload()},n=>{alert(n.message)})}static#e=this.\u0275fac=function(r){return new(r||t)(k(Ip),k(Ui),k(fh),k(Th),k(ZU))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zc=(()=>{class t{constructor(n,r,i){this.auth=n,this.router=r,this.route=i}canActivate(n,r){return this.auth.theUser$.pipe(De(i=>{if(i)return!0;let s=r.url;return localStorage.setItem("returnUrl",s),console.log(s),this.router.navigate(["/login"],{queryParams:{returnUrl:r.url}}),!1}))}static#e=this.\u0275fac=function(r){return new(r||t)(k(Rg),k(Ui),k(xa))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const wN=De(t=>!!t);let xg=(()=>{class t{router;auth;constructor(n,r){this.router=n,this.auth=r}canActivate=(n,r)=>{const i=n.data.authGuardPipe||(()=>wN);return this.auth.user.pipe(sc(1),i(n,r),De(s=>"boolean"==typeof s?s:Array.isArray(s)?this.router.createUrlTree(s):this.router.parseUrl(s)))};static \u0275fac=function(r){return new(r||t)(k(Ui),k(Ip))};static \u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();const _9=De(t=>!!t),y9=t=>Dr(_9,De(e=>e||t));let cEe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Vn({type:t,selectors:[["app-manage-products"]],decls:2,vars:0,template:function(r,i){1&r&&(U(0,"p"),te(1,"manage-products works!"),z())}})}return t})(),dEe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Vn({type:t,selectors:[["app-my-orders"]],decls:2,vars:0,template:function(r,i){1&r&&(U(0,"p"),te(1,"my-orders works!"),z())}})}return t})(),hEe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Vn({type:t,selectors:[["app-no-access"]],decls:2,vars:0,template:function(r,i){1&r&&(U(0,"p"),te(1,"no-access works!"),z())}})}return t})(),fEe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Vn({type:t,selectors:[["app-shopping-cart"]],decls:2,vars:0,template:function(r,i){1&r&&(U(0,"p"),te(1,"shopping-cart works!"),z())}})}return t})(),pEe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Vn({type:t,selectors:[["app-check-out"]],decls:2,vars:0,template:function(r,i){1&r&&(U(0,"p"),te(1,"check-out works!"),z())}})}return t})(),gEe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Vn({type:t,selectors:[["app-order-success"]],decls:2,vars:0,template:function(r,i){1&r&&(U(0,"p"),te(1,"order-success works!"),z())}})}return t})();function mEe(t,e){if(1&t){const n=Wf();U(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),te(6,"Login"),z(),U(7,"form")(8,"div",7)(9,"button",8),Mr("click",function(){return Bu(n),Ea(Da().signInWithGoogle())}),Ve(10,"img",9),te(11," sign In With Google "),z(),Ve(12,"br"),U(13,"button",10),Mr("click",function(){return Bu(n),Ea(Da().signInWithFacebook())}),Ve(14,"img",11),te(15," sign In With Facebook "),z()()()()()()()()}}let _Ee=(()=>{class t{constructor(n){this.AuthService=n}signInWithGoogle(){this.AuthService.GoogleAuth()}signInWithFacebook(){this.AuthService.signInWithFacebook()}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(Rg))};static#t=this.\u0275cmp=Vn({type:t,selectors:[["app-login"]],decls:2,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-sm-9","col-md-7","col-lg-5","mx-auto"],[1,"card","border-0","shadow","rounded-3","my-5"],[1,"card-body","p-4","p-sm-5"],[1,"card-title","text-center","mb-5","fw-light","fs-5"],[1,"d-grid","mb-2"],[1,"btn","btn-google","btn-login","text-uppercase","fw-bold",3,"click"],["src","assets/google.png","alt","","height","24px","width","24px"],[1,"btn","btn-facebook","btn-login","text-uppercase","fw-bold",3,"click"],["src","assets/facebook.png","alt","","height","24px","width","24px"]],template:function(r,i){1&r&&(U(0,"body"),Zn(1,mEe,16,0,"div",0),z()),2&r&&(Ct(1),Kt("ngIf",!i.AuthService.userData))},dependencies:[Md,uN,YO,Ov],styles:[".container[_ngcontent-%COMP%]{padding-top:5%}.btn-login[_ngcontent-%COMP%]{font-size:.9rem;letter-spacing:.05rem;padding:.75rem 1rem}.btn-google[_ngcontent-%COMP%]{color:red!important;background-color:#fff;border:1px solid red!important}.btn-facebook[_ngcontent-%COMP%]{color:#1877f2!important;background-color:#fff!important;border:1px solid #1877F2!important}.btn-facebook[_ngcontent-%COMP%]:hover{background-color:#1877f2!important;color:#fff!important}.btn-google[_ngcontent-%COMP%]:hover{background-color:red!important;color:#fff!important}"]})}return t})();var pb=ft(276);const CEe=lP(Hy,!0),IEe=lP(Px,!0);let gb=(()=>{class t{constructor(n,r,i,s){this.db=n,this.afs=r,this.router=i,this.snapshot=s,this.product$={}}update(n,r){n?this.afs.collection("/products/").doc(n).update(r).then(()=>{alert("Edited Successfully")}).catch(i=>{console.error("Error updating product:",i),alert("Error updating product. Please make sure the product exists.")}):console.error("Invalid ID provided for update:",n)}delete(n){this.afs.collection("/products/").doc(n).delete().then(()=>{alert("Deleted Successfully !")}).then(()=>{this.router.navigate(["/admin/products"])}).catch(r=>{console.error("Error deleting Product:",r),alert("Error deleting product. Please make sure the product exists.")})}getAll(){return this.afs.collection("/products")}getProductWithKey(n){return this.afs.collection("/products").snapshotChanges().pipe(De(r=>r.map(i=>i.payload.doc.data())))}createProductWithId(n){var r=this;return(0,we.Z)(function*(){try{const i=CEe(r.afs.firestore,`/products/${n.id}`);yield IEe(i,n),console.log(`Product added with ID: ${n.id}`),alert("Product added succefully")}catch(i){throw console.error("Error adding document with custom ID: ",i),i}})()}static#e=this.\u0275fac=function(r){return new(r||t)(k(Th),k(fh),k(Ui),k(xa))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const bEe=t=>["/admin/products/",t];function TEe(t,e){if(1&t&&(U(0,"tr")(1,"td"),te(2),z(),U(3,"td"),te(4),z(),U(5,"td"),te(6),z(),U(7,"td")(8,"a",8),te(9,"Edit"),z()()()),2&t){const n=e.$implicit;Ct(2),Hs(n.id),Ct(2),Hs(n.title),Ct(2),Qm("$",n.price,""),Ct(2),Kt("routerLink",HS(4,bEe,n.id))}}function SEe(t,e){if(1&t&&(U(0,"table",3)(1,"thead",4)(2,"tr")(3,"th",5),te(4,"id"),z(),U(5,"th",5),te(6,"Product"),z(),U(7,"th",5),te(8,"Price"),z(),U(9,"th",5),te(10,"Edit"),z()()(),U(11,"tbody",6),Zn(12,TEe,10,6,"tr",7),z()()),2&t){const n=Da();Kt("dtOptions",n.dtOptions),Ct(12),Kt("ngForOf",n.filtredProducts)}}let DEe=(()=>{class t{ngAfterViewInit(){pb("#table").hasClass("dataTable")&&(pb.fn.DataTable.isDataTable("#table")&&pb("#table").DataTable().clear().destroy(),pb("#table").DataTable(this.dtOptions))}constructor(n,r,i,s,o){this.ProductService=n,this.db=r,this.route=i,this.afs=s,this.renderer=o,this.products=[],this.filtredProducts=[],this.destroy$=new P,this.dtOptions={},this.subscription=this.ProductService.getAll().valueChanges().pipe(De(a=>a),mi(a=>{this.filtredProducts=this.products=a})).subscribe(()=>{console.log(this.products)})}ngOnInit(){this.dtOptions={pagingType:"full_numbers"}}ngOnDestroy(){this.subscription.unsubscribe()}filter(n){this.filtredProducts=n?this.products.filter(r=>r.title?.toLowerCase().includes(n.toLowerCase())):this.products}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(gb),Ie(Th),Ie(xa),Ie(fh),Ie(Xo))};static#t=this.\u0275cmp=Vn({type:t,selectors:[["app-admin-products"]],decls:6,vars:1,consts:[[2,"display","flex","justify-content","flex-start","padding","30px"],["type","button","routerLink","/admin/products/new",1,"btn","btn-info"],["datatable","","id","table","class","table table-striped table-hover row-border hover","style","margin:  auto; width: 98%; text-align:center;",3,"dtOptions",4,"ngIf"],["datatable","","id","table",1,"table","table-striped","table-hover","row-border","hover",2,"margin","auto","width","98%","text-align","center",3,"dtOptions"],["id","table",1,"table-warning"],["scope","col"],["table-group-divider","","id","table"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning",3,"routerLink"]],template:function(r,i){1&r&&(Ve(0,"br"),U(1,"div",0)(2,"button",1),te(3,"New Product"),z()(),Ve(4,"br"),Zn(5,SEe,13,2,"table",2)),2&r&&(Ct(5),Kt("ngIf",i.products.length))},dependencies:[l_,Md,Ud,Gwe]})}return t})(),AEe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Vn({type:t,selectors:[["app-admin-orders"]],decls:2,vars:0,template:function(r,i){1&r&&(U(0,"p"),te(1,"admin-orders works!"),z())}})}return t})(),Og=(()=>{class t{constructor(n,r){this.auth=n,this.router=r}canActivate(){return this.auth.theUser$.pipe(xr(n=>this.auth.getUser(n.uid).valueChanges()),De(n=>!!n&&n.isAdmin))}static#e=this.\u0275fac=function(r){return new(r||t)(k(Rg),k(Ui))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),IN=(()=>{class t{constructor(n){this.db=n,this.db.object("/categories").valueChanges().subscribe(r=>{console.log(r),this.categories$=r})}getAll(){return this.db.list("/categories")}static#e=this.\u0275fac=function(r){return new(r||t)(k(Th))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function PEe(t,e){1&t&&(U(0,"div",29),te(1,"The id is required !"),z())}function MEe(t,e){if(1&t){const n=Wf();U(0,"div",5)(1,"label",26),te(2,"Id"),z(),U(3,"input",27,28),Mr("ngModelChange",function(i){return Bu(n),Ea(Da().product.id=i)}),z(),Zn(5,PEe,2,0,"div",9),z()}if(2&t){const n=So(4),r=Da();Ct(3),Kt("ngModel",r.product.id),Ct(2),Kt("ngIf",n.touched&&n.invalid)}}function REe(t,e){1&t&&(U(0,"div",29),te(1,"Title is required !"),z())}function xEe(t,e){1&t&&(U(0,"div"),te(1,'"price is required !"'),z())}function OEe(t,e){1&t&&(U(0,"div"),te(1,"price must be a number"),z())}function NEe(t,e){1&t&&(U(0,"div"),te(1,"price must be =>0 ! "),z())}function kEe(t,e){if(1&t&&(U(0,"div",29),Zn(1,xEe,2,0,"div",30)(2,OEe,2,0,"div",30)(3,NEe,2,0,"div",30),z()),2&t){Da();const n=So(16);Ct(1),Kt("ngIf",null==n.errors?null:n.errors.required),Ct(1),Kt("ngIf",null==n.errors?null:n.errors.pattern),Ct(1),Kt("ngIf",null==n.errors?null:n.errors.min)}}function FEe(t,e){if(1&t&&(U(0,"option",31),te(1),z()),2&t){const n=e.$implicit;Kt("value",n.name),Ct(1),Hs(n.name)}}function LEe(t,e){1&t&&(U(0,"div",29),te(1,"category is required!"),z())}function VEe(t,e){1&t&&(U(0,"div"),te(1,"image Url is Required!"),z())}function UEe(t,e){1&t&&(U(0,"div"),te(1,"image Url is invalid! must start with http:// or https://..."),z())}function BEe(t,e){if(1&t&&(U(0,"div",29),Zn(1,VEe,2,0,"div",30)(2,UEe,2,0,"div",30),z()),2&t){Da();const n=So(35);Ct(1),Kt("ngIf",null==n.errors?null:n.errors.required),Ct(1),Kt("ngIf",null==n.errors?null:n.errors.pattern)}}function jEe(t,e){if(1&t){const n=Wf();U(0,"button",32),Mr("click",function(){return Bu(n),Ea(Da().deleteProduct())}),te(1,"Delete Product"),z()}}function $Ee(t,e){if(1&t&&(U(0,"div",33),Ve(1,"img",34)(2,"hr"),U(3,"div",35)(4,"h5",36),te(5),z(),U(6,"p",37),te(7),Sd(8,"currency"),z()()()),2&t){Da();const n=So(35),r=So(9),i=So(16);Ct(1),Kt("src",n.value,Cm),Ct(4),Hs(r.value),Ct(2),Hs(zS(8,3,i.value,"USD",!0))}}let w9=(()=>{class t{constructor(n,r,i,s,o,a,u){this.ProductService=r,this.router=i,this.db=s,this.afs=o,this.route=a,this.cdr=u,this.isExisting=!1,this.destroy$=new P,this.product={id:"",title:"",price:"",category:"",imageUrl:""},this.db.list("/categories").valueChanges().pipe(mi(l=>{this.categories$=l})).subscribe(()=>{console.log(this.categories$)}),this.afs.collection("/products").valueChanges().pipe(mi(l=>{this.products=l})).subscribe(()=>{console.log(this.products)})}ngOnInit(){this.isExisting=!1;const n=this.route.snapshot.paramMap.get("id");n&&this.ProductService.getProductWithKey(n).pipe(tj(this.destroy$)).subscribe(r=>{this.isExisting=!0;const i=+n;this.product=r.find(s=>s.id===i)})}save(n){var r=this;return(0,we.Z)(function*(){if(r.isExisting){const i=r.route.snapshot.paramMap.get("id");r.ProductService.update(i,n),yield new Promise(s=>setTimeout(s,1e3)),yield r.router.navigate(["/admin/products"])}else r.ProductService.createProductWithId(n),yield new Promise(i=>setTimeout(i,1e3)),yield r.router.navigate(["/admin/products"])})()}deleteProduct(){if(confirm("Are you sure you want to delete this product?")){const r=this.route.snapshot.paramMap.get("id");this.ProductService.delete(r)}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(IN),Ie(gb),Ie(Ui),Ie(Th),Ie(fh),Ie(xa),Ie(Sf))};static#t=this.\u0275cmp=Vn({type:t,selectors:[["app-products-form"]],decls:44,vars:12,consts:[[1,"row"],[1,"col-md-6"],[3,"ngSubmit"],["f","ngForm"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","title"],["name","title","type","text","id","title","required","",1,"form-control",3,"ngModel","ngModelChange"],["title","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","price"],[1,"input-group"],["type","number","id","price","name","price","required","","min","0",1,"form-control",3,"ngModel","ngModelChange"],["price","ngModel"],[1,"input-group-text"],["for","category"],["id","category","name","category","required","",1,"form-control",3,"ngModel","ngModelChange"],["category","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","imageUrl"],["type","text","id","imageUrl","name","imageUrl","required","","pattern","https?://.+",1,"form-control",3,"ngModel","ngModelChange"],["imageUrl","ngModel"],["type","submit",1,"btn","btn-primary"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["class","card","style","width: 20rem;",4,"ngIf"],["for","id"],["name","id","type","number","id","id","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","ngModel"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],["type","button",1,"btn","btn-danger",3,"click"],[1,"card",2,"width","20rem"],[1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title",2,"color","dodgerblue"],[1,"card-text"]],template:function(r,i){if(1&r){const s=Wf();U(0,"div",0)(1,"div",1)(2,"form",2,3),Mr("ngSubmit",function(){Bu(s);const a=So(3);return Ea(i.save(a.value))}),Zn(4,MEe,6,2,"div",4),U(5,"div",5)(6,"label",6),te(7,"Title"),z(),U(8,"input",7,8),Mr("ngModelChange",function(a){return i.product.title=a}),z(),Zn(10,REe,2,0,"div",9),z(),U(11,"div",5)(12,"label",10),te(13,"Price"),z(),U(14,"div",11)(15,"input",12,13),Mr("ngModelChange",function(a){return i.product.price=a}),z(),U(17,"span",14),te(18,"$"),z()(),Zn(19,kEe,4,3,"div",9),z(),U(20,"div",5)(21,"label",15),te(22,"Category"),z(),U(23,"select",16,17),Mr("ngModelChange",function(a){return i.product.category=a}),Ve(25,"option",18),Zn(26,FEe,2,2,"option",19),z(),Zn(27,LEe,2,0,"div",9),z(),U(28,"div",5)(29,"label",20),te(30,"Image Url"),z(),U(31,"div",11)(32,"span",14),te(33,"http://"),z(),U(34,"input",21,22),Mr("ngModelChange",function(a){return i.product.imageUrl=a}),z()()(),Zn(36,BEe,3,2,"div",9),Ve(37,"br"),U(38,"button",23),te(39,"Save"),z(),te(40,"\n\xa0\n"),Zn(41,jEe,2,0,"button",24),z()(),U(42,"div",1),Zn(43,$Ee,9,7,"div",25),z()()}if(2&r){const s=So(9),o=So(16),a=So(24),u=So(35);Ct(4),Kt("ngIf",!i.isExisting),Ct(4),Kt("ngModel",i.product.title),Ct(2),Kt("ngIf",s.touched&&s.invalid),Ct(5),Kt("ngModel",i.product.price),Ct(4),Kt("ngIf",o.touched&&o.invalid),Ct(4),Kt("ngModel",i.product.category),Ct(3),Kt("ngForOf",i.categories$),Ct(1),Kt("ngIf",a.touched&&a.invalid),Ct(7),Kt("ngModel",i.product.imageUrl),Ct(2),Kt("ngIf",u.touched&&u.invalid),Ct(5),Kt("ngIf",i.isExisting),Ct(2),Kt("ngIf",i.product.title)}},dependencies:[l_,Md,uN,s9,a9,eb,lN,db,LG,YO,hb,gN,pN,aN,Ov,kD],styles:[".row[_ngcontent-%COMP%]{margin:30px;display:flex;flex-direction:rows}"]})}return t})(),E9=(()=>{class t{constructor(n){this.afs=n}create(){const n=new Date,r=`ordertime:${n.getHours()}_${n.getMinutes()}--orderdate:${n.getDate()}_${n.getMonth()+1}_${n.getFullYear()}`;return this.afs.collection("/shopping-carts").doc(r).set({creationDate:n.getTime()}).then(()=>r)}getCart(n){return this.afs.collection("/shopping-carts"+n)}getOrCreateCartId(){var n=this;return(0,we.Z)(function*(){let r=localStorage.getItem("cartId");if(r)return r;let i=yield n.create();return localStorage.setItem("cartId",i),console.log(r),i})()}addToCart(n){var r=this;return(0,we.Z)(function*(){let i=yield r.getOrCreateCartId(),s=r.afs.doc(`/shopping-carts/${i}/items/${n.id}`);s.valueChanges().pipe(sc(1)).subscribe(o=>{o?s.update({quantity:o.quantity+1}):s.set({product:n,quantity:1})})})()}static#e=this.\u0275fac=function(r){return new(r||t)(k(fh))};static#t=this.\u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const HEe=t=>({category:t}),zEe=()=>["active"];function WEe(t,e){if(1&t&&(U(0,"a",3),te(1),z()),2&t){const n=e.$implicit;Kt("queryParams",HS(3,HEe,n.name))("routerLinkActive",Ym(5,zEe)),Ct(1),Hs(n.name)}}let qEe=(()=>{class t{constructor(n){this.CategoriesService=n,this.subscription=new dn}ngOnInit(){this.loadCategories()}loadCategories(){this.subscription.add(this.CategoriesService.getAll().valueChanges().subscribe(n=>{this.categories$=n,console.log(this.categories$)}))}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(IN))};static#t=this.\u0275cmp=Vn({type:t,selectors:[["product-filter"]],inputs:{category:"category"},decls:4,vars:3,consts:[[1,"list-group","fixed-list","sticky-top",2,"padding","5px"],["routerLink","/catalog","aria-selected","false","aria-checked","false","aria-current","false",1,"list-group-item","list-group-item-action",2,"padding","5px"],["class","list-group-item list-group-item-action","aria-current","false","style","padding:10px;","routerLink","/catalog",3,"queryParams","routerLinkActive",4,"ngFor","ngForOf"],["aria-current","false","routerLink","/catalog",1,"list-group-item","list-group-item-action",2,"padding","10px",3,"queryParams","routerLinkActive"]],template:function(r,i){1&r&&(U(0,"div",0)(1,"a",1),te(2,"All Categories"),z(),Zn(3,WEe,2,6,"a",2),z()),2&r&&(Ct(1),Om("active",!i.category),Ct(2),Kt("ngForOf",i.categories$))},dependencies:[l_,Ud,rP],styles:[".sticky-top[_ngcontent-%COMP%]{top:130px}@media screen and (max-width: 524px){.fixed-list[_ngcontent-%COMP%]{position:fixed;width:35vw;overflow-x:auto}.sticky-top[_ngcontent-%COMP%]{top:123px!important}.list-group-item-action[_ngcontent-%COMP%]{width:35% row!important}}@media screen and (max-width: 476px){.sticky-top[_ngcontent-%COMP%]{top:152px!important}}@media screen and (max-width: 370px){.sticky-top[_ngcontent-%COMP%]{top:178px!important;padding:10px!important}}@media screen and (max-width: 314px){.sticky-top[_ngcontent-%COMP%]{top:211px!important}}"]})}return t})();function GEe(t,e){1&t&&Ve(0,"div",24)}function KEe(t,e){if(1&t){const n=Wf();EE(0,9),U(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"div",14),Ve(6,"img",15),z(),Ve(7,"hr"),U(8,"ul",16)(9,"li")(10,"a",17)(11,"img",18),Mr("click",function(){const s=Bu(n).$implicit;return Ea(Da().addToCart(s))}),z()()()(),Ve(12,"hr")(13,"hr"),U(14,"div",19)(15,"div",20)(16,"h2",21),te(17),z(),U(18,"div",22),te(19),Sd(20,"currency"),z()()()()()()(),Zn(21,GEe,1,0,"div",23),CE()}if(2&t){const n=e.$implicit,r=e.index;Ct(6),Kt("src",n.imageUrl,Cm),Ct(11),Hs(n.title),Ct(2),Qm(" ",zS(20,4,n.price,"USD",!0)," "),Ct(2),Kt("ngIf",(r+1)%3==0)}}let C9=(()=>{class t{constructor(n,r,i,s,o){this.ProductService=n,this.db=r,this.route=i,this.afs=s,this.cartService=o,this.isToggled=!1,this.products=[],this.filteredProducts=[],this.subscription=new dn}ngOnInit(){this.loadProducts()}loadProducts(){this.subscription.add(this.ProductService.getAll().valueChanges().pipe(De(n=>n),xr(n=>(this.products=n,console.log(this.products),this.route.queryParamMap)),De(n=>{this.category=n.get("category"),console.log(this.category),this.filteredProducts=this.category?this.products.filter(r=>r.category===this.category):this.products})).subscribe())}toggle(){this.isToggled=!this.isToggled,this.isToggled?document.querySelector(".btn").setAttribute("style","transform: rotate(90deg); transition: transform 0.3s ease-in-out;"):document.querySelector(".btn").setAttribute("style","transform: rotate(0deg); transition: transform 0.3s ease-in-out;")}addToCart(n){this.cartService.addToCart(n)}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(gb),Ie(Th),Ie(xa),Ie(fh),Ie(E9))};static#t=this.\u0275cmp=Vn({type:t,selectors:[["app-catalog"]],decls:15,vars:5,consts:[[1,"row"],[1,"col-3"],[1,"sticky-top","fixed-list"],["type","button","title","categories",1,"btn",2,"margin","10px","padding-right","10px",3,"click"],["src","assets/menu.webp","alt","",2,"width","40px"],[1,"badge","bg-primary",3,"hidden"],[3,"category","hidden"],[1,"col"],["style","padding:20px;margin:20px;justify-content: center; justify-items: center;",4,"ngFor","ngForOf"],[2,"padding","20px","margin","20px","justify-content","center","justify-items","center"],[1,"col",2,"padding","10px","margin","10px"],[1,"container"],[1,"profile-wrapper"],[1,"profile"],[1,"profile-image"],["alt","product",1,"card-img-top",3,"src"],[1,"social-icons"],["title","Add to Cart"],["src","assets/kart.png","width","40","height","40",1,"bi","me-2","rounded-circle",3,"click"],[2,"background","gainsboro"],[1,"profile-name"],[2,"color","dodgerblue"],[1,"profile-bio"],["class","w-100",4,"ngIf"],[1,"w-100"]],template:function(r,i){1&r&&(Ve(0,"br"),U(1,"div",0)(2,"div",1)(3,"div",2)(4,"button",3),Mr("click",function(){return i.toggle()}),Ve(5,"img",4),z(),U(6,"span",5),te(7),z()(),Ve(8,"product-filter",6),z(),U(9,"div",7)(10,"div",0),Ve(11,"br"),Zn(12,KEe,22,8,"ng-container",8),z()()(),Ve(13,"br")(14,"br")),2&r&&(Ct(6),Kt("hidden",!i.isToggled),Ct(1),Hs(i.filteredProducts.length),Ct(1),Kt("category",i.category)("hidden",!i.isToggled),Ct(4),Kt("ngForOf",i.filteredProducts))},dependencies:[l_,Md,qEe,kD],styles:["[_ngcontent-%COMP%]:root{--background: #2C2C2C}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{background-color:#dcdcdc;display:grid;height:100vh;margin:0;font-size:16px;font-family:Red Hat Display,sans-serif}.container[_ngcontent-%COMP%]{margin:auto}.profile-wrapper[_ngcontent-%COMP%]{width:22rem;height:28rem;position:relative}.profile[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative;width:22rem;height:28rem;border-radius:1rem;overflow:hidden;box-shadow:0 5px 18px #0009;cursor:pointer;transition:.5s}.profile[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;background-color:var(--background);transition:.5s}.profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.profile[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.4;transition:.5s}.profile[_ngcontent-%COMP%]:hover   .profile-image[_ngcontent-%COMP%]{transform:translateY(-104px);transition:all .9s}.profile[_ngcontent-%COMP%]:hover   .profile-bio[_ngcontent-%COMP%]{opacity:.9}.social-icons[_ngcontent-%COMP%]{position:absolute;display:flex;gap:.75rem;z-index:3;bottom:10.125rem}.social-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.social-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block;display:grid;place-items:center;background:#fff;font-size:23px;font-weight:700;width:3rem;height:3rem;border:1px solid #CDCDCD;border-radius:.5rem;transition:.2s;transform:translateY(2rem);opacity:0}.social-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:rgb(240,229,169);transition:.2s}.social-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{color:var(--background);transition:.2s}.social-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{color:#fff;transition:.8s}.profile[_ngcontent-%COMP%]:hover   .social-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{opacity:1}.profile[_ngcontent-%COMP%]:hover   li[_ngcontent-%COMP%]:nth-child(1)   a[_ngcontent-%COMP%]{transition-delay:.1s}.profile[_ngcontent-%COMP%]:hover   li[_ngcontent-%COMP%]:nth-child(2)   a[_ngcontent-%COMP%]{transition-delay:.2s}.profile[_ngcontent-%COMP%]:hover   li[_ngcontent-%COMP%]:nth-child(3)   a[_ngcontent-%COMP%]{transition-delay:.3s}.profile[_ngcontent-%COMP%]:hover   li[_ngcontent-%COMP%]:nth-child(4)   a[_ngcontent-%COMP%]{transition-delay:.4s}.profile-name[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;z-index:4;width:100%;height:7rem;padding:.75rem .875rem;z-index:1;color:#333;background-color:#f0ecec;text-align:left}.profile[_ngcontent-%COMP%]:hover   .profile-name[_ngcontent-%COMP%]{background-color:#fff}.profile-name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem}.fixed-list[_ngcontent-%COMP%]{position:fixed;overflow-y:auto}.sticky-top[_ngcontent-%COMP%]{top:70px;padding:10px;overflow:hidden}@media screen and (max-width: 524px){.profile-wrapper[_ngcontent-%COMP%]{right:-12%!important}}@media screen and (max-width: 476px){.sticky-top[_ngcontent-%COMP%]{top:101px!important}.profile-wrapper[_ngcontent-%COMP%]{right:-8%!important}}@media screen and (max-width: 395px){.profile-wrapper[_ngcontent-%COMP%]{right:-2%!important}}@media screen and (max-width: 370px){.sticky-top[_ngcontent-%COMP%]{top:117px!important;padding:10px!important}*[_ngcontent-%COMP%]{padding:0%!important;margin:0%!important;margin-bottom:.5rem!important}.profile[_ngcontent-%COMP%], .profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-image[_ngcontent-%COMP%], .profile-wrapper[_ngcontent-%COMP%]{overflow:-moz-hidden-unscrollable;width:100vw}}@media screen and (max-width: 314px){.sticky-top[_ngcontent-%COMP%]{top:162px!important}}@media screen and (max-width: 300px){.profile-wrapper[_ngcontent-%COMP%]{right:-2%!important}}span[_ngcontent-%COMP%]{position:relative;left:4%;justify-content:center;font-size:24px;border-radius:6%;width:89px;height:33px}"]})}return t})();const bN=()=>y9(["login"]),mb=()=>y9(["/"]),ZEe=[{path:"",component:Ywe},{path:"shopping-cart",component:fEe},{path:"catalog/category:id",component:C9},{path:"catalog",component:C9},{path:"manage-products",component:cEe},{path:"login",component:_Ee,canActivate:[xg],data:{authGuardPipe:()=>(t=>Dr(_9,De(e=>e&&t||!0)))(["/"])}},{path:"admin/orders",component:AEe,canActivate:[zc,Og,xg],data:{authGuardPipe:mb}},{path:"admin/products/new",component:w9,canActivate:[zc,Og,xg],data:{authGuardPipe:mb}},{path:"admin/products/:id",component:w9,canActivate:[zc,Og,xg],data:{authGuardPipe:mb}},{path:"admin/products",component:DEe,canActivate:[zc,Og,xg],data:{authGuardPipe:mb}},{path:"check-out",component:pEe,canActivate:[zc],data:{authGuardPipe:bN}},{path:"order-success",component:gEe,canActivate:[zc],data:{authGuardPipe:bN}},{path:"my-orders",component:dEe,canActivate:[zc],data:{authGuardPipe:bN}},{path:"no-access",component:hEe},{path:"**",redirectTo:""}];let QEe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kn({type:t});static#n=this.\u0275inj=tr({imports:[oP.forRoot(ZEe),oP]})}return t})();const TN=()=>["active"];function YEe(t,e){1&t&&(U(0,"li",2)(1,"button",19)(2,"a",7),Ve(3,"img",20),z(),te(4,"Login"),z()()),2&t&&(Ct(1),Kt("routerLinkActive",Ym(1,TN)))}function XEe(t,e){if(1&t&&(U(0,"a",21),te(1),z()),2&t){const n=e.ngIf;Ct(1),Hs(n.displayName?n.displayName:"User")}}function JEe(t,e){1&t&&(U(0,"li")(1,"a",22),te(2,"manage Orders"),z()())}function eCe(t,e){1&t&&(U(0,"li")(1,"a",23),te(2,"manage Products"),z()())}function tCe(t,e){if(1&t&&Ve(0,"img",24),2&t){const n=e.ngIf;DE("src",n.photoURL,Cm),DE("alt",n.displayName)}}let nCe=(()=>{class t{constructor(n,r){this.authService=n,this.adminguard=r,this.user$=this.authService.theUser$,this.isadmin$=this.adminguard.canActivate()}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(Rg),Ie(Og))};static#t=this.\u0275cmp=Vn({type:t,selectors:[["navbar"]],decls:32,vars:17,consts:[[1,"drop","sticky-top"],["id","pillNav2","role","tablist",1,"nav","nav-pills","nav-fill","gap-2","p-1","small","bg-warning","rounded-5","shadow-sm",2,"--bs-nav-link-color","var(--bs-white)","--bs-nav-pills-link-active-color","var(--bs-primary)","--bs-nav-pills-link-active-bg","var(--bs-white)"],["role","presentation",1,"nav-item"],["id","home-tab2","data-bs-toggle","tab","type","button","role","tab","aria-selected","false","routerLink","/",1,"nav-link","rounded-5",3,"routerLinkActive"],["routerLink","/",1,"navbar-brand"],["src","assets/logo.png","width","35","height","35",1,"bi","me-2","rounded-circle"],["id","home-tab2","data-bs-toggle","tab","type","button","role","tab","aria-selected","false","routerLink","/catalog",1,"nav-link","rounded-5",3,"routerLinkActive"],[1,"navbar-brand"],["src","assets/kart.png","width","35","height","35",1,"bi","me-2","rounded-circle"],["anonymousUser",""],["role","presentation",1,"nav-item","dropdown"],["class","nav-link dropdown-toggle drop","data-bs-toggle","dropdown","role","button","aria-expanded","true",4,"ngIf","ngIfElse"],[1,"dropdown-menu"],["role","presentation"],["routerLink","/my-orders",1,"dropdown-item"],[4,"ngIf"],[1,"dropdown-divider"],["role","presentation",1,"dropdown-item",3,"click"],["class","bi me-2 rounded-circle","width","40","height","40",3,"src","alt",4,"ngIf"],["id","home-tab2","data-bs-toggle","tab","type","button","role","tab","aria-selected","false","routerLink","/login",1,"nav-link","rounded-5",3,"routerLinkActive"],["src","assets/login.png","width","35","height","35",1,"bi","me-2","rounded-circle"],["data-bs-toggle","dropdown","role","button","aria-expanded","true",1,"nav-link","dropdown-toggle","drop"],["role","presentation","routerLink","/admin/orders",1,"dropdown-item"],["role","presentation","routerLink","/admin/products",1,"dropdown-item"],["width","40","height","40",1,"bi","me-2","rounded-circle",3,"src","alt"]],template:function(r,i){if(1&r&&(U(0,"div",0)(1,"ul",1)(2,"li",2)(3,"button",3)(4,"a",4),Ve(5,"img",5),z(),te(6,"ESHOP"),z()(),U(7,"li",2)(8,"button",6)(9,"a",7),Ve(10,"img",8),z(),te(11,"Products Catalog"),z()(),Zn(12,YEe,5,2,"ng-template",null,9,$V),U(14,"li",10),Zn(15,XEe,2,1,"a",11),Sd(16,"async"),U(17,"ul",12)(18,"li",13)(19,"a",14),te(20,"my-orders"),z()(),Zn(21,JEe,3,0,"li",15),Sd(22,"async"),Zn(23,eCe,3,0,"li",15),Sd(24,"async"),U(25,"li"),Ve(26,"hr",16),z(),U(27,"li")(28,"a",17),Mr("click",function(){return i.authService.logout()}),te(29,"logout"),z()()()(),Zn(30,tCe,1,2,"img",18),Sd(31,"async"),z()()),2&r){const s=So(13);Ct(3),Kt("routerLinkActive",Ym(15,TN)),Ct(5),Kt("routerLinkActive",Ym(16,TN)),Ct(7),Kt("ngIf",Jm(16,7,i.user$))("ngIfElse",s),Ct(6),Kt("ngIf",Jm(22,9,i.isadmin$)),Ct(2),Kt("ngIf",Jm(24,11,i.isadmin$)),Ct(7),Kt("ngIf",Jm(31,13,i.user$))}},dependencies:[Md,Ud,rP,cU],styles:[".drop[_ngcontent-%COMP%]{display:flexbox;justify-content:space-around!important;justify-items:center}"]})}return t})(),rCe=(()=>{class t{constructor(n,r){this.router=n,this.auth=r,r.theUser$.subscribe(i=>{i&&(this.auth.saveUser(i),this.auth.SetUserData(i))})}static#e=this.\u0275fac=function(r){return new(r||t)(Ie(Ui),Ie(Rg))};static#t=this.\u0275cmp=Vn({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&Ve(0,"navbar")(1,"router-outlet")},dependencies:[GA,nCe]})}return t})(),iCe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kn({type:t,bootstrap:[rCe]});static#n=this.\u0275inj=tr({providers:[Rg,zc,Og,IN,gb,E9],imports:[PU,cre,QEe,cse,oP,due.initializeApp(qae_firebaseConfig),mue,Bge,oce,Qve,Wwe,VD,Kwe]})}return t})();fne().bootstrapModule(iCe).catch(t=>console.error(t))},276:function(cs,Lr){var L;!function(X,Y){"use strict";"object"==typeof cs.exports?cs.exports=X.document?Y(X,!0):function(He){if(!He.document)throw new Error("jQuery requires a window with a document");return Y(He)}:Y(X)}(typeof window<"u"?window:this,function(X,Y){"use strict";var He=[],$n=Object.getPrototypeOf,lt=He.slice,Er=He.flat?function(d){return He.flat.call(d)}:function(d){return He.concat.apply([],d)},Dn=He.push,nn=He.indexOf,Te={},Re=Te.toString,tt=Te.hasOwnProperty,Pt=tt.toString,an=Pt.call(Object),it={},We=function(g){return"function"==typeof g&&"number"!=typeof g.nodeType&&"function"!=typeof g.item},St=function(g){return null!=g&&g===g.window},Ue=X.document,Cr={type:!0,src:!0,nonce:!0,noModule:!0};function or(d,g,v){var w,b,T=(v=v||Ue).createElement("script");if(T.text=d,g)for(w in Cr)(b=g[w]||g.getAttribute&&g.getAttribute(w))&&T.setAttribute(w,b);v.head.appendChild(T).parentNode.removeChild(T)}function kt(d){return null==d?d+"":"object"==typeof d||"function"==typeof d?Te[Re.call(d)]||"object":typeof d}var ni=/HTML$/i,E=function(d,g){return new E.fn.init(d,g)};function zt(d){var g=!!d&&"length"in d&&d.length,v=kt(d);return!We(d)&&!St(d)&&("array"===v||0===g||"number"==typeof g&&g>0&&g-1 in d)}function ye(d,g){return d.nodeName&&d.nodeName.toLowerCase()===g.toLowerCase()}E.fn=E.prototype={jquery:"3.7.1",constructor:E,length:0,toArray:function(){return lt.call(this)},get:function(d){return null==d?lt.call(this):d<0?this[d+this.length]:this[d]},pushStack:function(d){var g=E.merge(this.constructor(),d);return g.prevObject=this,g},each:function(d){return E.each(this,d)},map:function(d){return this.pushStack(E.map(this,function(g,v){return d.call(g,v,g)}))},slice:function(){return this.pushStack(lt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(d,g){return(g+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(d,g){return g%2}))},eq:function(d){var g=this.length,v=+d+(d<0?g:0);return this.pushStack(v>=0&&v<g?[this[v]]:[])},end:function(){return this.prevObject||this.constructor()},push:Dn,sort:He.sort,splice:He.splice},E.extend=E.fn.extend=function(){var d,g,v,w,b,T,D=arguments[0]||{},H=1,V=arguments.length,Q=!1;for("boolean"==typeof D&&(Q=D,D=arguments[H]||{},H++),"object"!=typeof D&&!We(D)&&(D={}),H===V&&(D=this,H--);H<V;H++)if(null!=(d=arguments[H]))for(g in d)w=d[g],"__proto__"!==g&&D!==w&&(Q&&w&&(E.isPlainObject(w)||(b=Array.isArray(w)))?(v=D[g],T=b&&!Array.isArray(v)?[]:b||E.isPlainObject(v)?v:{},b=!1,D[g]=E.extend(Q,T,w)):void 0!==w&&(D[g]=w));return D},E.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(d){throw new Error(d)},noop:function(){},isPlainObject:function(d){var g,v;return!(!d||"[object Object]"!==Re.call(d)||(g=$n(d))&&("function"!=typeof(v=tt.call(g,"constructor")&&g.constructor)||Pt.call(v)!==an))},isEmptyObject:function(d){var g;for(g in d)return!1;return!0},globalEval:function(d,g,v){or(d,{nonce:g&&g.nonce},v)},each:function(d,g){var v,w=0;if(zt(d))for(v=d.length;w<v&&!1!==g.call(d[w],w,d[w]);w++);else for(w in d)if(!1===g.call(d[w],w,d[w]))break;return d},text:function(d){var g,v="",w=0,b=d.nodeType;if(!b)for(;g=d[w++];)v+=E.text(g);return 1===b||11===b?d.textContent:9===b?d.documentElement.textContent:3===b||4===b?d.nodeValue:v},makeArray:function(d,g){var v=g||[];return null!=d&&(zt(Object(d))?E.merge(v,"string"==typeof d?[d]:d):Dn.call(v,d)),v},inArray:function(d,g,v){return null==g?-1:nn.call(g,d,v)},isXMLDoc:function(d){var v=d&&(d.ownerDocument||d).documentElement;return!ni.test(d&&d.namespaceURI||v&&v.nodeName||"HTML")},merge:function(d,g){for(var v=+g.length,w=0,b=d.length;w<v;w++)d[b++]=g[w];return d.length=b,d},grep:function(d,g,v){for(var b=[],T=0,D=d.length,H=!v;T<D;T++)!g(d[T],T)!==H&&b.push(d[T]);return b},map:function(d,g,v){var w,b,T=0,D=[];if(zt(d))for(w=d.length;T<w;T++)null!=(b=g(d[T],T,v))&&D.push(b);else for(T in d)null!=(b=g(d[T],T,v))&&D.push(b);return Er(D)},guid:1,support:it}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=He[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(d,g){Te["[object "+g+"]"]=g.toLowerCase()});var gn=He.pop,qn=He.sort,Ir=He.splice,$t="[\\x20\\t\\r\\n\\f]",xi=new RegExp("^"+$t+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$t+"+$","g");E.contains=function(d,g){var v=g&&g.parentNode;return d===v||!(!v||1!==v.nodeType||!(d.contains?d.contains(v):d.compareDocumentPosition&&16&d.compareDocumentPosition(v)))};var xs=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Vr(d,g){return g?"\0"===d?"\ufffd":d.slice(0,-1)+"\\"+d.charCodeAt(d.length-1).toString(16)+" ":"\\"+d}E.escapeSelector=function(d){return(d+"").replace(xs,Vr)};var pr=Ue,Oi=Dn;!function(){var d,g,v,w,b,D,H,V,Q,ce,T=Oi,Ee=E.expando,k=0,ke=0,_e=Wa(),Jt=Wa(),Tt=Wa(),gr=Wa(),ar=function(F,K){return F===K&&(b=!0),0},ro="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Vs="(?:\\\\[\\da-fA-F]{1,6}"+$t+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Dt="\\["+$t+"*("+Vs+")(?:"+$t+"*([*^$|!~]?=)"+$t+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Vs+"))|)"+$t+"*\\]",mr=":("+Vs+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Dt+")*)|.*)\\)|)",Nt=new RegExp($t+"+","g"),En=new RegExp("^"+$t+"*,"+$t+"*"),Qt=new RegExp("^"+$t+"*([>+~]|"+$t+")"+$t+"*"),ga=new RegExp($t+"|>"),Xi=new RegExp(mr),ma=new RegExp("^"+Vs+"$"),Us={ID:new RegExp("^#("+Vs+")"),CLASS:new RegExp("^\\.("+Vs+")"),TAG:new RegExp("^("+Vs+"|[*])"),ATTR:new RegExp("^"+Dt),PSEUDO:new RegExp("^"+mr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$t+"*(even|odd|(([+-]|)(\\d*)n|)"+$t+"*(?:([+-]|)"+$t+"*(\\d+)|))"+$t+"*\\)|)","i"),bool:new RegExp("^(?:"+ro+")$","i"),needsContext:new RegExp("^"+$t+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$t+"*((?:-\\d)?\\d*)"+$t+"*\\)|)(?=[^-]|$)","i")},Li=/^(?:input|select|textarea|button)$/i,Bs=/^h\d$/i,Ci=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,za=/[+~]/,_s=new RegExp("\\\\[\\da-fA-F]{1,6}"+$t+"?|\\\\([^\\r\\n\\f])","g"),io=function(F,K){var oe="0x"+F.slice(1)-65536;return K||(oe<0?String.fromCharCode(oe+65536):String.fromCharCode(oe>>10|55296,1023&oe|56320))},ed=function(){Vn()},ys=zo(function(F){return!0===F.disabled&&ye(F,"fieldset")},{dir:"parentNode",next:"legend"});try{T.apply(He=lt.call(pr.childNodes),pr.childNodes)}catch{T={apply:function(K,oe){Oi.apply(K,lt.call(oe))},call:function(K){Oi.apply(K,lt.call(arguments,1))}}}function hn(F,K,oe,de){var fe,ne,ve,Be,je,yt,ot,vt=K&&K.ownerDocument,rt=K?K.nodeType:9;if(oe=oe||[],"string"!=typeof F||!F||1!==rt&&9!==rt&&11!==rt)return oe;if(!de&&(Vn(K),K=K||D,V)){if(11!==rt&&(je=Ci.exec(F)))if(fe=je[1]){if(9===rt){if(!(ve=K.getElementById(fe)))return oe;if(ve.id===fe)return T.call(oe,ve),oe}else if(vt&&(ve=vt.getElementById(fe))&&hn.contains(K,ve)&&ve.id===fe)return T.call(oe,ve),oe}else{if(je[2])return T.apply(oe,K.getElementsByTagName(F)),oe;if((fe=je[3])&&K.getElementsByClassName)return T.apply(oe,K.getElementsByClassName(fe)),oe}if(!(gr[F+" "]||Q&&Q.test(F))){if(ot=F,vt=K,1===rt&&(ga.test(F)||Qt.test(F))){for(((vt=za.test(F)&&nd(K.parentNode)||K)!=K||!it.scope)&&((Be=K.getAttribute("id"))?Be=E.escapeSelector(Be):K.setAttribute("id",Be=Ee)),ne=(yt=_a(F)).length;ne--;)yt[ne]=(Be?"#"+Be:":scope")+" "+Kn(yt[ne]);ot=yt.join(",")}try{return T.apply(oe,vt.querySelectorAll(ot)),oe}catch{gr(F,!0)}finally{Be===Ee&&K.removeAttribute("id")}}}return Fu(F.replace(xi,"$1"),K,oe,de)}function Wa(){var F=[];return function K(oe,de){return F.push(oe+" ")>g.cacheLength&&delete K[F.shift()],K[oe+" "]=de}}function vs(F){return F[Ee]=!0,F}function Ho(F){var K=D.createElement("fieldset");try{return!!F(K)}catch{return!1}finally{K.parentNode&&K.parentNode.removeChild(K),K=null}}function zh(F){return function(K){return ye(K,"input")&&K.type===F}}function bl(F){return function(K){return(ye(K,"input")||ye(K,"button"))&&K.type===F}}function Wh(F){return function(K){return"form"in K?K.parentNode&&!1===K.disabled?"label"in K?"label"in K.parentNode?K.parentNode.disabled===F:K.disabled===F:K.isDisabled===F||K.isDisabled!==!F&&ys(K)===F:K.disabled===F:"label"in K&&K.disabled===F}}function wo(F){return vs(function(K){return K=+K,vs(function(oe,de){for(var fe,ne=F([],oe.length,K),ve=ne.length;ve--;)oe[fe=ne[ve]]&&(oe[fe]=!(de[fe]=oe[fe]))})})}function nd(F){return F&&typeof F.getElementsByTagName<"u"&&F}function Vn(F){var K,oe=F?F.ownerDocument||F:pr;return oe==D||9!==oe.nodeType||!oe.documentElement||(H=(D=oe).documentElement,V=!E.isXMLDoc(D),ce=H.matches||H.webkitMatchesSelector||H.msMatchesSelector,H.msMatchesSelector&&pr!=D&&(K=D.defaultView)&&K.top!==K&&K.addEventListener("unload",ed),it.getById=Ho(function(de){return H.appendChild(de).id=E.expando,!D.getElementsByName||!D.getElementsByName(E.expando).length}),it.disconnectedMatch=Ho(function(de){return ce.call(de,"*")}),it.scope=Ho(function(){return D.querySelectorAll(":scope")}),it.cssHas=Ho(function(){try{return D.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),it.getById?(g.filter.ID=function(de){var fe=de.replace(_s,io);return function(ne){return ne.getAttribute("id")===fe}},g.find.ID=function(de,fe){if(typeof fe.getElementById<"u"&&V){var ne=fe.getElementById(de);return ne?[ne]:[]}}):(g.filter.ID=function(de){var fe=de.replace(_s,io);return function(ne){var ve=typeof ne.getAttributeNode<"u"&&ne.getAttributeNode("id");return ve&&ve.value===fe}},g.find.ID=function(de,fe){if(typeof fe.getElementById<"u"&&V){var ne,ve,Be,je=fe.getElementById(de);if(je){if((ne=je.getAttributeNode("id"))&&ne.value===de)return[je];for(Be=fe.getElementsByName(de),ve=0;je=Be[ve++];)if((ne=je.getAttributeNode("id"))&&ne.value===de)return[je]}return[]}}),g.find.TAG=function(de,fe){return typeof fe.getElementsByTagName<"u"?fe.getElementsByTagName(de):fe.querySelectorAll(de)},g.find.CLASS=function(de,fe){if(typeof fe.getElementsByClassName<"u"&&V)return fe.getElementsByClassName(de)},Q=[],Ho(function(de){var fe;H.appendChild(de).innerHTML="<a id='"+Ee+"' href='' disabled='disabled'></a><select id='"+Ee+"-\r\\' disabled='disabled'><option selected=''></option></select>",de.querySelectorAll("[selected]").length||Q.push("\\["+$t+"*(?:value|"+ro+")"),de.querySelectorAll("[id~="+Ee+"-]").length||Q.push("~="),de.querySelectorAll("a#"+Ee+"+*").length||Q.push(".#.+[+~]"),de.querySelectorAll(":checked").length||Q.push(":checked"),(fe=D.createElement("input")).setAttribute("type","hidden"),de.appendChild(fe).setAttribute("name","D"),H.appendChild(de).disabled=!0,2!==de.querySelectorAll(":disabled").length&&Q.push(":enabled",":disabled"),(fe=D.createElement("input")).setAttribute("name",""),de.appendChild(fe),de.querySelectorAll("[name='']").length||Q.push("\\["+$t+"*name"+$t+"*="+$t+"*(?:''|\"\")")}),it.cssHas||Q.push(":has"),Q=Q.length&&new RegExp(Q.join("|")),ar=function(de,fe){if(de===fe)return b=!0,0;var ne=!de.compareDocumentPosition-!fe.compareDocumentPosition;return ne||(1&(ne=(de.ownerDocument||de)==(fe.ownerDocument||fe)?de.compareDocumentPosition(fe):1)||!it.sortDetached&&fe.compareDocumentPosition(de)===ne?de===D||de.ownerDocument==pr&&hn.contains(pr,de)?-1:fe===D||fe.ownerDocument==pr&&hn.contains(pr,fe)?1:w?nn.call(w,de)-nn.call(w,fe):0:4&ne?-1:1)}),D}for(d in hn.matches=function(F,K){return hn(F,null,null,K)},hn.matchesSelector=function(F,K){if(Vn(F),V&&!gr[K+" "]&&(!Q||!Q.test(K)))try{var oe=ce.call(F,K);if(oe||it.disconnectedMatch||F.document&&11!==F.document.nodeType)return oe}catch{gr(K,!0)}return hn(K,D,null,[F]).length>0},hn.contains=function(F,K){return(F.ownerDocument||F)!=D&&Vn(F),E.contains(F,K)},hn.attr=function(F,K){(F.ownerDocument||F)!=D&&Vn(F);var oe=g.attrHandle[K.toLowerCase()],de=oe&&tt.call(g.attrHandle,K.toLowerCase())?oe(F,K,!V):void 0;return void 0!==de?de:F.getAttribute(K)},hn.error=function(F){throw new Error("Syntax error, unrecognized expression: "+F)},E.uniqueSort=function(F){var K,oe=[],de=0,fe=0;if(b=!it.sortStable,w=!it.sortStable&&lt.call(F,0),qn.call(F,ar),b){for(;K=F[fe++];)K===F[fe]&&(de=oe.push(fe));for(;de--;)Ir.call(F,oe[de],1)}return w=null,F},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(lt.apply(this)))},(g=E.expr={cacheLength:50,createPseudo:vs,match:Us,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(F){return F[1]=F[1].replace(_s,io),F[3]=(F[3]||F[4]||F[5]||"").replace(_s,io),"~="===F[2]&&(F[3]=" "+F[3]+" "),F.slice(0,4)},CHILD:function(F){return F[1]=F[1].toLowerCase(),"nth"===F[1].slice(0,3)?(F[3]||hn.error(F[0]),F[4]=+(F[4]?F[5]+(F[6]||1):2*("even"===F[3]||"odd"===F[3])),F[5]=+(F[7]+F[8]||"odd"===F[3])):F[3]&&hn.error(F[0]),F},PSEUDO:function(F){var K,oe=!F[6]&&F[2];return Us.CHILD.test(F[0])?null:(F[3]?F[2]=F[4]||F[5]||"":oe&&Xi.test(oe)&&(K=_a(oe,!0))&&(K=oe.indexOf(")",oe.length-K)-oe.length)&&(F[0]=F[0].slice(0,K),F[2]=oe.slice(0,K)),F.slice(0,3))}},filter:{TAG:function(F){var K=F.replace(_s,io).toLowerCase();return"*"===F?function(){return!0}:function(oe){return ye(oe,K)}},CLASS:function(F){var K=_e[F+" "];return K||(K=new RegExp("(^|"+$t+")"+F+"("+$t+"|$)"))&&_e(F,function(oe){return K.test("string"==typeof oe.className&&oe.className||typeof oe.getAttribute<"u"&&oe.getAttribute("class")||"")})},ATTR:function(F,K,oe){return function(de){var fe=hn.attr(de,F);return null==fe?"!="===K:!K||(fe+="","="===K?fe===oe:"!="===K?fe!==oe:"^="===K?oe&&0===fe.indexOf(oe):"*="===K?oe&&fe.indexOf(oe)>-1:"$="===K?oe&&fe.slice(-oe.length)===oe:"~="===K?(" "+fe.replace(Nt," ")+" ").indexOf(oe)>-1:"|="===K&&(fe===oe||fe.slice(0,oe.length+1)===oe+"-"))}},CHILD:function(F,K,oe,de,fe){var ne="nth"!==F.slice(0,3),ve="last"!==F.slice(-4),Be="of-type"===K;return 1===de&&0===fe?function(je){return!!je.parentNode}:function(je,yt,ot){var vt,rt,Qe,ln,st,Pr=ne!==ve?"nextSibling":"previousSibling",Ii=je.parentNode,bi=Be&&je.nodeName.toLowerCase(),bn=!ot&&!Be,Br=!1;if(Ii){if(ne){for(;Pr;){for(Qe=je;Qe=Qe[Pr];)if(Be?ye(Qe,bi):1===Qe.nodeType)return!1;st=Pr="only"===F&&!st&&"nextSibling"}return!0}if(st=[ve?Ii.firstChild:Ii.lastChild],ve&&bn){for(Br=(ln=(vt=(rt=Ii[Ee]||(Ii[Ee]={}))[F]||[])[0]===k&&vt[1])&&vt[2],Qe=ln&&Ii.childNodes[ln];Qe=++ln&&Qe&&Qe[Pr]||(Br=ln=0)||st.pop();)if(1===Qe.nodeType&&++Br&&Qe===je){rt[F]=[k,ln,Br];break}}else if(bn&&(Br=ln=(vt=(rt=je[Ee]||(je[Ee]={}))[F]||[])[0]===k&&vt[1]),!1===Br)for(;(Qe=++ln&&Qe&&Qe[Pr]||(Br=ln=0)||st.pop())&&(!(Be?ye(Qe,bi):1===Qe.nodeType)||!++Br||(bn&&((rt=Qe[Ee]||(Qe[Ee]={}))[F]=[k,Br]),Qe!==je)););return(Br-=fe)===de||Br%de==0&&Br/de>=0}}},PSEUDO:function(F,K){var oe,de=g.pseudos[F]||g.setFilters[F.toLowerCase()]||hn.error("unsupported pseudo: "+F);return de[Ee]?de(K):de.length>1?(oe=[F,F,"",K],g.setFilters.hasOwnProperty(F.toLowerCase())?vs(function(fe,ne){for(var ve,Be=de(fe,K),je=Be.length;je--;)fe[ve=nn.call(fe,Be[je])]=!(ne[ve]=Be[je])}):function(fe){return de(fe,0,oe)}):de}},pseudos:{not:vs(function(F){var K=[],oe=[],de=Kr(F.replace(xi,"$1"));return de[Ee]?vs(function(fe,ne,ve,Be){for(var je,yt=de(fe,null,Be,[]),ot=fe.length;ot--;)(je=yt[ot])&&(fe[ot]=!(ne[ot]=je))}):function(fe,ne,ve){return K[0]=fe,de(K,null,ve,oe),K[0]=null,!oe.pop()}}),has:vs(function(F){return function(K){return hn(F,K).length>0}}),contains:vs(function(F){return F=F.replace(_s,io),function(K){return(K.textContent||E.text(K)).indexOf(F)>-1}}),lang:vs(function(F){return ma.test(F||"")||hn.error("unsupported lang: "+F),F=F.replace(_s,io).toLowerCase(),function(K){var oe;do{if(oe=V?K.lang:K.getAttribute("xml:lang")||K.getAttribute("lang"))return(oe=oe.toLowerCase())===F||0===oe.indexOf(F+"-")}while((K=K.parentNode)&&1===K.nodeType);return!1}}),target:function(F){var K=X.location&&X.location.hash;return K&&K.slice(1)===F.id},root:function(F){return F===H},focus:function(F){return F===function td(){try{return D.activeElement}catch{}}()&&D.hasFocus()&&!!(F.type||F.href||~F.tabIndex)},enabled:Wh(!1),disabled:Wh(!0),checked:function(F){return ye(F,"input")&&!!F.checked||ye(F,"option")&&!!F.selected},selected:function(F){return!0===F.selected},empty:function(F){for(F=F.firstChild;F;F=F.nextSibling)if(F.nodeType<6)return!1;return!0},parent:function(F){return!g.pseudos.empty(F)},header:function(F){return Bs.test(F.nodeName)},input:function(F){return Li.test(F.nodeName)},button:function(F){return ye(F,"input")&&"button"===F.type||ye(F,"button")},text:function(F){var K;return ye(F,"input")&&"text"===F.type&&(null==(K=F.getAttribute("type"))||"text"===K.toLowerCase())},first:wo(function(){return[0]}),last:wo(function(F,K){return[K-1]}),eq:wo(function(F,K,oe){return[oe<0?oe+K:oe]}),even:wo(function(F,K){for(var oe=0;oe<K;oe+=2)F.push(oe);return F}),odd:wo(function(F,K){for(var oe=1;oe<K;oe+=2)F.push(oe);return F}),lt:wo(function(F,K,oe){var de;for(de=oe<0?oe+K:oe>K?K:oe;--de>=0;)F.push(de);return F}),gt:wo(function(F,K,oe){for(var de=oe<0?oe+K:oe;++de<K;)F.push(de);return F})}}).pseudos.nth=g.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})g.pseudos[d]=zh(d);for(d in{submit:!0,reset:!0})g.pseudos[d]=bl(d);function qa(){}function _a(F,K){var oe,de,fe,ne,ve,Be,je,yt=Jt[F+" "];if(yt)return K?0:yt.slice(0);for(ve=F,Be=[],je=g.preFilter;ve;){for(ne in(!oe||(de=En.exec(ve)))&&(de&&(ve=ve.slice(de[0].length)||ve),Be.push(fe=[])),oe=!1,(de=Qt.exec(ve))&&(oe=de.shift(),fe.push({value:oe,type:de[0].replace(xi," ")}),ve=ve.slice(oe.length)),g.filter)(de=Us[ne].exec(ve))&&(!je[ne]||(de=je[ne](de)))&&(oe=de.shift(),fe.push({value:oe,type:ne,matches:de}),ve=ve.slice(oe.length));if(!oe)break}return K?ve.length:ve?hn.error(F):Jt(F,Be).slice(0)}function Kn(F){for(var K=0,oe=F.length,de="";K<oe;K++)de+=F[K].value;return de}function zo(F,K,oe){var de=K.dir,fe=K.next,ne=fe||de,ve=oe&&"parentNode"===ne,Be=ke++;return K.first?function(je,yt,ot){for(;je=je[de];)if(1===je.nodeType||ve)return F(je,yt,ot);return!1}:function(je,yt,ot){var vt,rt,Qe=[k,Be];if(ot){for(;je=je[de];)if((1===je.nodeType||ve)&&F(je,yt,ot))return!0}else for(;je=je[de];)if(1===je.nodeType||ve)if(rt=je[Ee]||(je[Ee]={}),fe&&ye(je,fe))je=je[de]||je;else{if((vt=rt[ne])&&vt[0]===k&&vt[1]===Be)return Qe[2]=vt[2];if(rt[ne]=Qe,Qe[2]=F(je,yt,ot))return!0}return!1}}function _t(F){return F.length>1?function(K,oe,de){for(var fe=F.length;fe--;)if(!F[fe](K,oe,de))return!1;return!0}:F[0]}function Bt(F,K,oe,de,fe){for(var ne,ve=[],Be=0,je=F.length,yt=null!=K;Be<je;Be++)(ne=F[Be])&&(!oe||oe(ne,de,fe))&&(ve.push(ne),yt&&K.push(Be));return ve}function nr(F,K,oe,de,fe,ne){return de&&!de[Ee]&&(de=nr(de)),fe&&!fe[Ee]&&(fe=nr(fe,ne)),vs(function(ve,Be,je,yt){var ot,vt,rt,Qe,ln=[],st=[],Pr=Be.length,Ii=ve||function hi(F,K,oe){for(var de=0,fe=K.length;de<fe;de++)hn(F,K[de],oe);return oe}(K||"*",je.nodeType?[je]:je,[]),bi=!F||!ve&&K?Ii:Bt(Ii,ln,F,je,yt);if(oe?oe(bi,Qe=fe||(ve?F:Pr||de)?[]:Be,je,yt):Qe=bi,de)for(ot=Bt(Qe,st),de(ot,[],je,yt),vt=ot.length;vt--;)(rt=ot[vt])&&(Qe[st[vt]]=!(bi[st[vt]]=rt));if(ve){if(fe||F){if(fe){for(ot=[],vt=Qe.length;vt--;)(rt=Qe[vt])&&ot.push(bi[vt]=rt);fe(null,Qe=[],ot,yt)}for(vt=Qe.length;vt--;)(rt=Qe[vt])&&(ot=fe?nn.call(ve,rt):ln[vt])>-1&&(ve[ot]=!(Be[ot]=rt))}}else Qe=Bt(Qe===Be?Qe.splice(Pr,Qe.length):Qe),fe?fe(null,Be,Qe,yt):T.apply(Be,Qe)})}function Ur(F){for(var K,oe,de,fe=F.length,ne=g.relative[F[0].type],ve=ne||g.relative[" "],Be=ne?1:0,je=zo(function(vt){return vt===K},ve,!0),yt=zo(function(vt){return nn.call(K,vt)>-1},ve,!0),ot=[function(vt,rt,Qe){var ln=!ne&&(Qe||rt!=v)||((K=rt).nodeType?je(vt,rt,Qe):yt(vt,rt,Qe));return K=null,ln}];Be<fe;Be++)if(oe=g.relative[F[Be].type])ot=[zo(_t(ot),oe)];else{if((oe=g.filter[F[Be].type].apply(null,F[Be].matches))[Ee]){for(de=++Be;de<fe&&!g.relative[F[de].type];de++);return nr(Be>1&&_t(ot),Be>1&&Kn(F.slice(0,Be-1).concat({value:" "===F[Be-2].type?"*":""})).replace(xi,"$1"),oe,Be<de&&Ur(F.slice(Be,de)),de<fe&&Ur(F=F.slice(de)),de<fe&&Kn(F))}ot.push(oe)}return _t(ot)}function Kr(F,K){var oe,de=[],fe=[],ne=Tt[F+" "];if(!ne){for(K||(K=_a(F)),oe=K.length;oe--;)(ne=Ur(K[oe]))[Ee]?de.push(ne):fe.push(ne);ne=Tt(F,function so(F,K){var oe=K.length>0,de=F.length>0,fe=function(ne,ve,Be,je,yt){var ot,vt,rt,Qe=0,ln="0",st=ne&&[],Pr=[],Ii=v,bi=ne||de&&g.find.TAG("*",yt),bn=k+=null==Ii?1:Math.random()||.1,Br=bi.length;for(yt&&(v=ve==D||ve||yt);ln!==Br&&null!=(ot=bi[ln]);ln++){if(de&&ot){for(vt=0,!ve&&ot.ownerDocument!=D&&(Vn(ot),Be=!V);rt=F[vt++];)if(rt(ot,ve||D,Be)){T.call(je,ot);break}yt&&(k=bn)}oe&&((ot=!rt&&ot)&&Qe--,ne&&st.push(ot))}if(Qe+=ln,oe&&ln!==Qe){for(vt=0;rt=K[vt++];)rt(st,Pr,ve,Be);if(ne){if(Qe>0)for(;ln--;)st[ln]||Pr[ln]||(Pr[ln]=gn.call(je));Pr=Bt(Pr)}T.apply(je,Pr),yt&&!ne&&Pr.length>0&&Qe+K.length>1&&E.uniqueSort(je)}return yt&&(k=bn,v=Ii),st};return oe?vs(fe):fe}(fe,de)),ne.selector=F}return ne}function Fu(F,K,oe,de){var fe,ne,ve,Be,je,yt="function"==typeof F&&F,ot=!de&&_a(F=yt.selector||F);if(oe=oe||[],1===ot.length){if((ne=ot[0]=ot[0].slice(0)).length>2&&"ID"===(ve=ne[0]).type&&9===K.nodeType&&V&&g.relative[ne[1].type]){if(!(K=(g.find.ID(ve.matches[0].replace(_s,io),K)||[])[0]))return oe;yt&&(K=K.parentNode),F=F.slice(ne.shift().value.length)}for(fe=Us.needsContext.test(F)?0:ne.length;fe--&&!g.relative[Be=(ve=ne[fe]).type];)if((je=g.find[Be])&&(de=je(ve.matches[0].replace(_s,io),za.test(ne[0].type)&&nd(K.parentNode)||K))){if(ne.splice(fe,1),!(F=de.length&&Kn(ne)))return T.apply(oe,de),oe;break}}return(yt||Kr(F,ot))(de,K,!V,oe,!K||za.test(F)&&nd(K.parentNode)||K),oe}qa.prototype=g.filters=g.pseudos,g.setFilters=new qa,it.sortStable=Ee.split("").sort(ar).join("")===Ee,Vn(),it.sortDetached=Ho(function(F){return 1&F.compareDocumentPosition(D.createElement("fieldset"))}),E.find=hn,E.expr[":"]=E.expr.pseudos,E.unique=E.uniqueSort,hn.compile=Kr,hn.select=Fu,hn.setDocument=Vn,hn.tokenize=_a,hn.escape=E.escapeSelector,hn.getText=E.text,hn.isXML=E.isXMLDoc,hn.selectors=E.expr,hn.support=E.support,hn.uniqueSort=E.uniqueSort}();var ue=function(d,g,v){for(var w=[],b=void 0!==v;(d=d[g])&&9!==d.nodeType;)if(1===d.nodeType){if(b&&E(d).is(v))break;w.push(d)}return w},ge=function(d,g){for(var v=[];d;d=d.nextSibling)1===d.nodeType&&d!==g&&v.push(d);return v},be=E.expr.match.needsContext,le=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Se(d,g,v){return We(g)?E.grep(d,function(w,b){return!!g.call(w,b,w)!==v}):g.nodeType?E.grep(d,function(w){return w===g!==v}):"string"!=typeof g?E.grep(d,function(w){return nn.call(g,w)>-1!==v}):E.filter(g,d,v)}E.filter=function(d,g,v){var w=g[0];return v&&(d=":not("+d+")"),1===g.length&&1===w.nodeType?E.find.matchesSelector(w,d)?[w]:[]:E.find.matches(d,E.grep(g,function(b){return 1===b.nodeType}))},E.fn.extend({find:function(d){var g,v,w=this.length,b=this;if("string"!=typeof d)return this.pushStack(E(d).filter(function(){for(g=0;g<w;g++)if(E.contains(b[g],this))return!0}));for(v=this.pushStack([]),g=0;g<w;g++)E.find(d,b[g],v);return w>1?E.uniqueSort(v):v},filter:function(d){return this.pushStack(Se(this,d||[],!1))},not:function(d){return this.pushStack(Se(this,d||[],!0))},is:function(d){return!!Se(this,"string"==typeof d&&be.test(d)?E(d):d||[],!1).length}});var Fe,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,qt=E.fn.init=function(d,g,v){var w,b;if(!d)return this;if(v=v||Fe,"string"==typeof d){if(!(w="<"===d[0]&&">"===d[d.length-1]&&d.length>=3?[null,d,null]:ut.exec(d))||!w[1]&&g)return!g||g.jquery?(g||v).find(d):this.constructor(g).find(d);if(w[1]){if(E.merge(this,E.parseHTML(w[1],(g=g instanceof E?g[0]:g)&&g.nodeType?g.ownerDocument||g:Ue,!0)),le.test(w[1])&&E.isPlainObject(g))for(w in g)We(this[w])?this[w](g[w]):this.attr(w,g[w]);return this}return(b=Ue.getElementById(w[2]))&&(this[0]=b,this.length=1),this}return d.nodeType?(this[0]=d,this.length=1,this):We(d)?void 0!==v.ready?v.ready(d):d(E):E.makeArray(d,this)};qt.prototype=E.fn,Fe=E(Ue);var Cn=/^(?:parents|prev(?:Until|All))/,pt={children:!0,contents:!0,next:!0,prev:!0};function un(d,g){for(;(d=d[g])&&1!==d.nodeType;);return d}E.fn.extend({has:function(d){var g=E(d,this),v=g.length;return this.filter(function(){for(var w=0;w<v;w++)if(E.contains(this,g[w]))return!0})},closest:function(d,g){var v,w=0,b=this.length,T=[],D="string"!=typeof d&&E(d);if(!be.test(d))for(;w<b;w++)for(v=this[w];v&&v!==g;v=v.parentNode)if(v.nodeType<11&&(D?D.index(v)>-1:1===v.nodeType&&E.find.matchesSelector(v,d))){T.push(v);break}return this.pushStack(T.length>1?E.uniqueSort(T):T)},index:function(d){return d?"string"==typeof d?nn.call(E(d),this[0]):nn.call(this,d.jquery?d[0]:d):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(d,g){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(d,g))))},addBack:function(d){return this.add(null==d?this.prevObject:this.prevObject.filter(d))}}),E.each({parent:function(d){var g=d.parentNode;return g&&11!==g.nodeType?g:null},parents:function(d){return ue(d,"parentNode")},parentsUntil:function(d,g,v){return ue(d,"parentNode",v)},next:function(d){return un(d,"nextSibling")},prev:function(d){return un(d,"previousSibling")},nextAll:function(d){return ue(d,"nextSibling")},prevAll:function(d){return ue(d,"previousSibling")},nextUntil:function(d,g,v){return ue(d,"nextSibling",v)},prevUntil:function(d,g,v){return ue(d,"previousSibling",v)},siblings:function(d){return ge((d.parentNode||{}).firstChild,d)},children:function(d){return ge(d.firstChild)},contents:function(d){return null!=d.contentDocument&&$n(d.contentDocument)?d.contentDocument:(ye(d,"template")&&(d=d.content||d),E.merge([],d.childNodes))}},function(d,g){E.fn[d]=function(v,w){var b=E.map(this,g,v);return"Until"!==d.slice(-5)&&(w=v),w&&"string"==typeof w&&(b=E.filter(w,b)),this.length>1&&(pt[d]||E.uniqueSort(b),Cn.test(d)&&b.reverse()),this.pushStack(b)}});var wn=/[^\x20\t\r\n\f]+/g;function In(d){return d}function Gn(d){throw d}function Xn(d,g,v,w){var b;try{d&&We(b=d.promise)?b.call(d).done(g).fail(v):d&&We(b=d.then)?b.call(d,g,v):g.apply(void 0,[d].slice(w))}catch(T){v.apply(void 0,[T])}}E.Callbacks=function(d){d="string"==typeof d?function wt(d){var g={};return E.each(d.match(wn)||[],function(v,w){g[w]=!0}),g}(d):E.extend({},d);var g,v,w,b,T=[],D=[],H=-1,V=function(){for(b=b||d.once,w=g=!0;D.length;H=-1)for(v=D.shift();++H<T.length;)!1===T[H].apply(v[0],v[1])&&d.stopOnFalse&&(H=T.length,v=!1);d.memory||(v=!1),g=!1,b&&(T=v?[]:"")},Q={add:function(){return T&&(v&&!g&&(H=T.length-1,D.push(v)),function ce(Ee){E.each(Ee,function(k,ke){We(ke)?(!d.unique||!Q.has(ke))&&T.push(ke):ke&&ke.length&&"string"!==kt(ke)&&ce(ke)})}(arguments),v&&!g&&V()),this},remove:function(){return E.each(arguments,function(ce,Ee){for(var k;(k=E.inArray(Ee,T,k))>-1;)T.splice(k,1),k<=H&&H--}),this},has:function(ce){return ce?E.inArray(ce,T)>-1:T.length>0},empty:function(){return T&&(T=[]),this},disable:function(){return b=D=[],T=v="",this},disabled:function(){return!T},lock:function(){return b=D=[],!v&&!g&&(T=v=""),this},locked:function(){return!!b},fireWith:function(ce,Ee){return b||(Ee=[ce,(Ee=Ee||[]).slice?Ee.slice():Ee],D.push(Ee),g||V()),this},fire:function(){return Q.fireWith(this,arguments),this},fired:function(){return!!w}};return Q},E.extend({Deferred:function(d){var g=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],v="pending",w={state:function(){return v},always:function(){return b.done(arguments).fail(arguments),this},catch:function(T){return w.then(null,T)},pipe:function(){var T=arguments;return E.Deferred(function(D){E.each(g,function(H,V){var Q=We(T[V[4]])&&T[V[4]];b[V[1]](function(){var ce=Q&&Q.apply(this,arguments);ce&&We(ce.promise)?ce.promise().progress(D.notify).done(D.resolve).fail(D.reject):D[V[0]+"With"](this,Q?[ce]:arguments)})}),T=null}).promise()},then:function(T,D,H){var V=0;function Q(ce,Ee,k,ke){return function(){var _e=this,Jt=arguments,Tt=function(){var ar,ro;if(!(ce<V)){if((ar=k.apply(_e,Jt))===Ee.promise())throw new TypeError("Thenable self-resolution");We(ro=ar&&("object"==typeof ar||"function"==typeof ar)&&ar.then)?ke?ro.call(ar,Q(V,Ee,In,ke),Q(V,Ee,Gn,ke)):(V++,ro.call(ar,Q(V,Ee,In,ke),Q(V,Ee,Gn,ke),Q(V,Ee,In,Ee.notifyWith))):(k!==In&&(_e=void 0,Jt=[ar]),(ke||Ee.resolveWith)(_e,Jt))}},gr=ke?Tt:function(){try{Tt()}catch(ar){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(ar,gr.error),ce+1>=V&&(k!==Gn&&(_e=void 0,Jt=[ar]),Ee.rejectWith(_e,Jt))}};ce?gr():(E.Deferred.getErrorHook?gr.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(gr.error=E.Deferred.getStackHook()),X.setTimeout(gr))}}return E.Deferred(function(ce){g[0][3].add(Q(0,ce,We(H)?H:In,ce.notifyWith)),g[1][3].add(Q(0,ce,We(T)?T:In)),g[2][3].add(Q(0,ce,We(D)?D:Gn))}).promise()},promise:function(T){return null!=T?E.extend(T,w):w}},b={};return E.each(g,function(T,D){var H=D[2],V=D[5];w[D[1]]=H.add,V&&H.add(function(){v=V},g[3-T][2].disable,g[3-T][3].disable,g[0][2].lock,g[0][3].lock),H.add(D[3].fire),b[D[0]]=function(){return b[D[0]+"With"](this===b?void 0:this,arguments),this},b[D[0]+"With"]=H.fireWith}),w.promise(b),d&&d.call(b,b),b},when:function(d){var g=arguments.length,v=g,w=Array(v),b=lt.call(arguments),T=E.Deferred(),D=function(H){return function(V){w[H]=this,b[H]=arguments.length>1?lt.call(arguments):V,--g||T.resolveWith(w,b)}};if(g<=1&&(Xn(d,T.done(D(v)).resolve,T.reject,!g),"pending"===T.state()||We(b[v]&&b[v].then)))return T.then();for(;v--;)Xn(b[v],D(v),T.reject);return T.promise()}});var dn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(d,g){X.console&&X.console.warn&&d&&dn.test(d.name)&&X.console.warn("jQuery.Deferred exception: "+d.message,d.stack,g)},E.readyException=function(d){X.setTimeout(function(){throw d})};var li=E.Deferred();function yi(){Ue.removeEventListener("DOMContentLoaded",yi),X.removeEventListener("load",yi),E.ready()}E.fn.ready=function(d){return li.then(d).catch(function(g){E.readyException(g)}),this},E.extend({isReady:!1,readyWait:1,ready:function(d){(!0===d?--E.readyWait:E.isReady)||(E.isReady=!0,!(!0!==d&&--E.readyWait>0)&&li.resolveWith(Ue,[E]))}}),E.ready.then=li.then,"complete"===Ue.readyState||"loading"!==Ue.readyState&&!Ue.documentElement.doScroll?X.setTimeout(E.ready):(Ue.addEventListener("DOMContentLoaded",yi),X.addEventListener("load",yi));var qr=function(d,g,v,w,b,T,D){var H=0,V=d.length,Q=null==v;if("object"===kt(v))for(H in b=!0,v)qr(d,g,H,v[H],!0,T,D);else if(void 0!==w&&(b=!0,We(w)||(D=!0),Q&&(D?(g.call(d,w),g=null):(Q=g,g=function(ce,Ee,k){return Q.call(E(ce),k)})),g))for(;H<V;H++)g(d[H],v,D?w:w.call(d[H],H,g(d[H],v)));return b?d:Q?g.call(d):V?g(d[0],v):T},Mn=/^-ms-/,Ki=/-([a-z])/g;function Os(d,g){return g.toUpperCase()}function Jn(d){return d.replace(Mn,"ms-").replace(Ki,Os)}var vi=function(d){return 1===d.nodeType||9===d.nodeType||!+d.nodeType};function br(){this.expando=E.expando+br.uid++}br.uid=1,br.prototype={cache:function(d){var g=d[this.expando];return g||(g={},vi(d)&&(d.nodeType?d[this.expando]=g:Object.defineProperty(d,this.expando,{value:g,configurable:!0}))),g},set:function(d,g,v){var w,b=this.cache(d);if("string"==typeof g)b[Jn(g)]=v;else for(w in g)b[Jn(w)]=g[w];return b},get:function(d,g){return void 0===g?this.cache(d):d[this.expando]&&d[this.expando][Jn(g)]},access:function(d,g,v){return void 0===g||g&&"string"==typeof g&&void 0===v?this.get(d,g):(this.set(d,g,v),void 0!==v?v:g)},remove:function(d,g){var v,w=d[this.expando];if(void 0!==w){if(void 0!==g)for((v=(g=Array.isArray(g)?g.map(Jn):(g=Jn(g))in w?[g]:g.match(wn)||[]).length);v--;)delete w[g[v]];(void 0===g||E.isEmptyObject(w))&&(d.nodeType?d[this.expando]=void 0:delete d[this.expando])}},hasData:function(d){var g=d[this.expando];return void 0!==g&&!E.isEmptyObject(g)}};var Ze=new br,Rn=new br,Ns=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Tr=/[A-Z]/g;function ds(d,g,v){var w;if(void 0===v&&1===d.nodeType)if(w="data-"+g.replace(Tr,"-$&").toLowerCase(),"string"==typeof(v=d.getAttribute(w))){try{v=function Zi(d){return"true"===d||"false"!==d&&("null"===d?null:d===+d+""?+d:Ns.test(d)?JSON.parse(d):d)}(v)}catch{}Rn.set(d,g,v)}else v=void 0;return v}E.extend({hasData:function(d){return Rn.hasData(d)||Ze.hasData(d)},data:function(d,g,v){return Rn.access(d,g,v)},removeData:function(d,g){Rn.remove(d,g)},_data:function(d,g,v){return Ze.access(d,g,v)},_removeData:function(d,g){Ze.remove(d,g)}}),E.fn.extend({data:function(d,g){var v,w,b,T=this[0],D=T&&T.attributes;if(void 0===d){if(this.length&&(b=Rn.get(T),1===T.nodeType&&!Ze.get(T,"hasDataAttrs"))){for(v=D.length;v--;)D[v]&&0===(w=D[v].name).indexOf("data-")&&(w=Jn(w.slice(5)),ds(T,w,b[w]));Ze.set(T,"hasDataAttrs",!0)}return b}return"object"==typeof d?this.each(function(){Rn.set(this,d)}):qr(this,function(H){var V;if(T&&void 0===H)return void 0!==(V=Rn.get(T,d))||void 0!==(V=ds(T,d))?V:void 0;this.each(function(){Rn.set(this,d,H)})},null,g,arguments.length>1,null,!0)},removeData:function(d){return this.each(function(){Rn.remove(this,d)})}}),E.extend({queue:function(d,g,v){var w;if(d)return w=Ze.get(d,g=(g||"fx")+"queue"),v&&(!w||Array.isArray(v)?w=Ze.access(d,g,E.makeArray(v)):w.push(v)),w||[]},dequeue:function(d,g){var v=E.queue(d,g=g||"fx"),w=v.length,b=v.shift(),T=E._queueHooks(d,g);"inprogress"===b&&(b=v.shift(),w--),b&&("fx"===g&&v.unshift("inprogress"),delete T.stop,b.call(d,function(){E.dequeue(d,g)},T)),!w&&T&&T.empty.fire()},_queueHooks:function(d,g){var v=g+"queueHooks";return Ze.get(d,v)||Ze.access(d,v,{empty:E.Callbacks("once memory").add(function(){Ze.remove(d,[g+"queue",v])})})}}),E.fn.extend({queue:function(d,g){var v=2;return"string"!=typeof d&&(g=d,d="fx",v--),arguments.length<v?E.queue(this[0],d):void 0===g?this:this.each(function(){var w=E.queue(this,d,g);E._queueHooks(this,d),"fx"===d&&"inprogress"!==w[0]&&E.dequeue(this,d)})},dequeue:function(d){return this.each(function(){E.dequeue(this,d)})},clearQueue:function(d){return this.queue(d||"fx",[])},promise:function(d,g){var v,w=1,b=E.Deferred(),T=this,D=this.length,H=function(){--w||b.resolveWith(T,[T])};for("string"!=typeof d&&(g=d,d=void 0),d=d||"fx";D--;)(v=Ze.get(T[D],d+"queueHooks"))&&v.empty&&(w++,v.empty.add(H));return H(),b.promise(g)}});var Ni=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,hs=new RegExp("^(?:([+-])=|)("+Ni+")([a-z%]*)$","i"),mn=["Top","Right","Bottom","Left"],_n=Ue.documentElement,ri=function(d){return E.contains(d.ownerDocument,d)},no={composed:!0};_n.getRootNode&&(ri=function(d){return E.contains(d.ownerDocument,d)||d.getRootNode(no)===d.ownerDocument});var fs=function(d,g){return"none"===(d=g||d).style.display||""===d.style.display&&ri(d)&&"none"===E.css(d,"display")};function Sr(d,g,v,w){var b,T,D=20,H=w?function(){return w.cur()}:function(){return E.css(d,g,"")},V=H(),Q=v&&v[3]||(E.cssNumber[g]?"":"px"),ce=d.nodeType&&(E.cssNumber[g]||"px"!==Q&&+V)&&hs.exec(E.css(d,g));if(ce&&ce[3]!==Q){for(Q=Q||ce[3],ce=+(V/=2)||1;D--;)E.style(d,g,ce+Q),(1-T)*(1-(T=H()/V||.5))<=0&&(D=0),ce/=T;E.style(d,g,(ce*=2)+Q),v=v||[]}return v&&(ce=+ce||+V||0,b=v[1]?ce+(v[1]+1)*v[2]:+v[2],w&&(w.unit=Q,w.start=ce,w.end=b)),b}var ci={};function Gr(d){var g,v=d.ownerDocument,w=d.nodeName,b=ci[w];return b||(g=v.body.appendChild(v.createElement(w)),b=E.css(g,"display"),g.parentNode.removeChild(g),"none"===b&&(b="block"),ci[w]=b,b)}function Dr(d,g){for(var v,w,b=[],T=0,D=d.length;T<D;T++)(w=d[T]).style&&(v=w.style.display,g?("none"===v&&(b[T]=Ze.get(w,"display")||null,b[T]||(w.style.display="")),""===w.style.display&&fs(w)&&(b[T]=Gr(w))):"none"!==v&&(b[T]="none",Ze.set(w,"display",v)));for(T=0;T<D;T++)null!=b[T]&&(d[T].style.display=b[T]);return d}E.fn.extend({show:function(){return Dr(this,!0)},hide:function(){return Dr(this)},toggle:function(d){return"boolean"==typeof d?d?this.show():this.hide():this.each(function(){fs(this)?E(this).show():E(this).hide()})}});var g,v,ks=/^(?:checkbox|radio)$/i,tn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vo=/^$|^module$|\/(?:java|ecma)script/i;g=Ue.createDocumentFragment().appendChild(Ue.createElement("div")),(v=Ue.createElement("input")).setAttribute("type","radio"),v.setAttribute("checked","checked"),v.setAttribute("name","t"),g.appendChild(v),it.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,g.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!g.cloneNode(!0).lastChild.defaultValue,g.innerHTML="<option></option>",it.option=!!g.lastChild;var Ar={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function j(d,g){var v;return v=typeof d.getElementsByTagName<"u"?d.getElementsByTagName(g||"*"):typeof d.querySelectorAll<"u"?d.querySelectorAll(g||"*"):[],void 0===g||g&&ye(d,g)?E.merge([d],v):v}function B(d,g){for(var v=0,w=d.length;v<w;v++)Ze.set(d[v],"globalEval",!g||Ze.get(g[v],"globalEval"))}Ar.tbody=Ar.tfoot=Ar.colgroup=Ar.caption=Ar.thead,Ar.th=Ar.td,it.option||(Ar.optgroup=Ar.option=[1,"<select multiple='multiple'>","</select>"]);var P=/<|&#?\w+;/;function x(d,g,v,w,b){for(var T,D,H,V,Q,ce,Ee=g.createDocumentFragment(),k=[],ke=0,_e=d.length;ke<_e;ke++)if((T=d[ke])||0===T)if("object"===kt(T))E.merge(k,T.nodeType?[T]:T);else if(P.test(T)){for(D=D||Ee.appendChild(g.createElement("div")),H=(tn.exec(T)||["",""])[1].toLowerCase(),D.innerHTML=(V=Ar[H]||Ar._default)[1]+E.htmlPrefilter(T)+V[2],ce=V[0];ce--;)D=D.lastChild;E.merge(k,D.childNodes),(D=Ee.firstChild).textContent=""}else k.push(g.createTextNode(T));for(Ee.textContent="",ke=0;T=k[ke++];)if(w&&E.inArray(T,w)>-1)b&&b.push(T);else if(Q=ri(T),D=j(Ee.appendChild(T),"script"),Q&&B(D),v)for(ce=0;T=D[ce++];)vo.test(T.type||"")&&v.push(T);return Ee}var A=/^([^.]*)(?:\.(.+)|)/;function ee(){return!0}function ae(){return!1}function Le(d,g,v,w,b,T){var D,H;if("object"==typeof g){for(H in"string"!=typeof v&&(w=w||v,v=void 0),g)Le(d,H,v,w,g[H],T);return d}if(null==w&&null==b?(b=v,w=v=void 0):null==b&&("string"==typeof v?(b=w,w=void 0):(b=w,w=v,v=void 0)),!1===b)b=ae;else if(!b)return d;return 1===T&&(D=b,b=function(V){return E().off(V),D.apply(this,arguments)},b.guid=D.guid||(D.guid=E.guid++)),d.each(function(){E.event.add(this,g,b,w,v)})}function Et(d,g,v){v?(Ze.set(d,g,!1),E.event.add(d,g,{namespace:!1,handler:function(w){var b,T=Ze.get(this,g);if(1&w.isTrigger&&this[g]){if(T)(E.event.special[g]||{}).delegateType&&w.stopPropagation();else if(T=lt.call(arguments),Ze.set(this,g,T),this[g](),b=Ze.get(this,g),Ze.set(this,g,!1),T!==b)return w.stopImmediatePropagation(),w.preventDefault(),b}else T&&(Ze.set(this,g,E.event.trigger(T[0],T.slice(1),this)),w.stopPropagation(),w.isImmediatePropagationStopped=ee)}})):void 0===Ze.get(d,g)&&E.event.add(d,g,ee)}E.event={global:{},add:function(d,g,v,w,b){var T,D,H,V,Q,ce,Ee,k,ke,_e,Jt,Tt=Ze.get(d);if(vi(d))for(v.handler&&(v=(T=v).handler,b=T.selector),b&&E.find.matchesSelector(_n,b),v.guid||(v.guid=E.guid++),(V=Tt.events)||(V=Tt.events=Object.create(null)),(D=Tt.handle)||(D=Tt.handle=function(gr){return typeof E<"u"&&E.event.triggered!==gr.type?E.event.dispatch.apply(d,arguments):void 0}),Q=(g=(g||"").match(wn)||[""]).length;Q--;)ke=Jt=(H=A.exec(g[Q])||[])[1],_e=(H[2]||"").split(".").sort(),ke&&(Ee=E.event.special[ke]||{},Ee=E.event.special[ke=(b?Ee.delegateType:Ee.bindType)||ke]||{},ce=E.extend({type:ke,origType:Jt,data:w,handler:v,guid:v.guid,selector:b,needsContext:b&&E.expr.match.needsContext.test(b),namespace:_e.join(".")},T),(k=V[ke])||((k=V[ke]=[]).delegateCount=0,(!Ee.setup||!1===Ee.setup.call(d,w,_e,D))&&d.addEventListener&&d.addEventListener(ke,D)),Ee.add&&(Ee.add.call(d,ce),ce.handler.guid||(ce.handler.guid=v.guid)),b?k.splice(k.delegateCount++,0,ce):k.push(ce),E.event.global[ke]=!0)},remove:function(d,g,v,w,b){var T,D,H,V,Q,ce,Ee,k,ke,_e,Jt,Tt=Ze.hasData(d)&&Ze.get(d);if(Tt&&(V=Tt.events)){for(Q=(g=(g||"").match(wn)||[""]).length;Q--;)if(ke=Jt=(H=A.exec(g[Q])||[])[1],_e=(H[2]||"").split(".").sort(),ke){for(Ee=E.event.special[ke]||{},k=V[ke=(w?Ee.delegateType:Ee.bindType)||ke]||[],H=H[2]&&new RegExp("(^|\\.)"+_e.join("\\.(?:.*\\.|)")+"(\\.|$)"),D=T=k.length;T--;)ce=k[T],(b||Jt===ce.origType)&&(!v||v.guid===ce.guid)&&(!H||H.test(ce.namespace))&&(!w||w===ce.selector||"**"===w&&ce.selector)&&(k.splice(T,1),ce.selector&&k.delegateCount--,Ee.remove&&Ee.remove.call(d,ce));D&&!k.length&&((!Ee.teardown||!1===Ee.teardown.call(d,_e,Tt.handle))&&E.removeEvent(d,ke,Tt.handle),delete V[ke])}else for(ke in V)E.event.remove(d,ke+g[Q],v,w,!0);E.isEmptyObject(V)&&Ze.remove(d,"handle events")}},dispatch:function(d){var g,v,w,b,T,D,H=new Array(arguments.length),V=E.event.fix(d),Q=(Ze.get(this,"events")||Object.create(null))[V.type]||[],ce=E.event.special[V.type]||{};for(H[0]=V,g=1;g<arguments.length;g++)H[g]=arguments[g];if(V.delegateTarget=this,!ce.preDispatch||!1!==ce.preDispatch.call(this,V)){for(D=E.event.handlers.call(this,V,Q),g=0;(b=D[g++])&&!V.isPropagationStopped();)for(V.currentTarget=b.elem,v=0;(T=b.handlers[v++])&&!V.isImmediatePropagationStopped();)(!V.rnamespace||!1===T.namespace||V.rnamespace.test(T.namespace))&&(V.handleObj=T,V.data=T.data,void 0!==(w=((E.event.special[T.origType]||{}).handle||T.handler).apply(b.elem,H))&&!1===(V.result=w)&&(V.preventDefault(),V.stopPropagation()));return ce.postDispatch&&ce.postDispatch.call(this,V),V.result}},handlers:function(d,g){var v,w,b,T,D,H=[],V=g.delegateCount,Q=d.target;if(V&&Q.nodeType&&!("click"===d.type&&d.button>=1))for(;Q!==this;Q=Q.parentNode||this)if(1===Q.nodeType&&("click"!==d.type||!0!==Q.disabled)){for(T=[],D={},v=0;v<V;v++)void 0===D[b=(w=g[v]).selector+" "]&&(D[b]=w.needsContext?E(b,this).index(Q)>-1:E.find(b,this,null,[Q]).length),D[b]&&T.push(w);T.length&&H.push({elem:Q,handlers:T})}return Q=this,V<g.length&&H.push({elem:Q,handlers:g.slice(V)}),H},addProp:function(d,g){Object.defineProperty(E.Event.prototype,d,{enumerable:!0,configurable:!0,get:We(g)?function(){if(this.originalEvent)return g(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[d]},set:function(v){Object.defineProperty(this,d,{enumerable:!0,configurable:!0,writable:!0,value:v})}})},fix:function(d){return d[E.expando]?d:new E.Event(d)},special:{load:{noBubble:!0},click:{setup:function(d){var g=this||d;return ks.test(g.type)&&g.click&&ye(g,"input")&&Et(g,"click",!0),!1},trigger:function(d){var g=this||d;return ks.test(g.type)&&g.click&&ye(g,"input")&&Et(g,"click"),!0},_default:function(d){var g=d.target;return ks.test(g.type)&&g.click&&ye(g,"input")&&Ze.get(g,"click")||ye(g,"a")}},beforeunload:{postDispatch:function(d){void 0!==d.result&&d.originalEvent&&(d.originalEvent.returnValue=d.result)}}}},E.removeEvent=function(d,g,v){d.removeEventListener&&d.removeEventListener(g,v)},E.Event=function(d,g){if(!(this instanceof E.Event))return new E.Event(d,g);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||void 0===d.defaultPrevented&&!1===d.returnValue?ee:ae,this.target=d.target&&3===d.target.nodeType?d.target.parentNode:d.target,this.currentTarget=d.currentTarget,this.relatedTarget=d.relatedTarget):this.type=d,g&&E.extend(this,g),this.timeStamp=d&&d.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:ae,isPropagationStopped:ae,isImmediatePropagationStopped:ae,isSimulated:!1,preventDefault:function(){var d=this.originalEvent;this.isDefaultPrevented=ee,d&&!this.isSimulated&&d.preventDefault()},stopPropagation:function(){var d=this.originalEvent;this.isPropagationStopped=ee,d&&!this.isSimulated&&d.stopPropagation()},stopImmediatePropagation:function(){var d=this.originalEvent;this.isImmediatePropagationStopped=ee,d&&!this.isSimulated&&d.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(d,g){function v(w){if(Ue.documentMode){var b=Ze.get(this,"handle"),T=E.event.fix(w);T.type="focusin"===w.type?"focus":"blur",T.isSimulated=!0,b(w),T.target===T.currentTarget&&b(T)}else E.event.simulate(g,w.target,E.event.fix(w))}E.event.special[d]={setup:function(){var w;if(Et(this,d,!0),!Ue.documentMode)return!1;(w=Ze.get(this,g))||this.addEventListener(g,v),Ze.set(this,g,(w||0)+1)},trigger:function(){return Et(this,d),!0},teardown:function(){var w;if(!Ue.documentMode)return!1;(w=Ze.get(this,g)-1)?Ze.set(this,g,w):(this.removeEventListener(g,v),Ze.remove(this,g))},_default:function(w){return Ze.get(w.target,d)},delegateType:g},E.event.special[g]={setup:function(){var w=this.ownerDocument||this.document||this,b=Ue.documentMode?this:w,T=Ze.get(b,g);T||(Ue.documentMode?this.addEventListener(g,v):w.addEventListener(d,v,!0)),Ze.set(b,g,(T||0)+1)},teardown:function(){var w=this.ownerDocument||this.document||this,b=Ue.documentMode?this:w,T=Ze.get(b,g)-1;T?Ze.set(b,g,T):(Ue.documentMode?this.removeEventListener(g,v):w.removeEventListener(d,v,!0),Ze.remove(b,g))}}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(d,g){E.event.special[d]={delegateType:g,bindType:g,handle:function(v){var w,T=v.relatedTarget,D=v.handleObj;return(!T||T!==this&&!E.contains(this,T))&&(v.type=D.origType,w=D.handler.apply(this,arguments),v.type=g),w}}}),E.fn.extend({on:function(d,g,v,w){return Le(this,d,g,v,w)},one:function(d,g,v,w){return Le(this,d,g,v,w,1)},off:function(d,g,v){var w,b;if(d&&d.preventDefault&&d.handleObj)return w=d.handleObj,E(d.delegateTarget).off(w.namespace?w.origType+"."+w.namespace:w.origType,w.selector,w.handler),this;if("object"==typeof d){for(b in d)this.off(b,g,d[b]);return this}return(!1===g||"function"==typeof g)&&(v=g,g=void 0),!1===v&&(v=ae),this.each(function(){E.event.remove(this,d,v,g)})}});var De=/<script|<style|<link/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,It=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Mt(d,g){return ye(d,"table")&&ye(11!==g.nodeType?g:g.firstChild,"tr")&&E(d).children("tbody")[0]||d}function Ft(d){return d.type=(null!==d.getAttribute("type"))+"/"+d.type,d}function wi(d){return"true/"===(d.type||"").slice(0,5)?d.type=d.type.slice(5):d.removeAttribute("type"),d}function Uo(d,g){var v,w,b,D,H,V;if(1===g.nodeType){if(Ze.hasData(d)&&(V=Ze.get(d).events))for(b in Ze.remove(g,"handle events"),V)for(v=0,w=V[b].length;v<w;v++)E.event.add(g,b,V[b][v]);Rn.hasData(d)&&(D=Rn.access(d),H=E.extend({},D),Rn.set(g,H))}}function se(d,g){var v=g.nodeName.toLowerCase();"input"===v&&ks.test(d.type)?g.checked=d.checked:("input"===v||"textarea"===v)&&(g.defaultValue=d.defaultValue)}function G(d,g,v,w){g=Er(g);var b,T,D,H,V,Q,ce=0,Ee=d.length,k=Ee-1,ke=g[0],_e=We(ke);if(_e||Ee>1&&"string"==typeof ke&&!it.checkClone&&nt.test(ke))return d.each(function(Jt){var Tt=d.eq(Jt);_e&&(g[0]=ke.call(this,Jt,Tt.html())),G(Tt,g,v,w)});if(Ee&&(T=(b=x(g,d[0].ownerDocument,!1,d,w)).firstChild,1===b.childNodes.length&&(b=T),T||w)){for(H=(D=E.map(j(b,"script"),Ft)).length;ce<Ee;ce++)V=b,ce!==k&&(V=E.clone(V,!0,!0),H&&E.merge(D,j(V,"script"))),v.call(d[ce],V,ce);if(H)for(Q=D[D.length-1].ownerDocument,E.map(D,wi),ce=0;ce<H;ce++)vo.test((V=D[ce]).type||"")&&!Ze.access(V,"globalEval")&&E.contains(Q,V)&&(V.src&&"module"!==(V.type||"").toLowerCase()?E._evalUrl&&!V.noModule&&E._evalUrl(V.src,{nonce:V.nonce||V.getAttribute("nonce")},Q):or(V.textContent.replace(It,""),V,Q))}return d}function Ae(d,g,v){for(var w,b=g?E.filter(g,d):d,T=0;null!=(w=b[T]);T++)!v&&1===w.nodeType&&E.cleanData(j(w)),w.parentNode&&(v&&ri(w)&&B(j(w,"script")),w.parentNode.removeChild(w));return d}E.extend({htmlPrefilter:function(d){return d},clone:function(d,g,v){var w,b,T,D,H=d.cloneNode(!0),V=ri(d);if(!(it.noCloneChecked||1!==d.nodeType&&11!==d.nodeType||E.isXMLDoc(d)))for(D=j(H),w=0,b=(T=j(d)).length;w<b;w++)se(T[w],D[w]);if(g)if(v)for(T=T||j(d),D=D||j(H),w=0,b=T.length;w<b;w++)Uo(T[w],D[w]);else Uo(d,H);return(D=j(H,"script")).length>0&&B(D,!V&&j(d,"script")),H},cleanData:function(d){for(var g,v,w,b=E.event.special,T=0;void 0!==(v=d[T]);T++)if(vi(v)){if(g=v[Ze.expando]){if(g.events)for(w in g.events)b[w]?E.event.remove(v,w):E.removeEvent(v,w,g.handle);v[Ze.expando]=void 0}v[Rn.expando]&&(v[Rn.expando]=void 0)}}}),E.fn.extend({detach:function(d){return Ae(this,d,!0)},remove:function(d){return Ae(this,d)},text:function(d){return qr(this,function(g){return void 0===g?E.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=g)})},null,d,arguments.length)},append:function(){return G(this,arguments,function(d){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Mt(this,d).appendChild(d)})},prepend:function(){return G(this,arguments,function(d){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var g=Mt(this,d);g.insertBefore(d,g.firstChild)}})},before:function(){return G(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this)})},after:function(){return G(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling)})},empty:function(){for(var d,g=0;null!=(d=this[g]);g++)1===d.nodeType&&(E.cleanData(j(d,!1)),d.textContent="");return this},clone:function(d,g){return d=d??!1,g=g??d,this.map(function(){return E.clone(this,d,g)})},html:function(d){return qr(this,function(g){var v=this[0]||{},w=0,b=this.length;if(void 0===g&&1===v.nodeType)return v.innerHTML;if("string"==typeof g&&!De.test(g)&&!Ar[(tn.exec(g)||["",""])[1].toLowerCase()]){g=E.htmlPrefilter(g);try{for(;w<b;w++)1===(v=this[w]||{}).nodeType&&(E.cleanData(j(v,!1)),v.innerHTML=g);v=0}catch{}}v&&this.empty().append(g)},null,d,arguments.length)},replaceWith:function(){var d=[];return G(this,arguments,function(g){var v=this.parentNode;E.inArray(this,d)<0&&(E.cleanData(j(this)),v&&v.replaceChild(g,this))},d)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,g){E.fn[d]=function(v){for(var w,b=[],T=E(v),D=T.length-1,H=0;H<=D;H++)w=H===D?this:this.clone(!0),E(T[H])[g](w),Dn.apply(b,w.get());return this.pushStack(b)}});var Je=new RegExp("^("+Ni+")(?!px)[a-z%]+$","i"),Vt=/^--/,Ut=function(d){var g=d.ownerDocument.defaultView;return(!g||!g.opener)&&(g=X),g.getComputedStyle(d)},re=function(d,g,v){var w,b,T={};for(b in g)T[b]=d.style[b],d.style[b]=g[b];for(b in w=v.call(d),g)d.style[b]=T[b];return w},er=new RegExp(mn.join("|"),"i");function xn(d,g,v){var w,b,T,D,H=Vt.test(g),V=d.style;return(v=v||Ut(d))&&(D=v.getPropertyValue(g)||v[g],H&&D&&(D=D.replace(xi,"$1")||void 0),""===D&&!ri(d)&&(D=E.style(d,g)),!it.pixelBoxStyles()&&Je.test(D)&&er.test(g)&&(w=V.width,b=V.minWidth,T=V.maxWidth,V.minWidth=V.maxWidth=V.width=D,D=v.width,V.width=w,V.minWidth=b,V.maxWidth=T)),void 0!==D?D+"":D}function ps(d,g){return{get:function(){if(!d())return(this.get=g).apply(this,arguments);delete this.get}}}!function(){function d(){if(Q){V.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Q.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_n.appendChild(V).appendChild(Q);var ce=X.getComputedStyle(Q);v="1%"!==ce.top,H=12===g(ce.marginLeft),Q.style.right="60%",T=36===g(ce.right),w=36===g(ce.width),Q.style.position="absolute",b=12===g(Q.offsetWidth/3),_n.removeChild(V),Q=null}}function g(ce){return Math.round(parseFloat(ce))}var v,w,b,T,D,H,V=Ue.createElement("div"),Q=Ue.createElement("div");Q.style&&(Q.style.backgroundClip="content-box",Q.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===Q.style.backgroundClip,E.extend(it,{boxSizingReliable:function(){return d(),w},pixelBoxStyles:function(){return d(),T},pixelPosition:function(){return d(),v},reliableMarginLeft:function(){return d(),H},scrollboxSize:function(){return d(),b},reliableTrDimensions:function(){var ce,Ee,k,ke;return null==D&&(ce=Ue.createElement("table"),Ee=Ue.createElement("tr"),k=Ue.createElement("div"),ce.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ee.style.cssText="box-sizing:content-box;border:1px solid",Ee.style.height="1px",k.style.height="9px",k.style.display="block",_n.appendChild(ce).appendChild(Ee).appendChild(k),ke=X.getComputedStyle(Ee),D=parseInt(ke.height,10)+parseInt(ke.borderTopWidth,10)+parseInt(ke.borderBottomWidth,10)===Ee.offsetHeight,_n.removeChild(ce)),D}}))}();var Bo=["Webkit","Moz","ms"],qc=Ue.createElement("div").style,gs={};function vl(d){return E.cssProps[d]||gs[d]||(d in qc?d:gs[d]=function Pu(d){for(var g=d[0].toUpperCase()+d.slice(1),v=Bo.length;v--;)if((d=Bo[v]+g)in qc)return d}(d)||d)}var Rt=/^(none|table(?!-c[ea]).+)/,gt={position:"absolute",visibility:"hidden",display:"block"},Mh={letterSpacing:"0",fontWeight:"400"};function Rh(d,g,v){var w=hs.exec(g);return w?Math.max(0,w[2]-(v||0))+(w[3]||"px"):g}function Mu(d,g,v,w,b,T){var D="width"===g?1:0,H=0,V=0,Q=0;if(v===(w?"border":"content"))return 0;for(;D<4;D+=2)"margin"===v&&(Q+=E.css(d,v+mn[D],!0,b)),w?("content"===v&&(V-=E.css(d,"padding"+mn[D],!0,b)),"margin"!==v&&(V-=E.css(d,"border"+mn[D]+"Width",!0,b))):(V+=E.css(d,"padding"+mn[D],!0,b),"padding"!==v?V+=E.css(d,"border"+mn[D]+"Width",!0,b):H+=E.css(d,"border"+mn[D]+"Width",!0,b));return!w&&T>=0&&(V+=Math.max(0,Math.ceil(d["offset"+g[0].toUpperCase()+g.slice(1)]-T-V-H-.5))||0),V+Q}function xh(d,g,v){var w=Ut(d),T=(!it.boxSizingReliable()||v)&&"border-box"===E.css(d,"boxSizing",!1,w),D=T,H=xn(d,g,w),V="offset"+g[0].toUpperCase()+g.slice(1);if(Je.test(H)){if(!v)return H;H="auto"}return(!it.boxSizingReliable()&&T||!it.reliableTrDimensions()&&ye(d,"tr")||"auto"===H||!parseFloat(H)&&"inline"===E.css(d,"display",!1,w))&&d.getClientRects().length&&(T="border-box"===E.css(d,"boxSizing",!1,w),(D=V in d)&&(H=d[V])),(H=parseFloat(H)||0)+Mu(d,g,v||(T?"border":"content"),D,w,H)+"px"}function ki(d,g,v,w,b){return new ki.prototype.init(d,g,v,w,b)}E.extend({cssHooks:{opacity:{get:function(d,g){if(g){var v=xn(d,"opacity");return""===v?"1":v}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(d,g,v,w){if(d&&3!==d.nodeType&&8!==d.nodeType&&d.style){var b,T,D,H=Jn(g),V=Vt.test(g),Q=d.style;if(V||(g=vl(H)),D=E.cssHooks[g]||E.cssHooks[H],void 0===v)return D&&"get"in D&&void 0!==(b=D.get(d,!1,w))?b:Q[g];if("string"==(T=typeof v)&&(b=hs.exec(v))&&b[1]&&(v=Sr(d,g,b),T="number"),null==v||v!=v)return;"number"===T&&!V&&(v+=b&&b[3]||(E.cssNumber[H]?"":"px")),!it.clearCloneStyle&&""===v&&0===g.indexOf("background")&&(Q[g]="inherit"),(!D||!("set"in D)||void 0!==(v=D.set(d,v,w)))&&(V?Q.setProperty(g,v):Q[g]=v)}},css:function(d,g,v,w){var b,T,D,H=Jn(g);return Vt.test(g)||(g=vl(H)),(D=E.cssHooks[g]||E.cssHooks[H])&&"get"in D&&(b=D.get(d,!0,v)),void 0===b&&(b=xn(d,g,w)),"normal"===b&&g in Mh&&(b=Mh[g]),""===v||v?(T=parseFloat(b),!0===v||isFinite(T)?T||0:b):b}}),E.each(["height","width"],function(d,g){E.cssHooks[g]={get:function(v,w,b){if(w)return!Rt.test(E.css(v,"display"))||v.getClientRects().length&&v.getBoundingClientRect().width?xh(v,g,b):re(v,gt,function(){return xh(v,g,b)})},set:function(v,w,b){var T,D=Ut(v),H=!it.scrollboxSize()&&"absolute"===D.position,Q=(H||b)&&"border-box"===E.css(v,"boxSizing",!1,D),ce=b?Mu(v,g,b,Q,D):0;return Q&&H&&(ce-=Math.ceil(v["offset"+g[0].toUpperCase()+g.slice(1)]-parseFloat(D[g])-Mu(v,g,"border",!1,D)-.5)),ce&&(T=hs.exec(w))&&"px"!==(T[3]||"px")&&(v.style[g]=w,w=E.css(v,g)),Rh(0,w,ce)}}}),E.cssHooks.marginLeft=ps(it.reliableMarginLeft,function(d,g){if(g)return(parseFloat(xn(d,"marginLeft"))||d.getBoundingClientRect().left-re(d,{marginLeft:0},function(){return d.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(d,g){E.cssHooks[d+g]={expand:function(v){for(var w=0,b={},T="string"==typeof v?v.split(" "):[v];w<4;w++)b[d+mn[w]+g]=T[w]||T[w-2]||T[0];return b}},"margin"!==d&&(E.cssHooks[d+g].set=Rh)}),E.fn.extend({css:function(d,g){return qr(this,function(v,w,b){var T,D,H={},V=0;if(Array.isArray(w)){for(T=Ut(v),D=w.length;V<D;V++)H[w[V]]=E.css(v,w[V],!1,T);return H}return void 0!==b?E.style(v,w,b):E.css(v,w)},d,g,arguments.length>1)}}),E.Tween=ki,ki.prototype={constructor:ki,init:function(d,g,v,w,b,T){this.elem=d,this.prop=v,this.easing=b||E.easing._default,this.options=g,this.start=this.now=this.cur(),this.end=w,this.unit=T||(E.cssNumber[v]?"":"px")},cur:function(){var d=ki.propHooks[this.prop];return d&&d.get?d.get(this):ki.propHooks._default.get(this)},run:function(d){var g,v=ki.propHooks[this.prop];return this.pos=g=this.options.duration?E.easing[this.easing](d,this.options.duration*d,0,1,this.options.duration):d,this.now=(this.end-this.start)*g+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),v&&v.set?v.set(this):ki.propHooks._default.set(this),this}},ki.prototype.init.prototype=ki.prototype,ki.propHooks={_default:{get:function(d){var g;return 1!==d.elem.nodeType||null!=d.elem[d.prop]&&null==d.elem.style[d.prop]?d.elem[d.prop]:(g=E.css(d.elem,d.prop,""))&&"auto"!==g?g:0},set:function(d){E.fx.step[d.prop]?E.fx.step[d.prop](d):1!==d.elem.nodeType||!E.cssHooks[d.prop]&&null==d.elem.style[vl(d.prop)]?d.elem[d.prop]=d.now:E.style(d.elem,d.prop,d.now+d.unit)}}},ki.propHooks.scrollTop=ki.propHooks.scrollLeft={set:function(d){d.elem.nodeType&&d.elem.parentNode&&(d.elem[d.prop]=d.now)}},E.easing={linear:function(d){return d},swing:function(d){return.5-Math.cos(d*Math.PI)/2},_default:"swing"},E.fx=ki.prototype.init,E.fx.step={};var jo,di,Ng=/^(?:toggle|show|hide)$/,Oh=/queueHooks$/;function wl(){di&&(!1===Ue.hidden&&X.requestAnimationFrame?X.requestAnimationFrame(wl):X.setTimeout(wl,E.fx.interval),E.fx.tick())}function Qi(){return X.setTimeout(function(){jo=void 0}),jo=Date.now()}function Ru(d,g){var v,w=0,b={height:d};for(g=g?1:0;w<4;w+=2-g)b["margin"+(v=mn[w])]=b["padding"+v]=d;return g&&(b.opacity=b.width=d),b}function kg(d,g,v){for(var w,b=(Fs.tweeners[g]||[]).concat(Fs.tweeners["*"]),T=0,D=b.length;T<D;T++)if(w=b[T].call(v,g,d))return w}function Fs(d,g,v){var w,b,T=0,D=Fs.prefilters.length,H=E.Deferred().always(function(){delete V.elem}),V=function(){if(b)return!1;for(var Ee=jo||Qi(),k=Math.max(0,Q.startTime+Q.duration-Ee),_e=1-(k/Q.duration||0),Jt=0,Tt=Q.tweens.length;Jt<Tt;Jt++)Q.tweens[Jt].run(_e);return H.notifyWith(d,[Q,_e,k]),_e<1&&Tt?k:(Tt||H.notifyWith(d,[Q,1,0]),H.resolveWith(d,[Q]),!1)},Q=H.promise({elem:d,props:E.extend({},g),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},v),originalProperties:g,originalOptions:v,startTime:jo||Qi(),duration:v.duration,tweens:[],createTween:function(Ee,k){var ke=E.Tween(d,Q.opts,Ee,k,Q.opts.specialEasing[Ee]||Q.opts.easing);return Q.tweens.push(ke),ke},stop:function(Ee){var k=0,ke=Ee?Q.tweens.length:0;if(b)return this;for(b=!0;k<ke;k++)Q.tweens[k].run(1);return Ee?(H.notifyWith(d,[Q,1,0]),H.resolveWith(d,[Q,Ee])):H.rejectWith(d,[Q,Ee]),this}}),ce=Q.props;for(function Fv(d,g){var v,w,b,T,D;for(v in d)if(b=g[w=Jn(v)],T=d[v],Array.isArray(T)&&(b=T[1],T=d[v]=T[0]),v!==w&&(d[w]=T,delete d[v]),(D=E.cssHooks[w])&&"expand"in D)for(v in T=D.expand(T),delete d[w],T)v in d||(d[v]=T[v],g[v]=b);else g[w]=b}(ce,Q.opts.specialEasing);T<D;T++)if(w=Fs.prefilters[T].call(Q,d,ce,Q.opts))return We(w.stop)&&(E._queueHooks(Q.elem,Q.opts.queue).stop=w.stop.bind(w)),w;return E.map(ce,kg,Q),We(Q.opts.start)&&Q.opts.start.call(d,Q),Q.progress(Q.opts.progress).done(Q.opts.done,Q.opts.complete).fail(Q.opts.fail).always(Q.opts.always),E.fx.timer(E.extend(V,{elem:d,anim:Q,queue:Q.opts.queue})),Q}E.Animation=E.extend(Fs,{tweeners:{"*":[function(d,g){var v=this.createTween(d,g);return Sr(v.elem,d,hs.exec(g),v),v}]},tweener:function(d,g){We(d)?(g=d,d=["*"]):d=d.match(wn);for(var v,w=0,b=d.length;w<b;w++)(Fs.tweeners[v=d[w]]=Fs.tweeners[v]||[]).unshift(g)},prefilters:[function Nh(d,g,v){var w,b,T,D,H,V,Q,ce,Ee="width"in g||"height"in g,k=this,ke={},_e=d.style,Jt=d.nodeType&&fs(d),Tt=Ze.get(d,"fxshow");for(w in v.queue||(null==(D=E._queueHooks(d,"fx")).unqueued&&(D.unqueued=0,H=D.empty.fire,D.empty.fire=function(){D.unqueued||H()}),D.unqueued++,k.always(function(){k.always(function(){D.unqueued--,E.queue(d,"fx").length||D.empty.fire()})})),g)if(Ng.test(b=g[w])){if(delete g[w],T=T||"toggle"===b,b===(Jt?"hide":"show")){if("show"!==b||!Tt||void 0===Tt[w])continue;Jt=!0}ke[w]=Tt&&Tt[w]||E.style(d,w)}if((V=!E.isEmptyObject(g))||!E.isEmptyObject(ke))for(w in Ee&&1===d.nodeType&&(v.overflow=[_e.overflow,_e.overflowX,_e.overflowY],null==(Q=Tt&&Tt.display)&&(Q=Ze.get(d,"display")),"none"===(ce=E.css(d,"display"))&&(Q?ce=Q:(Dr([d],!0),Q=d.style.display||Q,ce=E.css(d,"display"),Dr([d]))),("inline"===ce||"inline-block"===ce&&null!=Q)&&"none"===E.css(d,"float")&&(V||(k.done(function(){_e.display=Q}),null==Q&&(Q="none"===(ce=_e.display)?"":ce)),_e.display="inline-block")),v.overflow&&(_e.overflow="hidden",k.always(function(){_e.overflow=v.overflow[0],_e.overflowX=v.overflow[1],_e.overflowY=v.overflow[2]})),V=!1,ke)V||(Tt?"hidden"in Tt&&(Jt=Tt.hidden):Tt=Ze.access(d,"fxshow",{display:Q}),T&&(Tt.hidden=!Jt),Jt&&Dr([d],!0),k.done(function(){for(w in Jt||Dr([d]),Ze.remove(d,"fxshow"),ke)E.style(d,w,ke[w])})),V=kg(Jt?Tt[w]:0,w,k),w in Tt||(Tt[w]=V.start,Jt&&(V.end=V.start,V.start=0))}],prefilter:function(d,g){g?Fs.prefilters.unshift(d):Fs.prefilters.push(d)}}),E.speed=function(d,g,v){var w=d&&"object"==typeof d?E.extend({},d):{complete:v||!v&&g||We(d)&&d,duration:d,easing:v&&g||g&&!We(g)&&g};return E.fx.off?w.duration=0:"number"!=typeof w.duration&&(w.duration=w.duration in E.fx.speeds?E.fx.speeds[w.duration]:E.fx.speeds._default),(null==w.queue||!0===w.queue)&&(w.queue="fx"),w.old=w.complete,w.complete=function(){We(w.old)&&w.old.call(this),w.queue&&E.dequeue(this,w.queue)},w},E.fn.extend({fadeTo:function(d,g,v,w){return this.filter(fs).css("opacity",0).show().end().animate({opacity:g},d,v,w)},animate:function(d,g,v,w){var b=E.isEmptyObject(d),T=E.speed(g,v,w),D=function(){var H=Fs(this,E.extend({},d),T);(b||Ze.get(this,"finish"))&&H.stop(!0)};return D.finish=D,b||!1===T.queue?this.each(D):this.queue(T.queue,D)},stop:function(d,g,v){var w=function(b){var T=b.stop;delete b.stop,T(v)};return"string"!=typeof d&&(v=g,g=d,d=void 0),g&&this.queue(d||"fx",[]),this.each(function(){var b=!0,T=null!=d&&d+"queueHooks",D=E.timers,H=Ze.get(this);if(T)H[T]&&H[T].stop&&w(H[T]);else for(T in H)H[T]&&H[T].stop&&Oh.test(T)&&w(H[T]);for(T=D.length;T--;)D[T].elem===this&&(null==d||D[T].queue===d)&&(D[T].anim.stop(v),b=!1,D.splice(T,1));(b||!v)&&E.dequeue(this,d)})},finish:function(d){return!1!==d&&(d=d||"fx"),this.each(function(){var g,v=Ze.get(this),w=v[d+"queue"],b=v[d+"queueHooks"],T=E.timers,D=w?w.length:0;for(v.finish=!0,E.queue(this,d,[]),b&&b.stop&&b.stop.call(this,!0),g=T.length;g--;)T[g].elem===this&&T[g].queue===d&&(T[g].anim.stop(!0),T.splice(g,1));for(g=0;g<D;g++)w[g]&&w[g].finish&&w[g].finish.call(this);delete v.finish})}}),E.each(["toggle","show","hide"],function(d,g){var v=E.fn[g];E.fn[g]=function(w,b,T){return null==w||"boolean"==typeof w?v.apply(this,arguments):this.animate(Ru(g,!0),w,b,T)}}),E.each({slideDown:Ru("show"),slideUp:Ru("hide"),slideToggle:Ru("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(d,g){E.fn[d]=function(v,w,b){return this.animate(g,v,w,b)}}),E.timers=[],E.fx.tick=function(){var d,g=0,v=E.timers;for(jo=Date.now();g<v.length;g++)!(d=v[g])()&&v[g]===d&&v.splice(g--,1);v.length||E.fx.stop(),jo=void 0},E.fx.timer=function(d){E.timers.push(d),E.fx.start()},E.fx.interval=13,E.fx.start=function(){di||(di=!0,wl())},E.fx.stop=function(){di=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(d,g){return d=E.fx&&E.fx.speeds[d]||d,this.queue(g=g||"fx",function(v,w){var b=X.setTimeout(v,d);w.stop=function(){X.clearTimeout(b)}})},function(){var d=Ue.createElement("input"),v=Ue.createElement("select").appendChild(Ue.createElement("option"));d.type="checkbox",it.checkOn=""!==d.value,it.optSelected=v.selected,(d=Ue.createElement("input")).value="t",d.type="radio",it.radioValue="t"===d.value}();var kh,$a=E.expr.attrHandle;E.fn.extend({attr:function(d,g){return qr(this,E.attr,d,g,arguments.length>1)},removeAttr:function(d){return this.each(function(){E.removeAttr(this,d)})}}),E.extend({attr:function(d,g,v){var w,b,T=d.nodeType;if(3!==T&&8!==T&&2!==T)return typeof d.getAttribute>"u"?E.prop(d,g,v):((1!==T||!E.isXMLDoc(d))&&(b=E.attrHooks[g.toLowerCase()]||(E.expr.match.bool.test(g)?kh:void 0)),void 0!==v?null===v?void E.removeAttr(d,g):b&&"set"in b&&void 0!==(w=b.set(d,v,g))?w:(d.setAttribute(g,v+""),v):b&&"get"in b&&null!==(w=b.get(d,g))?w:(w=E.find.attr(d,g))??void 0)},attrHooks:{type:{set:function(d,g){if(!it.radioValue&&"radio"===g&&ye(d,"input")){var v=d.value;return d.setAttribute("type",g),v&&(d.value=v),g}}}},removeAttr:function(d,g){var v,w=0,b=g&&g.match(wn);if(b&&1===d.nodeType)for(;v=b[w++];)d.removeAttribute(v)}}),kh={set:function(d,g,v){return!1===g?E.removeAttr(d,v):d.setAttribute(v,v),v}},E.each(E.expr.match.bool.source.match(/\w+/g),function(d,g){var v=$a[g]||E.find.attr;$a[g]=function(w,b,T){var D,H,V=b.toLowerCase();return T||(H=$a[V],$a[V]=D,D=null!=v(w,b,T)?V:null,$a[V]=H),D}});var Lv=/^(?:input|select|textarea|button)$/i,Ei=/^(?:a|area)$/i;function dt(d){return(d.match(wn)||[]).join(" ")}function Ls(d){return d.getAttribute&&d.getAttribute("class")||""}function Gc(d){return Array.isArray(d)?d:"string"==typeof d&&d.match(wn)||[]}E.fn.extend({prop:function(d,g){return qr(this,E.prop,d,g,arguments.length>1)},removeProp:function(d){return this.each(function(){delete this[E.propFix[d]||d]})}}),E.extend({prop:function(d,g,v){var w,b,T=d.nodeType;if(3!==T&&8!==T&&2!==T)return(1!==T||!E.isXMLDoc(d))&&(b=E.propHooks[g=E.propFix[g]||g]),void 0!==v?b&&"set"in b&&void 0!==(w=b.set(d,v,g))?w:d[g]=v:b&&"get"in b&&null!==(w=b.get(d,g))?w:d[g]},propHooks:{tabIndex:{get:function(d){var g=E.find.attr(d,"tabindex");return g?parseInt(g,10):Lv.test(d.nodeName)||Ei.test(d.nodeName)&&d.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),it.optSelected||(E.propHooks.selected={get:function(d){return null},set:function(d){}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(d){var g,v,w,b,T,D;return We(d)?this.each(function(H){E(this).addClass(d.call(this,H,Ls(this)))}):(g=Gc(d)).length?this.each(function(){if(w=Ls(this),v=1===this.nodeType&&" "+dt(w)+" "){for(T=0;T<g.length;T++)v.indexOf(" "+(b=g[T])+" ")<0&&(v+=b+" ");D=dt(v),w!==D&&this.setAttribute("class",D)}}):this},removeClass:function(d){var g,v,w,b,T,D;return We(d)?this.each(function(H){E(this).removeClass(d.call(this,H,Ls(this)))}):arguments.length?(g=Gc(d)).length?this.each(function(){if(w=Ls(this),v=1===this.nodeType&&" "+dt(w)+" "){for(T=0;T<g.length;T++)for(b=g[T];v.indexOf(" "+b+" ")>-1;)v=v.replace(" "+b+" "," ");D=dt(v),w!==D&&this.setAttribute("class",D)}}):this:this.attr("class","")},toggleClass:function(d,g){var v,w,b,T,D=typeof d,H="string"===D||Array.isArray(d);return We(d)?this.each(function(V){E(this).toggleClass(d.call(this,V,Ls(this),g),g)}):"boolean"==typeof g&&H?g?this.addClass(d):this.removeClass(d):(v=Gc(d),this.each(function(){if(H)for(T=E(this),b=0;b<v.length;b++)T.hasClass(w=v[b])?T.removeClass(w):T.addClass(w);else(void 0===d||"boolean"===D)&&((w=Ls(this))&&Ze.set(this,"__className__",w),this.setAttribute&&this.setAttribute("class",w||!1===d?"":Ze.get(this,"__className__")||""))}))},hasClass:function(d){var g,v,w=0;for(g=" "+d+" ";v=this[w++];)if(1===v.nodeType&&(" "+dt(Ls(v))+" ").indexOf(g)>-1)return!0;return!1}});var Fh=/\r/g;E.fn.extend({val:function(d){var g,v,w,b=this[0];return arguments.length?(w=We(d),this.each(function(T){var D;1===this.nodeType&&(null==(D=w?d.call(this,T,E(this).val()):d)?D="":"number"==typeof D?D+="":Array.isArray(D)&&(D=E.map(D,function(H){return null==H?"":H+""})),(!(g=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])||!("set"in g)||void 0===g.set(this,D,"value"))&&(this.value=D))})):b?(g=E.valHooks[b.type]||E.valHooks[b.nodeName.toLowerCase()])&&"get"in g&&void 0!==(v=g.get(b,"value"))?v:"string"==typeof(v=b.value)?v.replace(Fh,""):v??"":void 0}}),E.extend({valHooks:{option:{get:function(d){return E.find.attr(d,"value")??dt(E.text(d))}},select:{get:function(d){var g,v,w,b=d.options,T=d.selectedIndex,D="select-one"===d.type,H=D?null:[],V=D?T+1:b.length;for(w=T<0?V:D?T:0;w<V;w++)if(((v=b[w]).selected||w===T)&&!v.disabled&&(!v.parentNode.disabled||!ye(v.parentNode,"optgroup"))){if(g=E(v).val(),D)return g;H.push(g)}return H},set:function(d,g){for(var v,w,b=d.options,T=E.makeArray(g),D=b.length;D--;)((w=b[D]).selected=E.inArray(E.valHooks.option.get(w),T)>-1)&&(v=!0);return v||(d.selectedIndex=-1),T}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(d,g){if(Array.isArray(g))return d.checked=E.inArray(E(d).val(),g)>-1}},it.checkOn||(E.valHooks[this].get=function(d){return null===d.getAttribute("value")?"on":d.value})});var El=X.location,$e={guid:Date.now()},Lh=/\?/;E.parseXML=function(d){var g,v;if(!d||"string"!=typeof d)return null;try{g=(new X.DOMParser).parseFromString(d,"text/xml")}catch{}return v=g&&g.getElementsByTagName("parsererror")[0],(!g||v)&&E.error("Invalid XML: "+(v?E.map(v.childNodes,function(w){return w.textContent}).join("\n"):d)),g};var tr=/^(?:focusinfocus|focusoutblur)$/,xu=function(d){d.stopPropagation()};E.extend(E.event,{trigger:function(d,g,v,w){var b,T,D,H,V,Q,ce,Ee,k=[v||Ue],ke=tt.call(d,"type")?d.type:d,_e=tt.call(d,"namespace")?d.namespace.split("."):[];if(T=Ee=D=v=v||Ue,3!==v.nodeType&&8!==v.nodeType&&!tr.test(ke+E.event.triggered)&&(ke.indexOf(".")>-1&&(_e=ke.split("."),ke=_e.shift(),_e.sort()),V=ke.indexOf(":")<0&&"on"+ke,(d=d[E.expando]?d:new E.Event(ke,"object"==typeof d&&d)).isTrigger=w?2:3,d.namespace=_e.join("."),d.rnamespace=d.namespace?new RegExp("(^|\\.)"+_e.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d.result=void 0,d.target||(d.target=v),g=null==g?[d]:E.makeArray(g,[d]),ce=E.event.special[ke]||{},w||!ce.trigger||!1!==ce.trigger.apply(v,g))){if(!w&&!ce.noBubble&&!St(v)){for(tr.test((H=ce.delegateType||ke)+ke)||(T=T.parentNode);T;T=T.parentNode)k.push(T),D=T;D===(v.ownerDocument||Ue)&&k.push(D.defaultView||D.parentWindow||X)}for(b=0;(T=k[b++])&&!d.isPropagationStopped();)Ee=T,d.type=b>1?H:ce.bindType||ke,(Q=(Ze.get(T,"events")||Object.create(null))[d.type]&&Ze.get(T,"handle"))&&Q.apply(T,g),(Q=V&&T[V])&&Q.apply&&vi(T)&&(d.result=Q.apply(T,g),!1===d.result&&d.preventDefault());return d.type=ke,!w&&!d.isDefaultPrevented()&&(!ce._default||!1===ce._default.apply(k.pop(),g))&&vi(v)&&V&&We(v[ke])&&!St(v)&&((D=v[V])&&(v[V]=null),E.event.triggered=ke,d.isPropagationStopped()&&Ee.addEventListener(ke,xu),v[ke](),d.isPropagationStopped()&&Ee.removeEventListener(ke,xu),E.event.triggered=void 0,D&&(v[V]=D)),d.result}},simulate:function(d,g,v){var w=E.extend(new E.Event,v,{type:d,isSimulated:!0});E.event.trigger(w,null,g)}}),E.fn.extend({trigger:function(d,g){return this.each(function(){E.event.trigger(d,g,this)})},triggerHandler:function(d,g){var v=this[0];if(v)return E.event.trigger(d,g,v,!0)}});var Kc=/\[\]$/,Zc=/\r?\n/g,Qc=/^(?:submit|button|image|reset|file)$/i,pa=/^(?:input|select|textarea|keygen)/i;function $o(d,g,v,w){var b;if(Array.isArray(g))E.each(g,function(T,D){v||Kc.test(d)?w(d,D):$o(d+"["+("object"==typeof D&&null!=D?T:"")+"]",D,v,w)});else if(v||"object"!==kt(g))w(d,g);else for(b in g)$o(d+"["+b+"]",g[b],v,w)}E.param=function(d,g){var v,w=[],b=function(T,D){var H=We(D)?D():D;w[w.length]=encodeURIComponent(T)+"="+encodeURIComponent(H??"")};if(null==d)return"";if(Array.isArray(d)||d.jquery&&!E.isPlainObject(d))E.each(d,function(){b(this.name,this.value)});else for(v in d)$o(v,d[v],g,b);return w.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var d=E.prop(this,"elements");return d?E.makeArray(d):this}).filter(function(){var d=this.type;return this.name&&!E(this).is(":disabled")&&pa.test(this.nodeName)&&!Qc.test(d)&&(this.checked||!ks.test(d))}).map(function(d,g){var v=E(this).val();return null==v?null:Array.isArray(v)?E.map(v,function(w){return{name:g.name,value:w.replace(Zc,"\r\n")}}):{name:g.name,value:v.replace(Zc,"\r\n")}}).get()}});var Yc=/%20/g,Cl=/#.*$/,Fg=/([?&])_=[^&]*/,Gt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Il=/^(?:GET|HEAD)$/,Fi=/^\/\//,Ou={},Vh={},An="*/".concat("*"),Uh=Ue.createElement("a");function Jc(d){return function(g,v){"string"!=typeof g&&(v=g,g="*");var w,b=0,T=g.toLowerCase().match(wn)||[];if(We(v))for(;w=T[b++];)"+"===w[0]?(w=w.slice(1)||"*",(d[w]=d[w]||[]).unshift(v)):(d[w]=d[w]||[]).push(v)}}function Oe(d,g,v,w){var b={},T=d===Vh;function D(H){var V;return b[H]=!0,E.each(d[H]||[],function(Q,ce){var Ee=ce(g,v,w);return"string"!=typeof Ee||T||b[Ee]?T?!(V=Ee):void 0:(g.dataTypes.unshift(Ee),D(Ee),!1)}),V}return D(g.dataTypes[0])||!b["*"]&&D("*")}function Yi(d,g){var v,w,b=E.ajaxSettings.flatOptions||{};for(v in g)void 0!==g[v]&&((b[v]?d:w||(w={}))[v]=g[v]);return w&&E.extend(!0,d,w),d}Uh.href=El.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:El.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(El.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":An,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(d,g){return g?Yi(Yi(d,E.ajaxSettings),g):Yi(E.ajaxSettings,d)},ajaxPrefilter:Jc(Ou),ajaxTransport:Jc(Vh),ajax:function(d,g){"object"==typeof d&&(g=d,d=void 0);var v,w,b,T,D,H,V,Q,ce,Ee,k=E.ajaxSetup({},g=g||{}),ke=k.context||k,_e=k.context&&(ke.nodeType||ke.jquery)?E(ke):E.event,Jt=E.Deferred(),Tt=E.Callbacks("once memory"),gr=k.statusCode||{},ar={},ro={},Vs="canceled",Dt={readyState:0,getResponseHeader:function(Nt){var En;if(V){if(!T)for(T={};En=Gt.exec(b);)T[En[1].toLowerCase()+" "]=(T[En[1].toLowerCase()+" "]||[]).concat(En[2]);En=T[Nt.toLowerCase()+" "]}return null==En?null:En.join(", ")},getAllResponseHeaders:function(){return V?b:null},setRequestHeader:function(Nt,En){return null==V&&(Nt=ro[Nt.toLowerCase()]=ro[Nt.toLowerCase()]||Nt,ar[Nt]=En),this},overrideMimeType:function(Nt){return null==V&&(k.mimeType=Nt),this},statusCode:function(Nt){var En;if(Nt)if(V)Dt.always(Nt[Dt.status]);else for(En in Nt)gr[En]=[gr[En],Nt[En]];return this},abort:function(Nt){var En=Nt||Vs;return v&&v.abort(En),mr(0,En),this}};if(Jt.promise(Dt),k.url=((d||k.url||El.href)+"").replace(Fi,El.protocol+"//"),k.type=g.method||g.type||k.method||k.type,k.dataTypes=(k.dataType||"*").toLowerCase().match(wn)||[""],null==k.crossDomain){H=Ue.createElement("a");try{H.href=k.url,H.href=H.href,k.crossDomain=Uh.protocol+"//"+Uh.host!=H.protocol+"//"+H.host}catch{k.crossDomain=!0}}if(k.data&&k.processData&&"string"!=typeof k.data&&(k.data=E.param(k.data,k.traditional)),Oe(Ou,k,g,Dt),V)return Dt;for(ce in(Q=E.event&&k.global)&&0==E.active++&&E.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Il.test(k.type),w=k.url.replace(Cl,""),k.hasContent?k.data&&k.processData&&0===(k.contentType||"").indexOf("application/x-www-form-urlencoded")&&(k.data=k.data.replace(Yc,"+")):(Ee=k.url.slice(w.length),k.data&&(k.processData||"string"==typeof k.data)&&(w+=(Lh.test(w)?"&":"?")+k.data,delete k.data),!1===k.cache&&(w=w.replace(Fg,"$1"),Ee=(Lh.test(w)?"&":"?")+"_="+$e.guid+++Ee),k.url=w+Ee),k.ifModified&&(E.lastModified[w]&&Dt.setRequestHeader("If-Modified-Since",E.lastModified[w]),E.etag[w]&&Dt.setRequestHeader("If-None-Match",E.etag[w])),(k.data&&k.hasContent&&!1!==k.contentType||g.contentType)&&Dt.setRequestHeader("Content-Type",k.contentType),Dt.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+An+"; q=0.01":""):k.accepts["*"]),k.headers)Dt.setRequestHeader(ce,k.headers[ce]);if(k.beforeSend&&(!1===k.beforeSend.call(ke,Dt,k)||V))return Dt.abort();if(Vs="abort",Tt.add(k.complete),Dt.done(k.success),Dt.fail(k.error),v=Oe(Vh,k,g,Dt)){if(Dt.readyState=1,Q&&_e.trigger("ajaxSend",[Dt,k]),V)return Dt;k.async&&k.timeout>0&&(D=X.setTimeout(function(){Dt.abort("timeout")},k.timeout));try{V=!1,v.send(ar,mr)}catch(Nt){if(V)throw Nt;mr(-1,Nt)}}else mr(-1,"No Transport");function mr(Nt,En,Qt,ga){var Xi,ma,Us,Li,Bs,Ci=En;V||(V=!0,D&&X.clearTimeout(D),v=void 0,b=ga||"",Dt.readyState=Nt>0?4:0,Xi=Nt>=200&&Nt<300||304===Nt,Qt&&(Li=function Nu(d,g,v){for(var w,b,T,D,H=d.contents,V=d.dataTypes;"*"===V[0];)V.shift(),void 0===w&&(w=d.mimeType||g.getResponseHeader("Content-Type"));if(w)for(b in H)if(H[b]&&H[b].test(w)){V.unshift(b);break}if(V[0]in v)T=V[0];else{for(b in v){if(!V[0]||d.converters[b+" "+V[0]]){T=b;break}D||(D=b)}T=T||D}if(T)return T!==V[0]&&V.unshift(T),v[T]}(k,Dt,Qt)),!Xi&&E.inArray("script",k.dataTypes)>-1&&E.inArray("json",k.dataTypes)<0&&(k.converters["text script"]=function(){}),Li=function Bh(d,g,v,w){var b,T,D,H,V,Q={},ce=d.dataTypes.slice();if(ce[1])for(D in d.converters)Q[D.toLowerCase()]=d.converters[D];for(T=ce.shift();T;)if(d.responseFields[T]&&(v[d.responseFields[T]]=g),!V&&w&&d.dataFilter&&(g=d.dataFilter(g,d.dataType)),V=T,T=ce.shift())if("*"===T)T=V;else if("*"!==V&&V!==T){if(!(D=Q[V+" "+T]||Q["* "+T]))for(b in Q)if((H=b.split(" "))[1]===T&&(D=Q[V+" "+H[0]]||Q["* "+H[0]])){!0===D?D=Q[b]:!0!==Q[b]&&(T=H[0],ce.unshift(H[1]));break}if(!0!==D)if(D&&d.throws)g=D(g);else try{g=D(g)}catch(Ee){return{state:"parsererror",error:D?Ee:"No conversion from "+V+" to "+T}}}return{state:"success",data:g}}(k,Li,Dt,Xi),Xi?(k.ifModified&&((Bs=Dt.getResponseHeader("Last-Modified"))&&(E.lastModified[w]=Bs),(Bs=Dt.getResponseHeader("etag"))&&(E.etag[w]=Bs)),204===Nt||"HEAD"===k.type?Ci="nocontent":304===Nt?Ci="notmodified":(Ci=Li.state,ma=Li.data,Xi=!(Us=Li.error))):(Us=Ci,(Nt||!Ci)&&(Ci="error",Nt<0&&(Nt=0))),Dt.status=Nt,Dt.statusText=(En||Ci)+"",Xi?Jt.resolveWith(ke,[ma,Ci,Dt]):Jt.rejectWith(ke,[Dt,Ci,Us]),Dt.statusCode(gr),gr=void 0,Q&&_e.trigger(Xi?"ajaxSuccess":"ajaxError",[Dt,k,Xi?ma:Us]),Tt.fireWith(ke,[Dt,Ci]),Q&&(_e.trigger("ajaxComplete",[Dt,k]),--E.active||E.event.trigger("ajaxStop")))}return Dt},getJSON:function(d,g,v){return E.get(d,g,v,"json")},getScript:function(d,g){return E.get(d,void 0,g,"script")}}),E.each(["get","post"],function(d,g){E[g]=function(v,w,b,T){return We(w)&&(T=T||b,b=w,w=void 0),E.ajax(E.extend({url:v,type:g,dataType:T,data:w,success:b},E.isPlainObject(v)&&v))}}),E.ajaxPrefilter(function(d){var g;for(g in d.headers)"content-type"===g.toLowerCase()&&(d.contentType=d.headers[g]||"")}),E._evalUrl=function(d,g,v){return E.ajax({url:d,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(w){E.globalEval(w,g,v)}})},E.fn.extend({wrapAll:function(d){var g;return this[0]&&(We(d)&&(d=d.call(this[0])),g=E(d,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&g.insertBefore(this[0]),g.map(function(){for(var v=this;v.firstElementChild;)v=v.firstElementChild;return v}).append(this)),this},wrapInner:function(d){return We(d)?this.each(function(g){E(this).wrapInner(d.call(this,g))}):this.each(function(){var g=E(this),v=g.contents();v.length?v.wrapAll(d):g.append(d)})},wrap:function(d){var g=We(d);return this.each(function(v){E(this).wrapAll(g?d.call(this,v):d)})},unwrap:function(d){return this.parent(d).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(d){return!E.expr.pseudos.visible(d)},E.expr.pseudos.visible=function(d){return!!(d.offsetWidth||d.offsetHeight||d.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new X.XMLHttpRequest}catch{}};var ms={0:200,1223:204},ku=E.ajaxSettings.xhr();it.cors=!!ku&&"withCredentials"in ku,it.ajax=ku=!!ku,E.ajaxTransport(function(d){var g,v;if(it.cors||ku&&!d.crossDomain)return{send:function(w,b){var T,D=d.xhr();if(D.open(d.type,d.url,d.async,d.username,d.password),d.xhrFields)for(T in d.xhrFields)D[T]=d.xhrFields[T];for(T in d.mimeType&&D.overrideMimeType&&D.overrideMimeType(d.mimeType),!d.crossDomain&&!w["X-Requested-With"]&&(w["X-Requested-With"]="XMLHttpRequest"),w)D.setRequestHeader(T,w[T]);g=function(H){return function(){g&&(g=v=D.onload=D.onerror=D.onabort=D.ontimeout=D.onreadystatechange=null,"abort"===H?D.abort():"error"===H?"number"!=typeof D.status?b(0,"error"):b(D.status,D.statusText):b(ms[D.status]||D.status,D.statusText,"text"!==(D.responseType||"text")||"string"!=typeof D.responseText?{binary:D.response}:{text:D.responseText},D.getAllResponseHeaders()))}},D.onload=g(),v=D.onerror=D.ontimeout=g("error"),void 0!==D.onabort?D.onabort=v:D.onreadystatechange=function(){4===D.readyState&&X.setTimeout(function(){g&&v()})},g=g("abort");try{D.send(d.hasContent&&d.data||null)}catch(H){if(g)throw H}},abort:function(){g&&g()}}}),E.ajaxPrefilter(function(d){d.crossDomain&&(d.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(d){return E.globalEval(d),d}}}),E.ajaxPrefilter("script",function(d){void 0===d.cache&&(d.cache=!1),d.crossDomain&&(d.type="GET")}),E.ajaxTransport("script",function(d){var g,v;if(d.crossDomain||d.scriptAttrs)return{send:function(w,b){g=E("<script>").attr(d.scriptAttrs||{}).prop({charset:d.scriptCharset,src:d.url}).on("load error",v=function(T){g.remove(),v=null,T&&b("error"===T.type?404:200,T.type)}),Ue.head.appendChild(g[0])},abort:function(){v&&v()}}});var d,Ha=[],jh=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var d=Ha.pop()||E.expando+"_"+$e.guid++;return this[d]=!0,d}}),E.ajaxPrefilter("json jsonp",function(d,g,v){var w,b,T,D=!1!==d.jsonp&&(jh.test(d.url)?"url":"string"==typeof d.data&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&jh.test(d.data)&&"data");if(D||"jsonp"===d.dataTypes[0])return w=d.jsonpCallback=We(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,D?d[D]=d[D].replace(jh,"$1"+w):!1!==d.jsonp&&(d.url+=(Lh.test(d.url)?"&":"?")+d.jsonp+"="+w),d.converters["script json"]=function(){return T||E.error(w+" was not called"),T[0]},d.dataTypes[0]="json",b=X[w],X[w]=function(){T=arguments},v.always(function(){void 0===b?E(X).removeProp(w):X[w]=b,d[w]&&(d.jsonpCallback=g.jsonpCallback,Ha.push(w)),T&&We(b)&&b(T[0]),T=b=void 0}),"script"}),it.createHTMLDocument=((d=Ue.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===d.childNodes.length),E.parseHTML=function(d,g,v){return"string"!=typeof d?[]:("boolean"==typeof g&&(v=g,g=!1),g||(it.createHTMLDocument?((w=(g=Ue.implementation.createHTMLDocument("")).createElement("base")).href=Ue.location.href,g.head.appendChild(w)):g=Ue),T=!v&&[],(b=le.exec(d))?[g.createElement(b[1])]:(b=x([d],g,T),T&&T.length&&E(T).remove(),E.merge([],b.childNodes)));var w,b,T},E.fn.load=function(d,g,v){var w,b,T,D=this,H=d.indexOf(" ");return H>-1&&(w=dt(d.slice(H)),d=d.slice(0,H)),We(g)?(v=g,g=void 0):g&&"object"==typeof g&&(b="POST"),D.length>0&&E.ajax({url:d,type:b||"GET",dataType:"html",data:g}).done(function(V){T=arguments,D.html(w?E("<div>").append(E.parseHTML(V)).find(w):V)}).always(v&&function(V,Q){D.each(function(){v.apply(this,T||[V.responseText,Q,V])})}),this},E.expr.pseudos.animated=function(d){return E.grep(E.timers,function(g){return d===g.elem}).length},E.offset={setOffset:function(d,g,v){var w,b,T,D,H,V,ce=E.css(d,"position"),Ee=E(d),k={};"static"===ce&&(d.style.position="relative"),H=Ee.offset(),T=E.css(d,"top"),V=E.css(d,"left"),("absolute"===ce||"fixed"===ce)&&(T+V).indexOf("auto")>-1?(D=(w=Ee.position()).top,b=w.left):(D=parseFloat(T)||0,b=parseFloat(V)||0),We(g)&&(g=g.call(d,v,E.extend({},H))),null!=g.top&&(k.top=g.top-H.top+D),null!=g.left&&(k.left=g.left-H.left+b),"using"in g?g.using.call(d,k):Ee.css(k)}},E.fn.extend({offset:function(d){if(arguments.length)return void 0===d?this:this.each(function(b){E.offset.setOffset(this,d,b)});var g,v,w=this[0];return w?w.getClientRects().length?{top:(g=w.getBoundingClientRect()).top+(v=w.ownerDocument.defaultView).pageYOffset,left:g.left+v.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var d,g,v,w=this[0],b={top:0,left:0};if("fixed"===E.css(w,"position"))g=w.getBoundingClientRect();else{for(g=this.offset(),v=w.ownerDocument,d=w.offsetParent||v.documentElement;d&&(d===v.body||d===v.documentElement)&&"static"===E.css(d,"position");)d=d.parentNode;d&&d!==w&&1===d.nodeType&&((b=E(d).offset()).top+=E.css(d,"borderTopWidth",!0),b.left+=E.css(d,"borderLeftWidth",!0))}return{top:g.top-b.top-E.css(w,"marginTop",!0),left:g.left-b.left-E.css(w,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent;d&&"static"===E.css(d,"position");)d=d.offsetParent;return d||_n})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(d,g){var v="pageYOffset"===g;E.fn[d]=function(w){return qr(this,function(b,T,D){var H;if(St(b)?H=b:9===b.nodeType&&(H=b.defaultView),void 0===D)return H?H[g]:b[T];H?H.scrollTo(v?H.pageXOffset:D,v?D:H.pageYOffset):b[T]=D},d,w,arguments.length)}}),E.each(["top","left"],function(d,g){E.cssHooks[g]=ps(it.pixelPosition,function(v,w){if(w)return w=xn(v,g),Je.test(w)?E(v).position()[g]+"px":w})}),E.each({Height:"height",Width:"width"},function(d,g){E.each({padding:"inner"+d,content:g,"":"outer"+d},function(v,w){E.fn[w]=function(b,T){var D=arguments.length&&(v||"boolean"!=typeof b),H=v||(!0===b||!0===T?"margin":"border");return qr(this,function(V,Q,ce){var Ee;return St(V)?0===w.indexOf("outer")?V["inner"+d]:V.document.documentElement["client"+d]:9===V.nodeType?(Ee=V.documentElement,Math.max(V.body["scroll"+d],Ee["scroll"+d],V.body["offset"+d],Ee["offset"+d],Ee["client"+d])):void 0===ce?E.css(V,Q,H):E.style(V,Q,ce,H)},g,D?b:void 0,D)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(d,g){E.fn[g]=function(v){return this.on(g,v)}}),E.fn.extend({bind:function(d,g,v){return this.on(d,null,g,v)},unbind:function(d,g){return this.off(d,null,g)},delegate:function(d,g,v,w){return this.on(g,d,v,w)},undelegate:function(d,g,v){return 1===arguments.length?this.off(d,"**"):this.off(g,d||"**",v)},hover:function(d,g){return this.on("mouseenter",d).on("mouseleave",g||d)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(d,g){E.fn[g]=function(v,w){return arguments.length>0?this.on(g,null,v,w):this.trigger(g)}});var $h=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(d,g){var v,w,b;if("string"==typeof g&&(v=d[g],g=d,d=v),We(d))return w=lt.call(arguments,2),b=function(){return d.apply(g||this,w.concat(lt.call(arguments)))},b.guid=d.guid=d.guid||E.guid++,b},E.holdReady=function(d){d?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=ye,E.isFunction=We,E.isWindow=St,E.camelCase=Jn,E.type=kt,E.now=Date.now,E.isNumeric=function(d){var g=E.type(d);return("number"===g||"string"===g)&&!isNaN(d-parseFloat(d))},E.trim=function(d){return null==d?"":(d+"").replace($h,"$1")},void 0!==(L=function(){return E}.apply(Lr,[]))&&(cs.exports=L);var Vv=X.jQuery,Hh=X.$;return E.noConflict=function(d){return X.$===E&&(X.$=Hh),d&&X.jQuery===E&&(X.jQuery=Vv),E},typeof Y>"u"&&(X.jQuery=X.$=E),E})},106:(cs,Lr,ft)=>{"use strict";ft.d(Lr,{Z:()=>it});var L=ft(58),X=ft(537),Y=ft(534),He=ft(879);class $n{constructor(St,Ue){this._delegate=St,this.firebase=Ue,(0,Y._addComponent)(St,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=St.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(St){this._delegate.automaticDataCollectionEnabled=St}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(St=>{this._delegate.checkDestroyed(),St()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(St,Ue=Y._DEFAULT_ENTRY_NAME){var Cr;this._delegate.checkDestroyed();const or=this._delegate.container.getProvider(St);return!or.isInitialized()&&"EXPLICIT"===(null===(Cr=or.getComponent())||void 0===Cr?void 0:Cr.instantiationMode)&&or.initialize(),or.getImmediate({identifier:Ue})}_removeServiceInstance(St,Ue=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(St).clearInstance(Ue)}_addComponent(St){(0,Y._addComponent)(this._delegate,St)}_addOrOverwriteComponent(St){(0,Y._addOrOverwriteComponent)(this._delegate,St)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Er=new L.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Te=function nn(){const We=function Dn(We){const St={},Ue={__esModule:!0,initializeApp:function kt(zt,ye={}){const gn=Y.initializeApp(zt,ye);if((0,L.r3)(St,gn.name))return St[gn.name];const qn=new We(gn,Ue);return St[gn.name]=qn,qn},app:or,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function ni(zt){const ye=zt.name,gn=ye.replace("-compat","");if(Y._registerComponent(zt)&&"PUBLIC"===zt.type){const qn=(Ir=or())=>{if("function"!=typeof Ir[gn])throw Er.create("invalid-app-argument",{appName:ye});return Ir[gn]()};void 0!==zt.serviceProps&&(0,L.ZB)(qn,zt.serviceProps),Ue[gn]=qn,We.prototype[gn]=function(...Ir){return this._getService.bind(this,ye).apply(this,zt.multipleInstances?Ir:[])}}return"PUBLIC"===zt.type?Ue[gn]:null},removeApp:function Cr(zt){delete St[zt]},useAsService:function E(zt,ye){return"serverAuth"===ye?null:ye},modularAPIs:Y}};function or(zt){if(!(0,L.r3)(St,zt=zt||Y._DEFAULT_ENTRY_NAME))throw Er.create("no-app",{appName:zt});return St[zt]}return Ue.default=Ue,Object.defineProperty(Ue,"apps",{get:function vn(){return Object.keys(St).map(zt=>St[zt])}}),or.App=We,Ue}($n);return We.INTERNAL=Object.assign(Object.assign({},We.INTERNAL),{createFirebaseNamespace:nn,extendNamespace:function St(Ue){(0,L.ZB)(We,Ue)},createSubscribe:L.ne,ErrorFactory:L.LL,deepExtend:L.ZB}),We}(),Re=new He.Yd("@firebase/app-compat");if((0,L.jU)()&&void 0!==self.firebase){Re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&Re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const it=Te;!function an(We){(0,Y.registerVersion)("@firebase/app-compat","0.2.23",We)}()},534:(cs,Lr,ft)=>{"use strict";ft.r(Lr),ft.d(Lr,{FirebaseError:()=>He.ZR,SDK_VERSION:()=>ri,_DEFAULT_ENTRY_NAME:()=>Jn,_addComponent:()=>Rn,_addOrOverwriteComponent:()=>Ns,_apps:()=>br,_clearComponents:()=>Ni,_components:()=>Ze,_getProvider:()=>Zi,_registerComponent:()=>Tr,_removeServiceInstance:()=>ds,deleteApp:()=>ci,getApp:()=>fs,getApps:()=>Sr,initializeApp:()=>no,onLog:()=>ks,registerVersion:()=>Dr,setLogLevel:()=>tn});var L=ft(861),X=ft(537),Y=ft(879),He=ft(58);const $n=(se,G)=>G.some(Ae=>se instanceof Ae);let lt,Er;const Te=new WeakMap,Re=new WeakMap,tt=new WeakMap,Pt=new WeakMap,an=new WeakMap;let St={get(se,G,Ae){if(se instanceof IDBTransaction){if("done"===G)return Re.get(se);if("objectStoreNames"===G)return se.objectStoreNames||tt.get(se);if("store"===G)return Ae.objectStoreNames[1]?void 0:Ae.objectStore(Ae.objectStoreNames[0])}return kt(se[G])},set:(se,G,Ae)=>(se[G]=Ae,!0),has:(se,G)=>se instanceof IDBTransaction&&("done"===G||"store"===G)||G in se};function or(se){return"function"==typeof se?function Cr(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nn(){return Er||(Er=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...G){return se.apply(vn(this),G),kt(Te.get(this))}:function(...G){return kt(se.apply(vn(this),G))}:function(G,...Ae){const Je=se.call(vn(this),G,...Ae);return tt.set(Je,G.sort?G.sort():[G]),kt(Je)}}(se):(se instanceof IDBTransaction&&function We(se){if(Re.has(se))return;const G=new Promise((Ae,Je)=>{const Vt=()=>{se.removeEventListener("complete",Ut),se.removeEventListener("error",re),se.removeEventListener("abort",re)},Ut=()=>{Ae(),Vt()},re=()=>{Je(se.error||new DOMException("AbortError","AbortError")),Vt()};se.addEventListener("complete",Ut),se.addEventListener("error",re),se.addEventListener("abort",re)});Re.set(se,G)}(se),$n(se,function Dn(){return lt||(lt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,St):se)}function kt(se){if(se instanceof IDBRequest)return function it(se){const G=new Promise((Ae,Je)=>{const Vt=()=>{se.removeEventListener("success",Ut),se.removeEventListener("error",re)},Ut=()=>{Ae(kt(se.result)),Vt()},re=()=>{Je(se.error),Vt()};se.addEventListener("success",Ut),se.addEventListener("error",re)});return G.then(Ae=>{Ae instanceof IDBCursor&&Te.set(Ae,se)}).catch(()=>{}),an.set(G,se),G}(se);if(Pt.has(se))return Pt.get(se);const G=or(se);return G!==se&&(Pt.set(se,G),an.set(G,se)),G}const vn=se=>an.get(se),zt=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],gn=new Map;function qn(se,G){if(!(se instanceof IDBDatabase)||G in se||"string"!=typeof G)return;if(gn.get(G))return gn.get(G);const Ae=G.replace(/FromIndex$/,""),Je=G!==Ae,Vt=ye.includes(Ae);if(!(Ae in(Je?IDBIndex:IDBObjectStore).prototype)||!Vt&&!zt.includes(Ae))return;const Ut=function(){var re=(0,L.Z)(function*(er,...xn){const ps=this.transaction(er,Vt?"readwrite":"readonly");let Bo=ps.store;return Je&&(Bo=Bo.index(xn.shift())),(yield Promise.all([Bo[Ae](...xn),Vt&&ps.done]))[0]});return function(xn){return re.apply(this,arguments)}}();return gn.set(G,Ut),Ut}!function Ue(se){St=se(St)}(se=>({...se,get:(G,Ae,Je)=>qn(G,Ae)||se.get(G,Ae,Je),has:(G,Ae)=>!!qn(G,Ae)||se.has(G,Ae)}));class Ir{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(Ae=>{if(function $t(se){const G=se.getComponent();return"VERSION"===G?.type}(Ae)){const Je=Ae.getImmediate();return`${Je.library}/${Je.version}`}return null}).filter(Ae=>Ae).join(" ")}}const xi="@firebase/app",Vr=new Y.Yd("@firebase/app"),Jn="[DEFAULT]",vi={[xi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},br=new Map,Ze=new Map;function Rn(se,G){try{se.container.addComponent(G)}catch(Ae){Vr.debug(`Component ${G.name} failed to register with FirebaseApp ${se.name}`,Ae)}}function Ns(se,G){se.container.addOrOverwriteComponent(G)}function Tr(se){const G=se.name;if(Ze.has(G))return Vr.debug(`There were multiple attempts to register component ${G}.`),!1;Ze.set(G,se);for(const Ae of br.values())Rn(Ae,se);return!0}function Zi(se,G){const Ae=se.container.getProvider("heartbeat").getImmediate({optional:!0});return Ae&&Ae.triggerHeartbeat(),se.container.getProvider(G)}function ds(se,G,Ae=Jn){Zi(se,G).clearInstance(Ae)}function Ni(){Ze.clear()}const mn=new He.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _n{constructor(G,Ae,Je){this._isDeleted=!1,this._options=Object.assign({},G),this._config=Object.assign({},Ae),this._name=Ae.name,this._automaticDataCollectionEnabled=Ae.automaticDataCollectionEnabled,this._container=Je,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this.checkDestroyed(),this._automaticDataCollectionEnabled=G}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(G){this._isDeleted=G}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}const ri="10.6.0";function no(se,G={}){let Ae=se;"object"!=typeof G&&(G={name:G});const Je=Object.assign({name:Jn,automaticDataCollectionEnabled:!1},G),Vt=Je.name;if("string"!=typeof Vt||!Vt)throw mn.create("bad-app-name",{appName:String(Vt)});if(Ae||(Ae=(0,He.aH)()),!Ae)throw mn.create("no-options");const Ut=br.get(Vt);if(Ut){if((0,He.vZ)(Ae,Ut.options)&&(0,He.vZ)(Je,Ut.config))return Ut;throw mn.create("duplicate-app",{appName:Vt})}const re=new X.H0(Vt);for(const xn of Ze.values())re.addComponent(xn);const er=new _n(Ae,Je,re);return br.set(Vt,er),er}function fs(se=Jn){const G=br.get(se);if(!G&&se===Jn&&(0,He.aH)())return no();if(!G)throw mn.create("no-app",{appName:se});return G}function Sr(){return Array.from(br.values())}function ci(se){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,L.Z)(function*(se){const G=se.name;br.has(G)&&(br.delete(G),yield Promise.all(se.container.getProviders().map(Ae=>Ae.delete())),se.isDeleted=!0)})).apply(this,arguments)}function Dr(se,G,Ae){var Je;let Vt=null!==(Je=vi[se])&&void 0!==Je?Je:se;Ae&&(Vt+=`-${Ae}`);const Ut=Vt.match(/\s|\//),re=G.match(/\s|\//);if(Ut||re){const er=[`Unable to register library "${Vt}" with version "${G}":`];return Ut&&er.push(`library name "${Vt}" contains illegal characters (whitespace or "/")`),Ut&&re&&er.push("and"),re&&er.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void Vr.warn(er.join(" "))}Tr(new X.wA(`${Vt}-version`,()=>({library:Vt,version:G}),"VERSION"))}function ks(se,G){if(null!==se&&"function"!=typeof se)throw mn.create("invalid-log-argument");(0,Y.Am)(se,G)}function tn(se){(0,Y.Ub)(se)}const vo="firebase-heartbeat-database",Ar=1,j="firebase-heartbeat-store";let B=null;function P(){return B||(B=function ni(se,G,{blocked:Ae,upgrade:Je,blocking:Vt,terminated:Ut}={}){const re=indexedDB.open(se,G),er=kt(re);return Je&&re.addEventListener("upgradeneeded",xn=>{Je(kt(re.result),xn.oldVersion,xn.newVersion,kt(re.transaction),xn)}),Ae&&re.addEventListener("blocked",xn=>Ae(xn.oldVersion,xn.newVersion,xn)),er.then(xn=>{Ut&&xn.addEventListener("close",()=>Ut()),Vt&&xn.addEventListener("versionchange",ps=>Vt(ps.oldVersion,ps.newVersion,ps))}).catch(()=>{}),er}(vo,Ar,{upgrade:(se,G)=>{0===G&&se.createObjectStore(j)}}).catch(se=>{throw mn.create("idb-open",{originalErrorMessage:se.message})})),B}function A(){return(A=(0,L.Z)(function*(se){try{return yield(yield P()).transaction(j).objectStore(j).get(Le(se))}catch(G){if(G instanceof He.ZR)Vr.warn(G.message);else{const Ae=mn.create("idb-get",{originalErrorMessage:G?.message});Vr.warn(Ae.message)}}})).apply(this,arguments)}function ee(se,G){return ae.apply(this,arguments)}function ae(){return(ae=(0,L.Z)(function*(se,G){try{const Je=(yield P()).transaction(j,"readwrite");yield Je.objectStore(j).put(G,Le(se)),yield Je.done}catch(Ae){if(Ae instanceof He.ZR)Vr.warn(Ae.message);else{const Je=mn.create("idb-set",{originalErrorMessage:Ae?.message});Vr.warn(Je.message)}}})).apply(this,arguments)}function Le(se){return`${se.name}!${se.options.appId}`}class nt{constructor(G){this.container=G,this._heartbeatsCache=null;const Ae=this.container.getProvider("app").getImmediate();this._storage=new Ft(Ae),this._heartbeatsCachePromise=this._storage.read().then(Je=>(this._heartbeatsCache=Je,Je))}triggerHeartbeat(){var G=this;return(0,L.Z)(function*(){var Ae;const Vt=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=It();if(null==(null===(Ae=G._heartbeatsCache)||void 0===Ae?void 0:Ae.heartbeats)&&(G._heartbeatsCache=yield G._heartbeatsCachePromise),G._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!G._heartbeatsCache.heartbeats.some(re=>re.date===Ut))return G._heartbeatsCache.heartbeats.push({date:Ut,agent:Vt}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(re=>{const er=new Date(re.date).valueOf();return Date.now()-er<=2592e6}),G._storage.overwrite(G._heartbeatsCache)})()}getHeartbeatsHeader(){var G=this;return(0,L.Z)(function*(){var Ae;if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null==(null===(Ae=G._heartbeatsCache)||void 0===Ae?void 0:Ae.heartbeats)||0===G._heartbeatsCache.heartbeats.length)return"";const Je=It(),{heartbeatsToSend:Vt,unsentEntries:Ut}=function Mt(se,G=1024){const Ae=[];let Je=se.slice();for(const Vt of se){const Ut=Ae.find(re=>re.agent===Vt.agent);if(Ut){if(Ut.dates.push(Vt.date),wi(Ae)>G){Ut.dates.pop();break}}else if(Ae.push({agent:Vt.agent,dates:[Vt.date]}),wi(Ae)>G){Ae.pop();break}Je=Je.slice(1)}return{heartbeatsToSend:Ae,unsentEntries:Je}}(G._heartbeatsCache.heartbeats),re=(0,He.L)(JSON.stringify({version:2,heartbeats:Vt}));return G._heartbeatsCache.lastSentHeartbeatDate=Je,Ut.length>0?(G._heartbeatsCache.heartbeats=Ut,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),re})()}}function It(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,L.Z)(function*(){return!!(0,He.hl)()&&(0,He.eu)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,L.Z)(function*(){return(yield G._canUseIndexedDBPromise)&&(yield function x(se){return A.apply(this,arguments)}(G.app))||{heartbeats:[]}})()}overwrite(G){var Ae=this;return(0,L.Z)(function*(){var Je;if(yield Ae._canUseIndexedDBPromise){const Ut=yield Ae.read();return ee(Ae.app,{lastSentHeartbeatDate:null!==(Je=G.lastSentHeartbeatDate)&&void 0!==Je?Je:Ut.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var Ae=this;return(0,L.Z)(function*(){var Je;if(yield Ae._canUseIndexedDBPromise){const Ut=yield Ae.read();return ee(Ae.app,{lastSentHeartbeatDate:null!==(Je=G.lastSentHeartbeatDate)&&void 0!==Je?Je:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...G.heartbeats]})}})()}}function wi(se){return(0,He.L)(JSON.stringify({version:2,heartbeats:se})).length}!function Uo(se){Tr(new X.wA("platform-logger",G=>new Ir(G),"PRIVATE")),Tr(new X.wA("heartbeat",G=>new nt(G),"PRIVATE")),Dr(xi,"0.9.23",se),Dr(xi,"0.9.23","esm2017"),Dr("fire-js","")}("")},537:(cs,Lr,ft)=>{"use strict";ft.d(Lr,{H0:()=>Dn,wA:()=>Y,zt:()=>$n});var L=ft(861),X=ft(58);class Y{constructor(Te,Re,tt){this.name=Te,this.instanceFactory=Re,this.type=tt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Te){return this.instantiationMode=Te,this}setMultipleInstances(Te){return this.multipleInstances=Te,this}setServiceProps(Te){return this.serviceProps=Te,this}setInstanceCreatedCallback(Te){return this.onInstanceCreated=Te,this}}const He="[DEFAULT]";class $n{constructor(Te,Re){this.name=Te,this.container=Re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Te){const Re=this.normalizeInstanceIdentifier(Te);if(!this.instancesDeferred.has(Re)){const tt=new X.BH;if(this.instancesDeferred.set(Re,tt),this.isInitialized(Re)||this.shouldAutoInitialize())try{const Pt=this.getOrInitializeService({instanceIdentifier:Re});Pt&&tt.resolve(Pt)}catch{}}return this.instancesDeferred.get(Re).promise}getImmediate(Te){var Re;const tt=this.normalizeInstanceIdentifier(Te?.identifier),Pt=null!==(Re=Te?.optional)&&void 0!==Re&&Re;if(!this.isInitialized(tt)&&!this.shouldAutoInitialize()){if(Pt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:tt})}catch(an){if(Pt)return null;throw an}}getComponent(){return this.component}setComponent(Te){if(Te.name!==this.name)throw Error(`Mismatching Component ${Te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Te,this.shouldAutoInitialize()){if(function Er(nn){return"EAGER"===nn.instantiationMode}(Te))try{this.getOrInitializeService({instanceIdentifier:He})}catch{}for(const[Re,tt]of this.instancesDeferred.entries()){const Pt=this.normalizeInstanceIdentifier(Re);try{const an=this.getOrInitializeService({instanceIdentifier:Pt});tt.resolve(an)}catch{}}}}clearInstance(Te=He){this.instancesDeferred.delete(Te),this.instancesOptions.delete(Te),this.instances.delete(Te)}delete(){var Te=this;return(0,L.Z)(function*(){const Re=Array.from(Te.instances.values());yield Promise.all([...Re.filter(tt=>"INTERNAL"in tt).map(tt=>tt.INTERNAL.delete()),...Re.filter(tt=>"_delete"in tt).map(tt=>tt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Te=He){return this.instances.has(Te)}getOptions(Te=He){return this.instancesOptions.get(Te)||{}}initialize(Te={}){const{options:Re={}}=Te,tt=this.normalizeInstanceIdentifier(Te.instanceIdentifier);if(this.isInitialized(tt))throw Error(`${this.name}(${tt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pt=this.getOrInitializeService({instanceIdentifier:tt,options:Re});for(const[an,it]of this.instancesDeferred.entries())tt===this.normalizeInstanceIdentifier(an)&&it.resolve(Pt);return Pt}onInit(Te,Re){var tt;const Pt=this.normalizeInstanceIdentifier(Re),an=null!==(tt=this.onInitCallbacks.get(Pt))&&void 0!==tt?tt:new Set;an.add(Te),this.onInitCallbacks.set(Pt,an);const it=this.instances.get(Pt);return it&&Te(it,Pt),()=>{an.delete(Te)}}invokeOnInitCallbacks(Te,Re){const tt=this.onInitCallbacks.get(Re);if(tt)for(const Pt of tt)try{Pt(Te,Re)}catch{}}getOrInitializeService({instanceIdentifier:Te,options:Re={}}){let tt=this.instances.get(Te);if(!tt&&this.component&&(tt=this.component.instanceFactory(this.container,{instanceIdentifier:(nn=Te,nn===He?void 0:nn),options:Re}),this.instances.set(Te,tt),this.instancesOptions.set(Te,Re),this.invokeOnInitCallbacks(tt,Te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Te,tt)}catch{}var nn;return tt||null}normalizeInstanceIdentifier(Te=He){return this.component?this.component.multipleInstances?Te:He:Te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Dn{constructor(Te){this.name=Te,this.providers=new Map}addComponent(Te){const Re=this.getProvider(Te.name);if(Re.isComponentSet())throw new Error(`Component ${Te.name} has already been registered with ${this.name}`);Re.setComponent(Te)}addOrOverwriteComponent(Te){this.getProvider(Te.name).isComponentSet()&&this.providers.delete(Te.name),this.addComponent(Te)}getProvider(Te){if(this.providers.has(Te))return this.providers.get(Te);const Re=new $n(Te,this);return this.providers.set(Te,Re),Re}getProviders(){return Array.from(this.providers.values())}}},879:(cs,Lr,ft)=>{"use strict";ft.d(Lr,{Am:()=>nn,Ub:()=>Dn,Yd:()=>Er,in:()=>X});const L=[];var X=function(Te){return Te[Te.DEBUG=0]="DEBUG",Te[Te.VERBOSE=1]="VERBOSE",Te[Te.INFO=2]="INFO",Te[Te.WARN=3]="WARN",Te[Te.ERROR=4]="ERROR",Te[Te.SILENT=5]="SILENT",Te}(X||{});const Y={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},He=X.INFO,$n={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},lt=(Te,Re,...tt)=>{if(Re<Te.logLevel)return;const Pt=(new Date).toISOString(),an=$n[Re];if(!an)throw new Error(`Attempted to log a message with an invalid logType (value: ${Re})`);console[an](`[${Pt}]  ${Te.name}:`,...tt)};class Er{constructor(Re){this.name=Re,this._logLevel=He,this._logHandler=lt,this._userLogHandler=null,L.push(this)}get logLevel(){return this._logLevel}set logLevel(Re){if(!(Re in X))throw new TypeError(`Invalid value "${Re}" assigned to \`logLevel\``);this._logLevel=Re}setLogLevel(Re){this._logLevel="string"==typeof Re?Y[Re]:Re}get logHandler(){return this._logHandler}set logHandler(Re){if("function"!=typeof Re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Re}get userLogHandler(){return this._userLogHandler}set userLogHandler(Re){this._userLogHandler=Re}debug(...Re){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...Re),this._logHandler(this,X.DEBUG,...Re)}log(...Re){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...Re),this._logHandler(this,X.VERBOSE,...Re)}info(...Re){this._userLogHandler&&this._userLogHandler(this,X.INFO,...Re),this._logHandler(this,X.INFO,...Re)}warn(...Re){this._userLogHandler&&this._userLogHandler(this,X.WARN,...Re),this._logHandler(this,X.WARN,...Re)}error(...Re){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...Re),this._logHandler(this,X.ERROR,...Re)}}function Dn(Te){L.forEach(Re=>{Re.setLogLevel(Te)})}function nn(Te,Re){for(const tt of L){let Pt=null;Re&&Re.level&&(Pt=Y[Re.level]),tt.userLogHandler=null===Te?null:(an,it,...We)=>{const St=We.map(Ue=>{if(null==Ue)return null;if("string"==typeof Ue)return Ue;if("number"==typeof Ue||"boolean"==typeof Ue)return Ue.toString();if(Ue instanceof Error)return Ue.message;try{return JSON.stringify(Ue)}catch{return null}}).filter(Ue=>Ue).join(" ");it>=(Pt??an.logLevel)&&Te({level:X[it].toLowerCase(),message:St,args:We,type:an.name})}}}},365:(cs,Lr,ft)=>{"use strict";ft.r(Lr);var L=ft(861),X=ft(106),Y=ft(562),He=ft(58),Er=(ft(534),ft(879),ft(537));function Dn(){return window}function Re(){return Re=(0,L.Z)(function*(P,x,A){var ee;const{BuildInfo:ae}=Dn();(0,Y.au)(x.sessionId,"AuthEvent did not contain a session ID");const Le=yield function Ue(P){return Cr.apply(this,arguments)}(x.sessionId),Et={};return(0,Y.av)()?Et.ibi=ae.packageName:(0,Y.aw)()?Et.apn=ae.packageName:(0,Y.ax)(P,"operation-not-supported-in-this-environment"),ae.displayName&&(Et.appDisplayName=ae.displayName),Et.sessionId=Le,(0,Y.ay)(P,A,x.type,void 0,null!==(ee=x.eventId)&&void 0!==ee?ee:void 0,Et)}),Re.apply(this,arguments)}function Pt(){return(Pt=(0,L.Z)(function*(P){const{BuildInfo:x}=Dn(),A={};(0,Y.av)()?A.iosBundleId=x.packageName:(0,Y.aw)()?A.androidPackageName=x.packageName:(0,Y.ax)(P,"operation-not-supported-in-this-environment"),yield(0,Y.az)(P,A)})).apply(this,arguments)}function We(){return(We=(0,L.Z)(function*(P,x,A){const{cordova:ee}=Dn();let ae=()=>{};try{yield new Promise((Le,Et)=>{let De=null;function nt(){var Ft;Le();const wi=null===(Ft=ee.plugins.browsertab)||void 0===Ft?void 0:Ft.close;"function"==typeof wi&&wi(),"function"==typeof A?.close&&A.close()}function It(){De||(De=window.setTimeout(()=>{Et((0,Y.aB)(P,"redirect-cancelled-by-user"))},2e3))}function Mt(){"visible"===document?.visibilityState&&It()}x.addPassiveListener(nt),document.addEventListener("resume",It,!1),(0,Y.aw)()&&document.addEventListener("visibilitychange",Mt,!1),ae=()=>{x.removePassiveListener(nt),document.removeEventListener("resume",It,!1),document.removeEventListener("visibilitychange",Mt,!1),De&&window.clearTimeout(De)}})}finally{ae()}})).apply(this,arguments)}function Cr(){return(Cr=(0,L.Z)(function*(P){const x=function or(P){if((0,Y.au)(/[0-9a-zA-Z]+/.test(P),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(P);const x=new ArrayBuffer(P.length),A=new Uint8Array(x);for(let ee=0;ee<P.length;ee++)A[ee]=P.charCodeAt(ee);return A}(P),A=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(A)).map(ae=>ae.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class vn extends Y.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInialized(),this.passiveListeners.forEach(A=>A(x)),super.onEvent(x)}initialized(){var x=this;return(0,L.Z)(function*(){yield x.initPromise})()}}function zt(P){return ye.apply(this,arguments)}function ye(){return(ye=(0,L.Z)(function*(P){const x=yield Ir()._get($t(P));return x&&(yield Ir()._remove($t(P))),x})).apply(this,arguments)}function qn(){const P=[];for(let A=0;A<20;A++){const ee=Math.floor(62*Math.random());P.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ee))}return P.join("")}function Ir(){return(0,Y.aE)(Y.b)}function $t(P){return(0,Y.aF)("authEvent",P.config.apiKey,P.name)}function Vr(P){if(!P?.includes("?"))return{};const[x,...A]=P.split("?");return(0,He.zd)(A.join("?"))}const ue=class Oi{constructor(){this._redirectPersistence=Y.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Y.aG,this._overrideRedirectResult=Y.aH}_initialize(x){var A=this;return(0,L.Z)(function*(){const ee=x._key();let ae=A.eventManagers.get(ee);return ae||(ae=new vn(x),A.eventManagers.set(ee,ae),A.attachCallbackListeners(x,ae)),ae})()}_openPopup(x){(0,Y.ax)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,A,ee,ae){var Le=this;return(0,L.Z)(function*(){!function St(P){var x,A,ee,ae,Le,Et,De,nt,It,Mt;const Ft=Dn();(0,Y.aC)("function"==typeof(null===(x=Ft?.universalLinks)||void 0===x?void 0:x.subscribe),P,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,Y.aC)(typeof(null===(A=Ft?.BuildInfo)||void 0===A?void 0:A.packageName)<"u",P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,Y.aC)("function"==typeof(null===(Le=null===(ae=null===(ee=Ft?.cordova)||void 0===ee?void 0:ee.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Le?void 0:Le.openUrl),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aC)("function"==typeof(null===(nt=null===(De=null===(Et=Ft?.cordova)||void 0===Et?void 0:Et.plugins)||void 0===De?void 0:De.browsertab)||void 0===nt?void 0:nt.isAvailable),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aC)("function"==typeof(null===(Mt=null===(It=Ft?.cordova)||void 0===It?void 0:It.InAppBrowser)||void 0===Mt?void 0:Mt.open),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const Et=yield Le._initialize(x);yield Et.initialized(),Et.resetRedirect(),(0,Y.aI)(),yield Le._originValidation(x);const De=function ni(P,x,A=null){return{type:x,eventId:A,urlResponse:null,sessionId:qn(),postBody:null,tenantId:P.tenantId,error:(0,Y.aB)(P,"no-auth-event")}}(x,ee,ae);yield function E(P,x){return Ir()._set($t(P),x)}(x,De);const nt=yield function Te(P,x,A){return Re.apply(this,arguments)}(x,De,A),It=yield function an(P){const{cordova:x}=Dn();return new Promise(A=>{x.plugins.browsertab.isAvailable(ee=>{let ae=null;ee?x.plugins.browsertab.openUrl(P):ae=x.InAppBrowser.open(P,(0,Y.aA)()?"_blank":"_system","location=yes"),A(ae)})})}(nt);return function it(P,x,A){return We.apply(this,arguments)}(x,Et,It)})()}_isIframeWebStorageSupported(x,A){throw new Error("Method not implemented.")}_originValidation(x){const A=x._key();return this.originValidationPromises[A]||(this.originValidationPromises[A]=function tt(P){return Pt.apply(this,arguments)}(x)),this.originValidationPromises[A]}attachCallbackListeners(x,A){const{universalLinks:ee,handleOpenURL:ae,BuildInfo:Le}=Dn(),Et=setTimeout((0,L.Z)(function*(){yield zt(x),A.onEvent(ge())}),500),De=function(){var Mt=(0,L.Z)(function*(Ft){clearTimeout(Et);const wi=yield zt(x);let Uo=null;wi&&Ft?.url&&(Uo=function gn(P,x){var A,ee;const ae=function xs(P){const x=Vr(P),A=x.link?decodeURIComponent(x.link):void 0,ee=Vr(A).link,ae=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return Vr(ae).link||ae||ee||A||P}(x);if(ae.includes("/__/auth/callback")){const Le=Vr(ae),Et=Le.firebaseError?function xi(P){try{return JSON.parse(P)}catch{return null}}(decodeURIComponent(Le.firebaseError)):null,De=null===(ee=null===(A=Et?.code)||void 0===A?void 0:A.split("auth/"))||void 0===ee?void 0:ee[1],nt=De?(0,Y.aB)(De):null;return nt?{type:P.type,eventId:P.eventId,tenantId:P.tenantId,error:nt,urlResponse:null,sessionId:null,postBody:null}:{type:P.type,eventId:P.eventId,tenantId:P.tenantId,sessionId:P.sessionId,urlResponse:ae,postBody:null}}return null}(wi,Ft.url)),A.onEvent(Uo||ge())});return function(wi){return Mt.apply(this,arguments)}}();typeof ee<"u"&&"function"==typeof ee.subscribe&&ee.subscribe(null,De);const nt=ae,It=`${Le.packageName.toLowerCase()}://`;Dn().handleOpenURL=function(){var Mt=(0,L.Z)(function*(Ft){if(Ft.toLowerCase().startsWith(It)&&De({url:Ft}),"function"==typeof nt)try{nt(Ft)}catch(wi){console.error(wi)}});return function(Ft){return Mt.apply(this,arguments)}}()}};function ge(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,Y.aB)("no-auth-event")}}function ut(){var P;return(null===(P=self?.location)||void 0===P?void 0:P.protocol)||null}function Cn(P=(0,He.z$)()){return!("file:"!==ut()&&"ionic:"!==ut()&&"capacitor:"!==ut()||!P.toLowerCase().match(/iphone|ipad|ipod|android/))}function In(){try{const P=self.localStorage,x=Y.aN();if(P)return P.setItem(x,"1"),P.removeItem(x),!function wt(P=(0,He.z$)()){return function un(){return(0,He.w1)()&&11===document?.documentMode}()||function wn(P=(0,He.z$)()){return/Edge\/\d+/.test(P)}(P)}()||(0,He.hl)()}catch{return Gn()&&(0,He.hl)()}return!1}function Gn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xn(){return(function qt(){return"http:"===ut()||"https:"===ut()}()||(0,He.ru)()||Cn())&&!function pt(){return(0,He.b$)()||(0,He.UG)()}()&&In()&&!Gn()}function dn(){return Cn()&&typeof document<"u"}function yi(){return(yi=(0,L.Z)(function*(){return!!dn()&&new Promise(P=>{const x=setTimeout(()=>{P(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),P(!0)})})})).apply(this,arguments)}const Mn={LOCAL:"local",NONE:"none",SESSION:"session"},Ki=Y.aC,Os="persistence";function vi(P){return br.apply(this,arguments)}function br(){return(br=(0,L.Z)(function*(P){yield P._initializationPromise;const x=Rn(),A=Y.aF(Os,P.config.apiKey,P.name);x&&x.setItem(A,P._getPersistence())})).apply(this,arguments)}function Rn(){var P;try{return(null===(P=function qr(){return typeof window<"u"?window:null}())||void 0===P?void 0:P.sessionStorage)||null}catch{return null}}const Ns=Y.aC;class Tr{constructor(){this.browserResolver=Y.aE(Y.k),this.cordovaResolver=Y.aE(ue),this.underlyingResolver=null,this._redirectPersistence=Y.a,this._completeRedirectFn=Y.aG,this._overrideRedirectResult=Y.aH}_initialize(x){var A=this;return(0,L.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,A,ee,ae){var Le=this;return(0,L.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openPopup(x,A,ee,ae)})()}_openRedirect(x,A,ee,ae){var Le=this;return(0,L.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openRedirect(x,A,ee,ae)})()}_isIframeWebStorageSupported(x,A){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,A)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return dn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ns(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,L.Z)(function*(){if(x.underlyingResolver)return;const A=yield function li(){return yi.apply(this,arguments)}();x.underlyingResolver=A?x.cordovaResolver:x.browserResolver})()}}function Zi(P){return P.unwrap()}function Ni(P){return mn(P)}function mn(P){const{_tokenResponse:x}=P instanceof He.ZR?P.customData:P;if(!x)return null;if(!(P instanceof He.ZR)&&"temporaryProof"in x&&"phoneNumber"in x)return Y.P.credentialFromResult(P);const A=x.providerId;if(!A||A===Y.p.PASSWORD)return null;let ee;switch(A){case Y.p.GOOGLE:ee=Y.X;break;case Y.p.FACEBOOK:ee=Y.W;break;case Y.p.GITHUB:ee=Y.Y;break;case Y.p.TWITTER:ee=Y.$;break;default:const{oauthIdToken:ae,oauthAccessToken:Le,oauthTokenSecret:Et,pendingToken:De,nonce:nt}=x;return Le||Et||ae||De?De?A.startsWith("saml.")?Y.aQ._create(A,De):Y.N._fromParams({providerId:A,signInMethod:A,pendingToken:De,idToken:ae,accessToken:Le}):new Y.Z(A).credential({idToken:ae,accessToken:Le,rawNonce:nt}):null}return P instanceof He.ZR?ee.credentialFromError(P):ee.credentialFromResult(P)}function _n(P,x){return x.catch(A=>{throw A instanceof He.ZR&&function hs(P,x){var A;const ee=null===(A=x.customData)||void 0===A?void 0:A._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new fs(P,Y.as(P,x));else if(ee){const ae=mn(x),Le=x;ae&&(Le.credential=ae,Le.tenantId=ee.tenantId||void 0,Le.email=ee.email||void 0,Le.phoneNumber=ee.phoneNumber||void 0)}}(P,A),A}).then(A=>{const ae=A.user;return{operationType:A.operationType,credential:Ni(A),additionalUserInfo:Y.aq(A),user:Sr.getOrCreate(ae)}})}function ri(P,x){return no.apply(this,arguments)}function no(){return(no=(0,L.Z)(function*(P,x){const A=yield x;return{verificationId:A.verificationId,confirm:ee=>_n(P,A.confirm(ee))}})).apply(this,arguments)}class fs{constructor(x,A){this.resolver=A,this.auth=function ds(P){return P.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return _n(Zi(this.auth),this.resolver.resolveSignIn(x))}}class Sr{constructor(x){this._delegate=x,this.multiFactor=Y.at(x)}static getOrCreate(x){return Sr.USER_MAP.has(x)||Sr.USER_MAP.set(x,new Sr(x)),Sr.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var A=this;return(0,L.Z)(function*(){return _n(A.auth,Y.a2(A._delegate,x))})()}linkWithPhoneNumber(x,A){var ee=this;return(0,L.Z)(function*(){return ri(ee.auth,Y.l(ee._delegate,x,A))})()}linkWithPopup(x){var A=this;return(0,L.Z)(function*(){return _n(A.auth,Y.d(A._delegate,x,Tr))})()}linkWithRedirect(x){var A=this;return(0,L.Z)(function*(){return yield vi(Y.aJ(A.auth)),Y.g(A._delegate,x,Tr)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var A=this;return(0,L.Z)(function*(){return _n(A.auth,Y.a3(A._delegate,x))})()}reauthenticateWithPhoneNumber(x,A){return ri(this.auth,Y.r(this._delegate,x,A))}reauthenticateWithPopup(x){return _n(this.auth,Y.e(this._delegate,x,Tr))}reauthenticateWithRedirect(x){var A=this;return(0,L.Z)(function*(){return yield vi(Y.aJ(A.auth)),Y.h(A._delegate,x,Tr)})()}sendEmailVerification(x){return Y.ag(this._delegate,x)}unlink(x){var A=this;return(0,L.Z)(function*(){return yield Y.ap(A._delegate,x),A})()}updateEmail(x){return Y.al(this._delegate,x)}updatePassword(x){return Y.am(this._delegate,x)}updatePhoneNumber(x){return Y.u(this._delegate,x)}updateProfile(x){return Y.ak(this._delegate,x)}verifyBeforeUpdateEmail(x,A){return Y.ah(this._delegate,x,A)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Sr.USER_MAP=new WeakMap;const ci=Y.aC;let Gr=(()=>{class P{constructor(A,ee){if(this.app=A,ee.isInitialized())return this._delegate=ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ae}=A.options;ci(ae,"invalid-api-key",{appName:A.name}),ci(ae,"invalid-api-key",{appName:A.name});const Le=typeof window<"u"?Tr:void 0;this._delegate=ee.initialize({options:{persistence:ks(ae,A.name),popupRedirectResolver:Le}}),this._delegate._updateErrorMap(Y.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Sr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(A){this._delegate.languageCode=A}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(A){this._delegate.tenantId=A}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(A,ee){Y.K(this._delegate,A,ee)}applyActionCode(A){return Y.a7(this._delegate,A)}checkActionCode(A){return Y.a8(this._delegate,A)}confirmPasswordReset(A,ee){return Y.a6(this._delegate,A,ee)}createUserWithEmailAndPassword(A,ee){var ae=this;return(0,L.Z)(function*(){return _n(ae._delegate,Y.aa(ae._delegate,A,ee))})()}fetchProvidersForEmail(A){return this.fetchSignInMethodsForEmail(A)}fetchSignInMethodsForEmail(A){return Y.af(this._delegate,A)}isSignInWithEmailLink(A){return Y.ad(this._delegate,A)}getRedirectResult(){var A=this;return(0,L.Z)(function*(){ci(Xn(),A._delegate,"operation-not-supported-in-this-environment");const ee=yield Y.j(A._delegate,Tr);return ee?_n(A._delegate,Promise.resolve(ee)):{credential:null,user:null}})()}addFrameworkForLogging(A){!function be(P,x){(0,Y.aJ)(P)._logFramework(x)}(this._delegate,A)}onAuthStateChanged(A,ee,ae){const{next:Le,error:Et,complete:De}=Dr(A,ee,ae);return this._delegate.onAuthStateChanged(Le,Et,De)}onIdTokenChanged(A,ee,ae){const{next:Le,error:Et,complete:De}=Dr(A,ee,ae);return this._delegate.onIdTokenChanged(Le,Et,De)}sendSignInLinkToEmail(A,ee){return Y.ac(this._delegate,A,ee)}sendPasswordResetEmail(A,ee){return Y.a5(this._delegate,A,ee||void 0)}setPersistence(A){var ee=this;return(0,L.Z)(function*(){let ae;switch(function Jn(P,x){Ki(Object.values(Mn).includes(x),P,"invalid-persistence-type"),(0,He.b$)()?Ki(x!==Mn.SESSION,P,"unsupported-persistence-type"):(0,He.UG)()?Ki(x===Mn.NONE,P,"unsupported-persistence-type"):Gn()?Ki(x===Mn.NONE||x===Mn.LOCAL&&(0,He.hl)(),P,"unsupported-persistence-type"):Ki(x===Mn.NONE||In(),P,"unsupported-persistence-type")}(ee._delegate,A),A){case Mn.SESSION:ae=Y.a;break;case Mn.LOCAL:ae=(yield Y.aE(Y.i)._isAvailable())?Y.i:Y.b;break;case Mn.NONE:ae=Y.U;break;default:return Y.ax("argument-error",{appName:ee._delegate.name})}return ee._delegate.setPersistence(ae)})()}signInAndRetrieveDataWithCredential(A){return this.signInWithCredential(A)}signInAnonymously(){return _n(this._delegate,Y.a0(this._delegate))}signInWithCredential(A){return _n(this._delegate,Y.a1(this._delegate,A))}signInWithCustomToken(A){return _n(this._delegate,Y.a4(this._delegate,A))}signInWithEmailAndPassword(A,ee){return _n(this._delegate,Y.ab(this._delegate,A,ee))}signInWithEmailLink(A,ee){return _n(this._delegate,Y.ae(this._delegate,A,ee))}signInWithPhoneNumber(A,ee){return ri(this._delegate,Y.s(this._delegate,A,ee))}signInWithPopup(A){var ee=this;return(0,L.Z)(function*(){return ci(Xn(),ee._delegate,"operation-not-supported-in-this-environment"),_n(ee._delegate,Y.c(ee._delegate,A,Tr))})()}signInWithRedirect(A){var ee=this;return(0,L.Z)(function*(){return ci(Xn(),ee._delegate,"operation-not-supported-in-this-environment"),yield vi(ee._delegate),Y.f(ee._delegate,A,Tr)})()}updateCurrentUser(A){return this._delegate.updateCurrentUser(A)}verifyPasswordResetCode(A){return Y.a9(this._delegate,A)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return P.Persistence=Mn,P})();function Dr(P,x,A){let ee=P;"function"!=typeof P&&({next:ee,error:x,complete:A}=P);const ae=ee;return{next:Et=>ae(Et&&Sr.getOrCreate(Et)),error:x,complete:A}}function ks(P,x){const A=function Ze(P,x){const A=Rn();if(!A)return[];const ee=Y.aF(Os,P,x);switch(A.getItem(ee)){case Mn.NONE:return[Y.U];case Mn.LOCAL:return[Y.i,Y.a];case Mn.SESSION:return[Y.a];default:return[]}}(P,x);if(typeof self<"u"&&!A.includes(Y.i)&&A.push(Y.i),typeof window<"u")for(const ee of[Y.b,Y.a])A.includes(ee)||A.push(ee);return A.includes(Y.U)||A.push(Y.U),A}class tn{constructor(){this.providerId="phone",this._delegate=new Y.P(Zi(X.Z.auth()))}static credential(x,A){return Y.P.credential(x,A)}verifyPhoneNumber(x,A){return this._delegate.verifyPhoneNumber(x,A)}unwrap(){return this._delegate}}tn.PHONE_SIGN_IN_METHOD=Y.P.PHONE_SIGN_IN_METHOD,tn.PROVIDER_ID=Y.P.PROVIDER_ID;const vo=Y.aC;class Ar{constructor(x,A,ee=X.Z.app()){var ae;vo(null===(ae=ee.options)||void 0===ae?void 0:ae.apiKey,"invalid-api-key",{appName:ee.name}),this._delegate=new Y.R(ee.auth(),x,A),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function B(P){P.INTERNAL.registerComponent(new Er.wA("auth-compat",x=>{const A=x.getProvider("app-compat").getImmediate(),ee=x.getProvider("auth");return new Gr(A,ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Y.A.EMAIL_SIGNIN,PASSWORD_RESET:Y.A.PASSWORD_RESET,RECOVER_EMAIL:Y.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Y.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Y.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Y.A.VERIFY_EMAIL}},EmailAuthProvider:Y.V,FacebookAuthProvider:Y.W,GithubAuthProvider:Y.Y,GoogleAuthProvider:Y.X,OAuthProvider:Y.Z,SAMLAuthProvider:Y._,PhoneAuthProvider:tn,PhoneMultiFactorGenerator:Y.m,RecaptchaVerifier:Ar,TwitterAuthProvider:Y.$,Auth:Gr,AuthCredential:Y.L,Error:He.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),P.registerVersion("@firebase/auth-compat","0.4.9")}(X.Z)},861:(cs,Lr,ft)=>{"use strict";function L(Y,He,$n,lt,Er,Dn,nn){try{var Te=Y[Dn](nn),Re=Te.value}catch(tt){return void $n(tt)}Te.done?He(Re):Promise.resolve(Re).then(lt,Er)}function X(Y){return function(){var He=this,$n=arguments;return new Promise(function(lt,Er){var Dn=Y.apply(He,$n);function nn(Re){L(Dn,lt,Er,nn,Te,"next",Re)}function Te(Re){L(Dn,lt,Er,nn,Te,"throw",Re)}nn(void 0)})}}ft.d(Lr,{Z:()=>X})},582:(cs,Lr,ft)=>{"use strict";function He(ue,ge){var be={};for(var le in ue)Object.prototype.hasOwnProperty.call(ue,le)&&ge.indexOf(le)<0&&(be[le]=ue[le]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(le=Object.getOwnPropertySymbols(ue);Se<le.length;Se++)ge.indexOf(le[Se])<0&&Object.prototype.propertyIsEnumerable.call(ue,le[Se])&&(be[le[Se]]=ue[le[Se]])}return be}function tt(ue,ge,be,le){return new(be||(be=Promise))(function(Fe,ut){function qt(un){try{pt(le.next(un))}catch(wn){ut(wn)}}function Cn(un){try{pt(le.throw(un))}catch(wn){ut(wn)}}function pt(un){un.done?Fe(un.value):function Se(Fe){return Fe instanceof be?Fe:new be(function(ut){ut(Fe)})}(un.value).then(qt,Cn)}pt((le=le.apply(ue,ge||[])).next())})}function kt(ue){return this instanceof kt?(this.v=ue,this):new kt(ue)}function vn(ue,ge,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,le=be.apply(ue,ge||[]),Fe=[];return Se={},ut("next"),ut("throw"),ut("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function ut(wt){le[wt]&&(Se[wt]=function(In){return new Promise(function(Gn,Xn){Fe.push([wt,In,Gn,Xn])>1||qt(wt,In)})})}function qt(wt,In){try{!function Cn(wt){wt.value instanceof kt?Promise.resolve(wt.value.v).then(pt,un):wn(Fe[0][2],wt)}(le[wt](In))}catch(Gn){wn(Fe[0][3],Gn)}}function pt(wt){qt("next",wt)}function un(wt){qt("throw",wt)}function wn(wt,In){wt(In),Fe.shift(),Fe.length&&qt(Fe[0][0],Fe[0][1])}}function E(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ge=ue[Symbol.asyncIterator];return ge?ge.call(ue):(ue=function We(ue){var ge="function"==typeof Symbol&&Symbol.iterator,be=ge&&ue[ge],le=0;if(be)return be.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&le>=ue.length&&(ue=void 0),{value:ue&&ue[le++],done:!ue}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),be={},le("next"),le("throw"),le("return"),be[Symbol.asyncIterator]=function(){return this},be);function le(Fe){be[Fe]=ue[Fe]&&function(ut){return new Promise(function(qt,Cn){!function Se(Fe,ut,qt,Cn){Promise.resolve(Cn).then(function(pt){Fe({value:pt,done:qt})},ut)}(qt,Cn,(ut=ue[Fe](ut)).done,ut.value)})}}}ft.d(Lr,{FC:()=>vn,KL:()=>E,_T:()=>He,mG:()=>tt,qq:()=>kt}),"function"==typeof SuppressedError&&SuppressedError}},cs=>{cs(cs.s=947)}]);