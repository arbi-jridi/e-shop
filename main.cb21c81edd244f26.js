(self.webpackChunke_shop=self.webpackChunke_shop||[]).push([[179],{562:(cs,Or,ft)=>{"use strict";ft.d(Or,{$:()=>to,A:()=>Me,G:()=>sn,K:()=>Eh,L:()=>Ls,N:()=>ms,P:()=>ob,R:()=>ib,U:()=>Et,V:()=>V,W:()=>k,X:()=>Oe,Y:()=>ve,Z:()=>Ee,_:()=>or,a:()=>Ig,a0:()=>En,a1:()=>cn,a2:()=>vs,a3:()=>Ph,a4:()=>qc,a5:()=>Vt,a6:()=>Fr,a7:()=>Wr,a8:()=>N,a9:()=>oe,aA:()=>Ft,aB:()=>_n,aC:()=>_e,aD:()=>qv,aE:()=>ae,aF:()=>Re,aG:()=>xl,aH:()=>Hv,aI:()=>Vg,aJ:()=>gt,aN:()=>Zc,aQ:()=>bt,aa:()=>fe,ab:()=>ye,ac:()=>Be,ad:()=>_t,ae:()=>ot,af:()=>un,ag:()=>Dr,ah:()=>bi,ak:()=>$o,al:()=>Ev,am:()=>Ha,ap:()=>Us,aq:()=>Il,as:()=>tN,at:()=>oN,au:()=>zn,av:()=>Je,aw:()=>se,ax:()=>Ot,ay:()=>zg,az:()=>Hh,b:()=>Q0,c:()=>jv,d:()=>Fg,e:()=>ub,f:()=>tr,g:()=>zv,h:()=>db,i:()=>Pg,j:()=>fb,k:()=>qr,l:()=>Og,m:()=>Wg,p:()=>Sn,r:()=>Ln,s:()=>we,u:()=>Ng,w:()=>Kc});var L=ft(861),X=ft(58),Y=ft(534),$e=ft(879),Un=ft(582),lt=ft(537);const Sn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Me={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const sn=function tt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},it=function At(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ze=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ve=new $e.Yd("@firebase/auth");function ir(m,...c){Ve.logLevel<=$e.in.ERROR&&Ve.error(`Auth (${Y.SDK_VERSION}): ${m}`,...c)}function Ot(m,...c){throw Ht(m,...c)}function _n(m,...c){return Ht(m,...c)}function ti(m,c,f){const _=Object.assign(Object.assign({},it()),{[c]:f});return new X.LL("auth","Firebase",_).create(c,{appName:m.name})}function w(m,c,f){if(!(c instanceof f))throw f.name!==c.constructor.name&&Ot(m,"argument-error"),ti(m,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ht(m,...c){if("string"!=typeof m){const f=c[0],_=[...c.slice(1)];return _[0]&&(_[0].appName=m.name),m._errorFactory.create(f,..._)}return ze.create(m,...c)}function _e(m,c,...f){if(!m)throw Ht(c,...f)}function hn(m){const c="INTERNAL ASSERTION FAILED: "+m;throw ir(c),new Error(c)}function zn(m,c){m||hn(c)}function Cr(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function Bt(){return"http:"===xi()||"https:"===xi()}function xi(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class fr{constructor(c,f){this.shortDelay=c,this.longDelay=f,zn(f>c,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function xs(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Bt()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Oi(m,c){zn(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return c?`${f}${c.startsWith("/")?c.slice(1):c}`:f}class ue{static initialize(c,f,_){this.fetchImpl=c,f&&(this.headersImpl=f),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new fr(3e4,6e4);function le(m,c){return m.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:m.tenantId}):c}function Se(m,c,f,_){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,L.Z)(function*(m,c,f,_,I={}){return ut(m,I,(0,L.Z)(function*(){let M={},W={};_&&("GET"===c?W=_:M={body:JSON.stringify(_)});const he=(0,X.xO)(Object.assign({key:m.config.apiKey},W)).slice(1),Ae=yield m._getAdditionalHeaders();return Ae["Content-Type"]="application/json",m.languageCode&&(Ae["X-Firebase-Locale"]=m.languageCode),ue.fetch()(on(m,m.config.apiHost,f,he),Object.assign({method:c,headers:Ae,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function ut(m,c,f){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,L.Z)(function*(m,c,f){m._canInitEmulator=!1;const _=Object.assign(Object.assign({},ge),c);try{const I=new vt(m),M=yield Promise.race([f(),I.promise]);I.clearNetworkTimeout();const W=yield M.json();if("needConfirmation"in W)throw Cn(m,"account-exists-with-different-credential",W);if(M.ok&&!("errorMessage"in W))return W;{const he=M.ok?W.errorMessage:W.error.message,[Ae,et]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw Cn(m,"credential-already-in-use",W);if("EMAIL_EXISTS"===Ae)throw Cn(m,"email-already-in-use",W);if("USER_DISABLED"===Ae)throw Cn(m,"user-disabled",W);const Ye=_[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(et)throw ti(m,Ye,et);Ot(m,Ye)}}catch(I){if(I instanceof X.ZR)throw I;Ot(m,"network-request-failed",{message:String(I)})}})).apply(this,arguments)}function wn(m,c,f,_){return pt.apply(this,arguments)}function pt(){return(pt=(0,L.Z)(function*(m,c,f,_,I={}){const M=yield Se(m,c,f,_,I);return"mfaPendingCredential"in M&&Ot(m,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function on(m,c,f,_){const I=`${c}${f}?${_}`;return m.config.emulator?Oi(m.config,I):`${m.config.apiScheme}://${I}`}function yn(m){switch(m){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vt{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((f,_)=>{this.timer=setTimeout(()=>_(_n(this.auth,"network-request-failed")),Ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cn(m,c,f){const _={appName:m.name};f.email&&(_.email=f.email),f.phoneNumber&&(_.phoneNumber=f.phoneNumber);const I=_n(m,c,_);return I.customData._tokenResponse=f,I}function Wn(m){return void 0!==m&&void 0!==m.getResponse}function Zn(m){return void 0!==m&&void 0!==m.enterprise}class vn{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const f of this.recaptchaEnforcementState)if(f.provider&&f.provider===c)return yn(f.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function yi(){return(yi=(0,L.Z)(function*(m){return(yield Se(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hr(m,c){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,L.Z)(function*(m,c){return Se(m,"GET","/v2/recaptchaConfig",le(m,c))})).apply(this,arguments)}function Os(){return(Os=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function vi(){return(vi=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ke(){return(Ke=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Rn(m){if(m)try{const c=new Date(Number(m));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Ki(){return(Ki=(0,L.Z)(function*(m,c=!1){const f=(0,X.m9)(m),_=yield f.getIdToken(c),I=Ni(_);_e(I&&I.exp&&I.auth_time&&I.iat,f.auth,"internal-error");const M="object"==typeof I.firebase?I.firebase:void 0,W=M?.sign_in_provider;return{claims:I,token:_,authTime:Rn(ds(I.auth_time)),issuedAtTime:Rn(ds(I.iat)),expirationTime:Rn(ds(I.exp)),signInProvider:W||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function ds(m){return 1e3*Number(m)}function Ni(m){const[c,f,_]=m.split(".");if(void 0===c||void 0===f||void 0===_)return ir("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,X.tV)(f);return I?JSON.parse(I):(ir("Failed to decode base64 JWT payload"),null)}catch(I){return ir("Caught error parsing JWT payload as JSON",I?.toString()),null}}function fn(m,c){return pn.apply(this,arguments)}function pn(){return(pn=(0,L.Z)(function*(m,c,f=!1){if(f)return c;try{return yield c}catch(_){throw _ instanceof X.ZR&&function ni({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(_)&&m.auth.currentUser===m&&(yield m.auth.signOut()),_}})).apply(this,arguments)}class eo{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var f;if(c){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const I=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(c=!1){var f=this;if(!this.isRunning)return;const _=this.getInterval(c);this.timerId=setTimeout((0,L.Z)(function*(){yield f.iteration()}),_)}iteration(){var c=this;return(0,L.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&c.schedule(!0))}c.schedule()})()}}class fs{constructor(c,f){this.createdAt=c,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rn(this.lastLoginAt),this.creationTime=Rn(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tr(m){return ci.apply(this,arguments)}function ci(){return ci=(0,L.Z)(function*(m){var c;const f=m.auth,_=yield m.getIdToken(),I=yield fn(m,function Ir(m,c){return Ke.apply(this,arguments)}(f,{idToken:_}));_e(I?.users.length,f,"internal-error");const M=I.users[0];m._notifyReloadListener(M);const W=null!==(c=M.providerUserInfo)&&void 0!==c&&c.length?function an(m){return m.map(c=>{var{providerId:f}=c,_=(0,Un._T)(c,["providerId"]);return{providerId:f,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(M.providerUserInfo):[],he=function ks(m,c){return[...m.filter(_=>!c.some(I=>I.providerId===_.providerId)),...c]}(m.providerData,W),Ye=!!m.isAnonymous&&!(m.email&&M.passwordHash||he?.length),Qt={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:he,metadata:new fs(M.createdAt,M.lastLoginAt),isAnonymous:Ye};Object.assign(m,Qt)}),ci.apply(this,arguments)}function kr(){return(kr=(0,L.Z)(function*(m){const c=(0,X.m9)(m);yield Tr(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Sr(){return(Sr=(0,L.Z)(function*(m,c){const f=yield ut(m,{},(0,L.Z)(function*(){const _=(0,X.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:I,apiKey:M}=m.config,W=on(m,I,"/v1/token",`key=${M}`),he=yield m._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",ue.fetch()(W,{method:"POST",headers:he,body:_})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}function U(){return(U=(0,L.Z)(function*(m,c){return Se(m,"POST","/v2/accounts:revokeToken",le(m,c))})).apply(this,arguments)}class P{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){_e(c.idToken,"internal-error"),_e(typeof c.idToken<"u","internal-error"),_e(typeof c.refreshToken<"u","internal-error");const f="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function hs(m){const c=Ni(m);return _e(c,"internal-error"),_e(typeof c.exp<"u","internal-error"),_e(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,f)}getToken(c,f=!1){var _=this;return(0,L.Z)(function*(){return _e(!_.accessToken||_.refreshToken,c,"user-token-expired"),f||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(c,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,f){var _=this;return(0,L.Z)(function*(){const{accessToken:I,refreshToken:M,expiresIn:W}=yield function yo(m,c){return Sr.apply(this,arguments)}(c,f);_.updateTokensAndExpiration(I,M,Number(W))})()}updateTokensAndExpiration(c,f,_){this.refreshToken=f||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(c,f){const{refreshToken:_,accessToken:I,expirationTime:M}=f,W=new P;return _&&(_e("string"==typeof _,"internal-error",{appName:c}),W.refreshToken=_),I&&(_e("string"==typeof I,"internal-error",{appName:c}),W.accessToken=I),M&&(_e("number"==typeof M,"internal-error",{appName:c}),W.expirationTime=M),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new P,this.toJSON())}_performRefresh(){return hn("not implemented")}}function R(m,c){_e("string"==typeof m||typeof m>"u","internal-error",{appName:c})}class A{constructor(c){var{uid:f,auth:_,stsTokenManager:I}=c,M=(0,Un._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=_,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new fs(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(c){var f=this;return(0,L.Z)(function*(){const _=yield fn(f,f.stsTokenManager.getToken(f.auth,c));return _e(_,f.auth,"internal-error"),f.accessToken!==_&&(f.accessToken=_,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),_})()}getIdTokenResult(c){return function br(m){return Ki.apply(this,arguments)}(this,c)}reload(){return function zr(m){return kr.apply(this,arguments)}(this)}_assign(c){this!==c&&(_e(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(f=>Object.assign({},f)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const f=new A(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(c){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,f=!1){var _=this;return(0,L.Z)(function*(){let I=!1;c.idToken&&c.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(c),I=!0),f&&(yield Tr(_)),yield _.auth._persistUserIfCurrent(_),I&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var c=this;return(0,L.Z)(function*(){const f=yield c.getIdToken();return yield fn(c,function Gi(m,c){return Os.apply(this,arguments)}(c.auth,{idToken:f})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,f){var _,I,M,W,he,Ae,et,Ye;const Qt=null!==(_=f.displayName)&&void 0!==_?_:void 0,es=null!==(I=f.email)&&void 0!==I?I:void 0,wo=null!==(M=f.phoneNumber)&&void 0!==M?M:void 0,Ka=null!==(W=f.photoURL)&&void 0!==W?W:void 0,Zh=null!==(he=f.tenantId)&&void 0!==he?he:void 0,rE=null!==(Ae=f._redirectEventId)&&void 0!==Ae?Ae:void 0,Gg=null!==(et=f.createdAt)&&void 0!==et?et:void 0,bb=null!==(Ye=f.lastLoginAt)&&void 0!==Ye?Ye:void 0,{uid:ts,emailVerified:Yh,isAnonymous:ju,providerData:iE,stsTokenManager:Kg}=f;_e(ts&&Kg,c,"internal-error");const Tb=P.fromJSON(this.name,Kg);_e("string"==typeof ts,c,"internal-error"),R(Qt,c.name),R(es,c.name),_e("boolean"==typeof Yh,c,"internal-error"),_e("boolean"==typeof ju,c,"internal-error"),R(wo,c.name),R(Ka,c.name),R(Zh,c.name),R(rE,c.name),R(Gg,c.name),R(bb,c.name);const Qg=new A({uid:ts,auth:c,email:es,emailVerified:Yh,displayName:Qt,isAnonymous:ju,photoURL:Ka,phoneNumber:wo,tenantId:Zh,stsTokenManager:Tb,createdAt:Gg,lastLoginAt:bb});return iE&&Array.isArray(iE)&&(Qg.providerData=iE.map(Sb=>Object.assign({},Sb))),rE&&(Qg._redirectEventId=rE),Qg}static _fromIdTokenResponse(c,f,_=!1){return(0,L.Z)(function*(){const I=new P;I.updateFromServerResponse(f);const M=new A({uid:f.localId,auth:c,stsTokenManager:I,isAnonymous:_});return yield Tr(M),M})()}}const J=new Map;function ae(m){zn(m instanceof Function,"Expected a class definition");let c=J.get(m);return c?(zn(c instanceof m,"Instance stored in cache mismatched with class"),c):(c=new m,J.set(m,c),c)}const Et=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,L.Z)(function*(){return!0})()}_set(f,_){var I=this;return(0,L.Z)(function*(){I.storage[f]=_})()}_get(f){var _=this;return(0,L.Z)(function*(){const I=_.storage[f];return void 0===I?null:I})()}_remove(f){var _=this;return(0,L.Z)(function*(){delete _.storage[f]})()}_addListener(f,_){}_removeListener(f,_){}}return m.type="NONE",m})();function Re(m,c,f){return`firebase:${m}:${c}:${f}`}class nt{constructor(c,f,_){this.persistence=c,this.auth=f,this.userKey=_;const{config:I,name:M}=this.auth;this.fullUserKey=Re(this.userKey,I.apiKey,M),this.fullPersistenceKey=Re("persistence",I.apiKey,M),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,L.Z)(function*(){const f=yield c.persistence._get(c.fullUserKey);return f?A._fromJSON(c.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var f=this;return(0,L.Z)(function*(){if(f.persistence===c)return;const _=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=c,_?f.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,f,_="authUser"){return(0,L.Z)(function*(){if(!f.length)return new nt(ae(Et),c,_);const I=(yield Promise.all(f.map(function(){var et=(0,L.Z)(function*(Ye){if(yield Ye._isAvailable())return Ye});return function(Ye){return et.apply(this,arguments)}}()))).filter(et=>et);let M=I[0]||ae(Et);const W=Re(_,c.config.apiKey,c.name);let he=null;for(const et of f)try{const Ye=yield et._get(W);if(Ye){const Qt=A._fromJSON(c,Ye);et!==M&&(he=Qt),M=et;break}}catch{}const Ae=I.filter(et=>et._shouldAllowMigration);return M._shouldAllowMigration&&Ae.length?(M=Ae[0],he&&(yield M._set(W,he.toJSON())),yield Promise.all(f.map(function(){var et=(0,L.Z)(function*(Ye){if(Ye!==M)try{yield Ye._remove(W)}catch{}});return function(Ye){return et.apply(this,arguments)}}())),new nt(M,c,_)):new nt(M,c,_)})()}}function Ct(m){const c=m.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Fo(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Pt(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(G(c))return"Blackberry";if(De(c))return"Webos";if(Nt(c))return"Safari";if((c.includes("chrome/")||Ei(c))&&!c.includes("edge/"))return"Chrome";if(se(c))return"Android";{const _=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Pt(m=(0,X.z$)()){return/firefox\//i.test(m)}function Nt(m=(0,X.z$)()){const c=m.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Ei(m=(0,X.z$)()){return/crios\//i.test(m)}function Fo(m=(0,X.z$)()){return/iemobile/i.test(m)}function se(m=(0,X.z$)()){return/android/i.test(m)}function G(m=(0,X.z$)()){return/blackberry/i.test(m)}function De(m=(0,X.z$)()){return/webos/i.test(m)}function Je(m=(0,X.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Ft(m=(0,X.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}function Xn(m=(0,X.z$)()){return Je(m)||se(m)||De(m)||G(m)||/windows phone/i.test(m)||Fo(m)}function ps(m,c=[]){let f;switch(m){case"Browser":f=Ct((0,X.z$)());break;case"Worker":f=`${Ct((0,X.z$)())}-${m}`;break;default:f=m}const _=c.length?c.join(","):"FirebaseCore-web";return`${f}/JsCore/${Y.SDK_VERSION}/${_}`}class Lo{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,f){const _=M=>new Promise((W,he)=>{try{W(c(M))}catch(Ae){he(Ae)}});_.onAbort=f,this.queue.push(_);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(c){var f=this;return(0,L.Z)(function*(){if(f.auth.currentUser===c)return;const _=[];try{for(const I of f.queue)yield I(c),I.onAbort&&_.push(I.onAbort)}catch(I){_.reverse();for(const M of _)try{M()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:I?.message})}})()}}function gs(){return(gs=(0,L.Z)(function*(m,c={}){return Se(m,"GET","/v2/passwordPolicy",le(m,c))})).apply(this,arguments)}class gl{constructor(c){var f,_,I,M;const W=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(f=W.minPasswordLength)&&void 0!==f?f:6,W.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=W.maxPasswordLength),void 0!==W.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=W.containsLowercaseCharacter),void 0!==W.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=W.containsUppercaseCharacter),void 0!==W.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=W.containsNumericCharacter),void 0!==W.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=W.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(I=null===(_=c.allowedNonAlphanumericCharacters)||void 0===_?void 0:_.join(""))&&void 0!==I?I:"",this.forceUpgradeOnSignin=null!==(M=c.forceUpgradeOnSignin)&&void 0!==M&&M,this.schemaVersion=c.schemaVersion}validatePassword(c){var f,_,I,M,W,he;const Ae={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,Ae),this.validatePasswordCharacterOptions(c,Ae),Ae.isValid&&(Ae.isValid=null===(f=Ae.meetsMinPasswordLength)||void 0===f||f),Ae.isValid&&(Ae.isValid=null===(_=Ae.meetsMaxPasswordLength)||void 0===_||_),Ae.isValid&&(Ae.isValid=null===(I=Ae.containsLowercaseLetter)||void 0===I||I),Ae.isValid&&(Ae.isValid=null===(M=Ae.containsUppercaseLetter)||void 0===M||M),Ae.isValid&&(Ae.isValid=null===(W=Ae.containsNumericCharacter)||void 0===W||W),Ae.isValid&&(Ae.isValid=null===(he=Ae.containsNonAlphanumericCharacter)||void 0===he||he),Ae}validatePasswordLengthOptions(c,f){const _=this.customStrengthOptions.minPasswordLength,I=this.customStrengthOptions.maxPasswordLength;_&&(f.meetsMinPasswordLength=c.length>=_),I&&(f.meetsMaxPasswordLength=c.length<=I)}validatePasswordCharacterOptions(c,f){let _;this.updatePasswordCharacterOptionsStatuses(f,!1,!1,!1,!1);for(let I=0;I<c.length;I++)_=c.charAt(I),this.updatePasswordCharacterOptionsStatuses(f,_>="a"&&_<="z",_>="A"&&_<="Z",_>="0"&&_<="9",this.allowedNonAlphanumericCharacters.includes(_))}updatePasswordCharacterOptionsStatuses(c,f,_,I,M){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=f)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=_)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=I)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=M))}}class Mt{constructor(c,f,_,I){this.app=c,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=_,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gh(this),this.idTokenSubscription=new gh(this),this.beforeStateQueue=new Lo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(c,f){var _=this;return f&&(this._popupRedirectResolver=ae(f)),this._initializationPromise=this.queue((0,L.Z)(function*(){var I,M;if(!_._deleted&&(_.persistenceManager=yield nt.create(_,c),!_._deleted)){if(null!==(I=_._popupRedirectResolver)&&void 0!==I&&I._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(f),_.lastNotifiedUid=(null===(M=_.currentUser)||void 0===M?void 0:M.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,L.Z)(function*(){if(c._deleted)return;const f=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||f){if(c.currentUser&&f&&c.currentUser.uid===f.uid)return c._currentUser._assign(f),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(f,!0)}})()}initializeCurrentUser(c){var f=this;return(0,L.Z)(function*(){var _;const I=yield f.assertedPersistence.getCurrentUser();let M=I,W=!1;if(c&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const he=null===(_=f.redirectUser)||void 0===_?void 0:_._redirectEventId,Ae=M?._redirectEventId,et=yield f.tryRedirectSignIn(c);(!he||he===Ae)&&et?.user&&(M=et.user,W=!0)}if(!M)return f.directlySetCurrentUser(null);if(!M._redirectEventId){if(W)try{yield f.beforeStateQueue.runMiddleware(M)}catch(he){M=I,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(he))}return M?f.reloadAndSetCurrentUserOrClear(M):f.directlySetCurrentUser(null)}return _e(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===M._redirectEventId?f.directlySetCurrentUser(M):f.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(c){var f=this;return(0,L.Z)(function*(){let _=null;try{_=yield f._popupRedirectResolver._completeRedirectFn(f,c,!0)}catch{yield f._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(c){var f=this;return(0,L.Z)(function*(){try{yield Tr(c)}catch(_){if("auth/network-request-failed"!==_?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Nr(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var c=this;return(0,L.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var f=this;return(0,L.Z)(function*(){const _=c?(0,X.m9)(c):null;return _&&_e(_.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(_&&_._clone(f))})()}_updateCurrentUser(c,f=!1){var _=this;return(0,L.Z)(function*(){if(!_._deleted)return c&&_e(_.tenantId===c.tenantId,_,"tenant-id-mismatch"),f||(yield _.beforeStateQueue.runMiddleware(c)),_.queue((0,L.Z)(function*(){yield _.directlySetCurrentUser(c),_.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,L.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var f=this;return this.queue((0,L.Z)(function*(){yield f.assertedPersistence.setPersistence(ae(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var f=this;return(0,L.Z)(function*(){f._getPasswordPolicyInternal()||(yield f._updatePasswordPolicy());const _=f._getPasswordPolicyInternal();return _.schemaVersion!==f.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(f._errorFactory.create("unsupported-password-policy-schema-version",{})):_.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,L.Z)(function*(){const f=yield function Fc(m){return gs.apply(this,arguments)}(c),_=new gl(f);null===c.tenantId?c._projectPasswordPolicy=_:c._tenantPasswordPolicies[c.tenantId]=_})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new X.LL("auth","Firebase",c())}onAuthStateChanged(c,f,_){return this.registerStateListener(this.authStateSubscription,c,f,_)}beforeAuthStateChanged(c,f){return this.beforeStateQueue.pushCallback(c,f)}onIdTokenChanged(c,f,_){return this.registerStateListener(this.idTokenSubscription,c,f,_)}authStateReady(){return new Promise((c,f)=>{if(this.currentUser)c();else{const _=this.onAuthStateChanged(()=>{_(),c()},f)}})}revokeAccessToken(c){var f=this;return(0,L.Z)(function*(){if(f.currentUser){const _=yield f.currentUser.getIdToken(),I={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:_};null!=f.tenantId&&(I.tenantId=f.tenantId),yield function j(m,c){return U.apply(this,arguments)}(f,I)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,f){var _=this;return(0,L.Z)(function*(){const I=yield _.getOrInitRedirectPersistenceManager(f);return null===c?I.removeCurrentUser():I.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var f=this;return(0,L.Z)(function*(){if(!f.redirectPersistenceManager){const _=c&&ae(c)||f._popupRedirectResolver;_e(_,f,"argument-error"),f.redirectPersistenceManager=yield nt.create(f,[ae(_._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(c){var f=this;return(0,L.Z)(function*(){var _,I;return f._isInitialized&&(yield f.queue((0,L.Z)(function*(){}))),(null===(_=f._currentUser)||void 0===_?void 0:_._redirectEventId)===c?f._currentUser:(null===(I=f.redirectUser)||void 0===I?void 0:I._redirectEventId)===c?f.redirectUser:null})()}_persistUserIfCurrent(c){var f=this;return(0,L.Z)(function*(){if(c===f.currentUser)return f.queue((0,L.Z)(function*(){return f.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(f=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,f,_,I){if(this._deleted)return()=>{};const M="function"==typeof f?f:f.next.bind(f);let W=!1;const he=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(he,this,"internal-error"),he.then(()=>{W||M(this.currentUser)}),"function"==typeof f){const Ae=c.addObserver(f,_,I);return()=>{W=!0,Ae()}}{const Ae=c.addObserver(f);return()=>{W=!0,Ae()}}}directlySetCurrentUser(c){var f=this;return(0,L.Z)(function*(){f.currentUser&&f.currentUser!==c&&f._currentUser._stopProactiveRefresh(),c&&f.isProactiveRefreshEnabled&&c._startProactiveRefresh(),f.currentUser=c,c?yield f.assertedPersistence.setCurrentUser(c):yield f.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=ps(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,L.Z)(function*(){var f;const _={"X-Client-Version":c.clientVersion};c.app.options.appId&&(_["X-Firebase-gmpid"]=c.app.options.appId);const I=yield null===(f=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();I&&(_["X-Firebase-Client"]=I);const M=yield c._getAppCheckToken();return M&&(_["X-Firebase-AppCheck"]=M),_})()}_getAppCheckToken(){var c=this;return(0,L.Z)(function*(){var f;const _=yield null===(f=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return _?.error&&function wr(m,...c){Ve.logLevel<=$e.in.WARN&&Ve.warn(`Auth (${Y.SDK_VERSION}): ${m}`,...c)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function gt(m){return(0,X.m9)(m)}class gh{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,X.ne)(f=>this.observer=f)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Du(m){return new Promise((c,f)=>{const _=document.createElement("script");_.setAttribute("src",m),_.onload=c,_.onerror=I=>{const M=_n("internal-error");M.customData=I,f(M)},_.type="text/javascript",_.charset="UTF-8",function mh(){var m,c;return null!==(c=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==c?c:document}().appendChild(_)})}function _h(m){return`__${m}${Math.floor(1e6*Math.random())}`}class yg{constructor(c){this.type="recaptcha-enterprise",this.auth=gt(c)}verify(c="verify",f=!1){var _=this;return(0,L.Z)(function*(){function M(){return M=(0,L.Z)(function*(he){if(!f){if(null==he.tenantId&&null!=he._agentRecaptchaConfig)return he._agentRecaptchaConfig.siteKey;if(null!=he.tenantId&&void 0!==he._tenantRecaptchaConfigs[he.tenantId])return he._tenantRecaptchaConfigs[he.tenantId].siteKey}return new Promise(function(){var Ae=(0,L.Z)(function*(et,Ye){Hr(he,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Qt=>{if(void 0!==Qt.recaptchaKey){const es=new vn(Qt);return null==he.tenantId?he._agentRecaptchaConfig=es:he._tenantRecaptchaConfigs[he.tenantId]=es,et(es.siteKey)}Ye(new Error("recaptcha Enterprise site key undefined"))}).catch(Qt=>{Ye(Qt)})});return function(et,Ye){return Ae.apply(this,arguments)}}())}),M.apply(this,arguments)}function W(he,Ae,et){const Ye=window.grecaptcha;Zn(Ye)?Ye.enterprise.ready(()=>{Ye.enterprise.execute(he,{action:c}).then(Qt=>{Ae(Qt)}).catch(()=>{Ae("NO_RECAPTCHA")})}):et(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((he,Ae)=>{(function I(he){return M.apply(this,arguments)})(_.auth).then(et=>{if(!f&&Zn(window.grecaptcha))W(et,he,Ae);else{if(typeof window>"u")return void Ae(new Error("RecaptchaVerifier is only supported in browser"));Du("https://www.google.com/recaptcha/enterprise.js?render="+et).then(()=>{W(et,he,Ae)}).catch(Ye=>{Ae(Ye)})}}).catch(et=>{Ae(et)})})})()}}function yh(m,c,f){return ml.apply(this,arguments)}function ml(){return(ml=(0,L.Z)(function*(m,c,f,_=!1){const I=new yg(m);let M;try{M=yield I.verify(f)}catch{M=yield I.verify(f,!0)}const W=Object.assign({},c);return Object.assign(W,_?{captchaResp:M}:{captchaResponse:M}),Object.assign(W,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(W,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),W})).apply(this,arguments)}function Qi(m,c,f,_){return Au.apply(this,arguments)}function Au(){return Au=(0,L.Z)(function*(m,c,f,_){var I;if(null!==(I=m._getRecaptchaConfig())&&void 0!==I&&I.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const M=yield yh(m,c,f,"getOobCode"===f);return _(m,M)}return _(m,c).catch(function(){var M=(0,L.Z)(function*(W){if("auth/missing-recaptcha-token"===W.code){console.log(`${f} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const he=yield yh(m,c,f,"getOobCode"===f);return _(m,he)}return Promise.reject(W)});return function(W){return M.apply(this,arguments)}}())}),Au.apply(this,arguments)}function Eh(m,c,f){const _=gt(m);_e(_._canInitEmulator,_,"emulator-config-failed"),_e(/^https?:\/\//.test(c),_,"invalid-emulator-scheme");const I=!!f?.disableWarnings,M=La(c),{host:W,port:he}=function yv(m){const c=La(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(c.length));if(!f)return{host:"",port:null};const _=f[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(_);if(I){const M=I[1];return{host:M,port:wi(_.substr(M.length+1))}}{const[M,W]=_.split(":");return{host:M,port:wi(W)}}}(c);_.config.emulator={url:`${M}//${W}${null===he?"":`:${he}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:W,port:he,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function dt(){function m(){const c=document.createElement("p"),f=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}function La(m){const c=m.indexOf(":");return c<0?"":m.substr(0,c+1)}function wi(m){if(!m)return null;const c=Number(m);return isNaN(c)?null:c}class Ls{constructor(c,f){this.providerId=c,this.signInMethod=f}toJSON(){return hn("not implemented")}_getIdTokenResponse(c){return hn("not implemented")}_linkToIdToken(c,f){return hn("not implemented")}_getReauthenticationResolver(c){return hn("not implemented")}}function Lc(m,c){return wh.apply(this,arguments)}function wh(){return(wh=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:resetPassword",le(m,c))})).apply(this,arguments)}function qe(){return(qe=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ch(m,c){return sr.apply(this,arguments)}function sr(){return(sr=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function Vc(){return(Vc=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:update",le(m,c))})).apply(this,arguments)}function Uc(m,c){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,L.Z)(function*(m,c){return wn(m,"POST","/v1/accounts:signInWithPassword",le(m,c))})).apply(this,arguments)}function ca(m,c){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:sendOobCode",le(m,c))})).apply(this,arguments)}function yl(){return(yl=(0,L.Z)(function*(m,c){return ca(m,c)})).apply(this,arguments)}function Eg(m,c){return qt.apply(this,arguments)}function qt(){return(qt=(0,L.Z)(function*(m,c){return ca(m,c)})).apply(this,arguments)}function $c(m,c){return vl.apply(this,arguments)}function vl(){return(vl=(0,L.Z)(function*(m,c){return ca(m,c)})).apply(this,arguments)}function Mu(){return(Mu=(0,L.Z)(function*(m,c){return ca(m,c)})).apply(this,arguments)}function Dn(){return(Dn=(0,L.Z)(function*(m,c){return wn(m,"POST","/v1/accounts:signInWithEmailLink",le(m,c))})).apply(this,arguments)}function Hc(){return(Hc=(0,L.Z)(function*(m,c){return wn(m,"POST","/v1/accounts:signInWithEmailLink",le(m,c))})).apply(this,arguments)}class Le extends Ls{constructor(c,f,_,I=null){super("password",_),this._email=c,this._password=f,this._tenantId=I}static _fromEmailAndPassword(c,f){return new Le(c,f,"password")}static _fromEmailAndCode(c,f,_=null){return new Le(c,f,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(c){var f=this;return(0,L.Z)(function*(){switch(f.signInMethod){case"password":return Qi(c,{returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Uc);case"emailLink":return function Ih(m,c){return Dn.apply(this,arguments)}(c,{email:f._email,oobCode:f._password});default:Ot(c,"internal-error")}})()}_linkToIdToken(c,f){var _=this;return(0,L.Z)(function*(){switch(_.signInMethod){case"password":return Qi(c,{idToken:f,returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ch);case"emailLink":return function bh(m,c){return Hc.apply(this,arguments)}(c,{idToken:f,email:_._email,oobCode:_._password});default:Ot(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Zi(m,c){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,L.Z)(function*(m,c){return wn(m,"POST","/v1/accounts:signInWithIdp",le(m,c))})).apply(this,arguments)}class ms extends Ls{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const f=new ms(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(f.idToken=c.idToken),c.accessToken&&(f.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(f.nonce=c.nonce),c.pendingToken&&(f.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(f.accessToken=c.oauthToken,f.secret=c.oauthTokenSecret):Ot("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:_,signInMethod:I}=f,M=(0,Un._T)(f,["providerId","signInMethod"]);if(!_||!I)return null;const W=new ms(_,I);return W.idToken=M.idToken||void 0,W.accessToken=M.accessToken||void 0,W.secret=M.secret,W.nonce=M.nonce,W.pendingToken=M.pendingToken||null,W}_getIdTokenResponse(c){return Zi(c,this.buildRequest())}_linkToIdToken(c,f){const _=this.buildRequest();return _.idToken=f,Zi(c,_)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,Zi(c,f)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),c.postBody=(0,X.xO)(f)}return c}}function Va(){return(Va=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:sendVerificationCode",le(m,c))})).apply(this,arguments)}function Dh(){return(Dh=(0,L.Z)(function*(m,c){return wn(m,"POST","/v1/accounts:signInWithPhoneNumber",le(m,c))})).apply(this,arguments)}function Ah(){return(Ah=(0,L.Z)(function*(m,c){const f=yield wn(m,"POST","/v1/accounts:signInWithPhoneNumber",le(m,c));if(f.temporaryProof)throw Cn(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const d={USER_NOT_FOUND:"user-not-found"};function y(){return(y=(0,L.Z)(function*(m,c){return wn(m,"POST","/v1/accounts:signInWithPhoneNumber",le(m,Object.assign(Object.assign({},c),{operation:"REAUTH"})),d)})).apply(this,arguments)}class E extends Ls{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,f){return new E({verificationId:c,verificationCode:f})}static _fromTokenResponse(c,f){return new E({phoneNumber:c,temporaryProof:f})}_getIdTokenResponse(c){return function Sh(m,c){return Dh.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,f){return function vv(m,c){return Ah.apply(this,arguments)}(c,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function g(m,c){return y.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:f,verificationId:_,verificationCode:I}=this.params;return c&&f?{temporaryProof:c,phoneNumber:f}:{sessionInfo:_,code:I}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:f,verificationCode:_,phoneNumber:I,temporaryProof:M}=c;return _||f||I||M?new E({verificationId:f,verificationCode:_,phoneNumber:I,temporaryProof:M}):null}}class D{constructor(c){var f,_,I,M,W,he;const Ae=(0,X.zd)((0,X.pd)(c)),et=null!==(f=Ae.apiKey)&&void 0!==f?f:null,Ye=null!==(_=Ae.oobCode)&&void 0!==_?_:null,Qt=function b(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Ae.mode)&&void 0!==I?I:null);_e(et&&Ye&&Qt,"argument-error"),this.apiKey=et,this.operation=Qt,this.code=Ye,this.continueUrl=null!==(M=Ae.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(W=Ae.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(he=Ae.tenantId)&&void 0!==he?he:null}static parseLink(c){const f=function T(m){const c=(0,X.zd)((0,X.pd)(m)).link,f=c?(0,X.zd)((0,X.pd)(c)).deep_link_id:null,_=(0,X.zd)((0,X.pd)(m)).deep_link_id;return(_?(0,X.zd)((0,X.pd)(_)).link:null)||_||f||c||m}(c);try{return new D(f)}catch{return null}}}let V=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,_){return Le._fromEmailAndPassword(f,_)}static credentialWithLink(f,_){const I=D.parseLink(_);return _e(I,"argument-error"),Le._fromEmailAndCode(f,I.code,I.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Q{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class ce extends Q{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Ee extends ce{static credentialFromJSON(c){const f="string"==typeof c?JSON.parse(c):c;return _e("providerId"in f&&"signInMethod"in f,"argument-error"),ms._fromParams(f)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return _e(c.idToken||c.accessToken,"argument-error"),ms._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Ee.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Ee.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:f,oauthAccessToken:_,oauthTokenSecret:I,pendingToken:M,nonce:W,providerId:he}=c;if(!_&&!I&&!f&&!M||!he)return null;try{return new Ee(he)._credential({idToken:f,accessToken:_,nonce:W,pendingToken:M})}catch{return null}}}let k=(()=>{class m extends ce{constructor(){super("facebook.com")}static credential(f){return ms._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Oe=(()=>{class m extends ce{constructor(){super("google.com"),this.addScope("profile")}static credential(f,_){return ms._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:I}=f;if(!_&&!I)return null;try{return m.credential(_,I)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),ve=(()=>{class m extends ce{constructor(){super("github.com")}static credential(f){return ms._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class bt extends Ls{constructor(c,f){super(c,c),this.pendingToken=f}_getIdTokenResponse(c){return Zi(c,this.buildRequest())}_linkToIdToken(c,f){const _=this.buildRequest();return _.idToken=f,Zi(c,_)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,Zi(c,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:_,signInMethod:I,pendingToken:M}=f;return _&&I&&M&&_===I?new bt(_,M):null}static _create(c,f){return new bt(c,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class or extends Q{constructor(c){_e(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return or.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return or.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const f=bt.fromJSON(c);return _e(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:f,providerId:_}=c;if(!f||!_)return null;try{return bt._create(_,f)}catch{return null}}}let to=(()=>{class m extends ce{constructor(){super("twitter.com")}static credential(f,_){return ms._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:_,oauthTokenSecret:I}=f;if(!_||!I)return null;try{return m.credential(_,I)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Vs(m,c){return St.apply(this,arguments)}function St(){return(St=(0,L.Z)(function*(m,c){return wn(m,"POST","/v1/accounts:signUp",le(m,c))})).apply(this,arguments)}class gr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,f,_,I=!1){return(0,L.Z)(function*(){const M=yield A._fromIdTokenResponse(c,_,I),W=xt(_);return new gr({user:M,providerId:W,_tokenResponse:_,operationType:f})})()}static _forOperation(c,f,_){return(0,L.Z)(function*(){yield c._updateTokensIfNecessary(_,!0);const I=xt(_);return new gr({user:c,providerId:I,_tokenResponse:_,operationType:f})})()}}function xt(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function En(m){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,L.Z)(function*(m){var c;const f=gt(m);if(yield f._initializationPromise,null!==(c=f.currentUser)&&void 0!==c&&c.isAnonymous)return new gr({user:f.currentUser,providerId:null,operationType:"signIn"});const _=yield Vs(f,{returnSecureToken:!0}),I=yield gr._fromIdTokenResponse(f,"signIn",_,!0);return yield f._updateCurrentUser(I.user),I})).apply(this,arguments)}class da extends X.ZR{constructor(c,f,_,I){var M;super(f.code,f.message),this.operationType=_,this.user=I,Object.setPrototypeOf(this,da.prototype),this.customData={appName:c.name,tenantId:null!==(M=c.tenantId)&&void 0!==M?M:void 0,_serverResponse:f.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(c,f,_,I){return new da(c,f,_,I)}}function Yi(m,c,f,_){return("reauthenticate"===c?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?da._fromErrorAndOperation(m,M,c,_):M})}function ha(m){return new Set(m.map(({providerId:c})=>c).filter(c=>!!c))}function Us(m,c){return Li.apply(this,arguments)}function Li(){return Li=(0,L.Z)(function*(m,c){const f=(0,X.m9)(m);yield Ua(!0,f,c);const{providerUserInfo:_}=yield function Yn(m,c){return vi.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[c]}),I=ha(_||[]);return f.providerData=f.providerData.filter(M=>I.has(M.providerId)),I.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),Li.apply(this,arguments)}function Bs(m,c){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,L.Z)(function*(m,c,f=!1){const _=yield fn(m,c._linkToIdToken(m.auth,yield m.getIdToken()),f);return gr._forOperation(m,"link",_)})).apply(this,arguments)}function Ua(m,c,f){return _s.apply(this,arguments)}function _s(){return(_s=(0,L.Z)(function*(m,c,f){yield Tr(c);const I=!1===m?"provider-already-linked":"no-such-provider";_e(ha(c.providerData).has(f)===m,c.auth,I)})).apply(this,arguments)}function no(m,c){return zc.apply(this,arguments)}function zc(){return(zc=(0,L.Z)(function*(m,c,f=!1){const{auth:_}=m,I="reauthenticate";try{const M=yield fn(m,Yi(_,I,c,m),f);_e(M.idToken,_,"internal-error");const W=Ni(M.idToken);_e(W,_,"internal-error");const{sub:he}=W;return _e(m.uid===he,_,"user-mismatch"),gr._forOperation(m,I,M)}catch(M){throw"auth/user-not-found"===M?.code&&Ot(_,"user-mismatch"),M}})).apply(this,arguments)}function ys(m,c){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,L.Z)(function*(m,c,f=!1){const _="signIn",I=yield Yi(m,_,c),M=yield gr._fromIdTokenResponse(m,_,I);return f||(yield m._updateCurrentUser(M.user)),M})).apply(this,arguments)}function cn(m,c){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,L.Z)(function*(m,c){return ys(gt(m),c)})).apply(this,arguments)}function vs(m,c){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,L.Z)(function*(m,c){const f=(0,X.m9)(m);return yield Ua(!1,f,c.providerId),Bs(f,c)})).apply(this,arguments)}function Ph(m,c){return El.apply(this,arguments)}function El(){return(El=(0,L.Z)(function*(m,c){return no((0,X.m9)(m),c)})).apply(this,arguments)}function vo(){return(vo=(0,L.Z)(function*(m,c){return wn(m,"POST","/v1/accounts:signInWithCustomToken",le(m,c))})).apply(this,arguments)}function qc(m,c){return qn.apply(this,arguments)}function qn(){return qn=(0,L.Z)(function*(m,c){const f=gt(m),_=yield function Mh(m,c){return vo.apply(this,arguments)}(f,{token:c,returnSecureToken:!0}),I=yield gr._fromIdTokenResponse(f,"signIn",_);return yield f._updateCurrentUser(I.user),I}),qn.apply(this,arguments)}class ja{constructor(c,f){this.factorId=c,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(c,f){return"phoneInfo"in f?fa._fromServerResponse(c,f):"totpInfo"in f?Jn._fromServerResponse(c,f):Ot(c,"internal-error")}}class fa extends ja{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,f){return new fa(f)}}class Jn extends ja{constructor(c){super("totp",c)}static _fromServerResponse(c,f){return new Jn(f)}}function jo(m,c,f){var _;_e((null===(_=f.url)||void 0===_?void 0:_.length)>0,m,"invalid-continue-uri"),_e(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),c.continueUrl=f.url,c.dynamicLinkDomain=f.dynamicLinkDomain,c.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(_e(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),c.iOSBundleId=f.iOS.bundleId),f.android&&(_e(f.android.packageName.length>0,m,"missing-android-pkg-name"),c.androidInstallApp=f.android.installApp,c.androidMinimumVersionCode=f.android.minimumVersion,c.androidPackageName=f.android.packageName)}function mt(m){return hi.apply(this,arguments)}function hi(){return(hi=(0,L.Z)(function*(m){const c=gt(m);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function Vt(m,c,f){return er.apply(this,arguments)}function er(){return(er=(0,L.Z)(function*(m,c,f){const _=gt(m),I={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};f&&jo(_,I,f),yield Qi(_,I,"getOobCode",Eg)})).apply(this,arguments)}function Fr(m,c,f){return ro.apply(this,arguments)}function ro(){return ro=(0,L.Z)(function*(m,c,f){yield Lc((0,X.m9)(m),{oobCode:c,newPassword:f}).catch(function(){var _=(0,L.Z)(function*(I){throw"auth/password-does-not-meet-requirements"===I.code&&mt(m),I});return function(I){return _.apply(this,arguments)}}())}),ro.apply(this,arguments)}function Wr(m,c){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,L.Z)(function*(m,c){yield function Pu(m,c){return Vc.apply(this,arguments)}((0,X.m9)(m),{oobCode:c})}),Ou.apply(this,arguments)}function N(m,c){return K.apply(this,arguments)}function K(){return(K=(0,L.Z)(function*(m,c){const f=(0,X.m9)(m),_=yield Lc(f,{oobCode:c}),I=_.requestType;switch(_e(I,f,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_e(_.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_e(_.mfaInfo,f,"internal-error");default:_e(_.email,f,"internal-error")}let M=null;return _.mfaInfo&&(M=ja._fromServerResponse(gt(f),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:M},operation:I}})).apply(this,arguments)}function oe(m,c){return de.apply(this,arguments)}function de(){return(de=(0,L.Z)(function*(m,c){const{data:f}=yield N((0,X.m9)(m),c);return f.email})).apply(this,arguments)}function fe(m,c,f){return ee.apply(this,arguments)}function ee(){return(ee=(0,L.Z)(function*(m,c,f){const _=gt(m),W=yield Qi(_,{returnSecureToken:!0,email:c,password:f,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vs).catch(Ae=>{throw"auth/password-does-not-meet-requirements"===Ae.code&&mt(m),Ae}),he=yield gr._fromIdTokenResponse(_,"signIn",W);return yield _._updateCurrentUser(he.user),he})).apply(this,arguments)}function ye(m,c,f){return cn((0,X.m9)(m),V.credential(c,f)).catch(function(){var _=(0,L.Z)(function*(I){throw"auth/password-does-not-meet-requirements"===I.code&&mt(m),I});return function(I){return _.apply(this,arguments)}}())}function Be(m,c,f){return je.apply(this,arguments)}function je(){return(je=(0,L.Z)(function*(m,c,f){const _=gt(m),I={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function M(W,he){_e(he.handleCodeInApp,_,"argument-error"),he&&jo(_,W,he)})(I,f),yield Qi(_,I,"getOobCode",$c)})).apply(this,arguments)}function _t(m,c){const f=D.parseLink(c);return"EMAIL_SIGNIN"===f?.operation}function ot(m,c,f){return yt.apply(this,arguments)}function yt(){return(yt=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m),I=V.credentialWithLink(c,f||Cr());return _e(I._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),cn(_,I)})).apply(this,arguments)}function Qe(){return(Qe=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:createAuthUri",le(m,c))})).apply(this,arguments)}function un(m,c){return st.apply(this,arguments)}function st(){return st=(0,L.Z)(function*(m,c){const _={identifier:c,continueUri:Bt()?Cr():"http://localhost"},{signinMethods:I}=yield function rt(m,c){return Qe.apply(this,arguments)}((0,X.m9)(m),_);return I||[]}),st.apply(this,arguments)}function Dr(m,c){return Ii.apply(this,arguments)}function Ii(){return Ii=(0,L.Z)(function*(m,c){const f=(0,X.m9)(m),I={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};c&&jo(f.auth,I,c);const{email:M}=yield function jc(m,c){return yl.apply(this,arguments)}(f.auth,I);M!==m.email&&(yield m.reload())}),Ii.apply(this,arguments)}function bi(m,c,f){return In.apply(this,arguments)}function In(){return In=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:c};f&&jo(_.auth,M,f);const{email:W}=yield function Fi(m,c){return Mu.apply(this,arguments)}(_.auth,M);W!==m.email&&(yield m.reload())}),In.apply(this,arguments)}function $a(){return($a=(0,L.Z)(function*(m,c){return Se(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function $o(m,c){return Nu.apply(this,arguments)}function Nu(){return Nu=(0,L.Z)(function*(m,{displayName:c,photoURL:f}){if(void 0===c&&void 0===f)return;const _=(0,X.m9)(m),M={idToken:yield _.getIdToken(),displayName:c,photoUrl:f,returnSecureToken:!0},W=yield fn(_,function Lr(m,c){return $a.apply(this,arguments)}(_.auth,M));_.displayName=W.displayName||null,_.photoURL=W.photoUrl||null;const he=_.providerData.find(({providerId:Ae})=>"password"===Ae);he&&(he.displayName=_.displayName,he.photoURL=_.photoURL),yield _._updateTokensIfNecessary(W)}),Nu.apply(this,arguments)}function Ev(m,c){return Gc((0,X.m9)(m),c,null)}function Ha(m,c){return Gc((0,X.m9)(m),null,c)}function Gc(m,c,f){return pa.apply(this,arguments)}function pa(){return pa=(0,L.Z)(function*(m,c,f){const{auth:_}=m,M={idToken:yield m.getIdToken(),returnSecureToken:!0};c&&(M.email=c),f&&(M.password=f);const W=yield fn(m,function _l(m,c){return qe.apply(this,arguments)}(_,M));yield m._updateTokensIfNecessary(W,!0)}),pa.apply(this,arguments)}class za{constructor(c,f,_={}){this.isNewUser=c,this.providerId=f,this.profile=_}}class wl extends za{constructor(c,f,_,I){super(c,f,_),this.username=I}}class Ho extends za{constructor(c,f){super(c,"facebook.com",f)}}class Rh extends wl{constructor(c,f){super(c,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class Cl extends za{constructor(c,f){super(c,"google.com",f)}}class Vr extends wl{constructor(c,f,_){super(c,"twitter.com",f,_)}}function Il(m){const{user:c,_tokenResponse:f}=m;return c.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function kt(m){var c,f;if(!m)return null;const{providerId:_}=m,I=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},M=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!_&&m?.idToken){const W=null===(f=null===(c=Ni(m.idToken))||void 0===c?void 0:c.firebase)||void 0===f?void 0:f.sign_in_provider;if(W)return new za(M,"anonymous"!==W&&"custom"!==W?W:null)}if(!_)return null;switch(_){case"facebook.com":return new Ho(M,I);case"github.com":return new Rh(M,I);case"google.com":return new Cl(M,I);case"twitter.com":return new Vr(M,I,m.screenName||null);case"custom":case"anonymous":return new za(M,null);default:return new za(M,_,I)}}(f)}function Kc(m,c,f,_){return(0,X.m9)(m).onIdTokenChanged(c,f,_)}class bl{constructor(c,f,_){this.type=c,this.credential=f,this.user=_}static _fromIdtoken(c,f){return new bl("enroll",c,f)}static _fromMfaPendingCredential(c){return new bl("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var f,_;if(c?.multiFactorSession){if(null!==(f=c.multiFactorSession)&&void 0!==f&&f.pendingCredential)return bl._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(_=c.multiFactorSession)&&void 0!==_&&_.idToken)return bl._fromIdtoken(c.multiFactorSession.idToken)}return null}}class bv{constructor(c,f,_){this.session=c,this.hints=f,this.signInResolver=_}static _fromError(c,f){const _=gt(c),I=f.customData._serverResponse,M=(I.mfaInfo||[]).map(he=>ja._fromServerResponse(_,he));_e(I.mfaPendingCredential,_,"internal-error");const W=bl._fromMfaPendingCredential(I.mfaPendingCredential);return new bv(W,M,function(){var he=(0,L.Z)(function*(Ae){const et=yield Ae._process(_,W);delete I.mfaInfo,delete I.mfaPendingCredential;const Ye=Object.assign(Object.assign({},I),{idToken:et.idToken,refreshToken:et.refreshToken});switch(f.operationType){case"signIn":const Qt=yield gr._fromIdTokenResponse(_,f.operationType,Ye);return yield _._updateCurrentUser(Qt.user),Qt;case"reauthenticate":return _e(f.user,_,"internal-error"),gr._forOperation(f.user,f.operationType,Ye);default:Ot(_,"internal-error")}});return function(Ae){return he.apply(this,arguments)}}())}resolveSignIn(c){var f=this;return(0,L.Z)(function*(){return f.signInResolver(c)})()}}function tN(m,c){var f;const _=(0,X.m9)(m),I=c;return _e(c.customData.operationType,_,"argument-error"),_e(null===(f=I.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,_,"argument-error"),bv._fromError(_,I)}class Tv{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(_=>ja._fromServerResponse(c.auth,_)))})}static _fromUser(c){return new Tv(c)}getSession(){var c=this;return(0,L.Z)(function*(){return bl._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,f){var _=this;return(0,L.Z)(function*(){const I=c,M=yield _.getSession(),W=yield fn(_.user,I._process(_.user.auth,M,f));return yield _.user._updateTokensIfNecessary(W),_.user.reload()})()}unenroll(c){var f=this;return(0,L.Z)(function*(){const _="string"==typeof c?c:c.uid,I=yield f.user.getIdToken();try{const M=yield fn(f.user,function sN(m,c){return Se(m,"POST","/v2/accounts/mfaEnrollment:withdraw",le(m,c))}(f.user.auth,{idToken:I,mfaEnrollmentId:_}));f.enrolledFactors=f.enrolledFactors.filter(({uid:W})=>W!==_),yield f.user._updateTokensIfNecessary(M),yield f.user.reload()}catch(M){throw M}})()}}const Sv=new WeakMap;function oN(m){const c=(0,X.m9)(m);return Sv.has(c)||Sv.set(c,Tv._fromUser(c)),Sv.get(c)}const wg="__sak";class Cg{constructor(c,f){this.storageRetriever=c,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(wg,"1"),this.storage.removeItem(wg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,f){return this.storage.setItem(c,JSON.stringify(f)),Promise.resolve()}_get(c){const f=this.storage.getItem(c);return Promise.resolve(f?JSON.parse(f):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Q0=(()=>{class m extends Cg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,_)=>this.onStorageEvent(f,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dv(){const m=(0,X.z$)();return Nt(m)||Je(m)}()&&function xn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Xn(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const _ of Object.keys(this.listeners)){const I=this.storage.getItem(_),M=this.localCache[_];I!==M&&f(_,M,I)}}onStorageEvent(f,_=!1){if(!f.key)return void this.forAllChangedKeys((he,Ae,et)=>{this.notifyListeners(he,et)});const I=f.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(I);if(f.newValue!==he)null!==f.newValue?this.storage.setItem(I,f.newValue):this.storage.removeItem(I);else if(this.localCache[I]===f.newValue&&!_)return}const M=()=>{const he=this.storage.getItem(I);!_&&this.localCache[I]===he||this.notifyListeners(I,he)},W=this.storage.getItem(I);!function ne(){return(0,X.w1)()&&10===document.documentMode}()||W===f.newValue||f.newValue===f.oldValue?M():setTimeout(M,10)}notifyListeners(f,_){this.localCache[f]=_;const I=this.listeners[f];if(I)for(const M of Array.from(I))M(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,_,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:_,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,_){var I=()=>super._set,M=this;return(0,L.Z)(function*(){yield I().call(M,f,_),M.localCache[f]=JSON.stringify(_)})()}_get(f){var _=()=>super._get,I=this;return(0,L.Z)(function*(){const M=yield _().call(I,f);return I.localCache[f]=JSON.stringify(M),M})()}_remove(f){var _=()=>super._remove,I=this;return(0,L.Z)(function*(){yield _().call(I,f),delete I.localCache[f]})()}}return m.type="LOCAL",m})(),Ig=(()=>{class m extends Cg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,_){}_removeListener(f,_){}}return m.type="SESSION",m})();let Av=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const _=this.receivers.find(M=>M.isListeningto(f));if(_)return _;const I=new m(f);return this.receivers.push(I),I}isListeningto(f){return this.eventTarget===f}handleEvent(f){var _=this;return(0,L.Z)(function*(){const I=f,{eventId:M,eventType:W,data:he}=I.data,Ae=_.handlersMap[W];if(!Ae?.size)return;I.ports[0].postMessage({status:"ack",eventId:M,eventType:W});const et=Array.from(Ae).map(function(){var Qt=(0,L.Z)(function*(es){return es(I.origin,he)});return function(es){return Qt.apply(this,arguments)}}()),Ye=yield function io(m){return Promise.all(m.map(function(){var c=(0,L.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(_){return{fulfilled:!1,reason:_}}});return function(f){return c.apply(this,arguments)}}()))}(et);I.ports[0].postMessage({status:"done",eventId:M,eventType:W,response:Ye})})()}_subscribe(f,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(_)}_unsubscribe(f,_){this.handlersMap[f]&&_&&this.handlersMap[f].delete(_),(!_||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Zc(m="",c=10){let f="";for(let _=0;_<c;_++)f+=Math.floor(10*Math.random());return m+f}class Z0{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,f,_=50){var I=this;return(0,L.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let W,he;return new Promise((Ae,et)=>{const Ye=Zc("",20);M.port1.start();const Qt=setTimeout(()=>{et(new Error("unsupported_event"))},_);he={messageChannel:M,onMessage(es){const wo=es;if(wo.data.eventId===Ye)switch(wo.data.status){case"ack":clearTimeout(Qt),W=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Ae(wo.data.response);break;default:clearTimeout(Qt),clearTimeout(W),et(new Error("invalid_response"))}}},I.handlers.add(he),M.port1.addEventListener("message",he.onMessage),I.target.postMessage({eventType:c,eventId:Ye,data:f},[M.port2])}).finally(()=>{he&&I.removeMessageHandler(he)})})()}}function Ur(){return window}function bg(){return typeof Ur().WorkerGlobalScope<"u"&&"function"==typeof Ur().importScripts}function Sg(){return(Sg=(0,L.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Dg="firebaseLocalStorageDb",xh="firebaseLocalStorage",Y0="fbase_key";class On{constructor(c){this.request=c}toPromise(){return new Promise((c,f)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Sl(m,c){return m.transaction([xh],c?"readwrite":"readonly").objectStore(xh)}function Si(){const m=indexedDB.open(Dg,1);return new Promise((c,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const _=m.result;try{_.createObjectStore(xh,{keyPath:Y0})}catch(I){f(I)}}),m.addEventListener("success",(0,L.Z)(function*(){const _=m.result;_.objectStoreNames.contains(xh)?c(_):(_.close(),yield function Yc(){const m=indexedDB.deleteDatabase(Dg);return new On(m).toPromise()}(),c(yield Si()))}))})}function xv(m,c,f){return ku.apply(this,arguments)}function ku(){return(ku=(0,L.Z)(function*(m,c,f){const _=Sl(m,!0).put({[Y0]:c,value:f});return new On(_).toPromise()})).apply(this,arguments)}function Xi(){return(Xi=(0,L.Z)(function*(m,c){const f=Sl(m,!1).get(c),_=yield new On(f).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function Ov(m,c){const f=Sl(m,!0).delete(c);return new On(f).toPromise()}const Pg=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,L.Z)(function*(){return f.db||(f.db=yield Si()),f.db})()}_withRetries(f){var _=this;return(0,L.Z)(function*(){let I=0;for(;;)try{const M=yield _._openDb();return yield f(M)}catch(M){if(I++>3)throw M;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,L.Z)(function*(){return bg()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,L.Z)(function*(){f.receiver=Av._getInstance(function Mv(){return bg()?self:null}()),f.receiver._subscribe("keyChanged",function(){var _=(0,L.Z)(function*(I,M){return{keyProcessed:(yield f._poll()).includes(M.key)}});return function(I,M){return _.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var _=(0,L.Z)(function*(I,M){return["keyChanged"]});return function(I,M){return _.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,L.Z)(function*(){var _,I;if(f.activeServiceWorker=yield function Tg(){return Sg.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Z0(f.activeServiceWorker);const M=yield f.sender._send("ping",{},800);M&&null!==(_=M[0])&&void 0!==_&&_.fulfilled&&null!==(I=M[0])&&void 0!==I&&I.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var _=this;return(0,L.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function zo(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:f},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,L.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Si();return yield xv(f,wg,"1"),yield Ov(f,wg),!0}catch{}return!1})()}_withPendingWrite(f){var _=this;return(0,L.Z)(function*(){_.pendingWrites++;try{yield f()}finally{_.pendingWrites--}})()}_set(f,_){var I=this;return(0,L.Z)(function*(){return I._withPendingWrite((0,L.Z)(function*(){return yield I._withRetries(M=>xv(M,f,_)),I.localCache[f]=_,I.notifyServiceWorker(f)}))})()}_get(f){var _=this;return(0,L.Z)(function*(){const I=yield _._withRetries(M=>function Dl(m,c){return Xi.apply(this,arguments)}(M,f));return _.localCache[f]=I,I})()}_remove(f){var _=this;return(0,L.Z)(function*(){return _._withPendingWrite((0,L.Z)(function*(){return yield _._withRetries(I=>Ov(I,f)),delete _.localCache[f],_.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,L.Z)(function*(){const _=yield f._withRetries(W=>{const he=Sl(W,!1).getAll();return new On(he).toPromise()});if(!_)return[];if(0!==f.pendingWrites)return[];const I=[],M=new Set;for(const{fbase_key:W,value:he}of _)M.add(W),JSON.stringify(f.localCache[W])!==JSON.stringify(he)&&(f.notifyListeners(W,he),I.push(W));for(const W of Object.keys(f.localCache))f.localCache[W]&&!M.has(W)&&(f.notifyListeners(W,null),I.push(W));return I})()}notifyListeners(f,_){this.localCache[f]=_;const I=this.listeners[f];if(I)for(const M of Array.from(I))M(_)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,L.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})(),Fu=1e12;class Rg{constructor(c){this.auth=c,this.counter=Fu,this._widgets=new Map}render(c,f){const _=this.counter;return this._widgets.set(_,new Dt(c,this.auth.name,f||{})),this.counter++,_}reset(c){var f;const _=c||Fu;null===(f=this._widgets.get(_))||void 0===f||f.delete(),this._widgets.delete(_)}getResponse(c){var f;return(null===(f=this._widgets.get(c||Fu))||void 0===f?void 0:f.getResponse())||""}execute(c){var f=this;return(0,L.Z)(function*(){var _;return null===(_=f._widgets.get(c||Fu))||void 0===_||_.execute(),""})()}}class Dt{constructor(c,f,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof c?document.getElementById(c):c;_e(I,"argument-error",{appName:f}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Fv(m){const c=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<m;_++)c.push(f.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":f}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Lv=_h("rcb"),eb=new fr(3e4,6e4);class nb{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=Ur().grecaptcha)||void 0===c||!c.render)}load(c,f=""){return _e(function Vv(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(f),c,"argument-error"),this.shouldResolveImmediately(f)&&Wn(Ur().grecaptcha)?Promise.resolve(Ur().grecaptcha):new Promise((_,I)=>{const M=Ur().setTimeout(()=>{I(_n(c,"network-request-failed"))},eb.get());Ur()[Lv]=()=>{Ur().clearTimeout(M),delete Ur()[Lv];const he=Ur().grecaptcha;if(!he||!Wn(he))return void I(_n(c,"internal-error"));const Ae=he.render;he.render=(et,Ye)=>{const Qt=Ae(et,Ye);return this.counter++,Qt},this.hostLanguage=f,_(he)},Du(`https://www.google.com/recaptcha/api.js??${(0,X.xO)({onload:Lv,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(M),I(_n(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var f;return!(null===(f=Ur().grecaptcha)||void 0===f||!f.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Al{load(c){return(0,L.Z)(function*(){return new Rg(c)})()}clearedOneInstance(){}}const Uv="recaptcha",rb={theme:"light",type:"image"};class ib{constructor(c,f,_=Object.assign({},rb)){this.parameters=_,this.type=Uv,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gt(c),this.isInvisible="invisible"===this.parameters.size,_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof f?document.getElementById(f):f;_e(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Al:new nb,this.validateStartingState()}verify(){var c=this;return(0,L.Z)(function*(){c.assertNotDestroyed();const f=yield c.render(),_=c.getAssertedRecaptcha();return _.getResponse(f)||new Promise(M=>{const W=he=>{he&&(c.tokenChangeListeners.delete(W),M(he))};c.tokenChangeListeners.add(W),c.isInvisible&&_.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){_e(!this.parameters.sitekey,this.auth,"argument-error"),_e(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return f=>{if(this.tokenChangeListeners.forEach(_=>_(f)),"function"==typeof c)c(f);else if("string"==typeof c){const _=Ur()[c];"function"==typeof _&&_(f)}}}assertNotDestroyed(){_e(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,L.Z)(function*(){if(yield c.init(),!c.widgetId){let f=c.container;if(!c.isInvisible){const _=document.createElement("div");f.appendChild(_),f=_}c.widgetId=c.getAssertedRecaptcha().render(f,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,L.Z)(function*(){_e(Bt()&&!bg(),c.auth,"internal-error"),yield function sb(){let m=null;return new Promise(c=>{"complete"!==document.readyState?(m=()=>c(),window.addEventListener("load",m)):c()}).catch(c=>{throw m&&window.removeEventListener("load",m),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const f=yield function li(m){return yi.apply(this,arguments)}(c.auth);_e(f,c.auth,"internal-error"),c.parameters.sitekey=f})()}getAssertedRecaptcha(){return _e(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xg{constructor(c,f){this.verificationId=c,this.onConfirmation=f}confirm(c){const f=E._fromVerification(this.verificationId,c);return this.onConfirmation(f)}}function we(m,c,f){return tn.apply(this,arguments)}function tn(){return(tn=(0,L.Z)(function*(m,c,f){const _=gt(m),I=yield Wa(_,c,(0,X.m9)(f));return new xg(I,M=>cn(_,M))})).apply(this,arguments)}function Og(m,c,f){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m);yield Ua(!1,_,"phone");const I=yield Wa(_.auth,c,(0,X.m9)(f));return new xg(I,M=>vs(_,M))})).apply(this,arguments)}function Ln(m,c,f){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m),I=yield Wa(_.auth,c,(0,X.m9)(f));return new xg(I,M=>Ph(_,M))})).apply(this,arguments)}function Wa(m,c,f){return so.apply(this,arguments)}function so(){return so=(0,L.Z)(function*(m,c,f){var _;const I=yield f.verify();try{let M;if(_e("string"==typeof I,m,"argument-error"),_e(f.type===Uv,m,"argument-error"),M="string"==typeof c?{phoneNumber:c}:c,"session"in M){const W=M.session;if("phoneNumber"in M)return _e("enroll"===W.type,m,"internal-error"),(yield function nN(m,c){return Se(m,"POST","/v2/accounts/mfaEnrollment:start",le(m,c))}(m,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{_e("signin"===W.type,m,"internal-error");const he=(null===(_=M.multiFactorHint)||void 0===_?void 0:_.uid)||M.multiFactorUid;return _e(he,m,"missing-multi-factor-info"),(yield function J0(m,c){return Se(m,"POST","/v2/accounts/mfaSignIn:start",le(m,c))}(m,{mfaPendingCredential:W.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield function xu(m,c){return Va.apply(this,arguments)}(m,{phoneNumber:M.phoneNumber,recaptchaToken:I});return W}}finally{f._reset()}}),so.apply(this,arguments)}function Ng(m,c){return ed.apply(this,arguments)}function ed(){return(ed=(0,L.Z)(function*(m,c){yield Bs((0,X.m9)(m),c)})).apply(this,arguments)}let ob=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=gt(f)}verifyPhoneNumber(f,_){return Wa(this.auth,f,(0,X.m9)(_))}static credential(f,_){return E._fromVerification(f,_)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:_,temporaryProof:I}=f;return _&&I?E._fromTokenResponse(_,I):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Pl(m,c){return c?ae(c):(_e(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class Nh extends Ls{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Zi(c,this._buildIdpRequest())}_linkToIdToken(c,f){return Zi(c,this._buildIdpRequest(f))}_getReauthenticationResolver(c){return Zi(c,this._buildIdpRequest())}_buildIdpRequest(c){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(f.idToken=c),f}}function Ji(m){return ys(m.auth,new Nh(m),m.bypassAuthState)}function _a(m){const{auth:c,user:f}=m;return _e(f,c,"internal-error"),no(f,new Nh(m),m.bypassAuthState)}function Bv(m){return oo.apply(this,arguments)}function oo(){return(oo=(0,L.Z)(function*(m){const{auth:c,user:f}=m;return _e(f,c,"internal-error"),Bs(f,new Nh(m),m.bypassAuthState)})).apply(this,arguments)}class Wo{constructor(c,f,_,I,M=!1){this.auth=c,this.resolver=_,this.user=I,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var c=this;return new Promise(function(){var f=(0,L.Z)(function*(_,I){c.pendingPromise={resolve:_,reject:I};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(M){c.reject(M)}});return function(_,I){return f.apply(this,arguments)}}())}onAuthEvent(c){var f=this;return(0,L.Z)(function*(){const{urlResponse:_,sessionId:I,postBody:M,tenantId:W,error:he,type:Ae}=c;if(he)return void f.reject(he);const et={auth:f.auth,requestUri:_,sessionId:I,tenantId:W||void 0,postBody:M||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Ae)(et))}catch(Ye){f.reject(Ye)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Ji;case"linkViaPopup":case"linkViaRedirect":return Bv;case"reauthViaPopup":case"reauthViaRedirect":return _a;default:Ot(this.auth,"internal-error")}}resolve(c){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ab=new fr(2e3,1e4);function jv(m,c,f){return kg.apply(this,arguments)}function kg(){return(kg=(0,L.Z)(function*(m,c,f){const _=gt(m);w(m,c,Q);const I=Pl(_,f);return new nd(_,"signInViaPopup",c,I).executeNotNull()})).apply(this,arguments)}function ub(m,c,f){return td.apply(this,arguments)}function td(){return(td=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m);w(_.auth,c,Q);const I=Pl(_.auth,f);return new nd(_.auth,"reauthViaPopup",c,I,_).executeNotNull()})).apply(this,arguments)}function Fg(m,c,f){return kh.apply(this,arguments)}function kh(){return(kh=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m);w(_.auth,c,Q);const I=Pl(_.auth,f);return new nd(_.auth,"linkViaPopup",c,I,_).executeNotNull()})).apply(this,arguments)}let nd=(()=>{class m extends Wo{constructor(f,_,I,M,W){super(f,_,M,W),this.provider=I,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,L.Z)(function*(){const _=yield f.execute();return _e(_,f.auth,"internal-error"),_})()}onExecution(){var f=this;return(0,L.Z)(function*(){zn(1===f.filter.length,"Popup operations only handle one event");const _=Zc();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],_),f.authWindow.associatedEvent=_,f.resolver._originValidation(f.auth).catch(I=>{f.reject(I)}),f.resolver._isIframeWebStorageSupported(f.auth,I=>{I||f.reject(_n(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var _,I;this.pollId=null!==(I=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,ab.get())};f()}}return m.currentPopupAction=null,m})();const lb="pendingRedirect",Ml=new Map;class Lg extends Wo{constructor(c,f,_=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,_),this.eventId=null}execute(){var c=()=>super.execute,f=this;return(0,L.Z)(function*(){let _=Ml.get(f.auth._key());if(!_){try{const M=(yield function $v(m,c){return Fh.apply(this,arguments)}(f.resolver,f.auth))?yield c().call(f):null;_=()=>Promise.resolve(M)}catch(I){_=()=>Promise.reject(I)}Ml.set(f.auth._key(),_)}return f.bypassAuthState||Ml.set(f.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(c){var f=()=>super.onAuthEvent,_=this;return(0,L.Z)(function*(){if("signInViaRedirect"===c.type)return f().call(_,c);if("unknown"!==c.type){if(c.eventId){const I=yield _.auth._redirectUserForId(c.eventId);if(I)return _.user=I,f().call(_,c);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,L.Z)(function*(){})()}cleanUp(){}}function Fh(){return(Fh=(0,L.Z)(function*(m,c){const f=qa(c),_=Di(m);if(!(yield _._isAvailable()))return!1;const I="true"===(yield _._get(f));return yield _._remove(f),I})).apply(this,arguments)}function Lh(m,c){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,L.Z)(function*(m,c){return Di(m)._set(qa(c),"true")})).apply(this,arguments)}function Vg(){Ml.clear()}function Hv(m,c){Ml.set(m._key(),c)}function Di(m){return ae(m._redirectPersistence)}function qa(m){return Re(lb,m.config.apiKey,m.name)}function tr(m,c,f){return function cb(m,c,f){return Ug.apply(this,arguments)}(m,c,f)}function Ug(){return(Ug=(0,L.Z)(function*(m,c,f){const _=gt(m);w(m,c,Q),yield _._initializationPromise;const I=Pl(_,f);return yield Lh(I,_),I._openRedirect(_,c,"signInViaRedirect")})).apply(this,arguments)}function db(m,c,f){return function hb(m,c,f){return Uh.apply(this,arguments)}(m,c,f)}function Uh(){return(Uh=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m);w(_.auth,c,Q),yield _.auth._initializationPromise;const I=Pl(_.auth,f);yield Lh(I,_.auth);const M=yield jh(_);return I._openRedirect(_.auth,c,"reauthViaRedirect",M)})).apply(this,arguments)}function zv(m,c,f){return function Bh(m,c,f){return qo.apply(this,arguments)}(m,c,f)}function qo(){return(qo=(0,L.Z)(function*(m,c,f){const _=(0,X.m9)(m);w(_.auth,c,Q),yield _.auth._initializationPromise;const I=Pl(_.auth,f);yield Ua(!1,_,c.providerId),yield Lh(I,_.auth);const M=yield jh(_);return I._openRedirect(_.auth,c,"linkViaRedirect",M)})).apply(this,arguments)}function fb(m,c){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,L.Z)(function*(m,c){return yield gt(m)._initializationPromise,xl(m,c,!1)})).apply(this,arguments)}function xl(m,c){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,L.Z)(function*(m,c,f=!1){const _=gt(m),I=Pl(_,c),W=yield new Lg(_,I,f).execute();return W&&!f&&(delete W.user._redirectEventId,yield _._persistUserIfCurrent(W.user),yield _._setRedirectUser(null,c)),W})).apply(this,arguments)}function jh(m){return $h.apply(this,arguments)}function $h(){return($h=(0,L.Z)(function*(m){const c=Zc(`${m.uid}:::`);return m._redirectEventId=c,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),c})).apply(this,arguments)}class qv{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let f=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(c,_)&&(f=!0,this.sendToConsumer(c,_),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function pb(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nl(m);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=c,f=!0)),f}sendToConsumer(c,f){var _;if(c.error&&!Nl(c)){const I=(null===(_=c.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";f.onError(_n(this.auth,I))}else f.onAuthEvent(c)}isEventForConsumer(c,f){const _=null===f.eventId||!!c.eventId&&c.eventId===f.eventId;return f.filter.includes(c.type)&&_}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lu(c))}saveEventToCache(c){this.cachedEventUids.add(Lu(c)),this.lastProcessedEventTime=Date.now()}}function Lu(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(c=>c).join("-")}function Nl({type:m,error:c}){return"unknown"===m&&"auth/no-auth-event"===c?.code}function Hh(m){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,L.Z)(function*(m,c={}){return Se(m,"GET","/v1/projects",c)})).apply(this,arguments)}const gb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mb=/^https?/;function Gv(){return(Gv=(0,L.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:c}=yield Hh(m);for(const f of c)try{if(jg(f))return}catch{}Ot(m,"unauthorized-domain")})).apply(this,arguments)}function jg(m){const c=Cr(),{protocol:f,hostname:_}=new URL(c);if(m.startsWith("chrome-extension://")){const W=new URL(m);return""===W.hostname&&""===_?"chrome-extension:"===f&&m.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===f&&W.hostname===_}if(!mb.test(f))return!1;if(gb.test(m))return _===m;const I=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(_)}const rd=new fr(3e4,6e4);function Kv(){const m=Ur().___jsl;if(m?.H)for(const c of Object.keys(m.H))if(m.H[c].r=m.H[c].r||[],m.H[c].L=m.H[c].L||[],m.H[c].r=[...m.H[c].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let kl=null;const cN=new fr(5e3,15e3),Qv="__/auth/iframe",Zv="emulator/auth/iframe",_b={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Go=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yb(m){const c=m.config;_e(c.authDomain,m,"auth-domain-config-required");const f=c.emulator?Oi(c,Zv):`https://${m.config.authDomain}/${Qv}`,_={apiKey:c.apiKey,appName:m.name,v:Y.SDK_VERSION},I=Go.get(m.config.apiHost);I&&(_.eid=I);const M=m._getFrameworks();return M.length&&(_.fw=M.join(",")),`${f}?${(0,X.xO)(_).slice(1)}`}function sd(){return sd=(0,L.Z)(function*(m){const c=yield function zh(m){return kl=kl||function id(m){return new Promise((c,f)=>{var _,I,M;function W(){Kv(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Kv(),f(_n(m,"network-request-failed"))},timeout:rd.get()})}if(null!==(I=null===(_=Ur().gapi)||void 0===_?void 0:_.iframes)&&void 0!==I&&I.Iframe)c(gapi.iframes.getContext());else{if(null===(M=Ur().gapi)||void 0===M||!M.load){const he=_h("iframefcb");return Ur()[he]=()=>{gapi.load?W():f(_n(m,"network-request-failed"))},Du(`https://apis.google.com/js/api.js?onload=${he}`).catch(Ae=>f(Ae))}W()}}).catch(c=>{throw kl=null,c})}(m),kl}(m),f=Ur().gapi;return _e(f,m,"internal-error"),c.open({where:document.body,url:yb(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_b,dontclear:!0},_=>new Promise(function(){var I=(0,L.Z)(function*(M,W){yield _.restyle({setHideOnLeave:!1});const he=_n(m,"network-request-failed"),Ae=Ur().setTimeout(()=>{W(he)},cN.get());function et(){Ur().clearTimeout(Ae),M(_)}_.ping(et).then(et,()=>{W(he)})});return function(M,W){return I.apply(this,arguments)}}()))}),sd.apply(this,arguments)}const Yv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hg{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Eb="__/auth/handler",Gh="emulator/auth/handler",Vu=encodeURIComponent("fac");function zg(m,c,f,_,I,M){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,L.Z)(function*(m,c,f,_,I,M){_e(m.config.authDomain,m,"auth-domain-config-required"),_e(m.config.apiKey,m,"invalid-api-key");const W={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:_,v:Y.SDK_VERSION,eventId:I};if(c instanceof Q){c.setDefaultLanguage(m.languageCode),W.providerId=c.providerId||"",(0,X.xb)(c.getCustomParameters())||(W.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Ye,Qt]of Object.entries(M||{}))W[Ye]=Qt}if(c instanceof ce){const Ye=c.getScopes().filter(Qt=>""!==Qt);Ye.length>0&&(W.scopes=Ye.join(","))}m.tenantId&&(W.tid=m.tenantId);const he=W;for(const Ye of Object.keys(he))void 0===he[Ye]&&delete he[Ye];const Ae=yield m._getAppCheckToken(),et=Ae?`#${Vu}=${encodeURIComponent(Ae)}`:"";return`${function tE({config:m}){return m.emulator?Oi(m,Gh):`https://${m.authDomain}/${Eb}`}(m)}?${(0,X.xO)(he).slice(1)}${et}`})).apply(this,arguments)}const Ga="webStorageSupport",qr=class Fl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ig,this._completeRedirectFn=xl,this._overrideRedirectResult=Hv}_openPopup(c,f,_,I){var M=this;return(0,L.Z)(function*(){var W;zn(null===(W=M.eventManagers[c._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const he=yield zg(c,f,_,Cr(),I);return function Jv(m,c,f,_=500,I=600){const M=Math.max((window.screen.availHeight-I)/2,0).toString(),W=Math.max((window.screen.availWidth-_)/2,0).toString();let he="";const Ae=Object.assign(Object.assign({},Yv),{width:_.toString(),height:I.toString(),top:M,left:W}),et=(0,X.z$)().toLowerCase();f&&(he=Ei(et)?"_blank":f),Pt(et)&&(c=c||"http://localhost",Ae.scrollbars="yes");const Ye=Object.entries(Ae).reduce((es,[wo,Ka])=>`${es}${wo}=${Ka},`,"");if(function Lt(m=(0,X.z$)()){var c;return Je(m)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(et)&&"_self"!==he)return function eE(m,c){const f=document.createElement("a");f.href=m,f.target=c;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(_)}(c||"",he),new Hg(null);const Qt=window.open(c||"",he,Ye);_e(Qt,m,"popup-blocked");try{Qt.focus()}catch{}return new Hg(Qt)}(c,he,Zc())})()}_openRedirect(c,f,_,I){var M=this;return(0,L.Z)(function*(){return yield M._originValidation(c),function Pv(m){Ur().location.href=m}(yield zg(c,f,_,Cr(),I)),new Promise(()=>{})})()}_initialize(c){const f=c._key();if(this.eventManagers[f]){const{manager:I,promise:M}=this.eventManagers[f];return I?Promise.resolve(I):(zn(M,"If manager is not set, promise should be"),M)}const _=this.initAndGetManager(c);return this.eventManagers[f]={promise:_},_.catch(()=>{delete this.eventManagers[f]}),_}initAndGetManager(c){var f=this;return(0,L.Z)(function*(){const _=yield function Wh(m){return sd.apply(this,arguments)}(c),I=new qv(c);return _.register("authEvent",M=>(_e(M?.authEvent,c,"invalid-auth-event"),{status:I.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[c._key()]={manager:I},f.iframes[c._key()]=_,I})()}_isIframeWebStorageSupported(c,f){this.iframes[c._key()].send(Ga,{type:Ga},I=>{var M;const W=null===(M=I?.[0])||void 0===M?void 0:M[Ga];void 0!==W&&f(!!W),Ot(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function lN(m){return Gv.apply(this,arguments)}(c)),this.originValidationPromises[f]}get _shouldInitProactively(){return Xn()||Nt()||Je()}};class wb{constructor(c){this.factorId=c}_process(c,f,_){switch(f.type){case"enroll":return this._finalizeEnroll(c,f.credential,_);case"signin":return this._finalizeSignIn(c,f.credential);default:return hn("unexpected MultiFactorSessionType")}}}class Gr extends wb{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Gr(c)}_finalizeEnroll(c,f,_){return function rN(m,c){return Se(m,"POST","/v2/accounts/mfaEnrollment:finalize",le(m,c))}(c,{idToken:f,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,f){return function Nv(m,c){return Se(m,"POST","/v2/accounts/mfaSignIn:finalize",le(m,c))}(c,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wg=(()=>{class m{constructor(){}static assertion(f){return Gr._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var Uu="@firebase/auth";class nE{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var f=this;return(0,L.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const f=this.auth.onIdTokenChanged(_=>{c(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,f),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const f=this.internalListeners.get(c);f&&(this.internalListeners.delete(c),f(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,X.Pz)("authIdTokenMaxAge"),function Ll(m){(0,Y._registerComponent)(new lt.wA("auth",(c,{options:f})=>{const _=c.getProvider("app").getImmediate(),I=c.getProvider("heartbeat"),M=c.getProvider("app-check-internal"),{apiKey:W,authDomain:he}=_.options;_e(W&&!W.includes(":"),"invalid-api-key",{appName:_.name});const Ae={apiKey:W,authDomain:he,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ps(m)},et=new Mt(_,I,M,Ae);return function Fs(m,c){const f=c?.persistence||[],_=(Array.isArray(f)?f:[f]).map(ae);c?.errorMap&&m._updateErrorMap(c.errorMap),m._initializeWithPersistence(_,c?.popupRedirectResolver)}(et,f),et},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,f,_)=>{c.getProvider("auth-internal").initialize()})),(0,Y._registerComponent)(new lt.wA("auth-internal",c=>{const f=gt(c.getProvider("auth").getImmediate());return new nE(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.registerVersion)(Uu,"1.4.0",function qg(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,Y.registerVersion)(Uu,"1.4.0","esm2017")}("Browser")},58:(cs,Or,ft)=>{"use strict";ft.d(Or,{BH:()=>ti,DV:()=>vn,Dv:()=>ds,G6:()=>Oi,GJ:()=>Wn,L:()=>en,LL:()=>Ne,Pz:()=>_n,Sg:()=>w,UG:()=>hn,UI:()=>yi,US:()=>lt,Wj:()=>fn,Wl:()=>pt,Yr:()=>fr,ZB:()=>tt,ZR:()=>Se,aH:()=>Ot,b$:()=>Bt,cI:()=>wn,dS:()=>ni,eu:()=>ge,g5:()=>Y,gK:()=>Ni,gQ:()=>Ir,h$:()=>Sn,hl:()=>ue,hu:()=>X,jU:()=>zn,lb:()=>pn,m9:()=>Sr,ne:()=>Ke,p$:()=>Me,pd:()=>vi,r3:()=>Zn,ru:()=>Cr,tV:()=>be,uI:()=>_e,ug:()=>eo,vZ:()=>Hr,w1:()=>xs,w9:()=>Cn,xO:()=>Os,xb:()=>li,z$:()=>Ht,zd:()=>Yn});const L={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},X=function(j,U){if(!j)throw Y(U)},Y=function(j){return new Error("Firebase Database ("+L.SDK_VERSION+") INTERNAL ASSERT FAILED: "+j)},$e=function(j){const U=[];let P=0;for(let R=0;R<j.length;R++){let A=j.charCodeAt(R);A<128?U[P++]=A:A<2048?(U[P++]=A>>6|192,U[P++]=63&A|128):55296==(64512&A)&&R+1<j.length&&56320==(64512&j.charCodeAt(R+1))?(A=65536+((1023&A)<<10)+(1023&j.charCodeAt(++R)),U[P++]=A>>18|240,U[P++]=A>>12&63|128,U[P++]=A>>6&63|128,U[P++]=63&A|128):(U[P++]=A>>12|224,U[P++]=A>>6&63|128,U[P++]=63&A|128)}return U},lt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,U){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let A=0;A<j.length;A+=3){const J=j[A],ae=A+1<j.length,Fe=ae?j[A+1]:0,Et=A+2<j.length,Re=Et?j[A+2]:0;let Pt=(15&Fe)<<2|Re>>6,Nt=63&Re;Et||(Nt=64,ae||(Pt=64)),R.push(P[J>>2],P[(3&J)<<4|Fe>>4],P[Pt],P[Nt])}return R.join("")},encodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(j):this.encodeByteArray($e(j),U)},decodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(j):function(j){const U=[];let P=0,R=0;for(;P<j.length;){const A=j[P++];if(A<128)U[R++]=String.fromCharCode(A);else if(A>191&&A<224){const J=j[P++];U[R++]=String.fromCharCode((31&A)<<6|63&J)}else if(A>239&&A<365){const Et=((7&A)<<18|(63&j[P++])<<12|(63&j[P++])<<6|63&j[P++])-65536;U[R++]=String.fromCharCode(55296+(Et>>10)),U[R++]=String.fromCharCode(56320+(1023&Et))}else{const J=j[P++],ae=j[P++];U[R++]=String.fromCharCode((15&A)<<12|(63&J)<<6|63&ae)}}return U.join("")}(this.decodeStringToByteArray(j,U))},decodeStringToByteArray(j,U){this.init_();const P=U?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let A=0;A<j.length;){const J=P[j.charAt(A++)],Fe=A<j.length?P[j.charAt(A)]:0;++A;const Re=A<j.length?P[j.charAt(A)]:64;++A;const Ct=A<j.length?P[j.charAt(A)]:64;if(++A,null==J||null==Fe||null==Re||null==Ct)throw new Er;R.push(J<<2|Fe>>4),64!==Re&&(R.push(Fe<<4&240|Re>>2),64!==Ct&&R.push(Re<<6&192|Ct))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}};class Er extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sn=function(j){const U=$e(j);return lt.encodeByteArray(U,!0)},en=function(j){return Sn(j).replace(/\./g,"")},be=function(j){try{return lt.decodeString(j,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function Me(j){return tt(void 0,j)}function tt(j,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return U}for(const P in U)!U.hasOwnProperty(P)||!At(P)||(j[P]=tt(j[P],U[P]));return j}function At(j){return"__proto__"!==j}const Ve=()=>{try{return function sn(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=j&&be(j[1]);return U&&JSON.parse(U)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},Ot=()=>{var j;return null===(j=Ve())||void 0===j?void 0:j.config},_n=j=>{var U;return null===(U=Ve())||void 0===U?void 0:U[`_${j}`]};class ti{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,P)=>{this.resolve=U,this.reject=P})}wrapCallback(U){return(P,R)=>{P?this.reject(P):this.resolve(R),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(P):U(P,R))}}}function w(j,U){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=U||"demo-project",A=j.iat||0,J=j.sub||j.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ae=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:A,exp:A+3600,auth_time:A,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},j);return[en(JSON.stringify({alg:"none",type:"JWT"})),en(JSON.stringify(ae)),""].join(".")}function Ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function hn(){var j;const U=null===(j=Ve())||void 0===j?void 0:j.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function zn(){return"object"==typeof self&&self.self===self}function Cr(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Bt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xs(){const j=Ht();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function fr(){return!0===L.NODE_CLIENT||!0===L.NODE_ADMIN}function Oi(){return!hn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){try{return"object"==typeof indexedDB}catch{return!1}}function ge(){return new Promise((j,U)=>{try{let P=!0;const R="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(R);A.onsuccess=()=>{A.result.close(),P||self.indexedDB.deleteDatabase(R),j(!0)},A.onupgradeneeded=()=>{P=!1},A.onerror=()=>{var J;U((null===(J=A.error)||void 0===J?void 0:J.message)||"")}}catch(P){U(P)}})}class Se extends Error{constructor(U,P,R){super(P),this.code=U,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(U,P,R){this.service=U,this.serviceName=P,this.errors=R}create(U,...P){const R=P[0]||{},A=`${this.service}/${U}`,J=this.errors[U],ae=J?function ut(j,U){return j.replace(Wt,(P,R)=>{const A=U[R];return null!=A?String(A):`<${R}?>`})}(J,R):"Error";return new Se(A,`${this.serviceName}: ${ae} (${A}).`,R)}}const Wt=/\{\$([^}]+)}/g;function wn(j){return JSON.parse(j)}function pt(j){return JSON.stringify(j)}const on=function(j){let U={},P={},R={},A="";try{const J=j.split(".");U=wn(be(J[0])||""),P=wn(be(J[1])||""),A=J[2],R=P.d||{},delete P.d}catch{}return{header:U,claims:P,data:R,signature:A}},Cn=function(j){const P=on(j).claims;return!!P&&"object"==typeof P&&P.hasOwnProperty("iat")},Wn=function(j){const U=on(j).claims;return"object"==typeof U&&!0===U.admin};function Zn(j,U){return Object.prototype.hasOwnProperty.call(j,U)}function vn(j,U){if(Object.prototype.hasOwnProperty.call(j,U))return j[U]}function li(j){for(const U in j)if(Object.prototype.hasOwnProperty.call(j,U))return!1;return!0}function yi(j,U,P){const R={};for(const A in j)Object.prototype.hasOwnProperty.call(j,A)&&(R[A]=U.call(P,j[A],A,j));return R}function Hr(j,U){if(j===U)return!0;const P=Object.keys(j),R=Object.keys(U);for(const A of P){if(!R.includes(A))return!1;const J=j[A],ae=U[A];if(Mn(J)&&Mn(ae)){if(!Hr(J,ae))return!1}else if(J!==ae)return!1}for(const A of R)if(!P.includes(A))return!1;return!0}function Mn(j){return null!==j&&"object"==typeof j}function Os(j){const U=[];for(const[P,R]of Object.entries(j))Array.isArray(R)?R.forEach(A=>{U.push(encodeURIComponent(P)+"="+encodeURIComponent(A))}):U.push(encodeURIComponent(P)+"="+encodeURIComponent(R));return U.length?"&"+U.join("&"):""}function Yn(j){const U={};return j.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[A,J]=R.split("=");U[decodeURIComponent(A)]=decodeURIComponent(J)}}),U}function vi(j){const U=j.indexOf("?");if(!U)return"";const P=j.indexOf("#",U);return j.substring(U,P>0?P:void 0)}class Ir{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(U,P){P||(P=0);const R=this.W_;if("string"==typeof U)for(let Ct=0;Ct<16;Ct++)R[Ct]=U.charCodeAt(P)<<24|U.charCodeAt(P+1)<<16|U.charCodeAt(P+2)<<8|U.charCodeAt(P+3),P+=4;else for(let Ct=0;Ct<16;Ct++)R[Ct]=U[P]<<24|U[P+1]<<16|U[P+2]<<8|U[P+3],P+=4;for(let Ct=16;Ct<80;Ct++){const Pt=R[Ct-3]^R[Ct-8]^R[Ct-14]^R[Ct-16];R[Ct]=4294967295&(Pt<<1|Pt>>>31)}let Re,nt,A=this.chain_[0],J=this.chain_[1],ae=this.chain_[2],Fe=this.chain_[3],Et=this.chain_[4];for(let Ct=0;Ct<80;Ct++){Ct<40?Ct<20?(Re=Fe^J&(ae^Fe),nt=1518500249):(Re=J^ae^Fe,nt=1859775393):Ct<60?(Re=J&ae|Fe&(J|ae),nt=2400959708):(Re=J^ae^Fe,nt=3395469782);const Pt=(A<<5|A>>>27)+Re+Et+nt+R[Ct]&4294967295;Et=Fe,Fe=ae,ae=4294967295&(J<<30|J>>>2),J=A,A=Pt}this.chain_[0]=this.chain_[0]+A&4294967295,this.chain_[1]=this.chain_[1]+J&4294967295,this.chain_[2]=this.chain_[2]+ae&4294967295,this.chain_[3]=this.chain_[3]+Fe&4294967295,this.chain_[4]=this.chain_[4]+Et&4294967295}update(U,P){if(null==U)return;void 0===P&&(P=U.length);const R=P-this.blockSize;let A=0;const J=this.buf_;let ae=this.inbuf_;for(;A<P;){if(0===ae)for(;A<=R;)this.compress_(U,A),A+=this.blockSize;if("string"==typeof U){for(;A<P;)if(J[ae]=U.charCodeAt(A),++ae,++A,ae===this.blockSize){this.compress_(J),ae=0;break}}else for(;A<P;)if(J[ae]=U[A],++ae,++A,ae===this.blockSize){this.compress_(J),ae=0;break}}this.inbuf_=ae,this.total_+=P}digest(){const U=[];let P=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let A=this.blockSize-1;A>=56;A--)this.buf_[A]=255&P,P/=256;this.compress_(this.buf_);let R=0;for(let A=0;A<5;A++)for(let J=24;J>=0;J-=8)U[R]=this.chain_[A]>>J&255,++R;return U}}function Ke(j,U){const P=new Rn(j,U);return P.subscribe.bind(P)}class Rn{constructor(U,P){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=P,this.task.then(()=>{U(this)}).catch(R=>{this.error(R)})}next(U){this.forEachObserver(P=>{P.next(U)})}error(U){this.forEachObserver(P=>{P.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,P,R){let A;if(void 0===U&&void 0===P&&void 0===R)throw new Error("Missing Observer.");A=function br(j,U){if("object"!=typeof j||null===j)return!1;for(const P of U)if(P in j&&"function"==typeof j[P])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:P,complete:R},void 0===A.next&&(A.next=Ki),void 0===A.error&&(A.error=Ki),void 0===A.complete&&(A.complete=Ki);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch{}}),this.observers.push(A),J}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let P=0;P<this.observers.length;P++)this.sendOne(P,U)}sendOne(U,P){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{P(this.observers[U])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ki(){}const ds=function(j,U,P,R){let A;if(R<U?A="at least "+U:R>P&&(A=0===P?"none":"no more than "+P),A)throw new Error(j+" failed: Was called with "+R+(1===R?" argument.":" arguments.")+" Expects "+A+".")};function Ni(j,U){return`${j} failed: ${U} argument `}function fn(j,U,P,R){if((!R||P)&&"function"!=typeof P)throw new Error(Ni(j,U)+"must be a valid function.")}function pn(j,U,P,R){if((!R||P)&&("object"!=typeof P||null===P))throw new Error(Ni(j,U)+"must be a valid context object.")}const ni=function(j){const U=[];let P=0;for(let R=0;R<j.length;R++){let A=j.charCodeAt(R);if(A>=55296&&A<=56319){const J=A-55296;R++,X(R<j.length,"Surrogate pair missing trail surrogate."),A=65536+(J<<10)+(j.charCodeAt(R)-56320)}A<128?U[P++]=A:A<2048?(U[P++]=A>>6|192,U[P++]=63&A|128):A<65536?(U[P++]=A>>12|224,U[P++]=A>>6&63|128,U[P++]=63&A|128):(U[P++]=A>>18|240,U[P++]=A>>12&63|128,U[P++]=A>>6&63|128,U[P++]=63&A|128)}return U},eo=function(j){let U=0;for(let P=0;P<j.length;P++){const R=j.charCodeAt(P);R<128?U++:R<2048?U+=2:R>=55296&&R<=56319?(U+=4,P++):U+=3}return U};function Sr(j){return j&&j._delegate?j._delegate:j}},440:(cs,Or,ft)=>{"use strict";let X=null,$e=1;function lt(t){const e=X;return X=t,e}function At(t){if((!ti(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==$e)){if(!t.producerMustRecompute(t)&&!wr(t))return t.dirty=!1,void(t.lastCleanEpoch=$e);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=$e}}function wr(t){w(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(At(n),r!==n.version))return!0}return!1}function _n(t,e){if(function Ht(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),w(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)_n(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];w(i),i.producerIndexOfThis[r]=e}}function ti(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function w(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let xs=null;function vt(t){return"function"==typeof t}function Cn(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Wn=Cn(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Zn(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class vn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(vt(r))try{r()}catch(s){e=s instanceof Wn?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Hr(s)}catch(o){e=e??[],o instanceof Wn?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Wn(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Hr(e);else{if(e instanceof vn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Zn(n,e)}remove(e){const{_finalizers:n}=this;n&&Zn(n,e),e instanceof vn&&e._removeParent(this)}}vn.EMPTY=(()=>{const t=new vn;return t.closed=!0,t})();const li=vn.EMPTY;function yi(t){return t instanceof vn||t&&"closed"in t&&vt(t.remove)&&vt(t.add)&&vt(t.unsubscribe)}function Hr(t){vt(t)?t():t.unsubscribe()}const Mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Gi={setTimeout(t,e,...n){const{delegate:r}=Gi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Gi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Os(t){Gi.setTimeout(()=>{const{onUnhandledError:e}=Mn;if(!e)throw t;e(t)})}function Yn(){}const vi=Rn("C",void 0,void 0);function Rn(t,e,n){return{kind:t,value:e,error:n}}let Ns=null;function br(t){if(Mn.useDeprecatedSynchronousErrorHandling){const e=!Ns;if(e&&(Ns={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ns;if(Ns=null,n)throw r}}else t()}class ds extends vn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yi(e)&&e.add(this)):this.destination=Tr}static create(e,n,r){return new pn(e,n,r)}next(e){this.isStopped?fs(function Ke(t){return Rn("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?fs(function Ir(t){return Rn("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fs(vi,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ni=Function.prototype.bind;function hs(t,e){return Ni.call(t,e)}class fn{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ni(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ni(r)}else ni(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ni(n)}}}class pn extends ds{constructor(e,n,r){let i;if(super(),vt(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Mn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hs(e.next,s),error:e.error&&hs(e.error,s),complete:e.complete&&hs(e.complete,s)}):i=e}this.destination=new fn(i)}}function ni(t){Mn.useDeprecatedSynchronousErrorHandling?function Ki(t){Mn.useDeprecatedSynchronousErrorHandling&&Ns&&(Ns.errorThrown=!0,Ns.error=t)}(t):Os(t)}function fs(t,e){const{onStoppedNotification:n}=Mn;n&&Gi.setTimeout(()=>n(t,e))}const Tr={closed:!0,next:Yn,error:function eo(t){throw t},complete:Yn},ci="function"==typeof Symbol&&Symbol.observable||"@@observable";function zr(t){return t}function kr(...t){return ks(t)}function ks(t){return 0===t.length?zr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let an=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function j(t){return t&&t instanceof ds||function Sr(t){return t&&vt(t.next)&&vt(t.error)&&vt(t.complete)}(t)&&yi(t)}(n)?n:new pn(n,r,i);return br(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=yo(r))((i,s)=>{const o=new pn({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ci](){return this}pipe(...n){return ks(n)(this)}toPromise(n){return new(n=yo(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function yo(t){var e;return null!==(e=t??Mn.Promise)&&void 0!==e?e:Promise}const U=Cn(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let P=(()=>{class t extends an{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new R(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new U}next(n){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?li:(this.currentObservers=null,s.push(n),new vn(()=>{this.currentObservers=null,Zn(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new an;return n.source=this,n}}return t.create=(e,n)=>new R(e,n),t})();class R extends P{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:li}}class A extends P{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function J(t){return vt(t?.lift)}function ae(t){return e=>{if(J(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Fe(t,e,n,r,i){return new Et(t,e,n,r,i)}class Et extends ds{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Re(t,e){return ae((n,r)=>{let i=0;n.subscribe(Fe(r,s=>{r.next(t.call(e,s,i++))}))})}function nt(t){for(let e in t)if(t[e]===nt)return e;throw Error("Could not find renamed property on target object.")}function Ct(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Pt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Pt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Nt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Fo=nt({__forward_ref__:nt});function se(t){return t.__forward_ref__=se,t.toString=function(){return Pt(this())},t}function G(t){return De(t)?t():t}function De(t){return"function"==typeof t&&t.hasOwnProperty(Fo)&&t.__forward_ref__===se}function Je(t){return t&&!!t.\u0275providers}const Lt="https://g.co/ng/security#xss";class ne extends Error{constructor(e,n){super(function Xn(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}const xn=nt({\u0275cmp:nt}),ps=nt({\u0275dir:nt}),Lo=nt({\u0275pipe:nt}),Fc=nt({\u0275mod:nt}),gs=nt({\u0275fac:nt}),Su=nt({__NG_ELEMENT_ID__:nt}),gl=nt({__NG_ENV_ID__:nt});function Mt(t){return"string"==typeof t?t:null==t?"":String(t)}function Vo(t,e){throw new ne(-201,!1)}function wi(t,e){null==t&&function dt(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function qe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function sr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Pu(t){return Uc(t,Uo)||Uc(t,yl)}function Uc(t,e){return t.hasOwnProperty(e)?t[e]:null}function ca(t){return t&&(t.hasOwnProperty(jc)||t.hasOwnProperty(Eg))?t[jc]:null}const Uo=nt({\u0275prov:nt}),jc=nt({\u0275inj:nt}),yl=nt({ngInjectableDef:nt}),Eg=nt({ngInjectorDef:nt});var qt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(qt||{});let $c;function vl(){return $c}function Fi(t){const e=$c;return $c=t,e}function Mu(t,e,n){const r=Pu(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&qt.Optional?null:void 0!==e?e:void Vo(Pt(t))}const Dn=globalThis;class Le{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=qe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const g={},y="__NG_DI_FLAG__",E="ngTempTokenPath",T=/\n/gm,H="__source";let V;function ce(t){const e=V;return V=t,e}function Ee(t,e=qt.Default){if(void 0===V)throw new ne(-203,!1);return null===V?Mu(t,void 0,e):V.get(t,e&qt.Optional?null:void 0,e)}function k(t,e=qt.Default){return(vl()||Ee)(G(t),e)}function ve(t,e=qt.Default){return k(t,Yt(e))}function Yt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function bt(t){const e=[];for(let n=0;n<t.length;n++){const r=G(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ne(900,!1);let i,s=qt.Default;for(let o=0;o<r.length;o++){const a=r[o],u=or(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(k(i,s))}else e.push(k(r))}return e}function pr(t,e){return t[y]=e,t.prototype[y]=e,t}function or(t){return t[y]}function St(t){return{toString:t}.toString()}var gr=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gr||{}),xt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(xt||{});const En={},Kt=[];function da(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Yi(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Us(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function ha(t){return 3===t||4===t||6===t}function Us(t){return 64===t.charCodeAt(0)}function Li(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Bs(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Bs(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Ci="ng-template";function Ua(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==da(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function _s(t){return 4===t.type&&t.value!==Ci}function no(t,e,n){return e===(4!==t.type||n?t.value:Ci)}function zc(t,e,n){let r=4;const i=t.attrs||[],s=function vs(t){for(let e=0;e<t.length;e++)if(ha(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!no(t,u,n)||""===u&&1===e.length){if(ys(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Ua(t.attrs,l,n)){if(ys(r))return!1;o=!0}continue}const p=Wc(8&r?"class":u,i,_s(t),n);if(-1===p){if(ys(r))return!1;o=!0;continue}if(""!==l){let v;v=p>s?"":i[p+1].toLowerCase();const C=8&r?v:null;if(C&&-1!==da(C,l,0)||2&r&&l!==v){if(ys(r))return!1;o=!0}}}}else{if(!o&&!ys(r)&&!ys(u))return!1;if(o&&ys(u))continue;o=!1,r=u|1&r}}return ys(r)||o}function ys(t){return 0==(1&t)}function Wc(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Bo(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function cn(t,e,n=!1){for(let r=0;r<e.length;r++)if(zc(t,e[r],n))return!0;return!1}function El(t,e){return t?":not("+e.trim()+")":e}function Mh(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ys(o)&&(e+=El(s,i),i=""),r=o,s=s||!ys(r);n++}return""!==i&&(e+=El(s,i)),e}function qn(t){return St(()=>{const e=Ou(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||xt.Emulated,styles:t.styles||Kt,_:null,schemas:t.schemas||null,tView:null,id:""};N(n);const r=t.dependencies;return n.directiveDefs=K(r,!1),n.pipeDefs=K(r,!0),n.id=function de(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function ja(t){return Vt(t)||er(t)}function fa(t){return null!==t}function Jn(t){return St(()=>({type:t.type,bootstrap:t.bootstrap||Kt,declarations:t.declarations||Kt,imports:t.imports||Kt,exports:t.exports||Kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jo(t,e){if(null==t)return En;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function mt(t){return St(()=>{const e=Ou(t);return N(e),e})}function hi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Vt(t){return t[xn]||null}function er(t){return t[ps]||null}function Fr(t){return t[Lo]||null}function Wr(t,e){const n=t[Fc]||null;if(!n&&!0===e)throw new Error(`Type ${Pt(t)} does not have '\u0275mod' property.`);return n}function Ou(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||En,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Kt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jo(t.inputs,e),outputs:jo(t.outputs),debugInfo:null}}function N(t){t.features?.forEach(e=>e(t))}function K(t,e){if(!t)return null;const n=e?Fr:ja;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(fa)}const fe=0,ee=1,ye=2,Be=3,je=4,_t=5,ot=6,yt=7,rt=8,Qe=9,un=10,st=11,Dr=12,Ii=13,bi=14,In=15,Lr=16,$a=17,$o=18,Nu=19,Ev=20,Ha=21,Gc=22,pa=23,kt=25,za=1,Ho=7,Cl=9,Vr=10;var Il=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(Il||{});function Vi(t){return Array.isArray(t)&&"object"==typeof t[za]}function Ti(t){return Array.isArray(t)&&!0===t[za]}function wv(t){return 0!=(4&t.flags)}function ga(t){return t.componentOffset>-1}function Kc(t){return 1==(1&t.flags)}function Eo(t){return!!t.template}function Cv(t){return 0!=(512&t[ye])}function Tl(t,e){return t.hasOwnProperty(gs)?t[gs]:null}class Ig{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function io(){return Av}function Av(t){return t.type.prototype.ngOnChanges&&(t.setInput=Z0),Zc}function Zc(){const t=Pv(this),e=t?.current;if(e){const n=t.previous;if(n===En)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Z0(t,e,n,r){const i=this.declaredInputs[n],s=Pv(t)||function bg(t,e){return t[Ur]=e}(t,{previous:En,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Ig(u&&u.currentValue,e,a===En),t[r]=e}io.ngInherit=!0;const Ur="__ngSimpleChanges__";function Pv(t){return t[Ur]||null}const zo=function(t,e,n){};let Rv=!1;function On(t){for(;Array.isArray(t);)t=t[fe];return t}function Yc(t,e){return On(e[t])}function Si(t,e){return On(e[t.index])}function ku(t,e){return t.data[e]}function Dl(t,e){return t[e]}function Xi(t,e){const n=e[t];return Vi(n)?n:n[fe]}function Ag(t){return 128==(128&t[ye])}function ma(t,e){return null==e?null:t[e]}function Pg(t){t[$a]=0}function J0(t){1024&t[ye]||(t[ye]|=1024,Ag(t)&&Xc(t))}function kv(t){return 9216&t[ye]||t[pa]?.dirty}function Mg(t){kv(t)?Xc(t):64&t[ye]&&(function xh(){return Rv}()?(t[ye]|=1024,Xc(t)):t[un].changeDetectionScheduler?.notify())}function Xc(t){t[un].changeDetectionScheduler?.notify();let e=t[Be];for(;null!==e&&!(Ti(e)&&e[ye]&Il.HasChildViewsToRefresh||Vi(e)&&8192&e[ye]);){if(Ti(e))e[ye]|=Il.HasChildViewsToRefresh;else if(e[ye]|=8192,!Ag(e))break;e=e[Be]}}function Fu(t,e){if(256==(256&t[ye]))throw new ne(911,!1);null===t[Ha]&&(t[Ha]=[]),t[Ha].push(e)}const Dt={lFrame:Fh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vv(){return Dt.bindingsEnabled}function we(){return Dt.lFrame.lView}function tn(){return Dt.lFrame.tView}function Og(t){return Dt.lFrame.contextLView=t,t[rt]}function Jc(t){return Dt.lFrame.contextLView=null,t}function Ln(){let t=Oh();for(;null!==t&&64===t.type;)t=t.parent;return t}function Oh(){return Dt.lFrame.currentTNode}function so(t,e){const n=Dt.lFrame;n.currentTNode=t,n.isParent=e}function Ng(){return Dt.lFrame.isParent}function Ji(){const t=Dt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function oo(){return Dt.lFrame.bindingIndex++}function kg(t,e){const n=Dt.lFrame;n.bindingIndex=n.bindingRootIndex=t,td(e)}function td(t){Dt.lFrame.currentDirectiveIndex=t}function kh(){return Dt.lFrame.currentQueryIndex}function nd(t){Dt.lFrame.currentQueryIndex=t}function lb(t){const e=t[ee];return 2===e.type?e.declTNode:1===e.type?t[_t]:null}function Ml(t,e,n){if(n&qt.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&qt.Host||(i=lb(s),null===i||(s=s[bi],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Dt.lFrame=$v();return r.currentTNode=e,r.lView=t,!0}function Lg(t){const e=$v(),n=t[ee];Dt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $v(){const t=Dt.lFrame,e=null===t?null:t.child;return null===e?Fh(t):e}function Fh(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Lh(){const t=Dt.lFrame;return Dt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Vh=Lh;function Vg(){const t=Lh();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Di(){return Dt.lFrame.selectedIndex}function qa(t){Dt.lFrame.selectedIndex=t}function tr(){const t=Dt.lFrame;return ku(t.tView,t.selectedIndex)}let zv=!0;function Bh(){return zv}function qo(t){zv=t}function Rl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=h&&(t.destroyHooks??=[]).push(n,h)}}function xl(t,e,n){$h(t,e,3,n)}function Ol(t,e,n,r){(3&t[ye])===n&&$h(t,e,n,r)}function jh(t,e){let n=t[ye];(3&n)===e&&(n&=16383,n+=1,t[ye]=n)}function $h(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[$a]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[$a]+=65536),(a<s||-1==s)&&(qv(t,n,e,u),t[$a]=(4294901760&t[$a])+u+2),u++}function Wv(t,e){zo(4,t,e);const n=lt(null);try{e.call(t)}finally{lt(n),zo(5,t,e)}}function qv(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ye]>>14<t[$a]>>16&&(3&t[ye])===e&&(t[ye]+=16384,Wv(a,s)):Wv(a,s)}const Lu=-1;class Nl{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function jg(t){return t!==Lu}function rd(t){return 32767&t}function id(t,e){let n=function Kv(t){return t>>16}(t),r=e;for(;n>0;)r=r[bi],n--;return r}let kl=!0;function zh(t){const e=kl;return kl=t,e}const Qv=255,Zv=5;let _b=0;const Go={};function Wh(t,e){const n=Yv(t,e);if(-1!==n)return n;const r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,sd(r.data,t),sd(e,null),sd(r.blueprint,null));const i=qh(t,e),s=t.injectorIndex;if(jg(i)){const o=rd(i),a=id(i,e),u=a[ee].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function sd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Yv(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function qh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Qh(i),null===r)return Lu;if(n++,i=i[bi],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Lu}function $g(t,e,n){!function yb(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Su)&&(r=n[Su]),null==r&&(r=n[Su]=_b++);const i=r&Qv;e.data[t+(i>>Zv)]|=1<<i}(t,e,n)}function Xv(t,e,n){if(n&qt.Optional||void 0!==t)return t;Vo()}function Hg(t,e,n,r){if(n&qt.Optional&&void 0===r&&(r=null),!(n&(qt.Self|qt.Host))){const i=t[Qe],s=Fi(void 0);try{return i?i.get(e,r,n&qt.Optional):Mu(e,r,n&qt.Optional)}finally{Fi(s)}}return Xv(r,0,n)}function Jv(t,e,n,r=qt.Default,i){if(null!==t){if(2048&e[ye]&&!(r&qt.Self)){const o=function dN(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ye]&&!(512&o[ye]);){const a=eE(s,o,n,r|qt.Self,Go);if(a!==Go)return a;let u=s.parent;if(!u){const l=o[Ev];if(l){const h=l.get(n,Go,r);if(h!==Go)return h}u=Qh(o),o=o[bi]}s=u}return i}(t,e,n,r,Go);if(o!==Go)return o}const s=eE(t,e,n,r,Go);if(s!==Go)return s}return Hg(e,n,r,i)}function eE(t,e,n,r,i){const s=function zg(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Su)?t[Su]:void 0;return"number"==typeof e?e>=0?e&Qv:wb:e}(n);if("function"==typeof s){if(!Ml(e,t,r))return r&qt.Host?Xv(i,0,r):Hg(e,n,r,i);try{let o;if(o=s(r),null!=o||r&qt.Optional)return o;Vo()}finally{Vh()}}else if("number"==typeof s){let o=null,a=Yv(t,e),u=Lu,l=r&qt.Host?e[In][_t]:null;for((-1===a||r&qt.SkipSelf)&&(u=-1===a?qh(t,e):e[a+8],u!==Lu&&tE(r,!1)?(o=e[ee],a=rd(u),e=id(u,e)):a=-1);-1!==a;){const h=e[ee];if(Kh(s,a,h.data)){const p=Eb(a,e,n,o,r,l);if(p!==Go)return p}u=e[a+8],u!==Lu&&tE(r,e[ee].data[a+8]===l)&&Kh(s,a,e)?(o=h,a=rd(u),e=id(u,e)):a=-1}}return i}function Eb(t,e,n,r,i,s){const o=e[ee],a=o.data[t+8],h=Gh(a,o,n,null==r?ga(a)&&kl:r!=o&&0!=(3&a.type),i&qt.Host&&s===a);return null!==h?Vu(e,o,h,a):Go}function Gh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,h=s>>20,v=i?a+h:t.directiveEnd;for(let C=r?a:a+h;C<v;C++){const S=o[C];if(C<u&&n===S||C>=u&&S.type===n)return C}if(i){const C=o[u];if(C&&Eo(C)&&C.type===n)return u}return null}function Vu(t,e,n,r){let i=t[n];const s=e.data;if(function pb(t){return t instanceof Nl}(i)){const o=i;o.resolving&&function Du(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ne(-200,`Circular dependency in DI detected for ${t}${n}`)}(function gt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Mt(t)}(s[n]));const a=zh(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Fi(o.injectImpl):null;Ml(t,r,qt.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function fb(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Av(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&Fi(l),zh(a),o.resolving=!1,Vh()}}return i}function Kh(t,e,n){return!!(n[e+(t>>Zv)]&1<<t)}function tE(t,e){return!(t&qt.Self||t&qt.Host&&e)}class qr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Jv(this._tNode,this._lView,e,Yt(r),n)}}function wb(){return new qr(Ln(),we())}function Gr(t){return St(()=>{const e=t.prototype.constructor,n=e[gs]||Wg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[gs]||Wg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Wg(t){return De(t)?()=>{const e=Wg(G(t));return e&&e()}:Tl(t)}function Qh(t){const e=t[ee],n=e.type;return 2===n?e.declTNode:1===n?t[_t]:null}const Uu="__parameters__";function Ll(t,e,n){return St(()=>{const r=function qg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,h){const p=u.hasOwnProperty(Uu)?u[Uu]:Object.defineProperty(u,Uu,{value:[]})[Uu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Qt(t,e){t.forEach(n=>Array.isArray(n)?Qt(n,e):e(n))}function es(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function wo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ts(t,e,n){let r=ju(t,e);return r>=0?t[1|r]=n:(r=~r,function Gg(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Yh(t,e){const n=ju(t,e);if(n>=0)return t[1|n]}function ju(t,e){return function Kg(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const va=pr(Ll("Optional"),8),oE=pr(Ll("SkipSelf"),4),ad=new Le("ENVIRONMENT_INITIALIZER"),_N=new Le("INJECTOR",-1),Pb=new Le("INJECTOR_DEF_TYPES");class uE{get(e,n=g){if(n===g){const r=new Error(`NullInjectorError: No provider for ${Pt(e)}!`);throw r.name="NullInjectorError",r}return n}}function KG(...t){return{\u0275providers:vN(0,t),\u0275fromNgModule:!0}}function vN(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Qt(e,o=>{const a=o;lE(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&EN(i,s),n}function EN(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Mb(i,s=>{e(s,r)})}}function lE(t,e,n,r){if(!(t=G(t)))return!1;let i=null,s=ca(t);const o=!s&&Vt(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=ca(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)lE(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Qt(s.imports,h=>{lE(h,e,n,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&EN(l,e)}if(!a){const l=Tl(i)||(()=>new i);e({provide:i,useFactory:l,deps:Kt},i),e({provide:Pb,useValue:i,multi:!0},i),e({provide:ad,useValue:()=>k(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const l=t;Mb(u,h=>{e(h,l)})}}}return i!==t&&void 0!==t.providers}function Mb(t,e){for(let n of t)Je(n)&&(n=n.\u0275providers),Array.isArray(n)?Mb(n,e):e(n)}const QG=nt({provide:String,useValue:nt});function Rb(t){return null!==t&&"object"==typeof t&&QG in t}function ud(t){return"function"==typeof t}const xb=new Le("Set Injector scope."),cE={},YG={};let Ob;function dE(){return void 0===Ob&&(Ob=new uE),Ob}class Ko{}class Jh extends Ko{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kb(e,o=>this.processProvider(o)),this.records.set(_N,ef(void 0,this)),i.has("environment")&&this.records.set(Ko,ef(void 0,this));const s=this.records.get(xb);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Pb,Kt,qt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ce(this),r=Fi(void 0);try{return e()}finally{ce(n),Fi(r)}}get(e,n=g,r=qt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(gl))return e[gl](this);r=Yt(r);const s=ce(this),o=Fi(void 0);try{if(!(r&qt.SkipSelf)){let u=this.records.get(e);if(void 0===u){const l=function n9(t){return"function"==typeof t||"object"==typeof t&&t instanceof Le}(e)&&Pu(e);u=l&&this.injectableDefInScope(l)?ef(Nb(e),cE):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&qt.Self?dE():this.parent).get(e,n=r&qt.Optional&&n===g?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[E]=a[E]||[]).unshift(Pt(e)),s)throw a;return function to(t,e,n,r){const i=t[E];throw e[H]&&i.unshift(e[H]),t.message=function Vs(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Pt(e);if(Array.isArray(e))i=e.map(Pt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Pt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(T,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[E]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Fi(o),ce(s)}}resolveInjectorInitializers(){const e=ce(this),n=Fi(void 0);try{const i=this.get(ad,Kt,qt.Self);for(const s of i)s()}finally{ce(e),Fi(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Pt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(e){let n=ud(e=G(e))?e:G(e&&e.provide);const r=function JG(t){return Rb(t)?ef(void 0,t.useValue):ef(IN(t),cE)}(e);if(ud(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ef(void 0,cE,!0),i.factory=()=>bt(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===cE&&(n.value=YG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function t9(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=G(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Nb(t){const e=Pu(t),n=null!==e?e.factory:Tl(t);if(null!==n)return n;if(t instanceof Le)throw new ne(204,!1);if(t instanceof Function)return function XG(t){const e=t.length;if(e>0)throw function Ka(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new ne(204,!1);const n=function Bc(t){return t&&(t[Uo]||t[yl])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ne(204,!1)}function IN(t,e,n){let r;if(ud(t)){const i=G(t);return Tl(i)||Nb(i)}if(Rb(t))r=()=>G(t.useValue);else if(function CN(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...bt(t.deps||[]));else if(function wN(t){return!(!t||!t.useExisting)}(t))r=()=>k(G(t.useExisting));else{const i=G(t&&(t.useClass||t.provide));if(!function e9(t){return!!t.deps}(t))return Tl(i)||Nb(i);r=()=>new i(...bt(t.deps))}return r}function ef(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function kb(t,e){for(const n of t)Array.isArray(n)?kb(n,e):n&&Je(n)?kb(n.\u0275providers,e):e(n)}function ld(t,e){t instanceof Jh&&t.assertNotDestroyed();const r=ce(t),i=Fi(void 0);try{return e()}finally{ce(r),Fi(i)}}function DN(t,e=null,n=null,r){const i=AN(t,e,n,r);return i.resolveInjectorInitializers(),i}function AN(t,e=null,n=null,r,i=new Set){const s=[n||Kt,KG(t)];return r=r||("object"==typeof t?void 0:Pt(t)),new Jh(s,e||dE(),r||null,i)}let Vb,ao=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=g;static#t=this.NULL=new uE;static create(n,r){if(Array.isArray(n))return DN({name:""},r,n,"");{const i=n.name??"";return DN({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=qe({token:t,providedIn:"any",factory:()=>k(_N)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();const fE=new Le("AppId",{providedIn:"root",factory:()=>d9}),d9="ng",MN=new Le("Platform Initializer"),Ea=new Le("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),RN=new Le("AnimationModuleType"),xN=new Le("CSP nonce",{providedIn:"root",factory:()=>function Ul(){if(void 0!==Vb)return Vb;if(typeof document<"u")return document;throw new ne(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Co(t){return t instanceof Function?t():t}function _E(t){return 128==(128&t.flags)}var $l=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}($l||{});const Hb=new Map;let b9=0;const Wb="__ngContext__";function Es(t,e){Vi(e)?(t[Wb]=e[Nu],function S9(t){Hb.set(t[Nu],t)}(e)):t[Wb]=e}let qb;function Gb(t,e){return qb(t,e)}function tm(t){const e=t[Be];return Ti(e)?e[Be]:e}function ZN(t){return XN(t[Dr])}function YN(t){return XN(t[je])}function XN(t){for(;null!==t&&!Ti(t);)t=t[je];return t}function nf(t,e,n,r,i){if(null!=r){let s,o=!1;Ti(r)?s=r:Vi(r)&&(o=!0,r=r[fe]);const a=On(r);0===t&&null!==n?null==i?n1(e,n,a):cd(e,n,a,i||null,!0):1===t&&null!==n?cd(e,n,a,i||null,!0):2===t?function bE(t,e,n){const r=CE(t,e);r&&function W9(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function K9(t,e,n,r,i){const s=n[Ho];s!==On(n)&&nf(e,t,r,s,i);for(let a=Vr;a<n.length;a++){const u=n[a];im(u[ee],u,t,e,r,s)}}(e,t,s,n,i)}}function EE(t,e,n){return t.createElement(e,n)}function e1(t,e){const n=t[Cl],r=n.indexOf(e);n.splice(r,1)}function nm(t,e){if(t.length<=Vr)return;const n=Vr+e,r=t[n];if(r){const i=r[Lr];null!==i&&i!==t&&e1(i,r),e>0&&(t[n-1][je]=r[je]);const s=wo(t,Vr+e);!function L9(t,e){im(t,e,e[st],2,null,null),e[fe]=null,e[_t]=null}(r[ee],r);const o=s[$o];null!==o&&o.detachView(s[ee]),r[Be]=null,r[je]=null,r[ye]&=-129}return r}function wE(t,e){if(!(256&e[ye])){const n=e[st];n.destroyNode&&im(t,e,n,3,null,null),function B9(t){let e=t[Dr];if(!e)return Qb(t[ee],t);for(;e;){let n=null;if(Vi(e))n=e[Dr];else{const r=e[Vr];r&&(n=r)}if(!n){for(;e&&!e[je]&&e!==t;)Vi(e)&&Qb(e[ee],e),e=e[Be];null===e&&(e=t),Vi(e)&&Qb(e[ee],e),n=e&&e[je]}e=n}}(e)}}function Qb(t,e){if(!(256&e[ye])){e[ye]&=-129,e[ye]|=256,e[pa]&&function ir(t){if(w(t),ti(t))for(let e=0;e<t.producerNode.length;e++)_n(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[pa]),function z9(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Nl)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];zo(4,a,u);try{u.call(a)}finally{zo(5,a,u)}}else{zo(4,i,s);try{s.call(i)}finally{zo(5,i,s)}}}}}(t,e),function H9(t,e){const n=t.cleanup,r=e[yt];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[yt]=null);const i=e[Ha];if(null!==i){e[Ha]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[ee].type&&e[st].destroy();const n=e[Lr];if(null!==n&&Ti(e[Be])){n!==e[Be]&&e1(n,e);const r=e[$o];null!==r&&r.detachView(t)}!function D9(t){Hb.delete(t[Nu])}(e)}}function Zb(t,e,n){return function t1(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[fe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===xt.None||s===xt.Emulated)return null}return Si(r,n)}}(t,e.parent,n)}function cd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function n1(t,e,n){t.appendChild(e,n)}function r1(t,e,n,r,i){null!==r?cd(t,e,n,r,i):n1(t,e,n)}function CE(t,e){return t.parentNode(e)}let Yb,SE,a1=function o1(t,e,n){return 40&t.type?Si(t,n):null};function IE(t,e,n,r){const i=Zb(t,r,e),s=e[st],a=function s1(t,e,n){return a1(t,e,n)}(r.parent||e[_t],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)r1(s,i,n[u],a,!1);else r1(s,i,n,a,!1);void 0!==Yb&&Yb(s,r,e,n,i)}function rm(t,e){if(null!==e){const n=e.type;if(3&n)return Si(e,t);if(4&n)return Xb(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return rm(t,r);{const i=t[e.index];return Ti(i)?Xb(-1,i):On(i)}}if(32&n)return Gb(e,t)()||On(t[e.index]);{const r=l1(t,e);return null!==r?Array.isArray(r)?r[0]:rm(tm(t[In]),r):rm(t,e.next)}}return null}function l1(t,e){return null!==e?t[In][_t].projection[e.projection]:null}function Xb(t,e){const n=Vr+t+1;if(n<e.length){const r=e[n],i=r[ee].firstChild;if(null!==i)return rm(r,i)}return e[Ho]}function Jb(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Es(On(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Jb(t,e,n.child,r,i,s,!1),nf(e,t,i,a,s);else if(32&u){const l=Gb(n,r);let h;for(;h=l();)nf(e,t,i,h,s);nf(e,t,i,a,s)}else 16&u?d1(t,e,r,n,i,s):nf(e,t,i,a,s);n=o?n.projectionNext:n.next}}function im(t,e,n,r,i,s){Jb(n,r,t.firstChild,e,i,s,!1)}function d1(t,e,n,r,i,s){const o=n[In],u=o[_t].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)nf(e,t,i,u[l],s);else{let l=u;const h=o[Be];_E(r)&&(l.flags|=128),Jb(t,e,l,h,i,s,!0)}}function h1(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function f1(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Yi(t,e,r),null!==i&&h1(t,e,i),null!==s&&function Z9(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function m1(t){return function tT(){if(void 0===SE&&(SE=null,Dn.trustedTypes))try{SE=Dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return SE}()?.createScriptURL(t)||t}class _1{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Lt})`}}function Hl(t){return t instanceof _1?t.changingThisBreaksApplicationSecurity:t}function sm(t,e){const n=function s6(t){return t instanceof _1&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Lt})`)}return n===e}const l6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var sf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(sf||{});function AE(t){const e=am();return e?e.sanitize(sf.URL,t)||"":sm(t,"URL")?Hl(t):function nT(t){return(t=String(t)).match(l6)?t:"unsafe:"+t}(Mt(t))}function b1(t){const e=am();if(e)return m1(e.sanitize(sf.RESOURCE_URL,t)||"");if(sm(t,"ResourceURL"))return m1(Hl(t));throw new ne(904,!1)}function am(){const t=we();return t&&t[un].sanitizer}class C6{}let S1=(t,e,n)=>null;function fT(t,e,n=!1){return S1(t,e,n)}class R6{}class P1{}class O6{resolveComponentFactory(e){throw function x6(t){const e=Error(`No component factory found for ${Pt(t)}.`);return e.ngComponent=t,e}(e)}}let NE=(()=>{class t{static#e=this.NULL=new O6}return t})();function N6(){return lf(Ln(),we())}function lf(t,e){return new js(Si(t,e))}let js=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=N6}return t})();function k6(t){return t instanceof js?t.nativeElement:t}class mT{}let Qo=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function F6(){const t=we(),n=Xi(Ln().index,t);return(Vi(n)?n:t)[st]}()}return t})(),L6=(()=>{class t{static#e=this.\u0275prov=qe({token:t,providedIn:"root",factory:()=>null})}return t})();const _T={};function R1(t){const e=lt(null);try{return t()}finally{lt(e)}}function kE(t){return!!function yT(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}class x1{constructor(){}supports(e){return kE(e)}create(e){return new $6(e)}}const j6=(t,e)=>e;class $6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||j6}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<N1(r,i,s)?n:r,a=N1(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,h=u-i;if(l!=h){for(let v=0;v<l;v++){const C=v<s.length?s[v]:s[v]=0,S=C+v;h<=S&&S<l&&(s[v]=C+1)}s[o.previousIndex]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!kE(e))throw new ne(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function B6(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new H6(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new O1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new O1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class H6{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class z6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class O1{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new z6,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function N1(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function F1(){return new FE([new x1])}let FE=(()=>{class t{static#e=this.\u0275prov=qe({token:t,providedIn:"root",factory:F1});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||F1()),deps:[[t,new oE,new va]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new ne(901,!1)}}return t})();function dm(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(On(s)),Ti(s)&&V1(s,r);const o=n.type;if(8&o)dm(t,e,n.child,r);else if(32&o){const a=Gb(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=l1(e,n);if(Array.isArray(a))r.push(...a);else{const u=tm(e[In]);dm(u[ee],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function V1(t,e){for(let n=Vr;n<t.length;n++){const r=t[n],i=r[ee].firstChild;null!==i&&dm(r[ee],r,i,e)}t[Ho]!==t[fe]&&e.push(t[Ho])}let U1=[];const Y6={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Xc(t.lView)},consumerOnSignalRead(){this.lView[pa]=this}};function vT(t){return t.ngOriginalError}class Hu{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&vT(e);for(;n&&vT(n);)n=vT(n);return n||null}}const j1=new Le("",{providedIn:"root",factory:()=>ve(Hu).handleError.bind(void 0)}),H1=new Le("",{providedIn:"root",factory:()=>!1}),zt={};function Xt(t){G1(tn(),we(),Di()+t,!1)}function G1(t,e,n,r){if(!r)if(3==(3&e[ye])){const s=t.preOrderCheckHooks;null!==s&&xl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Ol(e,s,0,n)}qa(n)}function Te(t,e=qt.Default){const n=we();return null===n?k(t,e):Jv(Ln(),n,G(t),e)}function VE(t,e,n,r,i,s,o,a,u,l,h){const p=e.blueprint.slice();return p[fe]=i,p[ye]=204|r,(null!==l||t&&2048&t[ye])&&(p[ye]|=2048),Pg(p),p[Be]=p[bi]=t,p[rt]=n,p[un]=o||t&&t[un],p[st]=a||t&&t[st],p[Qe]=u||t&&t[Qe]||null,p[_t]=s,p[Nu]=function T9(){return b9++}(),p[ot]=h,p[Ev]=l,p[In]=2==e.type?t[In]:p,p}function cf(t,e,n,r,i){let s=t.data[e];if(null===s)s=function ET(t,e,n,r,i){const s=Oh(),o=Ng(),u=t.data[e]=function c8(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Al(){return null!==Dt.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function ab(){return Dt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Wa(){const t=Dt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return so(s,!0),s}function hm(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Q1(t,e,n,r,i){const s=Di(),o=2&r;try{qa(-1),o&&e.length>kt&&G1(t,e,kt,!1),zo(o?2:0,i),n(r,i)}finally{qa(s),zo(o?3:1,i)}}function wT(t,e,n){if(wv(e)){const r=lt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{lt(r)}}}function CT(t,e,n){Vv()&&(function _8(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;ga(n)&&function b8(t,e,n){const r=Si(e,t),i=Z1(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=UE(t,VE(t,i,null,o,r,e,null,t[un].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Wh(n,e),Es(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],l=Vu(e,t,a,n);Es(l,e),null!==o&&T8(0,a-i,l,u,0,o),Eo(u)&&(Xi(n.index,e)[rt]=Vu(e,t,a,n))}}(t,e,n,Si(n,e)),64==(64&n.flags)&&tk(t,e,n))}function IT(t,e,n=Si){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Z1(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=bT(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function bT(t,e,n,r,i,s,o,a,u,l,h){const p=kt+r,v=p+i,C=function i8(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:zt);return n}(p,v),S="function"==typeof l?l():l;return C[ee]={type:t,blueprint:C,template:n,queries:null,viewQuery:a,declTNode:e,data:C.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}let Y1=t=>null;function X1(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?J1(n,e,i,s):r.hasOwnProperty(i)&&J1(n,e,r[i],s)}return n}function J1(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Io(t,e,n,r,i,s,o,a){const u=Si(e,n);let h,l=e.inputs;!a&&null!=l&&(h=l[r])?(PT(t,n,h,r,i),ga(e)&&function f8(t,e){const n=Xi(e,t);16&n[ye]||(n[ye]|=64)}(n,e.index)):3&e.type&&(r=function h8(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function TT(t,e,n,r){if(Vv()){const i=null===r?null:{"":-1},s=function v8(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(cn(e,o.selectors,!1))if(r||(r=[]),Eo(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ST(t,e,a.length)}else r.unshift(o),ST(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&ek(t,e,n,o,i,a),i&&function E8(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new ne(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Li(n.mergedAttrs,n.attrs)}function ek(t,e,n,r,i,s){for(let l=0;l<r.length;l++)$g(Wh(n,e),t,r[l].type);!function C8(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=hm(t,e,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];n.mergedAttrs=Li(n.mergedAttrs,h.hostAttrs),I8(t,n,e,u,h),w8(u,h,i),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function d8(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,l=null;for(let h=e.directiveStart;h<i;h++){const p=s[h],v=n?n.get(p):null,S=v?v.outputs:null;u=X1(p.inputs,h,u,v?v.inputs:null),l=X1(p.outputs,h,l,S);const x=null===u||null===o||_s(e)?null:S8(u,h,o);a.push(x)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(t,n,s)}function tk(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function ub(){return Dt.lFrame.currentDirectiveIndex}();try{qa(s);for(let a=r;a<i;a++){const u=t.data[a],l=e[a];td(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&y8(u,l)}}finally{qa(-1),td(o)}}function y8(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ST(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function w8(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Eo(e)&&(n[""]=t)}}function I8(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Tl(i.type)),o=new Nl(s,Eo(i),Te);t.blueprint[r]=o,n[r]=o,function g8(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function m8(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,hm(t,n,i.hostVars,zt),i)}function Qa(t,e,n,r,i,s){const o=Si(t,e);!function DT(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Mt(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[st],o,s,t.value,n,r,i)}function T8(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)nk(r,n,o[a++],o[a++],o[a++])}function nk(t,e,n,r,i){const s=lt(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{lt(s)}}function S8(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function rk(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ik(t,e){const n=t.contentQueries;if(null!==n){const r=lt(null);try{for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const a=t.data[o];nd(n[i]),a.contentQueries(2,e[o],o)}}}finally{lt(r)}}}function UE(t,e){return t[Dr]?t[Ii][je]=e:t[Dr]=e,t[Ii]=e,e}function AT(t,e,n){nd(0);const r=lt(null);try{e(t,n)}finally{lt(r)}}function sk(t){return t[yt]||(t[yt]=[])}function ok(t){return t.cleanup||(t.cleanup=[])}function BE(t,e){const n=t[Qe],r=n?n.get(Hu,null):null;r&&r.handleError(e)}function PT(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];nk(t.data[o],e[o],r,a,i)}}function P8(t,e,n,r){const i=e[ye];if(256==(256&i))return;e[un].inlineEffectRunner?.flush(),Lg(e);let o=null,a=null;(function M8(t){return 2!==t.type})(t)&&(a=function K6(t){return t[pa]??function Q6(t){const e=U1.pop()??Object.create(Y6);return e.lView=t,e}(t)}(e),o=function Tt(t){return t&&(t.nextProducerIndex=0),lt(t)}(a));try{Pg(e),function Bv(t){return Dt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Q1(t,e,n,2,r);const u=3==(3&i);if(u){const p=t.preOrderCheckHooks;null!==p&&xl(e,p,null)}else{const p=t.preOrderHooks;null!==p&&Ol(e,p,0,null),jh(e,0)}if(function R8(t){for(let e=ZN(t);null!==e;e=YN(e)){if(!(e[ye]&Il.HasTransplantedViews))continue;const n=e[Cl];for(let r=0;r<n.length;r++){J0(n[r])}}}(e),uk(e,0),null!==t.contentQueries&&ik(t,e),u){const p=t.contentCheckHooks;null!==p&&xl(e,p)}else{const p=t.contentHooks;null!==p&&Ol(e,p,1),jh(e,1)}!function r8(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)qa(~i);else{const s=i,o=n[++r],a=n[++r];kg(o,s),a(2,e[s])}}}finally{qa(-1)}}(t,e);const l=t.components;null!==l&&ck(e,l,0);const h=t.viewQuery;if(null!==h&&AT(2,h,r),u){const p=t.viewCheckHooks;null!==p&&xl(e,p)}else{const p=t.viewHooks;null!==p&&Ol(e,p,2),jh(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Gc]){for(const p of e[Gc])p();e[Gc]=null}e[ye]&=-73}catch(u){throw Xc(e),u}finally{null!==a&&(function Ve(t,e){if(lt(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ti(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_n(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(a,o),function Z6(t){t.lView[pa]!==t&&(t.lView=null,U1.push(t))}(a)),Vg()}}function uk(t,e){for(let n=ZN(t);null!==n;n=YN(n)){n[ye]&=~Il.HasChildViewsToRefresh;for(let r=Vr;r<n.length;r++)lk(n[r],e)}}function x8(t,e,n){lk(Xi(e,t),n)}function lk(t,e){Ag(t)&&RT(t,e)}function RT(t,e){const r=t[ee],i=t[ye],s=t[pa];let o=!!(0===e&&16&i);if(o||=!!(64&i&&0===e),o||=!!(1024&i),o||=!(!s?.dirty||!wr(s)),s&&(s.dirty=!1),t[ye]&=-9217,o)P8(r,t,r.template,t[rt]);else if(8192&i){uk(t,1);const a=r.components;null!==a&&ck(t,a,1)}}function ck(t,e,n){for(let r=0;r<e.length;r++)x8(t,e[r],n)}function fm(t){for(t[un].changeDetectionScheduler?.notify();t;){t[ye]|=64;const e=tm(t);if(Cv(t)&&!e)return t;t=e}return null}class pm{get rootNodes(){const e=this._lView,n=e[ee];return dm(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rt]}set context(e){this._lView[rt]=e}get destroyed(){return 256==(256&this._lView[ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Be];if(Ti(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(nm(e,r),wo(n,r))}this._attachedToViewContainer=!1}wE(this._lView[ee],this._lView)}onDestroy(e){Fu(this._lView,e)}markForCheck(){fm(this._cdRefInjectingView||this._lView)}detach(){this._lView[ye]&=-129}reattach(){Mg(this._lView),this._lView[ye]|=128}detectChanges(){this._lView[ye]|=1024,function MT(t,e=!0){const n=t[un],r=n.rendererFactory,i=n.afterRenderEventManager;r.begin?.(),i?.begin();try{!function A8(t){RT(t,0);let e=0;for(;kv(t);){if(100===e)throw new ne(103,!1);e++,RT(t,1)}}(t)}catch(o){throw e&&BE(t,o),o}finally{r.end?.(),n.inlineEffectRunner?.flush(),i?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function U9(t,e){im(t,e,e[st],2,null,null)}(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=e,Mg(this._lView)}}let df=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=O8}return t})();function O8(t){return function N8(t,e,n){if(ga(t)&&!n){const r=Xi(t.index,e);return new pm(r,r)}return 47&t.type?new pm(e[In],e):null}(Ln(),we(),16==(16&t))}let jE=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=V8;static#t=this.__NG_ENV_ID__=n=>n}return t})();class L8 extends jE{constructor(e){super(),this._lView=e}onDestroy(e){return Fu(this._lView,e),()=>function Rg(t,e){if(null===t[Ha])return;const n=t[Ha].indexOf(e);-1!==n&&t[Ha].splice(n,1)}(this._lView,e)}}function V8(){return new L8(we())}const dk=new Set;function dd(t){dk.has(t)||(dk.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function xT(t){return e=>{setTimeout(t,void 0,e)}}const Kr=class W8 extends P{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=xT(s),i&&(i=xT(i)),o&&(o=xT(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof vn&&e.add(a),a}};function hk(...t){}class gn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kr(!1),this.onMicrotaskEmpty=new Kr(!1),this.onStable=new Kr(!1),this.onError=new Kr(!1),typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function q8(){const t="function"==typeof Dn.requestAnimationFrame;let e=Dn[t?"requestAnimationFrame":"setTimeout"],n=Dn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Q8(t){const e=()=>{!function K8(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Dn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,NT(t),t.isCheckStableRunning=!0,OT(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),NT(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function Y8(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return fk(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),pk(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return fk(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),pk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,NT(t),OT(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gn.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(gn.isInAngularZone())throw new ne(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,G8,hk,hk);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const G8={};function OT(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function NT(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function fk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pk(t){t._nesting--,OT(t)}class Z8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kr,this.onMicrotaskEmpty=new Kr,this.onStable=new Kr,this.onError=new Kr}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}var hd=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(hd||{});const gk={destroy(){}};function _k(t,e){!e&&function Fb(t){if(!vl()&&!function Q(){return V}())throw new ne(-203,!1)}();const n=e?.injector??ve(ao);if(!function Bl(t){return"browser"===(t??ve(ao)).get(Ea)}(n))return gk;dd("NgAfterNextRender");const r=n.get($E),i=r.handler??=new vk,s=e?.phase??hd.MixedReadWrite,o=()=>{i.unregister(u),a()},a=n.get(jE).onDestroy(o),u=new yk(n,s,()=>{o(),t()});return i.register(u),{destroy:o}}class yk{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(gn),this.errorHandler=e.get(Hu,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class vk{constructor(){this.executingCallbacks=!1,this.buckets={[hd.EarlyRead]:new Set,[hd.Write]:new Set,[hd.MixedReadWrite]:new Set,[hd.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new ne(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let $E=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=qe({token:t,providedIn:"root",factory:()=>new t})}return t})();function e7(t,e){const n=Xi(e,t),r=n[ee];!function t7(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[fe];null!==i&&null===n[ot]&&(n[ot]=fT(i,n[Qe])),kT(r,n,n[rt])}function kT(t,e,n){Lg(e);try{const r=t.viewQuery;null!==r&&AT(1,r,n);const i=t.template;null!==i&&Q1(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ik(t,e),t.staticViewQueries&&AT(2,t.viewQuery,n);const s=t.components;null!==s&&function n7(t,e){for(let n=0;n<e.length;n++)e7(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ye]&=-5,Vg()}}function HE(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Nt(i,a):2==s&&(r=Nt(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class Ek extends NE{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Vt(e);return new gm(n,this.ngModule)}}function wk(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class i7{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Yt(r);const i=this.injector.get(e,_T,r);return i!==_T||n===_T?i:this.parentInjector.get(e,n,r)}}class gm extends P1{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=wk(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return wk(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function vo(t){return t.map(Mh).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ko?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new i7(e,s):e,a=o.get(mT,null);if(null===a)throw new ne(407,!1);const p={rendererFactory:a,sanitizer:o.get(L6,null),inlineEffectRunner:null,afterRenderEventManager:o.get($E,null),changeDetectionScheduler:o.get(C6,null)},v=a.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",S=r?function s8(t,e,n,r){const s=r.get(H1,!1)||n===xt.ShadowDom,o=t.selectRootElement(e,s);return function o8(t){Y1(t)}(o),o}(v,r,this.componentDef.encapsulation,o):EE(v,C,function r7(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(C));let x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let F=null;null!==S&&(F=fT(S,o,!0));const Z=bT(0,null,null,1,0,null,null,null,null,null,null),z=VE(null,Z,null,x,null,null,p,v,o,null,F);let re,me;Lg(z);try{const ke=this.componentDef;let Ze,$t=null;ke.findHostDirectiveDefs?(Ze=[],$t=new Map,ke.findHostDirectiveDefs(ke,Ze,$t),Ze.push(ke)):Ze=[ke];const Qn=function o7(t,e){const n=t[ee],r=kt;return t[r]=e,cf(n,r,2,"#host",null)}(z,S),ls=function a7(t,e,n,r,i,s,o){const a=i[ee];!function u7(t,e,n,r){for(const i of t)e.mergedAttrs=Li(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(HE(e,e.mergedAttrs,!0),null!==n&&f1(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=fT(e,i[Qe]));const l=s.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const p=VE(i,Z1(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&ST(a,t,r.length-1),UE(i,p),i[t.index]=p}(Qn,S,ke,Ze,z,p,v);me=ku(Z,kt),S&&function c7(t,e,n,r){if(r)Yi(t,n,["ng-version","17.0.8"]);else{const{attrs:i,classes:s}=function qc(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ys(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Yi(t,n,i),s&&s.length>0&&h1(t,n,s.join(" "))}}(v,ke,S,r),void 0!==n&&function d7(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(me,this.ngContentSelectors,n),re=function l7(t,e,n,r,i,s){const o=Ln(),a=i[ee],u=Si(o,i);ek(a,i,o,n,null,r);for(let h=0;h<n.length;h++)Es(Vu(i,a,o.directiveStart+h,o),i);tk(a,i,o),u&&Es(u,i);const l=Vu(i,a,o.directiveStart+o.componentOffset,o);if(t[rt]=i[rt]=l,null!==s)for(const h of s)h(l,e);return wT(a,o,t),l}(ls,ke,Ze,$t,z,[h7]),kT(Z,z,null)}finally{Vg()}return new s7(this.componentType,re,lf(me,z),z,me)}}class s7 extends R6{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new pm(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;PT(s[ee],s,i,e,n),this.previousInputValues.set(e,n),fm(Xi(this._tNode.index,s))}}get injector(){return new qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function h7(){const t=Ln();Rl(we()[ee],t)}function Bn(t){let e=function Ck(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Eo(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ne(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=zE(t.inputs),o.inputTransforms=zE(t.inputTransforms),o.declaredInputs=zE(t.declaredInputs),o.outputs=zE(t.outputs);const a=i.hostBindings;a&&m7(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&p7(t,u),l&&g7(t,l),Ct(t.inputs,i.inputs),Ct(t.declaredInputs,i.declaredInputs),Ct(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Ct(o.inputTransforms,i.inputTransforms)),Eo(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Bn&&(n=!1)}}e=Object.getPrototypeOf(e)}!function f7(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Li(i.hostAttrs,n=Li(n,i.hostAttrs))}}(r)}function zE(t){return t===En?{}:t===Kt?[]:t}function p7(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function g7(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function m7(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Sk(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Za(t,e,n){return t[e]=n}function fi(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function WE(t,e,n,r,i){const s=function fd(t,e,n,r){const i=fi(t,e,n);return fi(t,e+1,r)||i}(t,e,n,r);return fi(t,e+2,i)||s}function Ya(t,e,n,r){const i=we();return fi(i,oo(),e)&&(tn(),Qa(tr(),i,t,e,n,r)),Ya}function ff(t,e,n,r){return fi(t,oo(),n)?e+Mt(n)+r:zt}function qE(t,e){return t<<17|e<<2}function zl(t){return t>>17&32767}function FT(t){return 2|t}function pd(t){return(131068&t)>>2}function LT(t,e){return-131069&t|e<<2}function VT(t){return 1|t}function Fk(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?zl(s):pd(s),u=!1;for(;0!==a&&(!1===u||o);){const h=t[a+1];D7(t[a],e)&&(u=!0,t[a+1]=r?VT(h):FT(h)),a=r?zl(h):pd(h)}u&&(t[n+1]=r?FT(s):VT(s))}function D7(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ju(t,e)>=0}function An(t,e,n){const r=we();return fi(r,oo(),e)&&Io(tn(),tr(),r,t,e,r[st],n,!1),An}function UT(t,e,n,r,i){const o=i?"class":"style";PT(t,n,e.inputs[o],o,r)}function GE(t,e){return function wa(t,e,n,r){const i=we(),s=tn(),o=function Wo(t){const e=Dt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function Wk(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Di()],o=function zk(t,e){return e>=t.expandoStartIndex}(t,n);(function Qk(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function F7(t,e,n,r){const i=function Fg(t){const e=Dt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=_m(n=BT(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=BT(i,t,e,n,r),null===s){let u=function L7(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==pd(r))return t[zl(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=BT(null,t,e,u[1],r),u=_m(u,e.attrs,r),function V7(t,e,n,r){t[zl(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function U7(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=_m(r,t[s].hostAttrs,n);return _m(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function T7(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=zl(o),u=pd(o);t[r]=n;let h,l=!1;if(Array.isArray(n)?(h=n[1],(null===h||ju(n,h)>0)&&(l=!0)):h=n,i)if(0!==u){const v=zl(t[a+1]);t[r+1]=qE(v,a),0!==v&&(t[v+1]=LT(t[v+1],r)),t[a+1]=function I7(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=qE(a,0),0!==a&&(t[a+1]=LT(t[a+1],r)),a=r;else t[r+1]=qE(u,0),0===a?a=r:t[u+1]=LT(t[u+1],r),u=r;l&&(t[r+1]=FT(t[r+1])),Fk(t,h,r,!0),Fk(t,h,r,!1),function S7(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ju(s,e)>=0&&(n[r+1]=VT(n[r+1]))}(e,h,t,r,s),o=qE(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==zt&&fi(i,o,e)&&function Gk(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,l=u[a+1],h=function b7(t){return 1==(1&t)}(l)?Kk(u,e,n,i,pd(l),o):void 0;KE(h)||(KE(s)||function C7(t){return 2==(2&t)}(l)&&(s=Kk(u,null,n,i,a,o)),function Q9(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:$l.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=$l.Important),t.setStyle(n,r,i,s))}}(r,o,Yc(Di(),n),i,s))}(s,s.data[Di()],i,i[st],t,i[o+1]=function H7(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Pt(Hl(t)))),t}(e,n),r,o)}(t,e,null,!0),GE}function BT(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=_m(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function _m(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ts(t,o,!!n||e[++s]))}return void 0===t?null:t}function Kk(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=null===h;let v=n[i+1];v===zt&&(v=p?Kt:void 0);let C=p?Yh(v,r):h===r?v:void 0;if(l&&!KE(C)&&(C=Yh(u,r)),KE(C)&&(a=C,o))return a;const S=t[i+1];i=o?zl(S):pd(S)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Yh(u,r))}return a}function KE(t){return void 0!==t}function If(t,e){return!e||null===e.firstChild||_E(t)}function Im(t,e,n,r=!0){const i=e[ee];if(function j9(t,e,n,r){const i=Vr+r,s=n.length;r>0&&(n[i-1][je]=e),r<s-Vr?(e[je]=n[i],es(n,Vr+r,e)):(n.push(e),e[je]=null),e[Be]=n;const o=e[Lr];null!==o&&n!==o&&function $9(t,e){const n=t[Cl];e[In]!==e[Be][Be][In]&&(t[ye]|=Il.HasTransplantedViews),null===n?t[Cl]=[e]:n.push(e)}(o,e);const a=e[$o];null!==a&&a.insertView(t),Mg(e),e[ye]|=128}(i,e,t,n),r){const o=Xb(n,t),a=e[st],u=CE(a,t[Ho]);null!==u&&function V9(t,e,n,r,i,s){r[fe]=i,r[_t]=e,im(t,r,n,1,i,s)}(i,t[_t],a,e,u,o)}const s=e[ot];null!==s&&null!==s.firstChild&&(s.firstChild=null)}let Yo=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=IK}return t})();function IK(){return uF(Ln(),we())}const bK=Yo,oF=class extends bK{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return lf(this._hostTNode,this._hostLView)}get injector(){return new qr(this._hostTNode,this._hostLView)}get parentInjector(){const e=qh(this._hostTNode,this._hostLView);if(jg(e)){const n=id(e,this._hostLView),r=rd(e);return new qr(n[ee].data[r+8],n)}return new qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=aF(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Vr}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,If(this._hostTNode,null)),a}createComponent(e,n,r,i,s){const o=e&&!function Ae(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}const u=o?e:new gm(Vt(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const x=(o?l:this.parentInjector).get(Ko,null);x&&(s=x)}Vt(u.componentType??{});const C=u.create(l,i,null,s);return this.insertImpl(C.hostView,a,If(this._hostTNode,null)),C}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function X0(t){return Ti(t[Be])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const u=i[Be],l=new oF(u,u[_t],u[Be]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;return Im(o,i,s,r),e.attachToViewContainerRef(),es(QT(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=aF(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=nm(this._lContainer,n);r&&(wo(QT(this._lContainer),n),wE(r[ee],r))}detach(e){const n=this._adjustIndex(e,-1),r=nm(this._lContainer,n);return r&&null!=wo(QT(this._lContainer),n)?new pm(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function aF(t){return t[8]}function QT(t){return t[8]||(t[8]=[])}function uF(t,e){let n;const r=e[t.index];return Ti(r)?n=r:(n=rk(r,e,null,t),e[t.index]=n,UE(e,n)),lF(n,e,t,r),new oF(n,t,e)}let lF=function dF(t,e,n,r){if(t[Ho])return;let i;i=8&n.type?On(r):function TK(t,e){const n=t[st],r=n.createComment(""),i=Si(e,t);return cd(n,CE(n,i),r,function q9(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ho]=i},ZT=(t,e,n)=>!1;function Qr(t,e,n,r,i,s,o,a){const u=we(),l=tn(),h=t+kt,p=l.firstCreatePass?function PK(t,e,n,r,i,s,o,a,u){const l=e.consts,h=cf(e,t,4,o||null,ma(l,a));TT(e,n,h,ma(l,u)),Rl(e,h);const p=h.tView=bT(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,l,u,e,n,r,i,s,o):l.data[h];so(p,!1);const v=hF(l,u,p,t);Bh()&&IE(l,u,v,p),Es(v,u);const C=rk(v,u,v,p);return u[h]=C,UE(u,C),function cF(t,e,n){return ZT(t,e,n)}(C,p,u),Kc(p)&&CT(l,u,p),null!=o&&IT(u,p,a),Qr}let hF=function fF(t,e,n,r){return qo(!0),e[st].createComment("")};function B(t,e,n,r){const i=we(),s=tn(),o=kt+t,a=i[st],u=s.firstCreatePass?function yQ(t,e,n,r,i,s){const o=e.consts,u=cf(e,t,2,r,ma(o,i));return TT(e,n,u,ma(o,s)),null!==u.attrs&&HE(u,u.attrs,!1),null!==u.mergedAttrs&&HE(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],l=FF(s,i,u,a,e,t);i[o]=l;const h=Kc(u);return so(u,!0),f1(a,l,u),32!=(32&u.flags)&&Bh()&&IE(s,i,l,u),0===function eb(){return Dt.lFrame.elementDepthCount}()&&Es(l,i),function tb(){Dt.lFrame.elementDepthCount++}(),h&&(CT(s,i,u),wT(s,u,i)),null!==r&&IT(i,u),B}function q(){let t=Ln();Ng()?function ed(){Dt.lFrame.isParent=!1}():(t=t.parent,so(t,!1));const e=t;(function Uv(t){return Dt.skipHydrationRootTNode===t})(e)&&function xg(){Dt.skipHydrationRootTNode=null}(),function nb(){Dt.lFrame.elementDepthCount--}();const n=tn();return n.firstCreatePass&&(Rl(n,t),wv(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function gb(t){return 0!=(8&t.flags)}(e)&&UT(n,e,we(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function mb(t){return 0!=(16&t.flags)}(e)&&UT(n,e,we(),e.stylesWithoutHost,!1),q}function Ue(t,e,n,r){return B(t,e,n,r),q(),Ue}let FF=(t,e,n,r,i,s)=>(qo(!0),EE(r,i,function Uh(){return Dt.lFrame.currentNamespace}()));function lS(){return we()}const md=void 0;var TQ=["en",[["a","p"],["AM","PM"],md],[["AM","PM"],md,md],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],md,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],md,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",md,"{1} 'at' {0}",md],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bQ(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Mf={};function $s(t){const e=function SQ(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=$F(e);if(n)return n;const r=e.split("-")[0];if(n=$F(r),n)return n;if("en"===r)return TQ;throw new ne(701,!1)}function $F(t){return t in Mf||(Mf[t]=Dn.ng&&Dn.ng.common&&Dn.ng.common.locales&&Dn.ng.common.locales[t]),Mf[t]}var ar=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ar||{});const Rf="en-US";let HF=Rf;function xm(t){return!!t&&"function"==typeof t.then}function pL(t){return!!t&&"function"==typeof t.subscribe}function ii(t,e,n,r){const i=we(),s=tn(),o=Ln();return function mL(t,e,n,r,i,s,o){const a=Kc(r),l=t.firstCreatePass&&ok(t),h=e[rt],p=sk(e);let v=!0;if(3&r.type||o){const x=Si(r,e),F=o?o(x):x,Z=p.length,z=o?me=>o(On(me[r.index])):r.index;let re=null;if(!o&&a&&(re=function EZ(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[yt],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==re)(re.__ngLastListenerFn__||re).__ngNextListenerFn__=s,re.__ngLastListenerFn__=s,v=!1;else{s=yL(r,e,h,s,!1);const me=n.listen(F,i,s);p.push(s,me),l&&l.push(i,z,Z,Z+1)}}else s=yL(r,e,h,s,!1);const C=r.outputs;let S;if(v&&null!==C&&(S=C[i])){const x=S.length;if(x)for(let F=0;F<x;F+=2){const ke=e[S[F]][S[F+1]].subscribe(s),Ze=p.length;p.push(s,ke),l&&l.push(i,r.index,Ze,-(Ze+1))}}}(s,i,i[st],o,t,e,r),ii}function _L(t,e,n,r){try{return zo(6,e,n),!1!==n(r)}catch(i){return BE(t,i),!1}finally{zo(7,e,n)}}function yL(t,e,n,r,i){return function s(o){if(o===Function)return r;fm(t.componentOffset>-1?Xi(t.index,e):e);let u=_L(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=_L(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function xf(t=1){return function Hv(t){return(Dt.lFrame.contextLView=function Nv(t,e){for(;t>0;)e=e[bi],t--;return e}(t,Dt.lFrame.contextLView))[rt]}(t)}function uw(t,e,n){return hS(t,"",e,"",n),uw}function hS(t,e,n,r,i){const s=we(),o=ff(s,e,n,r);return o!==zt&&Io(tn(),tr(),s,t,o,s[st],i,!1),hS}function eu(t){return Dl(function ob(){return Dt.lFrame.contextLView}(),kt+t)}function te(t,e=""){const n=we(),r=tn(),i=t+kt,s=r.firstCreatePass?cf(r,i,1,e,null):r.data[i],o=FL(r,n,s,e,t);n[i]=o,Bh()&&IE(r,n,o,s),so(s,!1)}let FL=(t,e,n,r,i)=>(qo(!0),function vE(t,e){return t.createText(e)}(e[st],r));function Jo(t){return lw("",t,""),Jo}function lw(t,e,n){const r=we(),i=ff(r,t,e,n);return i!==zt&&function zu(t,e,n){const r=Yc(e,t);!function JN(t,e,n){t.setValue(e,n)}(t[st],r,n)}(r,Di(),i),lw}function fS(t,e,n,r,i){if(t=G(t),Array.isArray(t))for(let s=0;s<t.length;s++)fS(t[s],e,n,r,i);else{const s=tn(),o=we(),a=Ln();let u=ud(t)?t:G(t.provide);const l=IN(t),h=1048575&a.providerIndexes,p=a.directiveStart,v=a.providerIndexes>>20;if(ud(t)||!t.multi){const C=new Nl(l,i,Te),S=gS(u,e,i?h:h+v,p);-1===S?($g(Wh(a,o),s,u),pS(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)):(n[S]=C,o[S]=C)}else{const C=gS(u,e,h+v,p),S=gS(u,e,h,h+v),F=S>=0&&n[S];if(i&&!F||!i&&!(C>=0&&n[C])){$g(Wh(a,o),s,u);const Z=function UZ(t,e,n,r,i){const s=new Nl(t,n,Te);return s.multi=[],s.index=e,s.componentProviders=0,WL(s,i,r&&!n),s}(i?VZ:LZ,n.length,i,r,l);!i&&F&&(n[S].providerFactory=Z),pS(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(Z),o.push(Z)}else pS(s,t,C>-1?C:S,WL(n[i?S:C],l,!i&&r));!i&&r&&F&&n[S].componentProviders++}}}function pS(t,e,n,r){const i=ud(e),s=function ZG(t){return!!t.useClass}(e);if(i||s){const u=(s?G(e.useClass):e).prototype.ngOnDestroy;if(u){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=l.indexOf(n);-1===h?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function WL(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gS(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function LZ(t,e,n,r){return mS(this.multi,[])}function VZ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Vu(n,n[ee],this.providerFactory.index,r);s=a.slice(0,o),mS(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],mS(i,s);return s}function mS(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ar(t,e=[]){return n=>{n.providersResolver=(r,i)=>function FZ(t,e,n){const r=tn();if(r.firstCreatePass){const i=Eo(t);fS(n,r.data,r.blueprint,i,!0),fS(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class _d{}class qL{}class _S extends _d{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ek(this);const i=Wr(e);this._bootstrapComponents=Co(i.bootstrap),this._r3Injector=AN(e,n,[{provide:_d,useValue:this},{provide:NE,useValue:this.componentFactoryResolver},...r],Pt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class yS extends qL{constructor(e){super(),this.moduleType=e}create(e){return new _S(this.moduleType,e,[])}}class GL extends _d{constructor(e){super(),this.componentFactoryResolver=new Ek(this),this.instance=null;const n=new Jh([...e.providers,{provide:_d,useValue:this},{provide:NE,useValue:this.componentFactoryResolver}],e.parent||dE(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function vS(t,e,n=null){return new GL({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let $Z=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=vN(0,n.type),i=r.length>0?vS([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=qe({token:t,providedIn:"environment",factory:()=>new t(k(Ko))})}return t})();function KL(t){dd("NgStandalone"),t.getStandaloneInjector=e=>e.get($Z).getOrCreateStandaloneInjector(t)}function hw(t,e,n){const r=Ji()+t,i=we();return i[r]===zt?Za(i,r,n?e.call(n):e()):function mm(t,e){return t[e]}(i,r)}function Om(t,e){const n=t[e];return n===zt?void 0:n}function rV(t,e,n,r,i,s){const o=e+n;return fi(t,o,i)?Za(t,o+1,s?r.call(s,i):r(i)):Om(t,o+1)}function Of(t,e){const n=tn();let r;const i=t+kt;n.firstCreatePass?(r=function aY(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Tl(r.type)),a=Fi(Te);try{const u=zh(!1),l=s();return zh(u),function bZ(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,we(),i,l),l}finally{Fi(a)}}function Nm(t,e,n){const r=t+kt,i=we(),s=Dl(i,r);return km(i,r)?rV(i,Ji(),e,s.transform,n,s):s.transform(n)}function uV(t,e,n,r,i){const s=t+kt,o=we(),a=Dl(o,s);return km(o,s)?function sV(t,e,n,r,i,s,o,a){const u=e+n;return WE(t,u,i,s,o)?Za(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):Om(t,u+3)}(o,Ji(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function km(t,e){return t[ee].data[e].pure}function dY(){return this._results[Symbol.iterator]()}class wS{static#e=Symbol.iterator;get changes(){return this._changes??=new Kr}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=wS.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=dY)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;const r=function Ye(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function et(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Wu=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=pY}return t})();const hY=Wu,fY=class extends hY{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Cm(t,e,n,r){const i=e.tView,a=VE(t,i,n,4096&t[ye]?4096:16,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null);a[Lr]=t[e.index];const l=t[$o];return null!==l&&(a[$o]=l.createEmbeddedView(i)),kT(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new pm(i)}};function pY(){return fw(Ln(),we())}function fw(t,e){return 4&t.type?new fY(e,t,lf(t,e)):null}class CS{constructor(e){this.queryList=e,this.matches=null}clone(){return new CS(this.queryList)}setDirty(){this.queryList.setDirty()}}class IS{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new IS(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==gV(e,n).matches&&this.queries[n].setDirty()}}class lV{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class bS{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new bS(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class TS{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new TS(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,gY(n,s)),this.matchTNodeWithReadOption(e,n,Gh(n,e,s,!1,!1))}else r===Wu?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Gh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===js||i===Yo||i===Wu&&4&n.type)this.addMatch(n.index,-2);else{const s=Gh(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function gY(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function _Y(t,e,n,r){return-1===n?function mY(t,e){return 11&t.type?lf(t,e):4&t.type?fw(t,e):null}(e,t):-2===n?function yY(t,e,n){return n===js?lf(e,t):n===Wu?fw(e,t):n===Yo?uF(e,t):void 0}(t,e,r):Vu(t,t[ee],n,e)}function cV(t,e,n,r){const i=e[$o].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const l=o[u];a.push(l<0?null:_Y(e,s[l],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function SS(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=cV(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const l=s[a+1],h=e[-u];for(let p=Vr;p<h.length;p++){const v=h[p];v[Lr]===v[Be]&&SS(v[ee],v,l,r)}if(null!==h[Cl]){const p=h[Cl];for(let v=0;v<p.length;v++){const C=p[v];SS(C[ee],C,l,r)}}}}}return r}function DS(t){const e=we(),n=tn(),r=kh();nd(r+1);const i=gV(n,r);if(t.dirty&&function Ov(t){return 4==(4&t[ye])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?SS(n,e,r,[]):cV(n,e,i,r);t.reset(s,k6),t.notifyOnChanges()}return!0}return!1}function AS(){return function vY(t,e){return t[$o].queries[e].queryList}(we(),kh())}function fV(t,e,n){const r=new wS(4==(4&n));(function l8(t,e,n,r){const i=sk(e);i.push(n),t.firstCreatePass&&ok(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[$o]&&(e[$o]=new IS),e[$o].queries.push(new CS(r))}function pV(t,e,n){null===t.queries&&(t.queries=new bS),t.queries.track(new TS(e,n))}function gV(t,e){return t.queries.getByIndex(e)}function mV(t,e){return fw(t,e)}class Ff{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const $Y=new Ff("17.0.8");let xV=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();class HY{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let OV=(()=>{class t{compileModuleSync(n){return new yS(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Co(Wr(n).declarations).reduce((o,a)=>{const u=Vt(a);return u&&o.push(new gm(u)),o},[]);return new HY(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),OS=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new A(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const VV=new Le(""),mw=new Le("");let LS,kS=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,LS||(function pX(t){LS=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(k(gn),k(FS),k(mw))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac})}return t})(),FS=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return LS?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const VS=new Le("Application Initializer");let US=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ve(VS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(xm(s))n.push(s);else if(pL(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const BS=new Le("appBootstrapListener");function jV(t,e){return Array.isArray(e)?e.reduce(jV,t):{...t,...e}}let yd=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ve(j1),this.componentTypes=[],this.components=[],this.isStable=ve(OS).hasPendingTasks.pipe(Re(n=>!n)),this._injector=ve(Ko)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof P1;if(!this._injector.get(US).done)throw!i&&function ro(t){const e=Vt(t)||er(t)||Fr(t);return null!==e&&e.standalone}(n),new ne(405,!1);let o;o=i?n:this._injector.get(NE).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function mX(t){return t.isBoundToModule}(o)?void 0:this._injector.get(_d),l=o.create(ao.NULL,[],r||o.selector,a),h=l.location.nativeElement,p=l.injector.get(VV,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),_w(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new ne(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;_w(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(BS,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>_w(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ne(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _w(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let yX=(()=>{class t{constructor(){this.zone=ve(gn),this.applicationRef=ve(yd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vX(){const t=ve(gn),e=ve(Hu);return n=>t.runOutsideAngular(()=>e.handleError(n))}let wX=(()=>{class t{constructor(){this.subscription=new vn,this.initialized=!1,this.zone=ve(gn),this.pendingTasks=ve(OS)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{gn.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{gn.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const qu=new Le("LocaleId",{providedIn:"root",factory:()=>ve(qu,qt.Optional|qt.SkipSelf)||function CX(){return typeof $localize<"u"&&$localize.locale||Rf}()}),IX=new Le("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),jS=new Le("PlatformDestroyListeners");let WV=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function X8(t="zone.js",e){return"noop"===t?new Z8:"zone.js"===t?new gn(e):t}(r?.ngZone,function zV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function jZ(t,e,n){return new _S(t,e,n)}(n.moduleType,this.injector,function HV(t){return[{provide:gn,useFactory:t},{provide:ad,multi:!0,useFactory:()=>{const e=ve(yX,{optional:!0});return()=>e.initialize()}},{provide:ad,multi:!0,useFactory:()=>{const e=ve(wX);return()=>{e.initialize()}}},{provide:j1,useFactory:vX}]}(()=>i)),o=s.injector.get(Hu,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{_w(this._modules,s),a.unsubscribe()})}),function BV(t,e,n){try{const r=n();return xm(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(US);return a.runInitializers(),a.donePromise.then(()=>(function zF(t){wi(t,"Expected localeId to be defined"),"string"==typeof t&&(HF=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(qu,Rf)||Rf),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=jV({},r);return function gX(t,e,n){const r=new yS(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(yd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new ne(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(jS,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(k(ao))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ql=null;const qV=new Le("AllowMultipleToken");function GV(t,e,n=[]){const r=`Platform: ${e}`,i=new Le(r);return(s=[])=>{let o=$S();if(!o||o.injector.get(qV,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function TX(t){if(ql&&!ql.get(qV,!1))throw new ne(400,!1);(function UV(){!function fr(t){xs=t}(()=>{throw new ne(600,!1)})})(),ql=t;const e=t.get(WV);(function QV(t){t.get(MN,null)?.forEach(n=>n())})(t)}(function KV(t=[],e){return ao.create({name:e,providers:[{provide:xb,useValue:"platform"},{provide:jS,useValue:new Set([()=>ql=null])},...t]})}(a,r))}return function SX(t){const e=$S();if(!e)throw new ne(401,!1);return e}()}}function $S(){return ql?.get(WV)??null}const xX=GV(null,"core",[]);let OX=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(k(yd))};static#t=this.\u0275mod=Jn({type:t});static#n=this.\u0275inj=sr({})}return t})();function Vf(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let YS=null;function Gl(){return YS}class aJ{}const co=new Le("DocumentToken");let XS=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:()=>ve(lJ),providedIn:"platform"})}return t})();const uJ=new Le("Location Initialized");let lJ=(()=>{class t extends XS{constructor(){super(),this._doc=ve(co),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gl().getBaseHref(this._doc)}onPopState(n){const r=Gl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Gl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function JS(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function E2(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Gu(t){return t&&"?"!==t[0]?"?"+t:t}let Ed=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:()=>ve(C2),providedIn:"root"})}return t})();const w2=new Le("appBaseHref");let C2=(()=>{class t extends Ed{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ve(co).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return JS(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Gu(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Gu(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Gu(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(k(XS),k(w2,8))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cJ=(()=>{class t extends Ed{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=JS(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Gu(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Gu(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(k(XS),k(w2,8))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac})}return t})(),Bm=(()=>{class t{constructor(n){this._subject=new Kr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function fJ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(E2(I2(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Gu(r))}normalize(n){return t.stripTrailingSlash(function hJ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,I2(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gu(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gu(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Gu;static#t=this.joinWithSlash=JS;static#n=this.stripTrailingSlash=E2;static#r=this.\u0275fac=function(r){return new(r||t)(k(Ed))};static#i=this.\u0275prov=qe({token:t,factory:()=>function dJ(){return new Bm(k(Ed))}(),providedIn:"root"})}return t})();function I2(t){return t.replace(/\/index.html$/,"")}const b2={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Sw=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Sw||{}),si=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(si||{});function ea(t,e){const n=$s(t),r=n[ar.NumberSymbols][e];if(typeof r>"u"){if(e===si.CurrencyDecimal)return n[ar.NumberSymbols][si.Decimal];if(e===si.CurrencyGroup)return n[ar.NumberSymbols][si.Group]}return r}const BJ=/^(\d+)?\.((\d+)(-(\d+))?)?$/,P2=22,kw=".",$m="0",jJ=";",$J=",",iD="#";function zJ(t,e,n,r,i){const o=function oD(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(jJ),i=r[0],s=r[1],o=-1!==i.indexOf(kw)?i.split(kw):[i.substring(0,i.lastIndexOf($m)+1),i.substring(i.lastIndexOf($m)+1)],a=o[0],u=o[1]||"";n.posPre=a.substring(0,a.indexOf(iD));for(let h=0;h<u.length;h++){const p=u.charAt(h);p===$m?n.minFrac=n.maxFrac=h+1:p===iD?n.maxFrac=h+1:n.posSuf+=p}const l=a.split($J);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const h=i.length-n.posPre.length-n.posSuf.length,p=s.indexOf(iD);n.negPre=s.substring(0,p).replace(/'/g,""),n.negSuf=s.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function eD(t,e){return $s(t)[ar.NumberFormats][e]}(e,Sw.Currency),ea(e,si.MinusSign));return o.minFrac=function SJ(t){let e;const n=b2[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,function sD(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let l=function KJ(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf(kw))>-1&&(e=e.replace(kw,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===$m;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===$m;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>P2&&(r=r.splice(0,P2-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function GJ(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let h=e.minInt,p=e.minFrac,v=e.maxFrac;if(s){const z=s.match(BJ);if(null===z)throw new Error(`${s} is not a valid digit info`);const re=z[1],me=z[3],ke=z[5];null!=re&&(h=aD(re)),null!=me&&(p=aD(me)),null!=ke?v=aD(ke):null!=me&&p>v&&(v=p)}!function QJ(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let p=o;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let p=1;p<o;p++)r[p]=0}if(a>=5)if(o-1<0){for(let p=0;p>o;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const l=e+t.integerLen,h=r.reduceRight(function(p,v,C,S){return S[C]=(v+=p)<10?v:v-10,u&&(0===S[C]&&C>=l?S.pop():u=!1),v>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}(l,p,v);let C=l.digits,S=l.integerLen;const x=l.exponent;let F=[];for(u=C.every(z=>!z);S<h;S++)C.unshift(0);for(;S<0;S++)C.unshift(0);S>0?F=C.splice(S,C.length):(F=C,C=[0]);const Z=[];for(C.length>=e.lgSize&&Z.unshift(C.splice(-e.lgSize,C.length).join(""));C.length>e.gSize;)Z.unshift(C.splice(-e.gSize,C.length).join(""));C.length&&Z.unshift(C.join("")),a=Z.join(ea(n,r)),F.length&&(a+=ea(n,i)+F.join("")),x&&(a+=ea(n,si.Exponential)+"+"+x)}else a=ea(n,si.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,si.CurrencyGroup,si.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function aD(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class eee{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cD=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new eee(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),N2(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{N2(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(Te(Yo),Te(Wu),Te(FE))};static#t=this.\u0275dir=mt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function N2(t,e){t.context.$implicit=e.item}let Hm=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new tee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){k2("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){k2("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(Te(Yo),Te(Wu))};static#t=this.\u0275dir=mt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class tee{constructor(){this.$implicit=null,this.ngIf=null}}function k2(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Pt(e)}'.`)}function ba(t,e){return new ne(2100,!1)}class see{createSubscription(e,n){return R1(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){R1(()=>e.unsubscribe())}}class oee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const aee=new oee,uee=new see;let L2=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(xm(n))return aee;if(pL(n))return uee;throw ba()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||t)(Te(df,16))};static#t=this.\u0275pipe=hi({name:"async",type:t,pure:!1,standalone:!0})}return t})(),U2=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!function fD(t){return!(null==t||""===t||t!=t)}(n))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function bJ(t,e,n="en"){const r=function EJ(t){return $s(t)[ar.Currencies]}(n)[t]||b2[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}(a,"symbol"===i?"wide":"narrow",o):i);try{return zJ(function pD(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(n),o,a,r,s)}catch(u){throw ba()}}static#e=this.\u0275fac=function(r){return new(r||t)(Te(qu,16),Te(IX,16))};static#t=this.\u0275pipe=hi({name:"currency",type:t,pure:!0,standalone:!0})}return t})();let gD=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Jn({type:t});static#n=this.\u0275inj=sr({})}return t})();function Fw(t){return"server"===t}let Aee=(()=>{class t{static#e=this.\u0275prov=qe({token:t,providedIn:"root",factory:()=>new Pee(k(co),window)})}return t})();class Pee{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Mee(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ete extends aJ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class yD extends ete{static makeCurrent(){!function oJ(t){YS||(YS=t)}(new yD)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function tte(){return Wm=Wm||document.querySelector("base"),Wm?Wm.getAttribute("href"):null}();return null==n?null:function nte(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){Wm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function YJ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Wm=null,ite=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac})}return t})();const vD=new Le("EventManagerPlugins");let z2=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new ne(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(k(vD),k(gn))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac})}return t})();class W2{constructor(e){this._doc=e}}const ED="ng-app-id";let q2=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Fw(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${ED}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(ED),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(ED,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(k(co),k(fE),k(xN,8),k(Ea))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac})}return t})();const wD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},CD=/%COMP%/g,ute=new Le("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function K2(t,e){return e.map(n=>n.replace(CD,t))}let ID=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Fw(a),this.defaultRenderer=new bD(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===xt.ShadowDom&&(r={...r,encapsulation:xt.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof Z2?i.applyToHost(n):i instanceof TD&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case xt.Emulated:s=new Z2(u,l,r,this.appId,h,o,a,p);break;case xt.ShadowDom:return new hte(u,l,n,r,o,a,this.nonce,p);default:s=new TD(u,l,r,h,o,a,p)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(k(z2),k(q2),k(fE),k(ute),k(co),k(Ea),k(gn),k(xN))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac})}return t})();class bD{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(wD[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Q2(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Q2(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new ne(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=wD[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=wD[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&($l.DashCase|$l.Important)?e.style.setProperty(n,r,i&$l.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$l.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Gl().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Q2(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class hte extends bD{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=K2(i.id,i.styles);for(const h of l){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class TD extends bD{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?K2(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Z2 extends TD{constructor(e,n,r,i,s,o,a,u){const l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=function lte(t){return"_ngcontent-%COMP%".replace(CD,t)}(l),this.hostAttr=function cte(t){return"_nghost-%COMP%".replace(CD,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let fte=(()=>{class t extends W2{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(k(co))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac})}return t})();const Y2=["alt","control","meta","shift"],pte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let mte=(()=>{class t extends W2{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gl().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Y2.forEach(l=>{const h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=pte[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Y2.forEach(o=>{o!==i&&(0,gte[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(k(co))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac})}return t})();const J2=[{provide:Ea,useValue:"browser"},{provide:MN,useValue:function _te(){yD.makeCurrent()},multi:!0},{provide:co,useFactory:function vte(){return function c9(t){Vb=t}(document),document},deps:[]}],Ete=GV(xX,"browser",J2),wte=new Le(""),eU=[{provide:mw,useClass:class rte{addToWindow(e){Dn.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new ne(5103,!1);return s},Dn.getAllAngularTestabilities=()=>e.getAllTestabilities(),Dn.getAllAngularRootElements=()=>e.getAllRootElements(),Dn.frameworkStabilizers||(Dn.frameworkStabilizers=[]),Dn.frameworkStabilizers.push(r=>{const i=Dn.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Gl().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:VV,useClass:kS,deps:[gn,FS,mw]},{provide:kS,useClass:kS,deps:[gn,FS,mw]}],tU=[{provide:xb,useValue:"root"},{provide:Hu,useFactory:function yte(){return new Hu},deps:[]},{provide:vD,useClass:fte,multi:!0,deps:[co,gn,Ea]},{provide:vD,useClass:mte,multi:!0,deps:[co]},ID,q2,z2,{provide:mT,useExisting:ID},{provide:class Ree{},useClass:ite,deps:[]},[]];let nU=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:fE,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(k(wte,12))};static#t=this.\u0275mod=Jn({type:t});static#n=this.\u0275inj=sr({providers:[...tU,...eU],imports:[gD,OX]})}return t})(),rU=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(k(co))};static#t=this.\u0275prov=qe({token:t,factory:function(r){let i=null;return i=r?new r:function Ite(){return new rU(k(co))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const Zu="*";function aU(t){return{type:6,styles:t,offset:null}}class qm{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class uU{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function lU(t){return new ne(3e3,!1)}function Ql(t){switch(t.length){case 0:return new qm;case 1:return t[0];default:return new uU(t)}}function cU(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const l=u.get("offset"),h=l==o,p=h&&a||new Map;u.forEach((v,C)=>{let S=C,x=v;if("offset"!==C)switch(S=t.normalizePropertyName(S,i),x){case"!":x=n.get(C);break;case Zu:x=r.get(C);break;default:x=t.normalizeStyleValue(C,S,x,i)}p.set(S,x)}),h||s.push(p),a=p,o=l}),i.length)throw function ene(t){return new ne(3502,!1)}();return s}function AD(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&PD(n,"start",t)));break;case"done":t.onDone(()=>r(n&&PD(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&PD(n,"destroy",t)))}}function PD(t,e,n){const s=MD(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function MD(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function To(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function dU(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const hne=(()=>typeof document>"u"?null:document.documentElement)();function RD(t){const e=t.parentNode||t.host||null;return e===hne?null:e}let wd=null,hU=!1;function fU(t,e){for(;e;){if(e===t)return!0;e=RD(e)}return!1}function pU(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let xD=(()=>{class t{validateStyleProperty(n){return function pne(t){wd||(wd=function gne(){return typeof document<"u"?document.body:null}()||{},hU=!!wd.style&&"WebkitAppearance"in wd.style);let e=!0;return wd.style&&!function fne(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in wd.style,!e&&hU&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in wd.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return fU(n,r)}getParentElement(n){return RD(n)}query(n,r,i){return pU(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],u){return new qm(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac})}return t})(),OD=(()=>{class t{static#e=this.NOOP=new xD}return t})();class ND{}const _ne=1e3,kD="ng-enter",Uw="ng-leave",Bw="ng-trigger",jw=".ng-trigger",mU="ng-animating",FD=".ng-animating";function Yu(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:LD(parseFloat(e[1]),e[2])}function LD(t,e){return"s"===e?t*_ne:t}function $w(t,e,n){return t.hasOwnProperty("duration")?t:function vne(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(lU()),{duration:0,delay:0,easing:""};i=LD(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=LD(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=t;if(!n){let a=!1,u=e.length;i<0&&(e.push(function xte(){return new ne(3100,!1)}()),a=!0),s<0&&(e.push(function Ote(){return new ne(3101,!1)}()),a=!0),a&&e.splice(u,0,lU())}return{duration:i,delay:s,easing:o}}(t,e,n)}function Gm(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function _U(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function Zl(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function tu(t,e,n){e.forEach((r,i)=>{const s=UD(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function Cd(t,e){e.forEach((n,r)=>{const i=UD(r);t.style[i]=""})}function Km(t){return Array.isArray(t)?1==t.length?t[0]:function Ate(t,e=null){return{type:2,steps:t,options:e}}(t):t}const VD=new RegExp("{{\\s*(.+?)\\s*}}","g");function vU(t){let e=[];if("string"==typeof t){let n;for(;n=VD.exec(t);)e.push(n[1]);VD.lastIndex=0}return e}function Qm(t,e,n){const r=t.toString(),i=r.replace(VD,(s,o)=>{let a=e[o];return null==a&&(n.push(function kte(t){return new ne(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function Hw(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Cne=/-+([a-z0-9])/g;function UD(t){return t.replace(Cne,(...e)=>e[1].toUpperCase())}function So(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function Fte(t){return new ne(3004,!1)}()}}function EU(t,e){return window.getComputedStyle(t)[e]}const Tne=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class wU extends ND{normalizePropertyName(e,n){return UD(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(Tne.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Lte(t,e){return new ne(3005,!1)}())}return o+s}}const zw="*";function Sne(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function Dne(t,e,n){if(":"==t[0]){const u=function Ane(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function Zte(t){return new ne(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof u)return void e.push(u);t=u}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function Qte(t){return new ne(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(CU(i,o));"<"==s[0]&&!(i==zw&&o==zw)&&e.push(CU(o,i))}(r,n,e)):n.push(t),n}const Ww=new Set(["true","1"]),qw=new Set(["false","0"]);function CU(t,e){const n=Ww.has(t)||qw.has(t),r=Ww.has(e)||qw.has(e);return(i,s)=>{let o=t==zw||t==i,a=e==zw||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Ww.has(t):qw.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Ww.has(e):qw.has(e)),o&&a}}const Pne=new RegExp("s*:selfs*,?","g");function BD(t,e,n,r){return new Mne(t).build(e,n,r)}class Mne{constructor(e){this._driver=e}build(e,n,r){const i=new One(n);return this._resetContextStyleTimingState(i),So(this,Km(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function Vte(){return new ne(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(h=>{u.name=h,s.push(this.visitState(u,n))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push(function Ute(){return new ne(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{vU(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(Hw(s.values()),n.errors.push(function Bte(t,e){return new ne(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=So(this,Km(e.animation),n);return{type:1,matchers:Sne(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Id(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>So(this,r,n)),options:Id(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=So(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:Id(e.options)}}visitAnimate(e,n){const r=function kne(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return jD($w(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=jD(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=$w(n,e);return jD(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:aU({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=aU(l)}n.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Zu?r.push(a):n.errors.push(new ne(3002,!1)):r.push(_U(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const l=n.collectedStyles.get(n.currentQuerySelector),h=l.get(u);let p=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(n.errors.push(function $te(t,e,n,r,i){return new ne(3010,!1)}()),p=!1),s=h.startTime),p&&l.set(u,{startTime:s,endTime:i}),n.options&&function wne(t,e,n){const r=e.params||{},i=vU(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function Nte(t){return new ne(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function Hte(){return new ne(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,l=0;const h=e.steps.map(Z=>{const z=this._makeStyleAst(Z,n);let re=null!=z.offset?z.offset:function Nne(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(z.styles),me=0;return null!=re&&(s++,me=z.offset=re),u=u||me<0||me>1,a=a||me<l,l=me,o.push(me),z});u&&n.errors.push(function zte(){return new ne(3012,!1)}()),a&&n.errors.push(function Wte(){return new ne(3200,!1)}());const p=e.steps.length;let v=0;s>0&&s<p?n.errors.push(function qte(){return new ne(3202,!1)}()):0==s&&(v=1/(p-1));const C=p-1,S=n.currentTime,x=n.currentAnimateTimings,F=x.duration;return h.forEach((Z,z)=>{const re=v>0?z==C?1:v*z:o[z],me=re*F;n.currentTime=S+x.delay+me,x.duration=me,this._validateStyleAst(Z,n),Z.offset=re,r.styles.push(Z)}),r}visitReference(e,n){return{type:8,animation:So(this,Km(e.animation),n),options:Id(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:Id(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:Id(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function Rne(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(Pne,"")),t=t.replace(/@\*/g,jw).replace(/@\w+/g,n=>jw+"-"+n.slice(1)).replace(/:animating/g,FD),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,To(n.collectedStyles,n.currentQuerySelector,new Map);const a=So(this,Km(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Id(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function Gte(){return new ne(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:$w(e.timings,n.errors,!0);return{type:12,animation:So(this,Km(e.animation),n),timings:r,options:null}}}class One{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Id(t){return t?(t=Gm(t)).params&&(t.params=function xne(t){return t?Gm(t):null}(t.params)):t={},t}function jD(t,e,n){return{duration:t,delay:e,easing:n}}function $D(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Gw{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Vne=new RegExp(":enter","g"),Bne=new RegExp(":leave","g");function HD(t,e,n,r,i,s=new Map,o=new Map,a,u,l=[]){return(new jne).buildKeyframes(t,e,n,r,i,s,o,a,u,l)}class jne{buildKeyframes(e,n,r,i,s,o,a,u,l,h=[]){l=l||new Gw;const p=new zD(e,n,l,i,s,h,[]);p.options=u;const v=u.delay?Yu(u.delay):0;p.currentTimeline.delayNextStep(v),p.currentTimeline.setStyles([o],null,p.errors,u),So(this,r,p);const C=p.timelines.filter(S=>S.containsAnimation());if(C.length&&a.size){let S;for(let x=C.length-1;x>=0;x--){const F=C[x];if(F.element===n){S=F;break}}S&&!S.allowOnlyTimelineStyles()&&S.setStyles([a],null,p.errors,u)}return C.length?C.map(S=>S.buildKeyframes()):[$D(n,[],[],[],0,v,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Yu(Qm(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?Yu(r.duration):null,a=null!=r.delay?Yu(r.delay):null;return 0!==o&&e.forEach(u=>{const l=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),So(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Kw);const o=Yu(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>So(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?Yu(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),So(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return $w(n.params?Qm(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Yu(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Kw);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((l,h)=>{n.currentQueryIndex=h;const p=n.createSubContext(e.options,l);s&&p.delayNextStep(s),l===n.element&&(u=p.currentTimeline),So(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,p.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const h=n.currentTimeline;u&&h.delayNextStep(u);const p=h.currentTime;So(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}}const Kw={};class zD{constructor(e,n,r,i,s,o,a,u){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Kw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Qw(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Yu(r.duration)),null!=r.delay&&(i.delay=Yu(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Qm(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new zD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Kw,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new $ne(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Vne,"."+this._enterClassName)).replace(Bne,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function Kte(t){return new ne(3014,!1)}()),a}}class Qw{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new Qw(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Zu),this._currentKeyframe.set(n,Zu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function Hne(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,Zu)}else Zl(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,u]of o){const l=Qm(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Zu),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=Zl(a,new Map,this._backFill);l.forEach((h,p)=>{"!"===h?e.add(p):h===Zu&&n.add(p)}),r||l.set("offset",u/this.duration),i.push(l)});const s=e.size?Hw(e.values()):[],o=n.size?Hw(n.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return $D(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class $ne extends Qw{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,u=Zl(e[0]);u.set("offset",0),s.push(u);const l=Zl(e[0]);l.set("offset",TU(a)),s.push(l);const h=e.length-1;for(let p=1;p<=h;p++){let v=Zl(e[p]);const C=v.get("offset");v.set("offset",TU((n+C*r)/o)),s.push(v)}r=o,n=0,i="",e=s}return $D(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function TU(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}function SU(t,e,n,r,i,s,o,a,u,l,h,p,v){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:h,totalTime:p,errors:v}}const WD={};class DU{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function zne(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,u,l,h){const p=[],v=this.ast.options&&this.ast.options.params||WD,S=this.buildStyles(r,a&&a.params||WD,p),x=u&&u.params||WD,F=this.buildStyles(i,x,p),Z=new Set,z=new Map,re=new Map,me="void"===i,ke={params:Wne(x,v),delay:this.ast.options?.delay},Ze=h?[]:HD(e,n,this.ast.animation,s,o,S,F,ke,l,p);let $t=0;if(Ze.forEach(ls=>{$t=Math.max(ls.duration+ls.delay,$t)}),p.length)return SU(n,this._triggerName,r,i,me,S,F,[],[],z,re,$t,p);Ze.forEach(ls=>{const ua=ls.element,AG=To(z,ua,new Set);ls.preStyleProps.forEach(fh=>AG.add(fh));const mv=To(re,ua,new Set);ls.postStyleProps.forEach(fh=>mv.add(fh)),ua!==n&&Z.add(ua)});const Qn=Hw(Z.values());return SU(n,this._triggerName,r,i,me,S,F,Ze,Qn,z,re,$t)}}function Wne(t,e){const n=Gm(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class qne{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=Gm(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Qm(o,i,n));const u=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,u,o,n),r.set(a,o)})}),r}}class Kne{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new qne(i.style,i.options&&i.options.params||{},r))}),AU(this.states,"true","1"),AU(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new DU(e,i,this.states))}),this.fallbackTransition=function Qne(t,e,n){return new DU(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function AU(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const Zne=new Gw;class Yne{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=BD(this._driver,n,r,[]);if(r.length)throw function tne(t){return new ne(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=cU(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=HD(this._driver,n,s,kD,Uw,new Map,new Map,r,Zne,i),o.forEach(h=>{const p=To(a,h.element,new Map);h.postStyleProps.forEach(v=>p.set(v,null))})):(i.push(function nne(){return new ne(3300,!1)}()),o=[]),i.length)throw function rne(t){return new ne(3504,!1)}();a.forEach((h,p)=>{h.forEach((v,C)=>{h.set(C,this._driver.computeStyle(p,C,Zu))})});const l=Ql(o.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function ine(t){return new ne(3301,!1)}();return n}listen(e,n,r,i){const s=MD(n,"","","");return AD(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const PU="ng-animate-queued",qD="ng-animate-disabled",nre=[],MU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rre={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ta="__ng_removed";class GD{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function are(t){return t??null}(r?e.value:e),r){const s=Gm(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Zm="void",KD=new GD(Zm);class ire{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,na(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function sne(t,e){return new ne(3302,!1)}();if(null==r||0==r.length)throw function one(t){return new ne(3303,!1)}();if(!function ure(t){return"start"==t||"done"==t}(r))throw function ane(t,e){return new ne(3400,!1)}();const s=To(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=To(this._engine.statesByElement,e,new Map);return a.has(n)||(na(e,Bw),na(e,Bw+"-"+n),a.set(n,KD)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function une(t){return new ne(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new QD(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(na(e,Bw),na(e,Bw+"-"+n),this._engine.statesByElement.set(e,a=new Map));let u=a.get(n);const l=new GD(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(n,l),u||(u=KD),l.value!==Zm&&u.value===l.value){if(!function dre(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(u.params,l.params)){const x=[],F=s.matchStyles(u.value,u.params,x),Z=s.matchStyles(l.value,l.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{Cd(e,F),tu(e,Z)})}return}const v=To(this._engine.playersByElement,e,[]);v.forEach(x=>{x.namespaceId==this.id&&x.triggerName==n&&x.queued&&x.destroy()});let C=s.matchTransition(u.value,l.value,e,l.params),S=!1;if(!C){if(!i)return;C=s.fallbackTransition,S=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:C,fromState:u,toState:l,player:o,isFallbackTransition:S}),S||(na(e,PU),o.onStart(()=>{Bf(e,PU)})),o.onDone(()=>{let x=this.players.indexOf(o);x>=0&&this.players.splice(x,1);const F=this._engine.playersByElement.get(e);if(F){let Z=F.indexOf(o);Z>=0&&F.splice(Z,1)}}),this.players.push(o),v.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,jw,!0);r.forEach(i=>{if(i[Ta])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){const h=this.trigger(e,l,Zm,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&Ql(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,l=r.get(o)||KD,h=new GD(Zm),p=new QD(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[Ta];(!s||s===MU)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){na(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=MD(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,AD(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class sre{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new ire(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const u=i.get(a);if(u){const l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(Zw(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Zw(n))return;const s=n[Ta];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),na(e,qD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Bf(e,qD))}removeNode(e,n,r){if(Zw(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[Ta]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return Zw(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,jw,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,FD,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ql(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[Ta];if(n&&n.setForRemoval){if(e[Ta]=MU,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(qD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)na(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Ql(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function lne(t){return new ne(3402,!1)}()}_flushAnimations(e,n){const r=new Gw,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(at=>{h.add(at);const It=this.driver.query(at,".ng-animate-queued",!0);for(let Rt=0;Rt<It.length;Rt++)h.add(It[Rt])});const p=this.bodyNode,v=Array.from(this.statesByElement.keys()),C=OU(v,this.collectedEnterElements),S=new Map;let x=0;C.forEach((at,It)=>{const Rt=kD+x++;S.set(It,Rt),at.forEach(Pn=>na(Pn,Rt))});const F=[],Z=new Set,z=new Set;for(let at=0;at<this.collectedLeaveElements.length;at++){const It=this.collectedLeaveElements[at],Rt=It[Ta];Rt&&Rt.setForRemoval&&(F.push(It),Z.add(It),Rt.hasAnimation?this.driver.query(It,".ng-star-inserted",!0).forEach(Pn=>Z.add(Pn)):z.add(It))}const re=new Map,me=OU(v,Array.from(Z));me.forEach((at,It)=>{const Rt=Uw+x++;re.set(It,Rt),at.forEach(Pn=>na(Pn,Rt))}),e.push(()=>{C.forEach((at,It)=>{const Rt=S.get(It);at.forEach(Pn=>Bf(Pn,Rt))}),me.forEach((at,It)=>{const Rt=re.get(It);at.forEach(Pn=>Bf(Pn,Rt))}),F.forEach(at=>{this.processLeaveNode(at)})});const ke=[],Ze=[];for(let at=this._namespaceList.length-1;at>=0;at--)this._namespaceList[at].drainQueuedTransitions(n).forEach(Rt=>{const Pn=Rt.player,qi=Rt.element;if(ke.push(Pn),this.collectedEnterElements.length){const Rs=qi[Ta];if(Rs&&Rs.setForMove){if(Rs.previousTriggersValues&&Rs.previousTriggersValues.has(Rt.triggerName)){const ph=Rs.previousTriggersValues.get(Rt.triggerName),la=this.statesByElement.get(Rt.element);if(la&&la.has(Rt.triggerName)){const G0=la.get(Rt.triggerName);G0.value=ph,la.set(Rt.triggerName,G0)}}return void Pn.destroy()}}const Tu=!p||!this.driver.containsElement(p,qi),ko=re.get(qi),kc=S.get(qi),$r=this._buildInstruction(Rt,r,kc,ko,Tu);if($r.errors&&$r.errors.length)return void Ze.push($r);if(Tu)return Pn.onStart(()=>Cd(qi,$r.fromStyles)),Pn.onDestroy(()=>tu(qi,$r.toStyles)),void i.push(Pn);if(Rt.isFallbackTransition)return Pn.onStart(()=>Cd(qi,$r.fromStyles)),Pn.onDestroy(()=>tu(qi,$r.toStyles)),void i.push(Pn);const RG=[];$r.timelines.forEach(Rs=>{Rs.stretchStartingKeyframe=!0,this.disabledNodes.has(Rs.element)||RG.push(Rs)}),$r.timelines=RG,r.append(qi,$r.timelines),o.push({instruction:$r,player:Pn,element:qi}),$r.queriedElements.forEach(Rs=>To(a,Rs,[]).push(Pn)),$r.preStyleProps.forEach((Rs,ph)=>{if(Rs.size){let la=u.get(ph);la||u.set(ph,la=new Set),Rs.forEach((G0,YO)=>la.add(YO))}}),$r.postStyleProps.forEach((Rs,ph)=>{let la=l.get(ph);la||l.set(ph,la=new Set),Rs.forEach((G0,YO)=>la.add(YO))})});if(Ze.length){const at=[];Ze.forEach(It=>{at.push(function cne(t,e){return new ne(3505,!1)}())}),ke.forEach(It=>It.destroy()),this.reportError(at)}const $t=new Map,Qn=new Map;o.forEach(at=>{const It=at.element;r.has(It)&&(Qn.set(It,It),this._beforeAnimationBuild(at.player.namespaceId,at.instruction,$t))}),i.forEach(at=>{const It=at.element;this._getPreviousPlayers(It,!1,at.namespaceId,at.triggerName,null).forEach(Pn=>{To($t,It,[]).push(Pn),Pn.destroy()})});const ls=F.filter(at=>kU(at,u,l)),ua=new Map;xU(ua,this.driver,z,l,Zu).forEach(at=>{kU(at,u,l)&&ls.push(at)});const mv=new Map;C.forEach((at,It)=>{xU(mv,this.driver,new Set(at),u,"!")}),ls.forEach(at=>{const It=ua.get(at),Rt=mv.get(at);ua.set(at,new Map([...It?.entries()??[],...Rt?.entries()??[]]))});const fh=[],PG=[],MG={};o.forEach(at=>{const{element:It,player:Rt,instruction:Pn}=at;if(r.has(It)){if(h.has(It))return Rt.onDestroy(()=>tu(It,Pn.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(Pn.totalTime),void i.push(Rt);let qi=MG;if(Qn.size>1){let ko=It;const kc=[];for(;ko=ko.parentNode;){const $r=Qn.get(ko);if($r){qi=$r;break}kc.push(ko)}kc.forEach($r=>Qn.set($r,qi))}const Tu=this._buildAnimation(Rt.namespaceId,Pn,$t,s,mv,ua);if(Rt.setRealPlayer(Tu),qi===MG)fh.push(Rt);else{const ko=this.playersByElement.get(qi);ko&&ko.length&&(Rt.parentPlayer=Ql(ko)),i.push(Rt)}}else Cd(It,Pn.fromStyles),Rt.onDestroy(()=>tu(It,Pn.toStyles)),PG.push(Rt),h.has(It)&&i.push(Rt)}),PG.forEach(at=>{const It=s.get(at.element);if(It&&It.length){const Rt=Ql(It);at.setRealPlayer(Rt)}}),i.forEach(at=>{at.parentPlayer?at.syncPlayerEvents(at.parentPlayer):at.destroy()});for(let at=0;at<F.length;at++){const It=F[at],Rt=It[Ta];if(Bf(It,Uw),Rt&&Rt.hasAnimation)continue;let Pn=[];if(a.size){let Tu=a.get(It);Tu&&Tu.length&&Pn.push(...Tu);let ko=this.driver.query(It,FD,!0);for(let kc=0;kc<ko.length;kc++){let $r=a.get(ko[kc]);$r&&$r.length&&Pn.push(...$r)}}const qi=Pn.filter(Tu=>!Tu.destroyed);qi.length?lre(this,It,qi):this.processLeaveNode(It)}return F.length=0,fh.forEach(at=>{this.players.push(at),at.onDone(()=>{at.destroy();const It=this.players.indexOf(at);this.players.splice(It,1)}),at.play()}),fh}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Zm;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const u of n.timelines){const l=u.element,h=l!==s,p=To(r,l,[]);this._getPreviousPlayers(l,h,o,a,n.toState).forEach(C=>{const S=C.getRealPlayer();S.beforeDestroy&&S.beforeDestroy(),C.destroy(),p.push(C)})}Cd(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,u=n.element,l=[],h=new Set,p=new Set,v=n.timelines.map(S=>{const x=S.element;h.add(x);const F=x[Ta];if(F&&F.removedBeforeQueried)return new qm(S.duration,S.delay);const Z=x!==u,z=function cre(t){const e=[];return NU(t,e),e}((r.get(x)||nre).map($t=>$t.getRealPlayer())).filter($t=>!!$t.element&&$t.element===x),re=s.get(x),me=o.get(x),ke=cU(this._normalizer,S.keyframes,re,me),Ze=this._buildPlayer(S,ke,z);if(S.subTimeline&&i&&p.add(x),Z){const $t=new QD(e,a,x);$t.setRealPlayer(Ze),l.push($t)}return Ze});l.forEach(S=>{To(this.playersByQueriedElement,S.element,[]).push(S),S.onDone(()=>function ore(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,S.element,S))}),h.forEach(S=>na(S,mU));const C=Ql(v);return C.onDestroy(()=>{h.forEach(S=>Bf(S,mU)),tu(u,n.toStyles)}),p.forEach(S=>{To(i,S,[]).push(C)}),C}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new qm(e.duration,e.delay)}}class QD{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new qm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>AD(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){To(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function Zw(t){return t&&1===t.nodeType}function RU(t,e){const n=t.style.display;return t.style.display=e??"none",n}function xU(t,e,n,r,i){const s=[];n.forEach(u=>s.push(RU(u)));const o=[];r.forEach((u,l)=>{const h=new Map;u.forEach(p=>{const v=e.computeStyle(l,p,i);h.set(p,v),(!v||0==v.length)&&(l[Ta]=rre,o.push(l))}),t.set(l,h)});let a=0;return n.forEach(u=>RU(u,s[a++])),o}function OU(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=n.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&n.get(u).push(a)}),n}function na(t,e){t.classList?.add(e)}function Bf(t,e){t.classList?.remove(e)}function lre(t,e,n){Ql(n).onDone(()=>t.processLeaveNode(e))}function NU(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof uU?NU(r.players,e):e.push(r)}}function kU(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class Ym{constructor(e,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new sre(e.body,n,r),this._timelineEngine=new Yne(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],h=BD(this._driver,s,u,[]);if(u.length)throw function Jte(t,e){return new ne(3404,!1)}();a=function Gne(t,e,n){return new Kne(t,e,n)}(i,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=dU(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=dU(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let fre=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&tu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tu(this._element,this._initialStyles),this._endStyles&&(tu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Cd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cd(this._element,this._endStyles),this._endStyles=null),tu(this._element,this._initialStyles),this._state=3)}}return t})();function ZD(t){let e=null;return t.forEach((n,r)=>{(function pre(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class FU{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:EU(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class LU{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return fU(e,n)}getParentElement(e){return RD(e)}query(e,n,r){return pU(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const l=new Map,h=o.filter(C=>C instanceof FU);(function Ine(t,e){return 0===t||0===e})(r,i)&&h.forEach(C=>{C.currentSnapshot.forEach((S,x)=>l.set(x,S))});let p=function Ene(t){return t.length?t[0]instanceof Map?t:t.map(e=>_U(e)):[]}(n).map(C=>Zl(C));p=function bne(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,EU(t,a)))}}return e}(e,p,l);const v=function hre(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=ZD(e[0]),e.length>1&&(r=ZD(e[e.length-1]))):e instanceof Map&&(n=ZD(e)),n||r?new fre(t,n,r):null}(e,p);return new FU(e,p,u,v)}}const VU="@.disabled";class UU{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==VU?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class gre extends UU{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==VU?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function mre(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function _re(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}class yre{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{const o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){const i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){const l=this._rendererCache;let h=l.get(i);return h||(h=new UU("",i,this.engine,()=>l.delete(i)),l.set(i,h)),h}const s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(s,o,e,l.name,l)};return n.data.animation.forEach(a),new gre(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>n(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let vre=(()=>{class t extends Ym{constructor(n,r,i,s){super(n,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(k(co),k(OD),k(ND),k(yd))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac})}return t})();const BU=[{provide:ND,useFactory:function Ere(){return new wU}},{provide:Ym,useClass:vre},{provide:mT,useFactory:function wre(t,e,n){return new yre(t,e,n)},deps:[ID,Ym,gn]}],YD=[{provide:OD,useFactory:()=>new LU},{provide:RN,useValue:"BrowserAnimations"},...BU],jU=[{provide:OD,useClass:xD},{provide:RN,useValue:"NoopAnimations"},...BU];let Cre=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?jU:YD}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Jn({type:t});static#n=this.\u0275inj=sr({providers:YD,imports:[nU]})}return t})();var jf=ft(582);const $U=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function HU(t){return vt(t?.then)}function zU(t){return vt(t[ci])}function WU(t){return Symbol.asyncIterator&&vt(t?.[Symbol.asyncIterator])}function qU(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const GU=function bre(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function KU(t){return vt(t?.[GU])}function QU(t){return(0,jf.FC)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,jf.qq)(n.read());if(i)return yield(0,jf.qq)(void 0);yield yield(0,jf.qq)(r)}}finally{n.releaseLock()}})}function ZU(t){return vt(t?.getReader)}function ho(t){if(t instanceof an)return t;if(null!=t){if(zU(t))return function Tre(t){return new an(e=>{const n=t[ci]();if(vt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if($U(t))return function Sre(t){return new an(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(HU(t))return function Dre(t){return new an(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Os)})}(t);if(WU(t))return YU(t);if(KU(t))return function Are(t){return new an(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ZU(t))return function Pre(t){return YU(QU(t))}(t)}throw qU(t)}function YU(t){return new an(e=>{(function Mre(t,e){var n,r,i,s;return(0,jf.mG)(this,void 0,void 0,function*(){try{for(n=(0,jf.KL)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Xu(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ju(t,e=0){return ae((n,r)=>{n.subscribe(Fe(r,i=>Xu(r,t,()=>r.next(i),e),()=>Xu(r,t,()=>r.complete(),e),i=>Xu(r,t,()=>r.error(i),e)))})}function bd(t,e=0){return ae((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function XU(t,e){if(!t)throw new Error("Iterable cannot be null");return new an(n=>{Xu(n,e,()=>{const r=t[Symbol.asyncIterator]();Xu(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function jn(t,e){return e?function Fre(t,e){if(null!=t){if(zU(t))return function Rre(t,e){return ho(t).pipe(bd(e),Ju(e))}(t,e);if($U(t))return function Ore(t,e){return new an(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(HU(t))return function xre(t,e){return ho(t).pipe(bd(e),Ju(e))}(t,e);if(WU(t))return XU(t,e);if(KU(t))return function Nre(t,e){return new an(n=>{let r;return Xu(n,e,()=>{r=t[GU](),Xu(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>vt(r?.return)&&r.return()})}(t,e);if(ZU(t))return function kre(t,e){return XU(QU(t),e)}(t,e)}throw qU(t)}(t,e):ho(t)}function XD(t){return t[t.length-1]}function JD(t){return vt(XD(t))?t.pop():void 0}function Xm(t){return function Lre(t){return t&&vt(t.schedule)}(XD(t))?t.pop():void 0}function wt(...t){return jn(t,Xm(t))}const{isArray:Ure}=Array,{getPrototypeOf:Bre,prototype:jre,keys:$re}=Object;function JU(t){if(1===t.length){const e=t[0];if(Ure(e))return{args:e,keys:null};if(function Hre(t){return t&&"object"==typeof t&&Bre(t)===jre}(e)){const n=$re(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:zre}=Array;function eB(t){return Re(e=>function Wre(t,e){return zre(e)?t(...e):t(e)}(t,e))}function tB(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function eA(...t){const e=Xm(t),n=JD(t),{args:r,keys:i}=JU(t);if(0===r.length)return jn([],e);const s=new an(function qre(t,e,n=zr){return r=>{nB(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)nB(e,()=>{const l=jn(t[u],e);let h=!1;l.subscribe(Fe(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>tB(i,o):zr));return n?s.pipe(eB(n)):s}function nB(t,e,n){t?Xu(n,t,e):e()}const Xw=Cn(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ws(t,e,n=1/0){return vt(e)?ws((r,i)=>Re((s,o)=>e(r,s,i,o))(ho(t(r,i))),n):("number"==typeof e&&(n=e),ae((r,i)=>function Gre(t,e,n,r,i,s,o,a){const u=[];let l=0,h=0,p=!1;const v=()=>{p&&!u.length&&!l&&e.complete()},C=x=>l<r?S(x):u.push(x),S=x=>{s&&e.next(x),l++;let F=!1;ho(n(x,h++)).subscribe(Fe(e,Z=>{i?.(Z),s?C(Z):e.next(Z)},()=>{F=!0},void 0,()=>{if(F)try{for(l--;u.length&&l<r;){const Z=u.shift();o?Xu(e,o,()=>S(Z)):S(Z)}v()}catch(Z){e.error(Z)}}))};return t.subscribe(Fe(e,C,()=>{p=!0,v()})),()=>{a?.()}}(r,i,t,n)))}function $f(t=1/0){return ws(zr,t)}function tA(...t){return function Kre(){return $f(1)}()(jn(t,Xm(t)))}function rB(t){return new an(e=>{ho(t()).subscribe(e)})}function Jw(t,e){const n=vt(t)?t:()=>t,r=i=>i.error(n());return new an(e?i=>e.schedule(r,0,i):r)}const nu=new an(t=>t.complete());function nA(){return ae((t,e)=>{let n=null;t._refCount++;const r=Fe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class iB extends an{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,J(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vn;const n=this.getSubject();e.add(this.source.subscribe(Fe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vn.EMPTY)}return e}refCount(){return nA()(this)}}function Yr(t,e){return ae((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Fe(r,u=>{i?.unsubscribe();let l=0;const h=s++;ho(t(u,h)).subscribe(i=Fe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Hf(t){return t<=0?()=>nu:ae((e,n)=>{let r=0;e.subscribe(Fe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function eC(...t){const e=Xm(t);return ae((n,r)=>{(e?tA(t,n,e):tA(t,n)).subscribe(r)})}function Sa(t,e){return ae((n,r)=>{let i=0;n.subscribe(Fe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function tC(t){return ae((e,n)=>{let r=!1;e.subscribe(Fe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function sB(t=Zre){return ae((e,n)=>{let r=!1;e.subscribe(Fe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Zre(){return new Xw}function Yl(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Sa((i,s)=>t(i,s,r)):zr,Hf(1),n?tC(e):sB(()=>new Xw))}function Jm(t,e){return vt(e)?ws(t,e,1):ws(t,1)}function mi(t,e,n){const r=vt(t)||e||n?{next:t,error:e,complete:n}:t;return r?ae((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Fe(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):zr}function zf(t){return ae((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Fe(n,void 0,void 0,o=>{s=ho(t(o,zf(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Wf(t,e){return ae(function Yre(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(Fe(o,h=>{const p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}function rA(t){return t<=0?()=>nu:ae((e,n)=>{let r=[];e.subscribe(Fe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function iA(t){return ae((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function oB(t){return ae((e,n)=>{ho(t).subscribe(Fe(n,()=>n.complete(),Yn)),!n.closed&&e.subscribe(n)})}const Jt="primary",e_=Symbol("RouteTitle");class eie{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function qf(t){return new eie(t)}function tie(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ru(t,e){const n=t?sA(t):void 0,r=e?sA(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!aB(t[i],e[i]))return!1;return!0}function sA(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function aB(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function uB(t){return t.length>0?t[t.length-1]:null}function Xl(t){return function Ire(t){return!!t&&(t instanceof an||vt(t.lift)&&vt(t.subscribe))}(t)?t:xm(t)?jn(Promise.resolve(t)):wt(t)}const rie={exact:function dB(t,e,n){if(!Td(t.segments,e.segments)||!nC(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!dB(t.children[r],e.children[r],n))return!1;return!0},subset:hB},lB={exact:function iie(t,e){return ru(t,e)},subset:function sie(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>aB(t[n],e[n]))},ignored:()=>!0};function cB(t,e,n){return rie[n.paths](t.root,e.root,n.matrixParams)&&lB[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function hB(t,e,n){return fB(t,e,e.segments,n)}function fB(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Td(i,n)||e.hasChildren()||!nC(i,n,r))}if(t.segments.length===n.length){if(!Td(t.segments,n)||!nC(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!hB(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Td(t.segments,i)&&nC(t.segments,i,r)&&t.children[Jt])&&fB(t.children[Jt],e,s,r)}}function nC(t,e,n){return e.every((r,i)=>lB[n](t[i].parameters,r.parameters))}class Gf{constructor(e=new Gn([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qf(this.queryParams)),this._queryParamMap}toString(){return uie.serialize(this)}}class Gn{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rC(this)}}class t_{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=qf(this.parameters)),this._parameterMap}toString(){return mB(this)}}function Td(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Kf=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:()=>new oA,providedIn:"root"})}return t})();class oA{parse(e){const n=new vie(e);return new Gf(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${n_(e.root,!0)}`,r=function die(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${iC(n)}=${iC(i)}`).join("&"):`${iC(n)}=${iC(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function lie(t){return encodeURI(t)}(e.fragment)}`:""}`}}const uie=new oA;function rC(t){return t.segments.map(e=>mB(e)).join("/")}function n_(t,e){if(!t.hasChildren())return rC(t);if(e){const n=t.children[Jt]?n_(t.children[Jt],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Jt&&r.push(`${i}:${n_(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function aie(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Jt&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Jt&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Jt?[n_(t.children[Jt],!1)]:[`${i}:${n_(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Jt]?`${rC(t)}/${n[0]}`:`${rC(t)}/(${n.join("//")})`}}function pB(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function iC(t){return pB(t).replace(/%3B/gi,";")}function aA(t){return pB(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sC(t){return decodeURIComponent(t)}function gB(t){return sC(t.replace(/\+/g,"%20"))}function mB(t){return`${aA(t.path)}${function cie(t){return Object.keys(t).map(e=>`;${aA(e)}=${aA(t[e])}`).join("")}(t.parameters)}`}const hie=/^[^\/()?;#]+/;function uA(t){const e=t.match(hie);return e?e[0]:""}const fie=/^[^\/()?;=#]+/,gie=/^[^=?&#]+/,_ie=/^[^&#]+/;class vie{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gn([],{}):new Gn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Jt]=new Gn(e,n)),r}parseSegment(){const e=uA(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ne(4009,!1);return this.capture(e),new t_(sC(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function pie(t){const e=t.match(fie);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=uA(this.remaining);i&&(r=i,this.capture(r))}e[sC(n)]=sC(r)}parseQueryParam(e){const n=function mie(t){const e=t.match(gie);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function yie(t){const e=t.match(_ie);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=gB(n),s=gB(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=uA(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ne(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Jt);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Jt]:new Gn([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ne(4011,!1)}}function _B(t){return t.segments.length>0?new Gn([],{[Jt]:t}):t}function yB(t){const e={};for(const r of Object.keys(t.children)){const s=yB(t.children[r]);if(r===Jt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Eie(t){if(1===t.numberOfChildren&&t.children[Jt]){const e=t.children[Jt];return new Gn(t.segments.concat(e.segments),e.children)}return t}(new Gn(t.segments,e))}function Sd(t){return t instanceof Gf}function vB(t){let e;const i=_B(function n(s){const o={};for(const u of s.children){const l=n(u);o[u.outlet]=l}const a=new Gn(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function EB(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return lA(i,i,i,n,r);const s=function Cie(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new CB(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new CB(n,e,r)}(e);if(s.toRoot())return lA(i,i,new Gn([],{}),n,r);const o=function Iie(t,e,n){if(t.isAbsolute)return new aC(e,!0,0);if(!n)return new aC(e,!1,NaN);if(null===n.parent)return new aC(n,!0,0);const r=oC(t.commands[0])?0:1;return function bie(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ne(4005,!1);i=r.segments.length}return new aC(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?i_(o.segmentGroup,o.index,s.commands):IB(o.segmentGroup,o.index,s.commands);return lA(i,o.segmentGroup,a,n,r)}function oC(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function r_(t){return"object"==typeof t&&null!=t&&t.outlets}function lA(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),o=t===e?n:wB(t,e,n);const a=_B(yB(o));return new Gf(a,s,i)}function wB(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:wB(s,e,n)}),new Gn(t.segments,r)}class CB{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&oC(r[0]))throw new ne(4003,!1);const i=r.find(r_);if(i&&i!==uB(r))throw new ne(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class aC{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function IB(t,e,n){if(t||(t=new Gn([],{})),0===t.segments.length&&t.hasChildren())return i_(t,e,n);const r=function Sie(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(r_(a))break;const u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!TB(u,l,o))return s;r+=2}else{if(!TB(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Gn(t.segments.slice(0,r.pathIndex),{});return s.children[Jt]=new Gn(t.segments.slice(r.pathIndex),t.children),i_(s,0,i)}return r.match&&0===i.length?new Gn(t.segments,{}):r.match&&!t.hasChildren()?cA(t,e,n):r.match?i_(t,0,i):cA(t,e,n)}function i_(t,e,n){if(0===n.length)return new Gn(t.segments,{});{const r=function Tie(t){return r_(t[0])?t[0].outlets:{[Jt]:t}}(n),i={};if(Object.keys(r).some(s=>s!==Jt)&&t.children[Jt]&&1===t.numberOfChildren&&0===t.children[Jt].segments.length){const s=i_(t.children[Jt],e,n);return new Gn(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=IB(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Gn(t.segments,i)}}function cA(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(r_(s)){const u=Die(s.outlets);return new Gn(r,u)}if(0===i&&oC(n[0])){r.push(new t_(t.segments[e].path,bB(n[0]))),i++;continue}const o=r_(s)?s.outlets[Jt]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&oC(a)?(r.push(new t_(o,bB(a))),i+=2):(r.push(new t_(o,{})),i++)}return new Gn(r,{})}function Die(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=cA(new Gn([],{}),0,r))}),e}function bB(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function TB(t,e,n){return t==n.path&&ru(e,n.parameters)}const s_="imperative";class iu{constructor(e,n){this.id=e,this.url=n}}class uC extends iu{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class el extends iu{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qf extends iu{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zf extends iu{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class lC extends iu{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class SB extends iu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Aie extends iu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pie extends iu{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mie extends iu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rie extends iu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xie{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Oie{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nie{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kie{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fie{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lie{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DB{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class dA{}class hA{constructor(e){this.url=e}}class Vie{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new o_,this.attachRef=null}}let o_=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Vie,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class AB{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=fA(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=fA(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=pA(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return pA(e,this._root).map(n=>n.value)}}function fA(t,e){if(t===e.value)return e;for(const n of e.children){const r=fA(t,n);if(r)return r}return null}function pA(t,e){if(t===e.value)return[e];for(const n of e.children){const r=pA(t,n);if(r.length)return r.unshift(e),r}return[]}class Da{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Yf(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class PB extends AB{constructor(e,n){super(e),this.snapshot=n,_A(this,e)}toString(){return this.snapshot.toString()}}function MB(t,e){const n=function Uie(t,e){const o=new mA([],{},{},"",{},Jt,e,null,{});return new RB("",new Da(o,[]))}(0,e),r=new A([new t_("",{})]),i=new A({}),s=new A({}),o=new A({}),a=new A(""),u=new su(r,i,o,a,s,Jt,e,n.root);return u.snapshot=n.root,new PB(new Da(u,[]),n)}class su{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Re(l=>l[e_]))??wt(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Re(e=>qf(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Re(e=>qf(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gA(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===e||"always"!==n&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}},i&&OB(i)&&(r.resolve[e_]=i.title),r}class mA{get title(){return this.data?.[e_]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RB extends AB{constructor(e,n){super(n),this.url=e,_A(this,n)}toString(){return xB(this._root)}}function _A(t,e){e.value._routerState=t,e.children.forEach(n=>_A(t,n))}function xB(t){const e=t.children.length>0?` { ${t.children.map(xB).join(", ")} } `:"";return`${t.value}${e}`}function yA(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ru(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ru(e.params,n.params)||t.paramsSubject.next(n.params),function nie(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ru(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ru(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vA(t,e){const n=ru(t.params,e.params)&&function oie(t,e){return Td(t,e)&&t.every((n,r)=>ru(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||vA(t.parent,e.parent))}function OB(t){return"string"==typeof t.title||null===t.title}let EA=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new Kr,this.deactivateEvents=new Kr,this.attachEvents=new Kr,this.detachEvents=new Kr,this.parentContexts=ve(o_),this.location=ve(Yo),this.changeDetector=ve(df),this.environmentInjector=ve(Ko),this.inputBinder=ve(cC,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ne(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ne(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ne(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ne(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Bie(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=mt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[io]})}return t})();class Bie{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===su?this.route:e===o_?this.childContexts:this.parent.get(e,n)}}const cC=new Le("");let NB=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=eA([r.queryParams,r.params,r.data]).pipe(Yr(([s,o,a],u)=>(a={...s,...o,...a},0===u?wt(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function sJ(t){const e=Vt(t);if(!e)return null;const n=new gm(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac})}return t})();function a_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function $ie(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return a_(t,r,i);return a_(t,r)})}(t,e,n);return new Da(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>a_(t,a)),o}}const r=function Hie(t){return new su(new A(t.url),new A(t.params),new A(t.queryParams),new A(t.fragment),new A(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>a_(t,s));return new Da(r,i)}}const wA="ngNavigationCancelingError";function kB(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Sd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=FB(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function FB(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[wA]=!0,r.cancellationCode=e,n&&(r.url=n),r}function LB(t){return t&&t[wA]}let VB=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["ng-component"]],standalone:!0,features:[KL],decls:1,vars:0,template:function(r,i){1&r&&Ue(0,"router-outlet")},dependencies:[EA],encapsulation:2})}return t})();function CA(t){const e=t.children&&t.children.map(CA),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Jt&&(n.component=VB),n}function ou(t){return t.outlet||Jt}function u_(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Yie{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),yA(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Yf(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Yf(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Yf(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Yf(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Lie(s.value.snapshot))}),e.children.length&&this.forwardEvent(new kie(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(yA(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),yA(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=u_(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class UB{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class dC{constructor(e,n){this.component=e,this.route=n}}function Xie(t,e,n){const r=t._root;return l_(r,e?e._root:null,n,[r.value])}function Xf(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Vc(t){return null!==Pu(t)}(t)?e.get(t):t:r}function l_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Yf(e);return t.children.forEach(o=>{(function ese(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function tse(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Td(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Td(t.url,e.url)||!ru(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vA(t,e)||!ru(t.queryParams,e.queryParams);default:return!vA(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new UB(r)):(s.data=o.data,s._resolvedData=o._resolvedData),l_(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new dC(a.outlet.component,o))}else o&&c_(e,a,i),i.canActivateChecks.push(new UB(r)),l_(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>c_(a,n.getContext(o),i)),i}function c_(t,e,n){const r=Yf(t),i=t.value;Object.entries(r).forEach(([s,o])=>{c_(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new dC(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function d_(t){return"function"==typeof t}function BB(t){return t instanceof Xw||"EmptyError"===t?.name}const hC=Symbol("INITIAL_VALUE");function Jf(){return Yr(t=>eA(t.map(e=>e.pipe(Hf(1),eC(hC)))).pipe(Re(e=>{for(const n of e)if(!0!==n){if(n===hC)return hC;if(!1===n||n instanceof Gf)return n}return!0}),Sa(e=>e!==hC),Hf(1)))}function jB(t){return kr(mi(e=>{if(Sd(e))throw kB(0,e)}),Re(e=>!0===e))}class IA{constructor(e){this.segmentGroup=e||null}}class bA extends Error{constructor(e){super(),this.urlTree=e}}function ep(t){return Jw(new IA(t))}class wse{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return wt(r);if(i.numberOfChildren>1||!i.children[Jt])return Jw(new ne(4e3,!1));i=i.children[Jt]}}applyRedirectCommands(e,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new bA(i);return i}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Gf(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Gn(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new ne(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const TA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cse(t,e,n,r,i){const s=SA(t,e,n);return s.matched?(r=function Wie(t,e){return t.providers&&!t._injector&&(t._injector=vS(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function yse(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?wt(i.map(o=>{const a=Xf(o,t);return Xl(function ase(t){return t&&d_(t.canMatch)}(a)?a.canMatch(e,n):ld(t,()=>a(e,n)))})).pipe(Jf(),jB()):wt(!0)}(r,e,n).pipe(Re(o=>!0===o?s:{...TA}))):wt(s)}function SA(t,e,n){if("**"===e.path)return function Ise(t){return{matched:!0,parameters:t.length>0?uB(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...TA}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||tie)(n,t,e);if(!i)return{...TA};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function $B(t,e,n,r){return n.length>0&&function Sse(t,e,n){return n.some(r=>fC(t,e,r)&&ou(r)!==Jt)}(t,n,r)?{segmentGroup:new Gn(e,Tse(r,new Gn(n,t.children))),slicedSegments:[]}:0===n.length&&function Dse(t,e,n){return n.some(r=>fC(t,e,r))}(t,n,r)?{segmentGroup:new Gn(t.segments,bse(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Gn(t.segments,t.children),slicedSegments:n}}function bse(t,e,n,r,i){const s={};for(const o of r)if(fC(t,n,o)&&!i[ou(o)]){const a=new Gn([],{});s[ou(o)]=a}return{...i,...s}}function Tse(t,e){const n={};n[Jt]=e;for(const r of t)if(""===r.path&&ou(r)!==Jt){const i=new Gn([],{});n[ou(r)]=i}return n}function fC(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Mse{}class Ose{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new wse(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ne(4002,`'${e.segmentGroup}'`)}recognize(){const e=$B(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Re(n=>{const r=new mA([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,{}),i=new Da(r,n),s=new RB("",i),o=function wie(t,e,n=null,r=null){return EB(vB(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Jt).pipe(zf(r=>{if(r instanceof bA)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof IA?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,i=gA(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(Re(s=>s instanceof Da?[s]:[]))}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return jn(i).pipe(Jm(s=>{const o=r.children[s],a=function Qie(t,e){const n=t.filter(r=>ou(r)===e);return n.push(...t.filter(r=>ou(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),Wf((s,o)=>(s.push(...o),s)),tC(null),function Xre(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Sa((i,s)=>t(i,s,r)):zr,rA(1),n?tC(e):sB(()=>new Xw))}(),ws(s=>{if(null===s)return ep(r);const o=HB(s);return function Nse(t){t.sort((e,n)=>e.value.outlet===Jt?-1:n.value.outlet===Jt?1:e.value.outlet.localeCompare(n.value.outlet))}(o),wt(o)}))}processSegment(e,n,r,i,s,o){return jn(n).pipe(Jm(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(zf(u=>{if(u instanceof IA)return wt(null);throw u}))),Yl(a=>!!a),zf(a=>{if(BB(a))return function Pse(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?wt(new Mse):ep(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Ase(t,e,n,r){return!!(ou(t)===r||r!==Jt&&fC(e,n,t))&&SA(e,t,n).matched}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ep(i):ep(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=SA(n,i,s);if(!a)return ep(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(ws(v=>this.processSegment(e,r,n,v.concat(h),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){const o=Cse(n,r,i,e);return"**"===r.path&&(n.children={}),o.pipe(Yr(a=>a.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(Yr(({routes:u})=>{const l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:v}=a,C=new mA(h,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Fse(t){return t.data||{}}(r),ou(r),r.component??r._loadedComponent??null,r,function Lse(t){return t.resolve||{}}(r)),{segmentGroup:S,slicedSegments:x}=$B(n,h,p,u);if(0===x.length&&S.hasChildren())return this.processChildren(l,u,S).pipe(Re(Z=>null===Z?null:new Da(C,Z)));if(0===u.length&&0===x.length)return wt(new Da(C,[]));const F=ou(r)===s;return this.processSegment(l,u,S,x,F?Jt:s,!0).pipe(Re(Z=>new Da(C,Z instanceof Da?[Z]:[])))})):ep(n)))}getChildConfig(e,n,r){return n.children?wt({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?wt({routes:n._loadedRoutes,injector:n._loadedInjector}):function _se(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?wt(!0):wt(i.map(o=>{const a=Xf(o,t);return Xl(function rse(t){return t&&d_(t.canLoad)}(a)?a.canLoad(e,n):ld(t,()=>a(e,n)))})).pipe(Jf(),jB())}(e,n,r).pipe(ws(i=>i?this.configLoader.loadChildren(e,n).pipe(mi(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Ese(t){return Jw(FB(!1,3))}())):wt({routes:[],injector:e})}}function kse(t){const e=t.value.routeConfig;return e&&""===e.path}function HB(t){const e=[],n=new Set;for(const r of t){if(!kse(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=HB(r.children);e.push(new Da(r.value,i))}return e.filter(r=>!n.has(r))}function zB(t){const e=t.children.map(n=>zB(n)).flat();return[t,...e]}function DA(t){return Yr(e=>{const n=t(e);return n?jn(n).pipe(Re(()=>e)):wt(e)})}let WB=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Jt);return r}getResolvedTitleForRoute(n){return n.data[e_]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:()=>ve(Hse),providedIn:"root"})}return t})(),Hse=(()=>{class t extends WB{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(k(rU))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const tp=new Le("",{providedIn:"root",factory:()=>({})}),np=new Le("ROUTES");let AA=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ve(OV)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return wt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Xl(n.loadComponent()).pipe(Re(qB),mi(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),iA(()=>{this.componentLoaders.delete(n)})),i=new iB(r,()=>new P).pipe(nA());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return wt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function zse(t,e,n,r){return Xl(t.loadChildren()).pipe(Re(qB),ws(i=>i instanceof qL||Array.isArray(i)?wt(i):jn(e.compileModuleAsync(i))),Re(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(np,[],{optional:!0,self:!0}).flat()),{routes:o.map(CA),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(iA(()=>{this.childrenLoaders.delete(r)})),o=new iB(s,()=>new P).pipe(nA());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qB(t){return function Wse(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let PA=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:()=>ve(qse),providedIn:"root"})}return t})(),qse=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const GB=new Le(""),KB=new Le("");function Gse(t,e,n){const r=t.get(KB),i=t.get(co);return t.get(gn).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s;const o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),function Kse(t){return new Promise(e=>{_k(e,{injector:t})})}(t))),{onViewTransitionCreated:u}=r;return u&&ld(t,()=>u({transition:a,from:e,to:n})),o})}let pC=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new P,this.transitionAbortSubject=new P,this.configLoader=ve(AA),this.environmentInjector=ve(Ko),this.urlSerializer=ve(Kf),this.rootContexts=ve(o_),this.location=ve(Bm),this.inputBindingEnabled=null!==ve(cC,{optional:!0}),this.titleStrategy=ve(WB),this.options=ve(tp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ve(PA),this.createViewTransition=ve(GB,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>wt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Oie(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new xie(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new A({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:s_,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Sa(s=>0!==s.id),Re(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Yr(s=>{this.currentTransition=s;let o=!1,a=!1;return wt(s).pipe(mi(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yr(u=>{const l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const p="";return this.events.next(new Zf(u.id,this.urlSerializer.serialize(u.rawUrl),p,0)),u.resolve(null),nu}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return wt(u).pipe(Yr(p=>{const v=this.transitions?.getValue();return this.events.next(new uC(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),v!==this.transitions?.getValue()?nu:Promise.resolve(p)}),function Vse(t,e,n,r,i,s){return ws(o=>function Rse(t,e,n,r,i,s,o="emptyOnly"){return new Ose(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Re(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),mi(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const v=new SB(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:p,extractedUrl:v,source:C,restoredState:S,extras:x}=u,F=new uC(p,this.urlSerializer.serialize(v),C,S);this.events.next(F);const Z=MB(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:Z,urlAfterRedirects:v,extras:{...x,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=v,wt(s)}{const p="";return this.events.next(new Zf(u.id,this.urlSerializer.serialize(u.extractedUrl),p,1)),u.resolve(null),nu}}),mi(u=>{const l=new Aie(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Re(u=>(this.currentTransition=s={...u,guards:Xie(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function lse(t,e){return ws(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?wt({...n,guardsResult:!0}):function cse(t,e,n,r){return jn(t).pipe(ws(i=>function mse(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?wt(s.map(a=>{const u=u_(e)??i,l=Xf(a,u);return Xl(function ose(t){return t&&d_(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):ld(u,()=>l(t,e,n,r))).pipe(Yl())})).pipe(Jf()):wt(!0)}(i.component,i.route,n,e,r)),Yl(i=>!0!==i,!0))}(o,r,i,t).pipe(ws(a=>a&&function nse(t){return"boolean"==typeof t}(a)?function dse(t,e,n,r){return jn(e).pipe(Jm(i=>tA(function fse(t,e){return null!==t&&e&&e(new Nie(t)),wt(!0)}(i.route.parent,r),function hse(t,e){return null!==t&&e&&e(new Fie(t)),wt(!0)}(i.route,r),function gse(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Jie(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>rB(()=>wt(o.guards.map(u=>{const l=u_(o.node)??n,h=Xf(u,l);return Xl(function sse(t){return t&&d_(t.canActivateChild)}(h)?h.canActivateChild(r,t):ld(l,()=>h(r,t))).pipe(Yl())})).pipe(Jf())));return wt(s).pipe(Jf())}(t,i.path,n),function pse(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return wt(!0);const i=r.map(s=>rB(()=>{const o=u_(e)??n,a=Xf(s,o);return Xl(function ise(t){return t&&d_(t.canActivate)}(a)?a.canActivate(e,t):ld(o,()=>a(e,t))).pipe(Yl())}));return wt(i).pipe(Jf())}(t,i.route,n))),Yl(i=>!0!==i,!0))}(r,s,t,e):wt(a)),Re(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),mi(u=>{if(s.guardsResult=u.guardsResult,Sd(u.guardsResult))throw kB(0,u.guardsResult);const l=new Pie(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Sa(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),DA(u=>{if(u.guards.canActivateChecks.length)return wt(u).pipe(mi(l=>{const h=new Mie(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Yr(l=>{let h=!1;return wt(l).pipe(function Use(t,e){return ws(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return wt(n);const s=new Set(i.map(u=>u.route)),o=new Set;for(const u of s)if(!o.has(u))for(const l of zB(u))o.add(l);let a=0;return jn(o).pipe(Jm(u=>s.has(u)?function Bse(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!OB(i)&&(s[e_]=i.title),function jse(t,e,n,r){const i=sA(t);if(0===i.length)return wt({});const s={};return jn(i).pipe(ws(o=>function $se(t,e,n,r){const i=u_(e)??r,s=Xf(t,i);return Xl(s.resolve?s.resolve(e,n):ld(i,()=>s(e,n)))}(t[o],e,n,r).pipe(Yl(),mi(a=>{s[o]=a}))),rA(1),function Jre(t){return Re(()=>t)}(s),zf(o=>BB(o)?nu:Jw(o)))}(s,t,e,r).pipe(Re(o=>(t._resolvedData=o,t.data=gA(t,t.parent,n).resolve,null)))}(u,r,t,e):(u.data=gA(u,u.parent,t).resolve,wt(void 0))),mi(()=>a++),rA(1),ws(u=>a===o.size?wt(n):nu))})}(this.paramsInheritanceStrategy,this.environmentInjector),mi({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",2)}}))}),mi(l=>{const h=new Rie(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),DA(u=>{const l=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(mi(v=>{h.component=v}),Re(()=>{})));for(const v of h.children)p.push(...l(v));return p};return eA(l(u.targetSnapshot.root)).pipe(tC(null),Hf(1))}),DA(()=>this.afterPreactivation()),Yr(()=>{const{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?jn(h).pipe(Re(()=>s)):wt(s)}),Re(u=>{const l=function jie(t,e,n){const r=a_(t,e._root,n?n._root:void 0);return new PB(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:l},this.currentNavigation.targetRouterState=l,s}),mi(()=>{this.events.next(new dA)}),((t,e,n,r)=>Re(i=>(new Yie(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Hf(1),mi({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new el(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),oB(this.transitionAbortSubject.pipe(mi(u=>{throw u}))),iA(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),zf(u=>{if(a=!0,LB(u))this.events.next(new Qf(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function zie(t){return LB(t)&&Sd(t.url)}(u)?this.events.next(new hA(u.url)):s.resolve(!1);else{this.events.next(new lC(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(l){s.reject(l)}}return nu}))}))}cancelNavigationTransition(n,r,i){const s=new Qf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qse(t){return t!==s_}let Zse=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:()=>ve(Xse),providedIn:"root"})}return t})();class Yse{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Xse=(()=>{class t extends Yse{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Gr(t)))(i||t)}})();static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),QB=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:()=>ve(Jse),providedIn:"root"})}return t})(),Jse=(()=>{class t extends QB{constructor(){super(...arguments),this.location=ve(Bm),this.urlSerializer=ve(Kf),this.options=ve(tp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ve(PA),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gf,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=MB(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof uC)this.stateMemento=this.createStateMemento();else if(n instanceof Zf)this.rawUrlTree=r.initialUrl;else if(n instanceof SB){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof dA?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Qf&&(3===n.code||2===n.code)?this.restoreHistory(r):n instanceof lC?this.restoreHistory(r,!0):n instanceof el&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Gr(t)))(i||t)}})();static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var h_=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(h_||{});function ZB(t,e){t.events.pipe(Sa(n=>n instanceof el||n instanceof Qf||n instanceof lC||n instanceof Zf),Re(n=>n instanceof el||n instanceof Zf?h_.COMPLETE:n instanceof Qf&&(0===n.code||1===n.code)?h_.REDIRECTING:h_.FAILED),Sa(n=>n!==h_.REDIRECTING),Hf(1)).subscribe(()=>{e()})}function eoe(t){throw t}const toe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},noe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ns=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ve(xV),this.stateManager=ve(QB),this.options=ve(tp,{optional:!0})||{},this.pendingTasks=ve(OS),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ve(pC),this.urlSerializer=ve(Kf),this.location=ve(Bm),this.urlHandlingStrategy=ve(PA),this._events=new P,this.errorHandler=this.options.errorHandler||eoe,this.navigated=!1,this.routeReuseStrategy=ve(Zse),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ve(np,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ve(cC,{optional:!0}),this.eventsSubscription=new vn,this.isNgZoneEnabled=ve(gn)instanceof gn&&gn.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof Qf&&0!==r.code&&1!==r.code)this.navigated=!0;else if(r instanceof el)this.navigated=!0;else if(r instanceof hA){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qse(i.source)};this.scheduleNavigation(o,s_,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function ioe(t){return!(t instanceof dA||t instanceof hA)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),s_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(CA),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{p=vB(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),p=this.currentUrlTree.root}return EB(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Sd(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,s_,null,r)}navigate(n,r={skipLocationChange:!1}){return function roe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new ne(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...toe}:!1===r?{...noe}:r,Sd(n))return cB(this.currentUrlTree,n,i);const s=this.parseUrl(n);return cB(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,v)=>{a=p,u=v});const h=this.pendingTasks.add();return ZB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rp=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new P,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof el&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function T1(t,e,n){return function w6(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?b1:AE}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(Te(ns),Te(su),function od(t){return function vb(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(ha(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Ln(),t)}("tabindex"),Te(Qo),Te(js),Te(Ed))};static#t=this.\u0275dir=mt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ii("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Ya("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Vf],skipLocationChange:["skipLocationChange","skipLocationChange",Vf],replaceUrl:["replaceUrl","replaceUrl",Vf],routerLink:"routerLink"},standalone:!0,features:[Sk,io]})}return t})(),YB=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,s,o){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Kr,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof el&&this.update()})}ngAfterContentInit(){wt(this.links.changes,wt(null)).pipe($f()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=jn(n).pipe($f()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function soe(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static#e=this.\u0275fac=function(r){return new(r||t)(Te(ns),Te(js),Te(Qo),Te(df),Te(rp,8))};static#t=this.\u0275dir=mt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(1&r&&function hV(t,e,n,r){const i=tn();if(i.firstCreatePass){const s=Ln();pV(i,new lV(e,n,r),s.index),function EY(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}fV(i,we(),n)}(s,rp,5),2&r){let o;DS(o=AS())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[io]})}return t})();class XB{}let ooe=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Sa(n=>n instanceof el),Jm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=vS(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return jn(i).pipe($f())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):wt(null);const s=i.pipe(ws(o=>null===o?wt(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?jn([s,this.loader.loadComponent(r)]).pipe($f()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(k(ns),k(OV),k(Ko),k(XB),k(AA))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const MA=new Le("");let JB=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof uC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof el?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Zf&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof DB&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new DB(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function K1(){throw new Error("invalid")}()};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac})}return t})();function au(t,e){return{\u0275kind:t,\u0275providers:e}}function tj(){const t=ve(ao);return e=>{const n=t.get(yd);if(e!==n.components[0])return;const r=t.get(ns),i=t.get(nj);1===t.get(RA)&&r.initialNavigation(),t.get(rj,null,qt.Optional)?.setUpPreloading(),t.get(MA,null,qt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const nj=new Le("",{factory:()=>new P}),RA=new Le("",{providedIn:"root",factory:()=>1}),rj=new Le("");function coe(t){return au(0,[{provide:rj,useExisting:ooe},{provide:XB,useExisting:t}])}function hoe(t){return au(9,[{provide:GB,useValue:Gse},{provide:KB,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const ij=new Le("ROUTER_FORROOT_GUARD"),foe=[Bm,{provide:Kf,useClass:oA},ns,o_,{provide:su,useFactory:function ej(t){return t.routerState.root},deps:[ns]},AA,[]];let xA=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[foe,[],{provide:np,multi:!0,useValue:n},{provide:ij,useFactory:_oe,deps:[[ns,new va,new oE]]},{provide:tp,useValue:r||{}},r?.useHash?{provide:Ed,useClass:cJ}:{provide:Ed,useClass:C2},{provide:MA,useFactory:()=>{const t=ve(Aee),e=ve(gn),n=ve(tp),r=ve(pC),i=ve(Kf);return n.scrollOffset&&t.setOffset(n.scrollOffset),new JB(i,r,t,e,n)}},r?.preloadingStrategy?coe(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?yoe(r):[],r?.bindToComponentInputs?au(8,[NB,{provide:cC,useExisting:NB}]).\u0275providers:[],r?.enableViewTransitions?hoe().\u0275providers:[],[{provide:sj,useFactory:tj},{provide:BS,multi:!0,useExisting:sj}]]}}static forChild(n){return{ngModule:t,providers:[{provide:np,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(k(ij,8))};static#t=this.\u0275mod=Jn({type:t});static#n=this.\u0275inj=sr({})}return t})();function _oe(t){return"guarded"}function yoe(t){return["disabled"===t.initialNavigation?au(3,[{provide:VS,multi:!0,useFactory:()=>{const e=ve(ns);return()=>{e.setUpLocationChangeListener()}}},{provide:RA,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?au(2,[{provide:RA,useValue:0},{provide:VS,multi:!0,deps:[ao],useFactory:e=>{const n=e.get(uJ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(ns),s=e.get(nj);ZB(i,()=>{r(!0)}),e.get(pC).afterPreactivation=()=>(r(!0),s.closed?wt(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const sj=new Le(""),Eoe_firebaseConfig={apiKey:"AIzaSyCwVifARku6nPemSHNDWivjnivQKT2cc8g",authDomain:"e-shop-c52ad.firebaseapp.com",databaseURL:"https://e-shop-c52ad-default-rtdb.firebaseio.com",projectId:"e-shop-c52ad",storageBucket:"e-shop-c52ad.appspot.com",messagingSenderId:"444472786878",appId:"1:444472786878:web:470744a21521084819c3ef",measurementId:"G-VL5TBK5XY1"};var Cs=ft(534);(0,Cs.registerVersion)("firebase","10.6.0","app");class Ioe extends vn{constructor(e,n){super()}schedule(e,n=0){return this}}const gC={setInterval(t,e,...n){const{delegate:r}=gC;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=gC;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class oj extends Ioe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return gC.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&gC.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Zn(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const OA={now:()=>(OA.delegate||Date).now(),delegate:void 0};class f_{constructor(e,n=f_.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}f_.now=OA.now;class aj extends f_{constructor(e,n=f_.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Soe=new class Toe extends aj{}(class boe extends oj{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),mC=new aj(oj),ip=new Ff("ANGULARFIRE2_VERSION");class _C{constructor(){return((t,e)=>{const n=e?[e]:(0,Cs.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(Doe)}}const Doe="app-check";function sp(){}class lj{zone;delegate;constructor(e,n=Soe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Aoe{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sp,{},sp,sp)),n.pipe(mi({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yC=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new lj(Zone.current)),this.insideAngular=n.run(()=>new lj(Zone.current,mC)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(k(gn))};static \u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function op(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Dd(t){return op().ngZone.run(()=>t())}function cj(t){return t.pipe(Ju(op().outsideAngular))}function oi(t){return function Moe(t){return function(n){return(n=n.lift(new Aoe(t.ngZone))).pipe(bd(t.outsideAngular),Ju(t.insideAngular))}}(op())(t)}const Roe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Dd(()=>t.apply(void 0,r))},kA=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=Dd(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sp,{},sp,sp))),r[s]=Roe(r[s],n));const i=function Poe(t){return op().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof an){const s=op();return i.pipe(bd(s.outsideAngular),Ju(s.insideAngular))}return Dd(()=>i)}return i instanceof an?i.pipe(oi):i instanceof Promise?Dd(()=>new Promise((s,o)=>i.then(a=>Dd(()=>s(a)),a=>Dd(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Dd(()=>i)};var Do=ft(106);Do.Z.registerVersion("firebase","10.6.0","app-compat");const Noe=["ngOnDestroy"];class dj{constructor(e){return e}}const ap=new Le("angularfire2.app.options"),up=new Le("angularfire2.app.name");function p_(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const o=Do.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Do.Z.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){const a=!!module.hot;Loe("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new dj(o)}const Loe=(t,...e)=>{},Voe={provide:dj,useFactory:p_,deps:[ap,gn,[new va,up]]};let Uoe=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:ap,useValue:n},{provide:up,useValue:r}]}}constructor(n){Do.Z.registerVersion("angularfire",ip.full,"core"),Do.Z.registerVersion("angularfire",ip.full,"app-compat"),Do.Z.registerVersion("angular",$Y.full,n.toString())}static \u0275fac=function(r){return new(r||t)(k(Ea))};static \u0275mod=Jn({type:t});static \u0275inj=sr({providers:[Voe]})}return t})();function vC(t,e,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return function Boe(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,o)||(hj("error",`${e} was already initialized on the ${n} Firebase App with different settings.${joe?" You may need to reload as Firebase is not HMR aware.":""}`),hj("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const joe=typeof module<"u"&&!!module.hot,hj=(t,...e)=>{};function FA(...t){const e=Xm(t),n=function Vre(t,e){return"number"==typeof XD(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?ho(r[0]):$f(n)(jn(r,e)):nu}globalThis.\u0275AngularfireInstanceCache||=[],ft(365);class $oe extends P{constructor(e=1/0,n=1/0,r=OA){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function fj(t={}){const{connector:e=(()=>new P),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,l=0,h=!1,p=!1;const v=()=>{a?.unsubscribe(),a=void 0},C=()=>{v(),o=u=void 0,h=p=!1},S=()=>{const x=o;C(),x?.unsubscribe()};return ae((x,F)=>{l++,!p&&!h&&v();const Z=u=u??e();F.add(()=>{l--,0===l&&!p&&!h&&(a=LA(S,i))}),Z.subscribe(F),!o&&l>0&&(o=new pn({next:z=>Z.next(z),error:z=>{p=!0,v(),a=LA(C,n,z),Z.error(z)},complete:()=>{h=!0,v(),a=LA(C,r),Z.complete()}}),ho(x).subscribe(o))})(s)}}function LA(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new pn({next:()=>{r.unsubscribe(),t()}});return ho(e(...n)).subscribe(r)}function pj(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,fj({connector:()=>new $oe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function gj(t,e){return vt(e)?Yr(()=>t,e):Yr(()=>t)}const VA=new Le("angularfire2.auth.use-emulator"),UA=new Le("angularfire2.auth.settings"),BA=new Le("angularfire2.auth.tenant-id"),jA=new Le("angularfire2.auth.langugage-code"),$A=new Le("angularfire2.auth.use-device-language"),HA=new Le("angularfire.auth.persistence"),zA=(t,e,n,r,i,s,o,a)=>vC(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const u=e.runOutsideAngular(()=>t.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[l,h]of Object.entries(o))u.settings[l]=h;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]);let g_=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,s,o,a,u,l,h,p,v,C){const S=new P,x=wt(void 0).pipe(Ju(o.outsideAngular),Yr(()=>s.runOutsideAngular(()=>Promise.resolve().then(ft.bind(ft,365)))),Re(()=>p_(n,s,r)),Re(F=>zA(F,s,a,l,h,p,u,v)),pj({bufferSize:1,refCount:!1}));if(Fw(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=wt(null);else{x.pipe(Yl()).subscribe();const F=x.pipe(Yr(re=>re.getRedirectResult().then(me=>me,()=>null)),oi,pj({bufferSize:1,refCount:!1})),Z=x.pipe(Yr(re=>new an(me=>({unsubscribe:s.runOutsideAngular(()=>re.onAuthStateChanged(ke=>me.next(ke),ke=>me.error(ke),()=>me.complete()))})))),z=x.pipe(Yr(re=>new an(me=>({unsubscribe:s.runOutsideAngular(()=>re.onIdTokenChanged(ke=>me.next(ke),ke=>me.error(ke),()=>me.complete()))}))));this.authState=F.pipe(gj(Z),bd(o.outsideAngular),Ju(o.insideAngular)),this.user=F.pipe(gj(z),bd(o.outsideAngular),Ju(o.insideAngular)),this.idToken=this.user.pipe(Yr(re=>re?jn(re.getIdToken()):wt(null))),this.idTokenResult=this.user.pipe(Yr(re=>re?jn(re.getIdTokenResult()):wt(null))),this.credential=FA(F,S,this.authState.pipe(Sa(re=>!re))).pipe(Re(re=>re?.user?re:null),bd(o.outsideAngular),Ju(o.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{if(t[s])return r?.spy?.get&&r.spy.get(s,t[s]),t[s];if(Noe.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const u=a?.[s];return"function"==typeof u?u.bind(a):u?.then?u.then(l=>n.run(()=>l)):n.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>o[u],apply:(a,u,l)=>o.then(h=>{const p=h?.(...l);return r?.spy?.apply&&r.spy.apply(s,l,p),p})})})}))(this,x,s,{spy:{apply:(F,Z,z)=>{(F.startsWith("signIn")||F.startsWith("createUser"))&&z.then(re=>S.next(re))}}})}static \u0275fac=function(r){return new(r||t)(k(ap),k(up,8),k(Ea),k(gn),k(yC),k(VA,8),k(UA,8),k(BA,8),k(jA,8),k($A,8),k(HA,8),k(_C,8))};static \u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),zoe=(()=>{class t{constructor(){Do.Z.registerVersion("angularfire",ip.full,"auth-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jn({type:t});static \u0275inj=sr({providers:[g_]})}return t})();var Ce=ft(861),O=ft(58),Aa=ft(537);const mj="firebasestorage.googleapis.com",_j="storageBucket";class Br extends O.ZR{constructor(e,n,r=0){super(WA(e),`Firebase Storage: ${n} (${WA(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Br.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return WA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Pr=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Pr||{});function WA(t){return"storage/"+t}function qA(){return new Br(Pr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function yj(){return new Br(Pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vj(){return new Br(Pr.CANCELED,"User canceled the upload/download.")}function Ej(){return new Br(Pr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lp(t){return new Br(Pr.INVALID_ARGUMENT,t)}function wj(){return new Br(Pr.APP_DELETED,"The Firebase app was deleted.")}function Cj(t){return new Br(Pr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function m_(t,e){return new Br(Pr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function __(t){throw new Br(Pr.INTERNAL_ERROR,"Internal error: "+t)}class Is{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Is.makeFromUrl(e,n)}catch{return new Is(e,"")}if(""===r.path)return r;throw function tae(t){return new Br(Pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l(me){me.path_=decodeURIComponent(me.path)}const p=n.replace(/[.]/g,"\\."),re=[{regex:a,indices:{bucket:1,path:3},postModify:function s(me){"/"===me.path.charAt(me.path.length-1)&&(me.path_=me.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${p}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${n===mj?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let me=0;me<re.length;me++){const ke=re[me],Ze=ke.regex.exec(e);if(Ze){let Qn=Ze[ke.indices.path];Qn||(Qn=""),r=new Is(Ze[ke.indices.bucket],Qn),ke.postModify(r);break}}if(null==r)throw function eae(t){return new Br(Pr.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class oae{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function EC(t){return"string"==typeof t||t instanceof String}function Ij(t){return GA()&&t instanceof Blob}function GA(){return typeof Blob<"u"&&!(0,O.UG)()}function KA(t,e,n,r){if(r<e)throw lp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw lp(`Invalid value for '${t}'. Expected ${n} or less.`)}function tl(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function bj(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var cp=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(cp||{});function Tj(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}class hae{constructor(e,n,r,i,s,o,a,u,l,h,p,v=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,S)=>{this.resolve_=C,this.reject_=S,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function lae(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=qA();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?wj():vj():yj())};this.canceled_?n(0,new wC(!1,null,!0)):this.backoffId_=function aae(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let l=!1;function h(...F){l||(l=!0,e.apply(null,F))}function p(F){i=setTimeout(()=>{i=null,t(C,u())},F)}function v(){s&&clearTimeout(s)}function C(F,...Z){if(l)return void v();if(F)return v(),void h.call(null,F,...Z);if(u()||o)return v(),void h.call(null,F,...Z);let re;r<64&&(r*=2),1===a?(a=2,re=0):re=1e3*(r+Math.random()),p(re)}let S=!1;function x(F){S||(S=!0,v(),!l&&(null!==i?(F||(a=2),clearTimeout(i),p(0)):F||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,x(!0)},n),x}((r,i)=>{if(i)return void r(!1,new wC(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===cp.NO_ERROR,u=s.getStatus();if(!a||Tj(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===cp.ABORT;return void r(!1,new wC(!1,null,h))}const l=-1!==this.successCodes_.indexOf(u);r(!0,new wC(l,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function uae(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class wC{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function vae(...t){const e=function yae(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(GA())return new Blob(t);throw new Br(Pr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ao={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class QA{constructor(e,n){this.data=e,this.contentType=n||null}}function ZA(t,e){switch(t){case Ao.RAW:return new QA(Sj(e));case Ao.BASE64:case Ao.BASE64URL:return new QA(Dj(t,e));case Ao.DATA_URL:return new QA(function Iae(t){const e=new Aj(t);return e.base64?Dj(Ao.BASE64,e.rest):function Cae(t){let e;try{e=decodeURIComponent(t)}catch{throw m_(Ao.DATA_URL,"Malformed data URL.")}return Sj(e)}(e.rest)}(e),function bae(t){return new Aj(t).contentType}(e))}throw qA()}function Sj(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Dj(t,e){switch(t){case Ao.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw m_(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ao.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw m_(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function wae(t){if(typeof atob>"u")throw function sae(t){return new Br(Pr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:m_(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Aj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw m_(Ao.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function Tae(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class uu{constructor(e,n){let r=0,i="";Ij(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Ij(this.data_)){const i=function Eae(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new uu(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new uu(r,!0)}}static getBlob(...e){if(GA()){const n=e.map(r=>r instanceof uu?r.data_:r);return new uu(vae.apply(null,n))}{const n=e.map(o=>EC(o)?ZA(Ao.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new uu(i,!0)}}uploadData(){return this.data_}}function YA(t){let e;try{e=JSON.parse(t)}catch{return null}return function dae(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function Pj(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Aae(t,e){return e}class qs{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Aae}}let CC=null;function y_(){if(CC)return CC;const t=[];t.push(new qs("bucket")),t.push(new qs("generation")),t.push(new qs("metageneration")),t.push(new qs("name","fullPath",!0));const n=new qs("name");n.xform=function e(s,o){return function Pae(t){return!EC(t)||t.length<2?t:Pj(t)}(o)},t.push(n);const i=new qs("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},t.push(i),t.push(new qs("timeCreated")),t.push(new qs("updated")),t.push(new qs("md5Hash",null,!0)),t.push(new qs("cacheControl",null,!0)),t.push(new qs("contentDisposition",null,!0)),t.push(new qs("contentEncoding",null,!0)),t.push(new qs("contentLanguage",null,!0)),t.push(new qs("contentType",null,!0)),t.push(new qs("metadata","customMetadata",!0)),CC=t,CC}function Mj(t,e,n){const r=YA(e);return null===r?null:function Rae(t,e,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return function Mae(t,e){Object.defineProperty(t,"ref",{get:function n(){const s=new Is(t.bucket,t.fullPath);return e._makeStorageReference(s)}})}(r,t),r}(t,r,n)}function XA(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}const Rj="prefixes",xj="items";class lu{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function cu(t){if(!t)throw qA()}function IC(t,e){return function n(r,i){const s=Mj(t,i,e);return cu(null!==s),s}}function dp(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function Xoe(){return new Br(Pr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Yoe(){return new Br(Pr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function Zoe(t){return new Br(Pr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function Joe(t){return new Br(Pr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function v_(t){const e=dp(t);return function n(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function Qoe(t){return new Br(Pr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),s.serverResponse=i.serverResponse,s}}function Oj(t,e,n){const i=tl(e.fullServerUrl(),t.host,t._protocol),o=t.maxOperationRetryTime,a=new lu(i,"GET",IC(t,n),o);return a.errorHandler=v_(e),a}function Lae(t,e,n,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=tl(e.bucketOnlyServerUrl(),t.host,t._protocol),l=t.maxOperationRetryTime,h=new lu(a,"GET",function kae(t,e){return function n(r,i){const s=function Nae(t,e,n){const r=YA(n);return null===r?null:function Oae(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Rj])for(const i of n[Rj]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new Is(e,s));r.prefixes.push(o)}if(n[xj])for(const i of n[xj]){const s=t._makeStorageReference(new Is(e,i.name));r.items.push(s)}return r}(t,e,r)}(t,e,i);return cu(null!==s),s}}(t,e.bucket),l);return h.urlParams=s,h.errorHandler=dp(e),h}function kj(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function jae(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class bC{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function JA(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{cu(!1)}return cu(!!n&&-1!==(e||["active"]).indexOf(n)),n}const Wae={STATE_CHANGED:"state_changed"},Gs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function eP(t){switch(t){case"running":case"pausing":case"canceling":return Gs.RUNNING;case"paused":return Gs.PAUSED;case"success":return Gs.SUCCESS;case"canceled":return Gs.CANCELED;default:return Gs.ERROR}}class qae{constructor(e,n,r){if(function cae(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function hp(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let Vj=null;class Gae{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cp.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cp.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cp.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw __("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw __("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw __("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw __("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw __("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Kae extends Gae{initXhr(){this.xhr_.responseType="text"}}function Pa(){return Vj?Vj():new Kae}class Uj{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=y_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Pr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Tj(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=yj()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Pr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function $ae(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=kj(e,r,i),a={name:o.fullPath},u=tl(s,t.host,t._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=XA(o,n),S=new lu(u,"POST",function C(x){let F;JA(x);try{F=x.getResponseHeader("X-Goog-Upload-URL")}catch{cu(!1)}return cu(EC(F)),F},t.maxUploadRetryTime);return S.urlParams=a,S.headers=h,S.body=p,S.errorHandler=dp(e),S}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Pa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function Hae(t,e,n,r){const u=new lu(n,"POST",function s(l){const h=JA(l,["active","final"]);let p=null;try{p=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{cu(!1)}p||cu(!1);const v=Number(p);return cu(!isNaN(v)),new bC(v,r.size(),"final"===h)},t.maxUploadRetryTime);return u.headers={"X-Goog-Upload-Command":"query"},u.errorHandler=dp(e),u}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Pa,n,r);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new bC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=function zae(t,e,n,r,i,s,o,a){const u=new bC(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw function rae(){return new Br(Pr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=u.total-u.current;let h=l;i>0&&(h=Math.min(h,i));const p=u.current;let C="";C=0===h?"finalize":l===h?"upload, finalize":"upload";const S={"X-Goog-Upload-Command":C,"X-Goog-Upload-Offset":`${u.current}`},x=r.slice(p,p+h);if(null===x)throw Ej();const re=new lu(n,"POST",function F(me,ke){const Ze=JA(me,["active","final"]),$t=u.current+h,Qn=r.size();let ls;return ls="final"===Ze?IC(e,s)(me,ke):null,new bC($t,Qn,"final"===Ze,ls)},e.maxUploadRetryTime);return re.headers=S,re.body=x.uploadData(),re.progressCallback=a||null,re.errorHandler=dp(t),re}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){return this._error=u,void this._transition("error")}const a=this._ref.storage._makeRequest(o,Pa,i,s,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Oj(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Pa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function Fj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},u=function a(){let re="";for(let me=0;me<2;me++)re+=Math.random().toString().slice(2);return re}();o["Content-Type"]="multipart/related; boundary="+u;const l=kj(e,r,i),h=XA(l,n),C=uu.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+u+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===C)throw Ej();const S={name:l.fullPath},x=tl(s,t.host,t._protocol),Z=t.maxUploadRetryTime,z=new lu(x,"POST",IC(t,n),Z);return z.urlParams=S,z.headers=o,z.body=C.uploadData(),z.errorHandler=dp(e),z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Pa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=vj(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=eP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new qae(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(eP(this._state)){case Gs.SUCCESS:hp(this._resolve.bind(null,this.snapshot))();break;case Gs.CANCELED:case Gs.ERROR:hp(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(eP(this._state)){case Gs.RUNNING:case Gs.PAUSED:e.next&&hp(e.next.bind(e,this.snapshot))();break;case Gs.SUCCESS:e.complete&&hp(e.complete.bind(e))();break;default:e.error&&hp(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ad{constructor(e,n){this._service=e,this._location=n instanceof Is?n:Is.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ad(e,n)}get root(){const e=new Is(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Pj(this._location.path)}get storage(){return this._service}get parent(){const e=function Sae(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Is(this._location.bucket,e);return new Ad(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw Cj(e)}}function jj(t,e,n){return tP.apply(this,arguments)}function tP(){return(tP=(0,Ce.Z)(function*(t,e,n){const i=yield $j(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield jj(t,e,i.nextPageToken))})).apply(this,arguments)}function $j(t,e){null!=e&&"number"==typeof e.maxResults&&KA("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Lae(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Pa)}function oue(t){t._throwIfRoot("getDownloadURL");const e=function Vae(t,e,n){const i=tl(e.fullServerUrl(),t.host,t._protocol),o=t.maxOperationRetryTime,a=new lu(i,"GET",function Fae(t,e){return function n(r,i){const s=Mj(t,i,e);return cu(null!==s),function xae(t,e,n,r){const i=YA(e);if(null===i||!EC(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const p=t.fullPath;return tl("/b/"+o(t.bucket)+"/o/"+o(p),n,r)+bj({alt:"media",token:l})})[0]}(s,i,t.host,t._protocol)}}(t,n),o);return a.errorHandler=v_(e),a}(t.storage,t._location,y_());return t.storage.makeRequestWithTokens(e,Pa).then(n=>{if(null===n)throw function iae(){return new Br(Pr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function Hj(t,e){const n=function Dae(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Is(t._location.bucket,n);return new Ad(t.storage,r)}function zj(t,e){if(t instanceof nP){const n=t;if(null==n._bucket)throw function nae(){return new Br(Pr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_j+"' property when initializing the app?")}();const r=new Ad(n,n._bucket);return null!=e?zj(r,e):r}return void 0!==e?Hj(t,e):t}function cue(t,e){if(e&&function uue(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof nP)return function lue(t,e){return new Ad(t,e)}(t,e);throw lp("To use ref(service, url), the first argument must be a Storage instance.")}return zj(t,e)}function Wj(t,e){const n=e?.[_j];return null==n?null:Is.makeFromBucketSpec(n,t)}class nP{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=mj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Is.makeFromBucketSpec(i,this._host):Wj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Is.makeFromBucketSpec(this._url,e):Wj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){KA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){KA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ce.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ce.Z)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ad(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new oae(wj());{const o=function _ae(t,e,n,r,i,s,o=!0){const a=bj(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return function gae(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function fae(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function pae(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,s),function mae(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,r),new hae(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return(0,Ce.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const qj="@firebase/storage";function Qj(t,e){return cue(t=(0,O.m9)(t),e)}function Eue(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new nP(n,r,i,e,Cs.SDK_VERSION)}!function wue(){(0,Cs._registerComponent)(new Aa.wA("storage",Eue,"PUBLIC").setMultipleInstances(!0)),(0,Cs.registerVersion)(qj,"0.11.2",""),(0,Cs.registerVersion)(qj,"0.11.2","esm2017")}();class TC{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Yj{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new TC(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new TC(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(s="function"==typeof n?o=>n(new TC(o,this,this._ref)):{next:n.next?o=>n.next(new TC(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class Xj{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new nl(e,this._service))}get items(){return this._delegate.items.map(e=>new nl(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class nl{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function vue(t,e){return Hj(t,e)}(this._delegate,e);return new nl(n,this.storage)}get root(){return new nl(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new nl(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new Yj(function hue(t,e,n){return function tue(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Uj(t,new uu(e),n)}(t=(0,O.m9)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=Ao.RAW,r){this._throwIfRoot("putString");const i=ZA(n,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new Yj(new Uj(this._delegate,new uu(i.data,!0),s),this)}listAll(){return function mue(t){return function rue(t){const e={prefixes:[],items:[]};return jj(t,e).then(()=>e)}(t=(0,O.m9)(t))}(this._delegate).then(e=>new Xj(e,this.storage))}list(e){return function gue(t,e){return $j(t=(0,O.m9)(t),e)}(this._delegate,e||void 0).then(n=>new Xj(n,this.storage))}getMetadata(){return function fue(t){return function iue(t){t._throwIfRoot("getMetadata");const e=Oj(t.storage,t._location,y_());return t.storage.makeRequestWithTokens(e,Pa)}(t=(0,O.m9)(t))}(this._delegate)}updateMetadata(e){return function pue(t,e){return function sue(t,e){t._throwIfRoot("updateMetadata");const n=function Uae(t,e,n,r){const s=tl(e.fullServerUrl(),t.host,t._protocol),a=XA(n,r),l=t.maxOperationRetryTime,h=new lu(s,"PATCH",IC(t,r),l);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=a,h.errorHandler=v_(e),h}(t.storage,t._location,e,y_());return t.storage.makeRequestWithTokens(n,Pa)}(t=(0,O.m9)(t),e)}(this._delegate,e)}getDownloadURL(){return function _ue(t){return oue(t=(0,O.m9)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function yue(t){return function aue(t){t._throwIfRoot("deleteObject");const e=function Bae(t,e){const r=tl(e.fullServerUrl(),t.host,t._protocol),a=new lu(r,"DELETE",function o(u,l){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=v_(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Pa)}(t=(0,O.m9)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Cj(e)}}class Jj{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(e$(e))throw lp("ref() expected a child path but got a URL, use refFromURL instead.");return new nl(Qj(this._delegate,e),this)}refFromURL(e){if(!e$(e))throw lp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Is.makeFromUrl(e,this._delegate.host)}catch{throw lp("refFromUrl() expected a valid full URL but got an invalid one.")}return new nl(Qj(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function Zj(t,e,n,r={}){!function due(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,O.Sg)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function e$(t){return/^[A-Za-z]+:\/\//.test(t)}function Tue(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new Jj(n,r)}function t$(t){const e=function Due(t){return new an(e=>{const n=o=>e.next(o);n(t.snapshot);const s=t.on("state_changed",n);return t.then(o=>{n(o),e.complete()},o=>{n(t.snapshot),(o=>{e.error(o)})(o)}),function(){s()}}).pipe(function Woe(t,e=mC){return ae((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=s;s=null,r.next(l)}};function u(){const l=o+t,h=e.now();if(h<l)return i=this.schedule(void 0,l-h),void r.add(i);a()}n.subscribe(Fe(r,l=>{s=l,o=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Re(n=>n.bytesTransferred/n.totalBytes*100))}}function SC(t){return{getDownloadURL:()=>wt(void 0).pipe(cj,Yr(()=>t.getDownloadURL()),oi),getMetadata:()=>wt(void 0).pipe(cj,Yr(()=>t.getMetadata()),oi),delete:()=>jn(t.delete()),child:e=>SC(t.child(e)),updateMetadata:e=>jn(t.updateMetadata(e)),put:(e,n)=>t$(t.put(e,n)),putString:(e,n,r)=>t$(t.putString(e,n,r)),list:e=>jn(t.list(e)),listAll:()=>jn(t.listAll())}}!function Sue(t){const e={TaskState:Gs,TaskEvent:Wae,StringFormat:Ao,Storage:Jj,Reference:nl};t.INTERNAL.registerComponent(new Aa.wA("storage-compat",Tue,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.2")}(Do.Z);const Aue=new Le("angularfire2.storageBucket"),Pue=new Le("angularfire2.storage.maxUploadRetryTime"),Mue=new Le("angularfire2.storage.maxOperationRetryTime"),Rue=new Le("angularfire2.storage.use-emulator");let xue=(()=>{class t{storage;constructor(n,r,i,s,o,a,u,l,h,p){const v=p_(n,o,r);this.storage=vC(`${v.name}.storage.${i}`,"AngularFireStorage",v.name,()=>{const C=o.runOutsideAngular(()=>v.storage(i||void 0)),S=h;return S&&C.useEmulator(...S),u&&C.setMaxUploadRetryTime(u),l&&C.setMaxOperationRetryTime(l),C},[u,l])}ref(n){return SC(this.storage.ref(n))}refFromURL(n){return SC(this.storage.refFromURL(n))}upload(n,r,i){return SC(this.storage.ref(n)).put(r,i)}static \u0275fac=function(r){return new(r||t)(k(ap),k(up,8),k(Aue,8),k(Ea),k(gn),k(yC),k(Pue,8),k(Mue,8),k(Rue,8),k(_C,8))};static \u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),Oue=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jn({type:t});static \u0275inj=sr({})}return t})(),Nue=(()=>{class t{constructor(){Do.Z.registerVersion("angularfire",ip.full,"gcs-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jn({type:t});static \u0275inj=sr({providers:[xue],imports:[Oue]})}return t})();function rP(){return ae((t,e)=>{let n,r=!1;t.subscribe(Fe(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}function n$(t,e=zr){return t=t??kue,ae((n,r)=>{let i,s=!0;n.subscribe(Fe(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function kue(t,e){return t===e}var Ge,Po=ft(879),Fue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ma={},iP=iP||{},jt=Fue||self;function DC(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function E_(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var sP="closure_uid_"+(1e9*Math.random()>>>0),Vue=0;function Uue(t,e,n){return t.call.apply(t.bind,arguments)}function Bue(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function bs(t,e,n){return(bs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Uue:Bue).apply(null,arguments)}function AC(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ui(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Jl(){this.s=this.s,this.o=this.o}Jl.prototype.s=!1,Jl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Lue(t){Object.prototype.hasOwnProperty.call(t,sP)&&t[sP]||(t[sP]=++Vue)}(this)},Jl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const r$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function oP(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function i$(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(DC(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ts(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ts.prototype.h=function(){this.defaultPrevented=!0};var $ue=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{jt.addEventListener("test",()=>{},e),jt.removeEventListener("test",()=>{},e)}catch{}return t}();function w_(t){return/^[\s\xa0]*$/.test(t)}function PC(){var t=jt.navigator;return t&&(t=t.userAgent)?t:""}function du(t){return-1!=PC().indexOf(t)}function aP(t){return aP[" "](t),t}aP[" "]=function(){};var lP,t,zue=du("Opera"),fp=du("Trident")||du("MSIE"),s$=du("Edge"),uP=s$||fp,o$=du("Gecko")&&!(-1!=PC().toLowerCase().indexOf("webkit")&&!du("Edge"))&&!(du("Trident")||du("MSIE"))&&!du("Edge"),Wue=-1!=PC().toLowerCase().indexOf("webkit")&&!du("Edge");function a$(){var t=jt.document;return t?t.documentMode:void 0}e:{var cP="",dP=(t=PC(),o$?/rv:([^\);]+)(\)|;)/.exec(t):s$?/Edge\/([\d\.]+)/.exec(t):fp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Wue?/WebKit\/(\S+)/.exec(t):zue?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(dP&&(cP=dP?dP[1]:""),fp){var hP=a$();if(null!=hP&&hP>parseFloat(cP)){lP=String(hP);break e}}lP=cP}var que=jt.document&&fp&&(a$()||parseInt(lP,10))||void 0;function C_(t,e){if(Ts.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(o$){e:{try{aP(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Gue[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&C_.$.h.call(this)}}Ui(C_,Ts);var Gue={2:"touch",3:"pen",4:"mouse"};C_.prototype.h=function(){C_.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var I_="closure_listenable_"+(1e6*Math.random()|0),Kue=0;function Que(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Kue,this.fa=this.ia=!1}function MC(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function pP(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function l$(t){const e={};for(const n in t)e[n]=t[n];return e}const c$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function d$(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<c$.length;s++)n=c$[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function RC(t){this.src=t,this.g={},this.h=0}function gP(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=r$(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(MC(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function mP(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}RC.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=mP(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Que(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var _P="closure_lm_"+(1e6*Math.random()|0),yP={};function h$(t,e,n,r,i){if(r&&r.once)return p$(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)h$(t,e[s],n,r,i);return null}return n=CP(n),t&&t[I_]?t.O(e,n,E_(r)?!!r.capture:!!r,i):f$(t,e,n,!1,r,i)}function f$(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=E_(i)?!!i.capture:!!i,a=EP(t);if(a||(t[_P]=a=new RC(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Yue(){const e=Xue;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$ue||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(m$(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function p$(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)p$(t,e[s],n,r,i);return null}return n=CP(n),t&&t[I_]?t.P(e,n,E_(r)?!!r.capture:!!r,i):f$(t,e,n,!0,r,i)}function g$(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)g$(t,e[s],n,r,i);else r=E_(r)?!!r.capture:!!r,n=CP(n),t&&t[I_]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=mP(s=t.g[e],n,r,i))&&(MC(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=EP(t))&&(e=t.g[e.toString()],t=-1,e&&(t=mP(e,n,r,i)),(n=-1<t?e[t]:null)&&vP(n))}function vP(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[I_])gP(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(m$(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=EP(e))?(gP(n,t),0==n.h&&(n.src=null,e[_P]=null)):MC(t)}}}function m$(t){return t in yP?yP[t]:yP[t]="on"+t}function Xue(t,e){if(t.fa)t=!0;else{e=new C_(e,this);var n=t.listener,r=t.la||t.src;t.ia&&vP(t),t=n.call(r,e)}return t}function EP(t){return(t=t[_P])instanceof RC?t:null}var wP="__closure_events_fn_"+(1e9*Math.random()>>>0);function CP(t){return"function"==typeof t?t:(t[wP]||(t[wP]=function(e){return t.handleEvent(e)}),t[wP])}function Bi(){Jl.call(this),this.i=new RC(this),this.S=this,this.J=null}function rs(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ts(e,t);else if(e instanceof Ts)e.target=e.target||t;else{var i=e;d$(e=new Ts(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=xC(o,r,!0,e)&&i}if(i=xC(o=e.g=t,r,!0,e)&&i,i=xC(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=xC(o=e.g=n[s],r,!1,e)&&i}function xC(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&gP(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ui(Bi,Jl),Bi.prototype[I_]=!0,Bi.prototype.removeEventListener=function(t,e,n,r){g$(this,t,e,n,r)},Bi.prototype.N=function(){if(Bi.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)MC(n[r]);delete t.g[e],t.h--}}this.J=null},Bi.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Bi.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var IP=jt.JSON.stringify;function ele(){var t=bP;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var _$=new class Jue{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new nle,t=>t.reset());class nle{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function rle(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ile(t){jt.setTimeout(()=>{throw t},0)}let b_,T_=!1,bP=new class tle{constructor(){this.h=this.g=null}add(e,n){const r=_$.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},y$=()=>{const t=jt.Promise.resolve(void 0);b_=()=>{t.then(sle)}};var sle=()=>{for(var t;t=ele();){try{t.h.call(t.g)}catch(n){ile(n)}var e=_$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}T_=!1};function OC(t,e){Bi.call(this),this.h=t||1,this.g=e||jt,this.j=bs(this.qb,this),this.l=Date.now()}function TP(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function SP(t,e,n){if("function"==typeof t)n&&(t=bs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=bs(t.handleEvent,t)}return 2147483647<Number(e)?-1:jt.setTimeout(t,e||0)}function v$(t){t.g=SP(()=>{t.g=null,t.i&&(t.i=!1,v$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ui(OC,Bi),(Ge=OC.prototype).ga=!1,Ge.T=null,Ge.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rs(this,"tick"),this.ga&&(TP(this),this.start()))}},Ge.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ge.N=function(){OC.$.N.call(this),TP(this),delete this.g};class ole extends Jl{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:v$(this)}N(){super.N(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function S_(t){Jl.call(this),this.h=t,this.g={}}Ui(S_,Jl);var E$=[];function w$(t,e,n,r){Array.isArray(n)||(n&&(E$[0]=n.toString()),n=E$);for(var i=0;i<n.length;i++){var s=h$(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function C$(t){pP(t.g,function(e,n){this.g.hasOwnProperty(n)&&vP(e)},t),t.g={}}function NC(){this.g=!0}function pp(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cle(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return IP(n)}catch{return e}}(t,n)+(r?" "+r:"")})}S_.prototype.N=function(){S_.$.N.call(this),C$(this)},S_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},NC.prototype.Ea=function(){this.g=!1},NC.prototype.info=function(){};var Pd={},I$=null;function kC(){return I$=I$||new Bi}function b$(t){Ts.call(this,Pd.Ta,t)}function D_(t){const e=kC();rs(e,new b$(e))}function T$(t,e){Ts.call(this,Pd.STAT_EVENT,t),this.stat=e}function Ks(t){const e=kC();rs(e,new T$(e,t))}function S$(t,e){Ts.call(this,Pd.Ua,t),this.size=e}function A_(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){t()},e)}Pd.Ta="serverreachability",Ui(b$,Ts),Pd.STAT_EVENT="statevent",Ui(T$,Ts),Pd.Ua="timingevent",Ui(S$,Ts);var FC={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},D$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function DP(){}function P$(){}DP.prototype.h=null;var MP,P_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function AP(){Ts.call(this,"d")}function PP(){Ts.call(this,"c")}function LC(){}function M_(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new S_(this),this.P=dle,this.V=new OC(t=uP?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new M$}function M$(){this.i=null,this.g="",this.h=!1}Ui(AP,Ts),Ui(PP,Ts),Ui(LC,DP),LC.prototype.g=function(){return new XMLHttpRequest},LC.prototype.i=function(){return{}},MP=new LC;var dle=45e3,RP={},VC={};function xP(t,e,n){t.L=1,t.v=$C(rl(e)),t.s=n,t.S=!0,R$(t,null)}function R$(t,e){t.G=Date.now(),R_(t),t.A=rl(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),j$(n.i,"t",r),t.C=0,n=t.l.J,t.h=new M$,t.g=d3(t.l,n?e:null,!t.s),0<t.O&&(t.M=new ole(bs(t.Pa,t,t.g),t.O)),w$(t.U,t.g,"readystatechange",t.nb),e=t.I?l$(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),D_(),function ale(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var h=l[0];l=l[1];var p=h.split("_");o=2<=p.length&&"type"==p[1]?o+(h+"=")+l+"&":o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function x$(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function O$(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=hle(t,n),i==VC){4==e&&(t.o=4,Ks(14),r=!1),pp(t.j,t.m,null,"[Incomplete Response]");break}if(i==RP){t.o=4,Ks(15),pp(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}pp(t.j,t.m,i,null),OP(t,i)}x$(t)&&i!=VC&&i!=RP&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ks(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),BP(e),e.M=!0,Ks(11))):(pp(t.j,t.m,n,"[Invalid Chunked Response]"),Md(t),x_(t))}function hle(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?VC:(n=Number(e.substring(n,r)),isNaN(n)?RP:(r+=1)+n>e.length?VC:(e=e.slice(r,r+n),t.C=r+n,e))}function R_(t){t.Y=Date.now()+t.P,N$(t,t.P)}function N$(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=A_(bs(t.lb,t),e)}function UC(t){t.B&&(jt.clearTimeout(t.B),t.B=null)}function x_(t){0==t.l.H||t.J||a3(t.l,t)}function Md(t){UC(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,TP(t.V),C$(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function OP(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||NP(n.i,t)))if(!t.K&&NP(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;KC(n),qC(n)}UP(n),Ks(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=A_(bs(n.ib,n),6e3));if(1>=z$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else xd(n,11)}else if((t.K||n.g==t)&&KC(n),!w_(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const h=l[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const p=l[4];null!=p&&(n.Ga=p,n.l.info("SVER="+n.Ga));const v=l[5];null!=v&&"number"==typeof v&&0<v&&(n.L=r=1.5*v,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const C=t.g;if(C){const S=C.g?C.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var s=r.i;s.g||-1==S.indexOf("spdy")&&-1==S.indexOf("quic")&&-1==S.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(kP(s,s.h),s.h=null))}if(r.F){const x=C.g?C.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.Da=x,mr(r.I,r.F,x))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=c3(r,r.J?r.pa:null,r.Y),o.K){W$(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(UC(a),R_(a)),r.g=o}else s3(r);0<n.j.length&&GC(n)}else"stop"!=l[0]&&"close"!=l[0]||xd(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?xd(n,7):VP(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}D_()}catch{}}function k$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(DC(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function ple(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(DC(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function fle(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(DC(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(Ge=M_.prototype).setTimeout=function(t){this.P=t},Ge.nb=function(t){t=t.target;const e=this.M;e&&3==hu(t)?e.l():this.Pa(t)},Ge.Pa=function(t){try{if(t==this.g)e:{const h=hu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||uP||this.g&&(this.h.h||this.g.ja()||J$(this.g)))){this.J||4!=h||7==e||D_(),UC(this);var n=this.g.da();this.ca=n;t:if(x$(this)){var r=J$(this.g);t="";var i=r.length,s=4==hu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Md(this),x_(this);var o="";break t}this.h.i=new jt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function ule(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w_(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Ks(12),Md(this),x_(this);break e}pp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,OP(this,n)}this.S?(O$(this,h,o),uP&&this.i&&3==h&&(w$(this.U,this.V,"tick",this.mb),this.V.start())):(pp(this.j,this.m,o,null),OP(this,o)),4==h&&Md(this),this.i&&!this.J&&(4==h?a3(this.l,this):(this.i=!1,R_(this)))}else(function xle(t){const e={};t=(t.g&&2<=hu(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(w_(t[r]))continue;var n=rle(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Zue(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Ks(12)):(this.o=0,Ks(13)),Md(this),x_(this)}}}catch{}},Ge.mb=function(){if(this.g){var t=hu(this.g),e=this.g.ja();this.C<e.length&&(UC(this),O$(this,t,e),this.i&&4!=t&&R_(this))}},Ge.cancel=function(){this.J=!0,Md(this)},Ge.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function lle(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(D_(),Ks(17)),Md(this),this.o=2,x_(this)):N$(this,this.Y-t)};var F$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rd(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Rd){this.h=t.h,BC(this,t.j),this.s=t.s,this.g=t.g,jC(this,t.m),this.l=t.l;var e=t.i,n=new k_;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),L$(this,n),this.o=t.o}else t&&(e=String(t).match(F$))?(this.h=!1,BC(this,e[1]||"",!0),this.s=O_(e[2]||""),this.g=O_(e[3]||"",!0),jC(this,e[4]),this.l=O_(e[5]||"",!0),L$(this,e[6]||"",!0),this.o=O_(e[7]||"")):(this.h=!1,this.i=new k_(null,this.h))}function rl(t){return new Rd(t)}function BC(t,e,n){t.j=n?O_(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function jC(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function L$(t,e,n){e instanceof k_?(t.i=e,function wle(t,e){e&&!t.j&&(ec(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(U$(this,r),j$(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=N_(e,vle)),t.i=new k_(e,t.h))}function mr(t,e,n){t.i.set(e,n)}function $C(t){return mr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function O_(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function N_(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,mle),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mle(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rd.prototype.toString=function(){var t=[],e=this.j;e&&t.push(N_(e,V$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(N_(e,V$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(N_(n,"/"==n.charAt(0)?yle:_le,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",N_(n,Ele)),t.join("")};var V$=/[#\/\?@]/g,_le=/[#\?:]/g,yle=/[#\?]/g,vle=/[#\?@]/g,Ele=/#/g;function k_(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ec(t){t.g||(t.g=new Map,t.h=0,t.i&&function gle(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function U$(t,e){ec(t),e=gp(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function B$(t,e){return ec(t),e=gp(t,e),t.g.has(e)}function j$(t,e,n){U$(t,e),0<n.length&&(t.i=null,t.g.set(gp(t,e),oP(n)),t.h+=n.length)}function gp(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Ge=k_.prototype).add=function(t,e){ec(this),this.i=null,t=gp(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ge.forEach=function(t,e){ec(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ge.ta=function(){ec(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},Ge.Z=function(t){ec(this);let e=[];if("string"==typeof t)B$(this,t)&&(e=e.concat(this.g.get(gp(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ge.set=function(t,e){return ec(this),this.i=null,B$(this,t=gp(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ge.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Cle=class{constructor(t,e){this.g=t,this.map=e}};function $$(t){this.l=t||Ile,t=jt.PerformanceNavigationTiming?0<(t=jt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(jt.g&&jt.g.Ka&&jt.g.Ka()&&jt.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ile=10;function H$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function z$(t){return t.h?1:t.g?t.g.size:0}function NP(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function kP(t,e){t.g?t.g.add(e):t.h=e}function W$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function q$(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return oP(t.i)}$$.prototype.cancel=function(){if(this.i=q$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ble=class{stringify(t){return jt.JSON.stringify(t,void 0)}parse(t){return jt.JSON.parse(t,void 0)}};function Tle(){this.g=new ble}function Sle(t,e,n){const r=n||"";try{k$(t,function(i,s){let o=i;E_(i)&&(o=IP(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function HC(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function F_(t){this.l=t.ec||null,this.j=t.ob||!1}function zC(t,e){Bi.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=FP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ui(F_,DP),F_.prototype.g=function(){return new zC(this.l,this.j)},F_.prototype.i=function(t){return function(){return t}}({}),Ui(zC,Bi);var FP=0;function G$(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function L_(t){t.readyState=4,t.l=null,t.j=null,t.A=null,V_(t)}function V_(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ge=zC.prototype).open=function(t,e){if(this.readyState!=FP)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,V_(this)},Ge.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||jt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,L_(this)),this.readyState=FP},Ge.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,V_(this)),this.g&&(this.readyState=3,V_(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;G$(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ge.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?L_(this):V_(this),3==this.readyState&&G$(this)}},Ge.Za=function(t){this.g&&(this.response=this.responseText=t,L_(this))},Ge.Ya=function(t){this.g&&(this.response=t,L_(this))},Ge.ka=function(){this.g&&L_(this)},Ge.setRequestHeader=function(t,e){this.v.append(t,e)},Ge.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ge.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(zC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Ale=jt.JSON.parse;function Xr(t){Bi.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=K$,this.L=this.M=!1}Ui(Xr,Bi);var K$="",Ple=/^https?$/i,Mle=["POST","PUT"];function Q$(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Z$(t),WC(t)}function Z$(t){t.F||(t.F=!0,rs(t,"complete"),rs(t,"error"))}function Y$(t){if(t.h&&typeof iP<"u"&&(!t.C[1]||4!=hu(t)||2!=t.da()))if(t.v&&4==hu(t))SP(t.La,0,t);else if(rs(t,"readystatechange"),4==hu(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(F$)[1]||null;!i&&jt.self&&jt.self.location&&(i=jt.self.location.protocol.slice(0,-1)),r=!Ple.test(i?i.toLowerCase():"")}n=r}if(n)rs(t,"complete"),rs(t,"success");else{t.m=6;try{var s=2<hu(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Z$(t)}}finally{WC(t)}}}function WC(t,e){if(t.g){X$(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rs(t,"ready");try{n.onreadystatechange=r}catch{}}}function X$(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(jt.clearTimeout(t.A),t.A=null)}function hu(t){return t.g?t.g.readyState:0}function J$(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case K$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function e3(t){let e="";return pP(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function LP(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=e3(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):mr(t,e,n))}function U_(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function t3(t){this.Ga=0,this.j=[],this.l=new NC,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=U_("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=U_("baseRetryDelayMs",5e3,t),this.hb=U_("retryDelaySeedMs",1e4,t),this.eb=U_("forwardChannelMaxRetries",2,t),this.xa=U_("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $$(t&&t.concurrentRequestLimit),this.Ja=new Tle,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function VP(t){if(n3(t),3==t.H){var e=t.W++,n=rl(t.I);if(mr(n,"SID",t.K),mr(n,"RID",e),mr(n,"TYPE","terminate"),B_(t,n),(e=new M_(t,t.l,e)).L=2,e.v=$C(rl(n)),n=!1,jt.navigator&&jt.navigator.sendBeacon)try{n=jt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&jt.Image&&((new Image).src=e.v,n=!0),n||(e.g=d3(e.l,null),e.g.ha(e.v)),e.G=Date.now(),R_(e)}l3(t)}function qC(t){t.g&&(BP(t),t.g.cancel(),t.g=null)}function n3(t){qC(t),t.u&&(jt.clearTimeout(t.u),t.u=null),KC(t),t.i.cancel(),t.m&&("number"==typeof t.m&&jt.clearTimeout(t.m),t.m=null)}function GC(t){if(!H$(t.i)&&!t.m){t.m=!0;var e=t.Na;b_||y$(),T_||(b_(),T_=!0),bP.add(e,t),t.C=0}}function r3(t,e){var n;n=e?e.m:t.W++;const r=rl(t.I);mr(r,"SID",t.K),mr(r,"RID",n),mr(r,"AID",t.V),B_(t,r),t.o&&t.s&&LP(r,t.o,t.s),n=new M_(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=i3(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),kP(t.i,n),xP(n,r,e)}function B_(t,e){t.na&&pP(t.na,function(n,r){mr(e,r,n)}),t.h&&k$({},function(n,r){mr(e,r,n)})}function i3(t,e,n){n=Math.min(t.j.length,n);var r=t.h?bs(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const h=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{Sle(h,o,"req"+l+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function s3(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;b_||y$(),T_||(b_(),T_=!0),bP.add(e,t),t.A=0}}function UP(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=A_(bs(t.Ma,t),u3(t,t.A)),t.A++,0))}function BP(t){null!=t.B&&(jt.clearTimeout(t.B),t.B=null)}function o3(t){t.g=new M_(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=rl(t.wa);mr(e,"RID","rpc"),mr(e,"SID",t.K),mr(e,"AID",t.V),mr(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&mr(e,"TO",t.qa),mr(e,"TYPE","xmlhttp"),B_(t,e),t.o&&t.s&&LP(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=$C(rl(e)),n.s=null,n.S=!0,R$(n,t)}function KC(t){null!=t.v&&(jt.clearTimeout(t.v),t.v=null)}function a3(t,e){var n=null;if(t.g==e){KC(t),BP(t),t.g=null;var r=2}else{if(!NP(t.i,e))return;n=e.F,W$(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;rs(r=kC(),new S$(r,n)),GC(t)}else s3(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Ole(t,e){return!(z$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=A_(bs(t.Na,t,e),u3(t,t.C)),t.C++,0)))}(t,e)||2==r&&UP(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:xd(t,5);break;case 4:xd(t,10);break;case 3:xd(t,6);break;default:xd(t,2)}}function u3(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function xd(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=bs(t.pb,t);n||(n=new Rd("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||BC(n,"https"),$C(n)),function Dle(t,e){const n=new NC;if(jt.Image){const r=new Image;r.onload=AC(HC,n,r,"TestLoadImage: loaded",!0,e),r.onerror=AC(HC,n,r,"TestLoadImage: error",!1,e),r.onabort=AC(HC,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=AC(HC,n,r,"TestLoadImage: timeout",!1,e),jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ks(2);t.H=0,t.h&&t.h.za(e),l3(t),n3(t)}function l3(t){if(t.H=0,t.ma=[],t.h){const e=q$(t.i);(0!=e.length||0!=t.j.length)&&(i$(t.ma,e),i$(t.ma,t.j),t.i.i.length=0,oP(t.j),t.j.length=0),t.h.ya()}}function c3(t,e,n){var r=n instanceof Rd?rl(n):new Rd(n);if(""!=r.g)e&&(r.g=e+"."+r.g),jC(r,r.m);else{var i=jt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Rd(null);r&&BC(s,r),e&&(s.g=e),i&&jC(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&mr(r,n,e),mr(r,"VER",t.ra),B_(t,r),r}function d3(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xr(n&&t.Ha&&!t.va?new F_({ob:!0}):t.va)).Oa(t.J),e}function h3(){}function QC(){if(fp&&!(10<=Number(que)))throw Error("Environmental error: no available transport.")}function Mo(t,e){Bi.call(this),this.g=new t3(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!w_(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!w_(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new mp(this)}function f3(t){AP.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function p3(){PP.call(this),this.status=1}function mp(t){this.g=t}function Ra(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function jP(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function $n(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(Ge=Xr.prototype).Oa=function(t){this.M=t},Ge.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():MP.g(),this.C=function A$(t){return t.h||(t.h=t.i())}(this.u?this.u:MP),this.g.onreadystatechange=bs(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void Q$(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=jt.FormData&&t instanceof jt.FormData,!(0<=r$(Mle,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{X$(this),0<this.B&&((this.L=function Rle(t){return fp&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bs(this.ua,this)):this.A=SP(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Q$(this,s)}},Ge.ua=function(){typeof iP<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rs(this,"timeout"),this.abort(8))},Ge.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rs(this,"complete"),rs(this,"abort"),WC(this))},Ge.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),WC(this,!0)),Xr.$.N.call(this)},Ge.La=function(){this.s||(this.G||this.v||this.l?Y$(this):this.kb())},Ge.kb=function(){Y$(this)},Ge.isActive=function(){return!!this.g},Ge.da=function(){try{return 2<hu(this)?this.g.status:-1}catch{return-1}},Ge.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ge.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ale(e)}},Ge.Ia=function(){return this.m},Ge.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ge=t3.prototype).ra=8,Ge.H=1,Ge.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new M_(this,this.l,t);let s=this.s;if(this.U&&(s?(s=l$(s),d$(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=i3(this,i,e),mr(n=rl(this.I),"RID",t),mr(n,"CVER",22),this.F&&mr(n,"X-HTTP-Session-Id",this.F),B_(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(e3(s)))+"&"+e:this.o&&LP(n,this.o,s)),kP(this.i,i),this.bb&&mr(n,"TYPE","init"),this.P?(mr(n,"$req",e),mr(n,"SID","null"),i.aa=!0,xP(i,n,null)):xP(i,n,e),this.H=2}}else 3==this.H&&(t?r3(this,t):0==this.j.length||H$(this.i)||r3(this))},Ge.Ma=function(){if(this.u=null,o3(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=A_(bs(this.jb,this),t)}},Ge.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ks(10),qC(this),o3(this))},Ge.ib=function(){null!=this.v&&(this.v=null,qC(this),UP(this),Ks(19))},Ge.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ks(2)):(this.l.info("Failed to ping google.com"),Ks(1))},Ge.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ge=h3.prototype).Ba=function(){},Ge.Aa=function(){},Ge.za=function(){},Ge.ya=function(){},Ge.isActive=function(){return!0},Ge.Va=function(){},QC.prototype.g=function(t,e){return new Mo(t,e)},Ui(Mo,Bi),Mo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ks(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=c3(t,null,t.Y),GC(t)},Mo.prototype.close=function(){VP(this.g)},Mo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=IP(t),t=n);e.j.push(new Cle(e.fb++,t)),3==e.H&&GC(e)},Mo.prototype.N=function(){this.g.h=null,delete this.j,VP(this.g),delete this.g,Mo.$.N.call(this)},Ui(f3,AP),Ui(p3,PP),Ui(mp,h3),mp.prototype.Ba=function(){rs(this.g,"a")},mp.prototype.Aa=function(t){rs(this.g,new f3(t))},mp.prototype.za=function(t){rs(this.g,new p3)},mp.prototype.ya=function(){rs(this.g,"b")},Ui(Ra,function Nle(){this.blockSize=-1}),Ra.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ra.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)jP(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){jP(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){jP(this,r),i=0;break}}this.h=i,this.i+=e},Ra.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var kle={};function $P(t){return-128<=t&&128>t?function Hue(t,e){var n=kle;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new $n([0|e],0>e?-1:0)}):new $n([0|t],0>t?-1:0)}function fu(t){if(isNaN(t)||!isFinite(t))return _p;if(0>t)return is(fu(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=HP;return new $n(e,0)}var HP=4294967296,_p=$P(0),zP=$P(1),m3=$P(16777216);function il(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function ra(t){return-1==t.h}function is(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new $n(n,~t.h).add(zP)}function ZC(t,e){return t.add(is(e))}function YC(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function j_(t,e){this.g=t,this.h=e}function XC(t,e){if(il(e))throw Error("division by zero");if(il(t))return new j_(_p,_p);if(ra(t))return e=XC(is(t),e),new j_(is(e.g),is(e.h));if(ra(e))return e=XC(t,is(e)),new j_(is(e.g),e.h);if(30<t.g.length){if(ra(t)||ra(e))throw Error("slowDivide_ only works with positive integers.");for(var n=zP,r=e;0>=r.X(t);)n=_3(n),r=_3(r);var i=yp(n,1),s=yp(r,1);for(r=yp(r,2),n=yp(n,2);!il(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=yp(r,1),n=yp(n,1)}return e=ZC(t,i.R(e)),new j_(i,e)}for(i=_p;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=fu(n)).R(e);ra(o)||0<o.X(t);)o=(s=fu(n-=r)).R(e);il(s)&&(s=zP),i=i.add(s),t=ZC(t,o)}return new j_(i,t)}function _3(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new $n(n,t.h)}function yp(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new $n(i,t.h)}(Ge=$n.prototype).ea=function(){if(ra(this))return-is(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:HP+r)*e,e*=HP}return t},Ge.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(il(this))return"0";if(ra(this))return"-"+is(this).toString(t);for(var e=fu(Math.pow(t,6)),n=this,r="";;){var i=XC(n,e).g,s=((0<(n=ZC(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(il(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ge.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ge.X=function(t){return ra(t=ZC(this,t))?-1:il(t)?0:1},Ge.abs=function(){return ra(this)?is(this):this},Ge.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new $n(n,-2147483648&n[n.length-1]?-1:0)},Ge.R=function(t){if(il(this)||il(t))return _p;if(ra(this))return ra(t)?is(this).R(is(t)):is(is(this).R(t));if(ra(t))return is(this.R(is(t)));if(0>this.X(m3)&&0>t.X(m3))return fu(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,YC(n,2*r+2*i),n[2*r+2*i+1]+=s*u,YC(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,YC(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,YC(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new $n(n,0)},Ge.gb=function(t){return XC(this,t).h},Ge.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new $n(n,this.h&t.h)},Ge.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new $n(n,this.h|t.h)},Ge.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new $n(n,this.h^t.h)},QC.prototype.createWebChannel=QC.prototype.g,Mo.prototype.send=Mo.prototype.u,Mo.prototype.open=Mo.prototype.m,Mo.prototype.close=Mo.prototype.close,FC.NO_ERROR=0,FC.TIMEOUT=8,FC.HTTP_ERROR=6,D$.COMPLETE="complete",P$.EventType=P_,P_.OPEN="a",P_.CLOSE="b",P_.ERROR="c",P_.MESSAGE="d",Bi.prototype.listen=Bi.prototype.O,Xr.prototype.listenOnce=Xr.prototype.P,Xr.prototype.getLastError=Xr.prototype.Sa,Xr.prototype.getLastErrorCode=Xr.prototype.Ia,Xr.prototype.getStatus=Xr.prototype.da,Xr.prototype.getResponseJson=Xr.prototype.Wa,Xr.prototype.getResponseText=Xr.prototype.ja,Xr.prototype.send=Xr.prototype.ha,Xr.prototype.setWithCredentials=Xr.prototype.Oa,Ra.prototype.digest=Ra.prototype.l,Ra.prototype.reset=Ra.prototype.reset,Ra.prototype.update=Ra.prototype.j,$n.prototype.add=$n.prototype.add,$n.prototype.multiply=$n.prototype.R,$n.prototype.modulo=$n.prototype.gb,$n.prototype.compare=$n.prototype.X,$n.prototype.toNumber=$n.prototype.ea,$n.prototype.toString=$n.prototype.toString,$n.prototype.getBits=$n.prototype.D,$n.fromNumber=fu,$n.fromString=function g3(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return is(g3(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=fu(Math.pow(e,8)),r=_p,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=fu(Math.pow(e,s)),r=r.R(s).add(fu(o))):r=(r=r.R(n)).add(fu(o))}return r};var Fle=Ma.createWebChannelTransport=function(){return new QC},Lle=Ma.getStatEventTarget=function(){return kC()},WP=Ma.ErrorCode=FC,Vle=Ma.EventType=D$,Ule=Ma.Event=Pd,y3=Ma.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ble=Ma.FetchXmlHttpFactory=F_,JC=Ma.WebChannel=P$,jle=Ma.XhrIo=Xr,$le=Ma.Md5=Ra,vp=Ma.Integer=$n;const v3="@firebase/firestore";class ji{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ji.UNAUTHENTICATED=new ji(null),ji.GOOGLE_CREDENTIALS=new ji("google-credentials-uid"),ji.FIRST_PARTY=new ji("first-party-uid"),ji.MOCK_USER=new ji("mock-user");let Ep="10.5.2";const tc=new Po.Yd("@firebase/firestore");function wp(){return tc.logLevel}function xe(t,...e){if(tc.logLevel<=Po.in.DEBUG){const n=e.map(qP);tc.debug(`Firestore (${Ep}): ${t}`,...n)}}function ai(t,...e){if(tc.logLevel<=Po.in.ERROR){const n=e.map(qP);tc.error(`Firestore (${Ep}): ${t}`,...n)}}function fo(t,...e){if(tc.logLevel<=Po.in.WARN){const n=e.map(qP);tc.warn(`Firestore (${Ep}): ${t}`,...n)}}function qP(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Xe(t="Unexpected state"){const e=`FIRESTORE (${Ep}) INTERNAL ASSERTION FAILED: `+t;throw ai(e),new Error(e)}function ct(t,e){t||Xe()}function He(t,e){return t}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends O.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class E3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ji.UNAUTHENTICATED))}shutdown(){}}class qle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Gle{constructor(e){this.t=e,this.currentUser=ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mi,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable((0,Ce.Z)(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct("string"==typeof r.accessToken),new E3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ct(null===e||"string"==typeof e),new ji(e)}}class Kle{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ji.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Qle{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Kle(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ji.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zle{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct("string"==typeof n.token),this.R=n.token,new w3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Yle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class C3{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Yle(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Ut(t,e){return t<e?-1:t>e?1:0}function Cp(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function I3(t){return t+"\0"}class Mr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mr.fromMillis(Date.now())}static fromDate(e){return Mr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ht(e)}static min(){return new ht(new Mr(0,0))}static max(){return new ht(new Mr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $_{constructor(e,n,r){void 0===n?n=0:n>e.length&&Xe(),void 0===r?r=e.length-n:r>e.length-n&&Xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===$_.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $_?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class bn extends $_{construct(e,n,r){return new bn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new bn(n)}static emptyPath(){return new bn([])}}const Xle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends $_{construct(e,n,r){return new _r(e,n,r)}static isValidIdentifier(e){return Xle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Pe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Pe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Pe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Pe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(n)}static emptyPath(){return new _r([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(bn.fromString(e))}static fromName(e){return new We(bn.fromString(e).popFirst(5))}static empty(){return new We(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return bn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new bn(e.slice()))}}class Ip{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function GP(t){return t.fields.find(e=>2===e.kind)}function Od(t){return t.fields.filter(e=>2!==e.kind)}Ip.UNKNOWN_ID=-1;class Nd{constructor(e,n){this.fieldPath=e,this.kind=n}}class bp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new bp(0,Ro.min())}}function b3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ht.fromTimestamp(1e9===r?new Mr(n+1,0):new Mr(n,r));return new Ro(i,We.empty(),e)}function T3(t){return new Ro(t.readTime,t.key,-1)}class Ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ro(ht.min(),We.empty(),-1)}static max(){return new Ro(ht.max(),We.empty(),-1)}}function KP(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=We.comparator(t.documentKey,e.documentKey),0!==n?n:Ut(t.largestBatchId,e.largestBatchId))}const S3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function nc(t){return QP.apply(this,arguments)}function QP(){return QP=(0,Ce.Z)(function*(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==S3)throw t;xe("LocalStore","Unexpectedly lost primary lease")}),QP.apply(this,arguments)}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(i=>i?ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new ie((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}class eI{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Mi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new H_(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=ZP(r.target.error);this.V.reject(new H_(e,i))}}static open(e,n,r,i){try{return new eI(n,e.transaction(i,r))}catch(s){throw new H_(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new nce(n)}}class xa{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===xa.S((0,O.z$)())&&ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return xe("SimpleDb","Removing database:",e),kd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,O.hl)())return!1;if(xa.C())return!0;const e=(0,O.z$)(),n=xa.S(e),r=0<n&&n<10,i=xa.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,Ce.Z)(function*(){return n.db||(xe("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const s=indexedDB.open(n.name,n.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new H_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new Pe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Pe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new H_(e,a))},s.onupgradeneeded=o=>{xe("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',o.oldVersion),n.p.N(o.target.result,s.transaction,o.oldVersion,n.version).next(()=>{xe("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var s=this;return(0,Ce.Z)(function*(){const o="readonly"===n;let a=0;for(;;){++a;try{s.db=yield s.O(e);const u=eI.open(s.db,e,o?"readonly":"readwrite",r),l=i(u).next(h=>(u.g(),h)).catch(h=>(u.abort(h),ie.reject(h))).toPromise();return l.catch(()=>{}),yield u.m,l}catch(u){const l=u,h="FirebaseError"!==l.name&&a<3;if(xe("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),s.close(),!h)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class tce{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return kd(this.k.delete())}}class H_ extends Pe{constructor(e,n){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function rc(t){return"IndexedDbTransactionError"===t.name}class nce{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(xe("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),kd(r)}add(e){return xe("SimpleDb","ADD",this.store.name,e,e),kd(this.store.add(e))}get(e){return kd(this.store.get(e)).next(n=>(void 0===n&&(n=null),xe("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return xe("SimpleDb","DELETE",this.store.name,e),kd(this.store.delete(e))}count(){return xe("SimpleDb","COUNT",this.store.name),kd(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new ie((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new ie((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){xe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new ie((r,i)=>{n.onerror=s=>{const o=ZP(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new ie((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new tce(a),l=n(a.primaryKey,a.value,u);if(l instanceof ie){const h=l.catch(p=>(u.done(),ie.reject(p)));r.push(h)}u.isDone?i():null===u.$?a.continue():a.continue(u.$)}}).next(()=>ie.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function kd(t){return new ie((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=ZP(r.target.error);n(i)}})}let A3=!1;function ZP(t){const e=xa.S((0,O.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return A3||(A3=!0,setTimeout(()=>{throw r},0)),r}}return t}class rce{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;xe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ce.Z)(function*(){n.task=null;try{xe("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(r){rc(r)?xe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield nc(r)}yield n.ee(6e4)}))}}class ice{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,Ce.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,s=!0;return ie.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return xe("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(xe("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=T3(s);KP(o,r)>0&&(r=o)}),new Ro(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let xo=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function z_(t){return null==t}function W_(t){return 0===t&&1/t==-1/0}function P3(t){return"number"==typeof t&&Number.isInteger(t)&&!W_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ss(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=M3(e)),e=sce(t.get(n),e);return M3(e)}function sce(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function M3(t){return t+"\x01\x01"}function pu(t){const e=t.length;if(ct(e>=2),2===e)return ct("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),bn.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("\x01",s);switch((o<0||o>n)&&Xe(),t.charAt(o+1)){case"\x01":const a=t.substring(s,o);let u;0===i.length?u=a:(i+=a,u=i,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Xe()}s=o+2}return new bn(r)}const R3=["userId","batchId"];function tI(t,e){return[t,Ss(e)]}function x3(t,e,n){return[t,Ss(e),n]}const oce={},ace=["prefixPath","collectionGroup","readTime","documentId"],uce=["prefixPath","collectionGroup","documentId"],lce=["collectionGroup","readTime","prefixPath","documentId"],cce=["canonicalId","targetId"],dce=["targetId","path"],hce=["path","targetId"],fce=["collectionId","parent"],pce=["indexId","uid"],gce=["uid","sequenceNumber"],mce=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],_ce=["indexId","uid","orderedDocumentKey"],yce=["userId","collectionPath","documentId"],vce=["userId","collectionPath","largestBatchId"],Ece=["userId","collectionGroup","largestBatchId"],O3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wce=[...O3,"documentOverlays"],N3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],k3=N3,Cce=[...k3,"indexConfiguration","indexState","indexEntries"];class YP extends D3{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function $i(t,e){const n=He(t);return xa.M(n.ae,e)}function F3(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ic(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function L3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class lr{constructor(e,n){this.comparator=e,this.root=n||ss.EMPTY}insert(e,n){return new lr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ss.BLACK,null,null))}remove(e){return new lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ss.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nI(this.root,e,this.comparator,!1)}getReverseIterator(){return new nI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nI(this.root,e,this.comparator,!0)}}class nI{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ss{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ss.RED,this.left=i??ss.EMPTY,this.right=s??ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ss(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return ss.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}ss.EMPTY=null,ss.RED=!0,ss.BLACK=!1,ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ss(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kn{constructor(e){this.comparator=e,this.data=new lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V3(this.data.getIterator())}getIteratorFrom(e){return new V3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kn(this.comparator);return n.data=e,n}}class V3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tp(t){return t.hasNext()?t.getNext():void 0}class po{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new po([])}unionWith(e){let n=new Kn(_r.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new po(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cp(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class U3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ri{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new U3("Invalid base64 string: "+s):s}}(e);return new Ri(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ri(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ri.EMPTY_BYTE_STRING=new Ri("");const bce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sc(t){if(ct(!!t),"string"==typeof t){let e=0;const n=bce.exec(t);if(ct(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jr(t.seconds),nanos:Jr(t.nanos)}}function Jr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function sl(t){return"string"==typeof t?Ri.fromBase64String(t):Ri.fromUint8Array(t)}function rI(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function iI(t){const e=t.mapValue.fields.__previous_value__;return rI(e)?iI(e):e}function q_(t){const e=sc(t.mapValue.fields.__local_write_time__.timestampValue);return new Mr(e.seconds,e.nanos)}class Tce{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class oc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}const ac={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sI={nullValue:"NULL_VALUE"};function uc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rI(t)?4:H3(t)?9007199254740991:10:Xe()}function gu(t,e){if(t===e)return!0;const n=uc(t);if(n!==uc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return q_(t).isEqual(q_(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=sc(i.timestampValue),a=sc(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,sl(t.bytesValue).isEqual(sl(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Jr(i.geoPointValue.latitude)===Jr(s.geoPointValue.latitude)&&Jr(i.geoPointValue.longitude)===Jr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Jr(i.integerValue)===Jr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Jr(i.doubleValue),a=Jr(s.doubleValue);return o===a?W_(o)===W_(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Cp(t.arrayValue.values||[],e.arrayValue.values||[],gu);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(F3(o)!==F3(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!gu(o[u],a[u])))return!1;return!0}(t,e);default:return Xe()}var s}function G_(t,e){return void 0!==(t.values||[]).find(n=>gu(n,e))}function lc(t,e){if(t===e)return 0;const n=uc(t),r=uc(e);if(n!==r)return Ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Jr(s.integerValue||s.doubleValue),u=Jr(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return B3(t.timestampValue,e.timestampValue);case 4:return B3(q_(t),q_(e));case 5:return Ut(t.stringValue,e.stringValue);case 6:return function(s,o){const a=sl(s),u=sl(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const h=Ut(a[l],u[l]);if(0!==h)return h}return Ut(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ut(Jr(s.latitude),Jr(o.latitude));return 0!==a?a:Ut(Jr(s.longitude),Jr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const h=lc(a[l],u[l]);if(h)return h}return Ut(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ac.mapValue&&o===ac.mapValue)return 0;if(s===ac.mapValue)return 1;if(o===ac.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const v=Ut(u[p],h[p]);if(0!==v)return v;const C=lc(a[u[p]],l[h[p]]);if(0!==C)return C}return Ut(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function B3(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ut(t,e);const n=sc(t),r=sc(e),i=Ut(n.seconds,r.seconds);return 0!==i?i:Ut(n.nanos,r.nanos)}function Sp(t){return XP(t)}function XP(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=sc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?sl(t.bytesValue).toBase64():"referenceValue"in t?We.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=XP(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${XP(n.fields[o])}`;return i+"}"}(t.mapValue):Xe()}function Fd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function JP(t){return!!t&&"integerValue"in t}function K_(t){return!!t&&"arrayValue"in t}function j3(t){return!!t&&"nullValue"in t}function $3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function aI(t){return!!t&&"mapValue"in t}function Q_(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ic(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Q_(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Q_(t.arrayValue.values[n]);return e}return Object.assign({},t)}function H3(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function Sce(t){return"nullValue"in t?sI:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Fd(oc.empty(),We.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Xe()}function Dce(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Fd(oc.empty(),We.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?ac:Xe()}function z3(t,e){const n=lc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function W3(t,e){const n=lc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!aI(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Q_(n)}setAll(e){let n=_r.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Q_(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());aI(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];aI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ic(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new os(Q_(this.value))}}function q3(t){const e=[];return ic(t.fields,(n,r)=>{const i=new _r([n]);if(aI(r)){const s=q3(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new po(e)}class yr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yr(e,0,ht.min(),ht.min(),ht.min(),os.empty(),0)}static newFoundDocument(e,n,r,i){return new yr(e,1,n,ht.min(),r,i,0)}static newNoDocument(e,n){return new yr(e,2,n,ht.min(),ht.min(),os.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,ht.min(),ht.min(),os.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ht.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cc{constructor(e,n){this.position=e,this.inclusive=n}}function G3(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?We.comparator(We.fromName(o.referenceValue),n.key):lc(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function K3(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gu(t.position[n],e.position[n]))return!1;return!0}class Z_{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ace(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Q3{}class mn extends Q3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Pce(e,n,r):"array-contains"===n?new xce(e,r):"in"===n?new tH(e,r):"not-in"===n?new Oce(e,r):"array-contains-any"===n?new Nce(e,r):new mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Mce(e,r):new Rce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(lc(n,this.value)):null!==n&&uc(this.value)===uc(n)&&this.matchesComparison(lc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends Q3{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Hn(e,n)}matches(e){return Dp(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Dp(t){return"and"===t.op}function eM(t){return"or"===t.op}function tM(t){return Z3(t)&&Dp(t)}function Z3(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function nM(t){if(t instanceof mn)return t.field.canonicalString()+t.op.toString()+Sp(t.value);if(tM(t))return t.filters.map(e=>nM(e)).join(",");{const e=t.filters.map(n=>nM(n)).join(",");return`${t.op}(${e})`}}function Y3(t,e){return t instanceof mn?(r=t,(i=e)instanceof mn&&r.op===i.op&&r.field.isEqual(i.field)&&gu(r.value,i.value)):t instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&Y3(o,i.filters[a]),!0)}(t,e):void Xe();var r,i}function X3(t,e){const n=t.filters.concat(e);return Hn.create(n,t.op)}function J3(t){return t instanceof mn?`${(n=t).field.canonicalString()} ${n.op} ${Sp(n.value)}`:t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(J3).join(" ,")+"}"}(t):"Filter";var n}class Pce extends mn{constructor(e,n,r){super(e,n,r),this.key=We.fromName(r.referenceValue)}matches(e){const n=We.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mce extends mn{constructor(e,n){super(e,"in",n),this.keys=eH(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Rce extends mn{constructor(e,n){super(e,"not-in",n),this.keys=eH(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eH(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>We.fromName(r.referenceValue))}class xce extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return K_(n)&&G_(n.arrayValue,this.value)}}class tH extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&G_(this.value.arrayValue,n)}}class Oce extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(G_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!G_(this.value.arrayValue,n)}}class Nce extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!K_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>G_(this.value.arrayValue,r))}}class kce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function rM(t,e=null,n=[],r=[],i=null,s=null,o=null){return new kce(t,e,n,r,i,s,o)}function Ld(t){const e=He(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>nM(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),z_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sp(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sp(r)).join(",")),e.ce=n}return e.ce}function Y_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ace(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Y3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!K3(t.startAt,e.startAt)&&K3(t.endAt,e.endAt)}function uI(t){return We.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function lI(t,e){return t.filters.filter(n=>n instanceof mn&&n.field.isEqual(e))}function nH(t,e,n){let r=sI,i=!0;for(const s of lI(t,e)){let o=sI,a=!0;switch(s.op){case"<":case"<=":o=Sce(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=sI}z3({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];z3({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}return{value:r,inclusive:i}}function rH(t,e,n){let r=ac,i=!0;for(const s of lI(t,e)){let o=ac,a=!0;switch(s.op){case">=":case">":o=Dce(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=ac}W3({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];W3({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}return{value:r,inclusive:i}}class ol{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function iH(t,e,n,r,i,s,o,a){return new ol(t,e,n,r,i,s,o,a)}function Ap(t){return new ol(t)}function sH(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function iM(t){return null!==t.collectionGroup}function Pp(t){const e=He(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Kn(_r.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Z_(s,r))}),n.has(_r.keyField().canonicalString())||e.le.push(new Z_(_r.keyField(),r))}return e.le}function Qs(t){const e=He(t);return e.he||(e.he=function oH(t,e){if("F"===t.limitType)return rM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Z_(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new cc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cc(t.startAt.position,t.startAt.inclusive):null;return rM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Pp(t))),e.he}function sM(t,e){const n=t.filters.concat([e]);return new ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cI(t,e,n){return new ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function X_(t,e){return Y_(Qs(t),Qs(e))&&t.limitType===e.limitType}function aH(t){return`${Ld(Qs(t))}|lt:${t.limitType}`}function Mp(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>J3(i)).join(", ")}]`),z_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Sp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Sp(i)).join(",")),`Target(${r})`}(Qs(t))}; limitType=${t.limitType})`}function J_(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):We.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Pp(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,u){const l=G3(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Pp(r),i)||r.endAt&&!function(o,a,u){const l=G3(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Pp(r),i)));var r,i}function uH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lH(t){return(e,n)=>{let r=!1;for(const i of Pp(t)){const s=Fce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Fce(t,e,n){const r=t.field.isKeyField()?We.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return null!==u&&null!==l?lc(u,l):Xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}class al{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ic(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return L3(this.inner)}size(){return this.innerSize}}const Lce=new lr(We.comparator);function go(){return Lce}const cH=new lr(We.comparator);function ey(...t){let e=cH;for(const n of t)e=e.insert(n.key,n);return e}function dH(t){let e=cH;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mu(){return ty()}function hH(){return ty()}function ty(){return new al(t=>t.toString(),(t,e)=>t.isEqual(e))}const Vce=new lr(We.comparator),Uce=new Kn(We.comparator);function Zt(...t){let e=Uce;for(const n of t)e=e.add(n);return e}const Bce=new Kn(Ut);function oM(){return Bce}function fH(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:W_(e)?"-0":e}}function pH(t){return{integerValue:""+t}}function gH(t,e){return P3(e)?pH(e):fH(t,e)}class dI{constructor(){this._=void 0}}function jce(t,e,n){return t instanceof Rp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&rI(s)&&(s=iI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Vd?_H(t,e):t instanceof Ud?yH(t,e):function(i,s){const o=mH(i,s),a=vH(o)+vH(i.Ie);return JP(o)&&JP(i.Ie)?pH(a):fH(i.serializer,a)}(t,e)}function $ce(t,e,n){return t instanceof Vd?_H(t,e):t instanceof Ud?yH(t,e):n}function mH(t,e){return t instanceof xp?JP(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Rp extends dI{}class Vd extends dI{constructor(e){super(),this.elements=e}}function _H(t,e){const n=EH(e);for(const r of t.elements)n.some(i=>gu(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ud extends dI{constructor(e){super(),this.elements=e}}function yH(t,e){let n=EH(e);for(const r of t.elements)n=n.filter(i=>!gu(i,r));return{arrayValue:{values:n}}}class xp extends dI{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function vH(t){return Jr(t.integerValue||t.doubleValue)}function EH(t){return K_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ny{constructor(e,n){this.field=e,this.transform=n}}class zce{constructor(e,n){this.version=e,this.transformResults=n}}class Rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hI(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class fI{}function wH(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Np(t.key,Rr.none()):new Op(t.key,t.data,Rr.none());{const n=t.data,r=os.empty();let i=new Kn(_r.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ul(t.key,r,new po(i.toArray()),Rr.none())}}function Wce(t,e,n){t instanceof Op?function(i,s,o){const a=i.value.clone(),u=bH(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ul?function(i,s,o){if(!hI(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=bH(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(IH(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ry(t,e,n,r){return t instanceof Op?function(s,o,a,u){if(!hI(s.precondition,o))return a;const l=s.value.clone(),h=TH(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ul?function(s,o,a,u){if(!hI(s.precondition,o))return a;const l=TH(s.fieldTransforms,u,o),h=o.data;return h.setAll(IH(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):(a=n,hI(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function qce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=mH(r.transform,i||null);null!=s&&(null===n&&(n=os.empty()),n.set(r.field,s))}return n||null}function CH(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Cp(r,i,(s,o)=>function Hce(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Vd&&i instanceof Vd||r instanceof Ud&&i instanceof Ud?Cp(r.elements,i.elements,gu):r instanceof xp&&i instanceof xp?gu(r.Ie,i.Ie):r instanceof Rp&&i instanceof Rp);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class Op extends fI{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ul extends fI{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function IH(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bH(t,e,n){const r=new Map;ct(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$ce(o,a,n[i]))}return r}function TH(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,jce(s,o,e))}return r}class Np extends fI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aM extends fI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Wce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ry(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ry(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hH();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=wH(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ht.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Zt())}isEqual(e){return this.batchId===e.batchId&&Cp(this.mutations,e.mutations,(n,r)=>CH(n,r))&&Cp(this.baseMutations,e.baseMutations,(n,r)=>CH(n,r))}}class lM{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ct(e.mutations.length===r.length);let i=Vce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new lM(e,n,r,i)}}class cM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Kce{constructor(e,n){this.count=e,this.unchangedNames=n}}var _i,Tn;function SH(t){switch(t){default:return Xe();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function DH(t){if(void 0===t)return ai("GRPC error has no .code"),pe.UNKNOWN;switch(t){case _i.OK:return pe.OK;case _i.CANCELLED:return pe.CANCELLED;case _i.UNKNOWN:return pe.UNKNOWN;case _i.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case _i.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case _i.INTERNAL:return pe.INTERNAL;case _i.UNAVAILABLE:return pe.UNAVAILABLE;case _i.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case _i.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case _i.NOT_FOUND:return pe.NOT_FOUND;case _i.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case _i.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case _i.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case _i.ABORTED:return pe.ABORTED;case _i.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case _i.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case _i.DATA_LOSS:return pe.DATA_LOSS;default:return Xe()}}(Tn=_i||(_i={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";function AH(){return new TextEncoder}const Qce=new vp([4294967295,4294967295],0);function PH(t){const e=AH().encode(t),n=new $le;return n.update(e),new Uint8Array(n.digest())}function MH(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new vp([n,r],0),new vp([i,s],0)]}class dM{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new iy(`Invalid padding: ${n}`);if(r<0)throw new iy(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new iy(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new iy(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=vp.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(vp.fromNumber(r)));return 1===i.compare(Qce)&&(i=new vp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=PH(e),[r,i]=MH(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dM(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=PH(e),[r,i]=MH(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class iy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,oy.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sy(ht.min(),i,new lr(Ut),go(),Zt())}}class oy{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new oy(r,n,Zt(),Zt(),Zt())}}class gI{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class RH{constructor(e,n){this.targetId=e,this.fe=n}}class xH{constructor(e,n,r=Ri.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class OH{constructor(){this.ge=0,this.pe=kH(),this.ye=Ri.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Zt(),n=Zt(),r=Zt();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Xe()}}),new oy(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=kH()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Zce{constructor(e){this.Le=e,this.ke=new Map,this.qe=go(),this.Qe=NH(),this.Ke=new lr(Ut)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(uI(s))if(0===r){const o=new We(s.path);this.We(n,o,yr.newNoDocument(o,ht.min()))}else ct(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;0!==u&&(this.He(n),this.Ke=this.Ke.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=sl(r).toUint8Array()}catch(u){if(u instanceof U3)return fo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new dM(o,i,s)}catch(u){return fo(u instanceof iy?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&uI(a.target)){const u=new We(a.target.path);null!==this.qe.get(u)||this.st(o,u)||this.We(o,u,yr.newNoDocument(u,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Zt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new sy(e,n,this.Ke,this.qe,r);return this.qe=go(),this.Qe=NH(),this.Ke=new lr(Ut),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new OH,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Kn(Ut),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||xe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new OH),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function NH(){return new lr(We.comparator)}function kH(){return new lr(We.comparator)}const Yce={asc:"ASCENDING",desc:"DESCENDING"},Xce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jce={and:"AND",or:"OR"};class ede{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hM(t,e){return t.useProto3Json||z_(e)?e:{value:e}}function kp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FH(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tde(t,e){return kp(t,e.toTimestamp())}function ui(t){return ct(!!t),ht.fromTimestamp(function(n){const r=sc(n);return new Mr(r.seconds,r.nanos)}(t))}function fM(t,e){return(r=t,new bn(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function LH(t){const e=bn.fromString(t);return ct(qH(e)),e}function ay(t,e){return fM(t.databaseId,e.path)}function _u(t,e){const n=LH(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new We(UH(n))}function pM(t,e){return fM(t.databaseId,e)}function VH(t){const e=LH(t);return 4===e.length?bn.emptyPath():UH(e)}function uy(t){return new bn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UH(t){return ct(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function BH(t,e,n){return{name:ay(t,e),fields:n.value.mapValue.fields}}function jH(t,e,n){const r=_u(t,e.name),i=ui(e.updateTime),s=e.createTime?ui(e.createTime):ht.min(),o=new os({mapValue:{fields:e.fields}}),a=yr.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ly(t,e){let n;if(e instanceof Op)n={update:BH(t,e.key,e.value)};else if(e instanceof Np)n={delete:ay(t,e.key)};else if(e instanceof ul)n={update:BH(t,e.key,e.data),updateMask:lde(e.fieldMask)};else{if(!(e instanceof aM))return Xe();n={verify:ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Rp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ud)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xp)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Xe()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:tde(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Xe()),n;var s}function gM(t,e){const n=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Rr.updateTime(ui(s.updateTime)):void 0!==s.exists?Rr.exists(s.exists):Rr.none():Rr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;"setToServerValue"in a?(ct("REQUEST_TIME"===a.setToServerValue),u=new Rp):"appendMissingElements"in a?u=new Vd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Ud(a.removeAllFromArray.values||[]):"increment"in a?u=new xp(o,a.increment):Xe();const l=_r.fromServerFormat(a.fieldPath);return new ny(l,u)}(t,i)):[];var s;if(e.update){const i=_u(t,e.update.name),s=new os({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new po((e.updateMask.fieldPaths||[]).map(h=>_r.fromServerFormat(h)));return new ul(i,s,o,n,r)}return new Op(i,s,n,r)}if(e.delete){const i=_u(t,e.delete);return new Np(i,n)}if(e.verify){const i=_u(t,e.verify);return new aM(i,n)}return Xe()}function $H(t,e){return{documents:[pM(t,e.path)]}}function mM(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=pM(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=pM(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return WH(Hn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:dc((p=l).field),direction:ode(p.dir)};var p})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=hM(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n;var u}function HH(t){let e=VH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ct(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){const v=zH(p);return v instanceof Hn&&tM(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(v=>{return new Z_(Fp((S=v).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let a=null;n.limit&&(a=function(p){let v;return v="object"==typeof p?p.value:p,z_(v)?null:v}(n.limit));let u=null;var p;n.startAt&&(u=new cc((p=n.startAt).values||[],!!p.before));let l=null;return n.endAt&&(l=function(p){return new cc(p.values||[],!p.before)}(n.endAt)),iH(e,i,o,s,a,"F",u,l)}function zH(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fp(n.unaryFilter.field);return mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fp(n.unaryFilter.field);return mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fp(n.unaryFilter.field);return mn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fp(n.unaryFilter.field);return mn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):void 0!==t.fieldFilter?mn.create(Fp((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Hn.create(n.compositeFilter.filters.map(r=>zH(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(n.compositeFilter.op))}(t):Xe();var n}function ode(t){return Yce[t]}function ade(t){return Xce[t]}function ude(t){return Jce[t]}function dc(t){return{fieldPath:t.canonicalString()}}function Fp(t){return _r.fromServerFormat(t.fieldPath)}function WH(t){return t instanceof mn?function(n){if("=="===n.op){if($3(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NAN"}};if(j3(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NULL"}}}else if("!="===n.op){if($3(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NOT_NAN"}};if(j3(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dc(n.field),op:ade(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const r=n.getFilters().map(i=>WH(i));return 1===r.length?r[0]:{compositeFilter:{op:ude(n.op),filters:r}}}(t):Xe()}function lde(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qH(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ll{constructor(e,n,r,i,s=ht.min(),o=ht.min(),a=Ri.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ll(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ll(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class GH{constructor(e){this.ut=e}}function KH(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:mI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:ay(s=t.ut,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:kp(s,o.version.toTimestamp()),createTime:kp(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Bd(e.version)};else{if(!e.isUnknownDocument())return Xe();r.unknownDocument={path:n.path.toArray(),version:Bd(e.version)}}var s,o;return r}function mI(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Bd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function jd(t){const e=new Mr(t.seconds,t.nanoseconds);return ht.fromTimestamp(e)}function $d(t,e){const n=(e.baseMutations||[]).map(s=>gM(t.ut,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>gM(t.ut,s)),i=Mr.fromMillis(e.localWriteTimeMs);return new uM(e.batchId,i,n,r)}function cy(t){const e=jd(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?jd(t.lastLimboFreeSnapshotVersion):ht.min();let r;return r=void 0!==t.query.documents?(ct(1===(s=t.query).documents.length),Qs(Ap(VH(s.documents[0])))):function(s){return Qs(HH(s))}(t.query),new ll(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ri.fromBase64String(t.resumeToken));var s}function QH(t,e){const n=Bd(e.snapshotVersion),r=Bd(e.lastLimboFreeSnapshotVersion);let i;i=uI(e.target)?$H(t.ut,e.target):mM(t.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ld(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function _M(t){const e=HH({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?cI(e,e.limit,"L"):e}function yM(t,e){return new cM(e.largestBatchId,gM(t.ut,e.overlayMutation))}function ZH(t,e){const n=e.path.lastSegment();return[t,Ss(e.path.popLast()),n]}function YH(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Bd(r.readTime),documentKey:Ss(r.documentKey.path),largestBatchId:r.largestBatchId}}class dde{getBundleMetadata(e,n){return XH(e).get(n).next(r=>{if(r)return{id:(s=r).bundleId,createTime:jd(s.createTime),version:s.version};var s})}saveBundleMetadata(e,n){return XH(e).put({bundleId:(i=n).id,createTime:Bd(ui(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return JH(e).get(n).next(r=>{if(r)return{name:(s=r).name,query:_M(s.bundledQuery),readTime:jd(s.readTime)};var s})}saveNamedQuery(e,n){return JH(e).put({name:(i=n).name,readTime:Bd(ui(i.readTime)),bundledQuery:i.bundledQuery});var i}}function XH(t){return $i(t,"bundles")}function JH(t){return $i(t,"namedQueries")}class _I{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new _I(e,n.uid||"")}getOverlay(e,n){return dy(e).get(ZH(this.userId,n)).next(r=>r?yM(this.serializer,r):null)}getOverlays(e,n){const r=mu();return ie.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new cM(n,o);i.push(this.lt(e,a))}),ie.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Ss(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(dy(e).H("collectionPathOverlayIndex",a))}),ie.waitFor(s)}getOverlaysForCollection(e,n,r){const i=mu(),s=Ss(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return dy(e).W("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const l=yM(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=mu();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return dy(e).Y({index:"collectionGroupOverlayIndex",range:a},(u,l,h)=>{const p=yM(this.serializer,l);s.size()<i||p.largestBatchId===o?(s.set(p.getKey(),p),o=p.largestBatchId):h.done()}).next(()=>s)}lt(e,n){return dy(e).put(function(i,s,o){const[a,u,l]=ZH(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:ly(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function dy(t){return $i(t,"documentOverlays")}class Hd{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Jr(e.integerValue));else if("doubleValue"in e){const r=Jr(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),W_(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(sl(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?H3(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Xe()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),We.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function hde(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function e4(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=hde(255&r[s]);if(i+=o,8!==o)break}return i}(t);return Math.ceil(e/8)}Hd.St=new Hd;class fde{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=e4(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=e4(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class pde{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class gde{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class hy{constructor(){this.Wt=new fde,this.Gt=new pde(this.Wt),this.zt=new gde(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class zd{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new zd(this.indexId,this.documentKey,this.arrayValue,r)}}function hc(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=t4(t.arrayValue,e.arrayValue),0!==n?n:(n=t4(t.directionalValue,e.directionalValue),0!==n?n:We.comparator(t.documentKey,e.documentKey)))}function t4(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class n4{constructor(e){this.Jt=new Kn((n,r)=>_r.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(ct(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=GP(e);if(void 0!==n&&!this.tn(n))return!1;const r=Od(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const u=r[s];if(!this.nn(a,u)||!this.rn(this.Yt[o++],u))return!1}++s}for(;s<r.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],r[s]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Kn(_r.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new Nd(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Nd(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Nd(r.field,"asc"===r.dir?0:1)));return new Ip(Ip.UNKNOWN_ID,this.collectionId,n,bp.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function r4(t){var e,n;if(ct(t instanceof mn||t instanceof Hn),t instanceof mn){if(t instanceof tH){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(s=>mn.create(t.field,"==",s)))||[];return Hn.create(i,"or")}return t}const r=t.filters.map(i=>r4(i));return Hn.create(r,t.op)}function mde(t){if(0===t.getFilters().length)return[];const e=wM(r4(t));return ct(i4(e)),vM(e)||EM(e)?[e]:e.getFilters()}function vM(t){return t instanceof mn}function EM(t){return t instanceof Hn&&tM(t)}function i4(t){return vM(t)||EM(t)||function(n){if(n instanceof Hn&&eM(n)){for(const r of n.getFilters())if(!vM(r)&&!EM(r))return!1;return!0}return!1}(t)}function wM(t){if(ct(t instanceof mn||t instanceof Hn),t instanceof mn)return t;if(1===t.filters.length)return wM(t.filters[0]);const e=t.filters.map(r=>wM(r));let n=Hn.create(e,t.op);return n=yI(n),i4(n)?n:(ct(n instanceof Hn),ct(Dp(n)),ct(n.filters.length>1),n.filters.reduce((r,i)=>CM(r,i)))}function CM(t,e){let n;return ct(t instanceof mn||t instanceof Hn),ct(e instanceof mn||e instanceof Hn),n=t instanceof mn?e instanceof mn?Hn.create([t,e],"and"):s4(t,e):e instanceof mn?s4(e,t):function(i,s){if(ct(i.filters.length>0&&s.filters.length>0),Dp(i)&&Dp(s))return X3(i,s.getFilters());const o=eM(i)?i:s,a=eM(i)?s:i,u=o.filters.map(l=>CM(l,a));return Hn.create(u,"or")}(t,e),yI(n)}function s4(t,e){if(Dp(e))return X3(e,t.getFilters());{const n=e.filters.map(r=>CM(t,r));return Hn.create(n,"or")}}function yI(t){if(ct(t instanceof mn||t instanceof Hn),t instanceof mn)return t;const e=t.getFilters();if(1===e.length)return yI(e[0]);if(Z3(t))return t;const n=e.map(i=>yI(i)),r=[];return n.forEach(i=>{i instanceof mn?r.push(i):i instanceof Hn&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Hn.create(r,t.op)}class _de{constructor(){this.on=new IM}addToCollectionParentIndex(e,n){return this.on.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Ro.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class IM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kn(bn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kn(bn.comparator)).toArray()}}const vI=new Uint8Array(0);class yde{constructor(e,n){this.user=e,this.databaseId=n,this._n=new IM,this.an=new al(r=>Ld(r),(r,i)=>Y_(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:Ss(i)};return o4(e).put(s)}return ie.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[I3(n),""],!1,!0);return o4(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(pu(o.parent))}return r})}addFieldIndex(e,n){const r=fy(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete i.indexId;const s=r.add(i);if(n.indexState){const o=Vp(e);return s.next(a=>{o.put(YH(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=fy(e),i=Vp(e),s=Lp(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=fy(e),r=Lp(e),i=Vp(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return ie.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new n4(r).sn();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Lp(e);let i=!0;const s=new Map;return ie.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Zt();const a=[];return ie.forEach(s,(u,l)=>{var re;xe("IndexedDbIndexManager",`Using index ${re=u,`id=${re.indexId}|cg=${re.collectionGroup}|f=${re.fields.map(me=>`${me.fieldPath}:${me.kind}`).join(",")}`} to execute ${Ld(n)}`);const h=function(re,me){const ke=GP(me);if(void 0===ke)return null;for(const Ze of lI(re,ke.fieldPath))switch(Ze.op){case"array-contains-any":return Ze.value.arrayValue.values||[];case"array-contains":return[Ze.value]}return null}(l,u),p=function(re,me){const ke=new Map;for(const Ze of Od(me))for(const $t of lI(re,Ze.fieldPath))switch($t.op){case"==":case"in":ke.set(Ze.fieldPath.canonicalString(),$t.value);break;case"not-in":case"!=":return ke.set(Ze.fieldPath.canonicalString(),$t.value),Array.from(ke.values())}return null}(l,u),v=function(re,me){const ke=[];let Ze=!0;for(const $t of Od(me)){const Qn=0===$t.kind?nH(re,$t.fieldPath,re.startAt):rH(re,$t.fieldPath,re.startAt);ke.push(Qn.value),Ze&&(Ze=Qn.inclusive)}return new cc(ke,Ze)}(l,u),C=function(re,me){const ke=[];let Ze=!0;for(const $t of Od(me)){const Qn=0===$t.kind?rH(re,$t.fieldPath,re.endAt):nH(re,$t.fieldPath,re.endAt);ke.push(Qn.value),Ze&&(Ze=Qn.inclusive)}return new cc(ke,Ze)}(l,u),S=this.ln(u,l,v),x=this.ln(u,l,C),F=this.hn(u,l,p),Z=this.Pn(u.indexId,h,S,v.inclusive,x,C.inclusive,F);return ie.forEach(Z,z=>r.j(z,n.limit).next(re=>{re.forEach(me=>{const ke=We.fromSegments(me.documentKey);o.has(ke)||(o=o.add(ke),a.push(ke))})}))}).next(()=>a)}return ie.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:mde(Hn.create(e.filters,"and")).map(r=>rM(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){const u=(null!=n?n.length:1)*Math.max(r.length,s.length),l=u/(null!=n?n.length:1),h=[];for(let p=0;p<u;++p){const v=n?this.In(n[p/l]):vI,C=this.Tn(e,v,r[p%l],i),S=this.En(e,v,s[p%l],o),x=a.map(F=>this.Tn(e,v,F,!0));h.push(...this.createRange(C,S,x))}return h}Tn(e,n,r,i){const s=new zd(e,We.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){const s=new zd(e,We.empty(),n,r);return i?s.Ht():s}cn(e,n){const r=new n4(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return ie.forEach(i,s=>this.cn(e,s).next(o=>{o?0!==r&&o.fields.length<function(u){let l=new Kn(_r.comparator),h=!1;for(const p of u.filters)for(const v of p.getFlattenedFilters())v.field.isKeyField()||("array-contains"===v.op||"array-contains-any"===v.op?h=!0:l=l.add(v.field));for(const p of u.orderBy)p.field.isKeyField()||(l=l.add(p.field));return l.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}dn(e,n){const r=new hy;for(const i of Od(e)){const s=n.data.field(i.fieldPath);if(null==s)return null;const o=r.jt(i.kind);Hd.St.ht(s,o)}return r.Ut()}In(e){const n=new hy;return Hd.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new hy;return Hd.St.ht(Fd(this.databaseId,n),r.jt(function(s){const o=Od(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(null===r)return[];let i=[];i.push(new hy);let s=0;for(const o of Od(e)){const a=r[s++];for(const u of i)if(this.Rn(n,o.fieldPath)&&K_(a))i=this.Vn(i,o,a);else{const l=u.jt(o.kind);Hd.St.ht(a,l)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new hy;u.seed(a.Ut()),Hd.St.ht(o,u.jt(n.kind)),s.push(u)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof mn&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=fy(e),i=Vp(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return ie.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(h,p){const v=p?new bp(p.sequenceNumber,new Ro(jd(p.readTime),new We(pu(p.documentKey)),p.largestBatchId)):bp.empty(),C=h.fields.map(([S,x])=>new Nd(_r.fromServerFormat(S),x));return new Ip(h.indexId,h.collectionGroup,C,v)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Ut(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=fy(e),s=Vp(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>ie.forEach(a,u=>s.put(YH(u.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return ie.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?ie.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),ie.forEach(a,u=>this.gn(e,i,u).next(l=>{const h=this.pn(s,u);return l.isEqual(h)?ie.resolve():this.yn(e,s,u,l,h)}))))})}wn(e,n,r,i){return Lp(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return Lp(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=Lp(e);let s=new Kn(hc);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new zd(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new Kn(hc);const i=this.dn(n,e);if(null==i)return r;const s=GP(n);if(null!=s){const o=e.data.field(s.fieldPath);if(K_(o))for(const a of o.arrayValue.values||[])r=r.add(new zd(n.indexId,e.key,this.In(a),i))}else r=r.add(new zd(n.indexId,e.key,vI,i));return r}yn(e,n,r,i,s){xe("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(u,l,h,p,v){const C=u.getIterator(),S=l.getIterator();let x=Tp(C),F=Tp(S);for(;x||F;){let Z=!1,z=!1;if(x&&F){const re=h(x,F);re<0?z=!0:re>0&&(Z=!0)}else null!=x?z=!0:Z=!0;Z?(p(F),F=Tp(S)):z?(v(x),x=Tp(C)):(x=Tp(C),F=Tp(S))}}(i,s,hc,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),ie.waitFor(o)}fn(e){let n=1;return Vp(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>hc(o,a)).filter((o,a,u)=>!a||0!==hc(o,u[a-1]));const i=[];i.push(e);for(const o of r){const a=hc(o,e),u=hc(o,n);if(0===a)i[0]=e.Ht();else if(a>0&&u<0)i.push(o),i.push(o.Ht());else if(u>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,vI,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,vI,[]]))}return s}bn(e,n){return hc(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(a4)}getMinOffset(e,n){return ie.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||Xe())).next(a4)}}function o4(t){return $i(t,"collectionParents")}function Lp(t){return $i(t,"indexEntries")}function fy(t){return $i(t,"indexConfiguration")}function Vp(t){return $i(t,"indexState")}function a4(t){ct(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;KP(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ro(e.readTime,e.documentKey,n)}const u4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ds{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ds(e,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function l4(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Y({range:o},(h,p,v)=>(a++,v.delete()));s.push(u.next(()=>{ct(1===a)}));const l=[];for(const h of n.mutations){const p=x3(e,h.key.path,n.batchId);s.push(i.delete(p)),l.push(h.key)}return ie.waitFor(s).next(()=>l)}function EI(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xe();e=t.noDocument}return JSON.stringify(e).length}Ds.DEFAULT_COLLECTION_PERCENTILE=10,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ds.DEFAULT=new Ds(41943040,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ds.DISABLED=new Ds(-1,0,0);class wI{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){ct(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new wI(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fc(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Up(e),o=fc(e);return o.add({}).next(a=>{ct("number"==typeof a);const u=new uM(a,n,r,i),l=function(C,S,x){const F=x.baseMutations.map(z=>ly(C.ut,z)),Z=x.mutations.map(z=>ly(C.ut,z));return{userId:S,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:F,mutations:Z}}(this.serializer,this.userId,u),h=[];let p=new Kn((v,C)=>Ut(v.canonicalString(),C.canonicalString()));for(const v of i){const C=x3(this.userId,v.key.path,a);p=p.add(v.key.path.popLast()),h.push(o.put(l)),h.push(s.put(C,oce))}return p.forEach(v=>{h.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.Dn[a]=u.keys()}),ie.waitFor(h).next(()=>u)})}lookupMutationBatch(e,n){return fc(e).get(n).next(r=>r?(ct(r.userId===this.userId),$d(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?ie.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return fc(e).Y({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(ct(a.batchId>=r),s=$d(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return fc(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fc(e).W("userMutationsIndex",n).next(r=>r.map(i=>$d(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=tI(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Up(e).Y({range:i},(o,a,u)=>{const[l,h,p]=o,v=pu(h);if(l===this.userId&&n.path.isEqual(v))return fc(e).get(p).next(C=>{if(!C)throw Xe();ct(C.userId===this.userId),s.push($d(this.serializer,C))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kn(Ut);const i=[];return n.forEach(s=>{const o=tI(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Up(e).Y({range:a},(l,h,p)=>{const[v,C,S]=l,x=pu(C);v===this.userId&&s.path.isEqual(x)?r=r.add(S):p.done()});i.push(u)}),ie.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=tI(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Kn(Ut);return Up(e).Y({range:o},(u,l,h)=>{const[p,v,C]=u,S=pu(v);p===this.userId&&r.isPrefixOf(S)?S.length===i&&(a=a.add(C)):h.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(fc(e).get(s).next(o=>{if(null===o)throw Xe();ct(o.userId===this.userId),r.push($d(this.serializer,o))}))}),ie.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return l4(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),ie.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ie.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Up(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=pu(s[1]);i.push(u)}else a.done()}).next(()=>{ct(0===i.length)})})}containsKey(e,n){return c4(e,this.userId,n)}Mn(e){return d4(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function c4(t,e,n){const r=tI(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Up(t).Y({range:s,J:!0},(a,u,l)=>{const[h,p,v]=a;h===e&&p===i&&(o=!0),l.done()}).next(()=>o)}function fc(t){return $i(t,"mutations")}function Up(t){return $i(t,"documentMutations")}function d4(t){return $i(t,"mutationQueues")}class Wd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Wd(0)}static Nn(){return new Wd(-1)}}class vde{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Wd(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ht.fromTimestamp(new Mr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Bp(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ct(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Bp(e).Y((o,a)=>{const u=cy(a);u.sequenceNumber<=n&&null===r.get(u.targetId)&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>ie.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Bp(e).Y((r,i)=>{const s=cy(i);n(s)})}Bn(e){return h4(e).get("targetGlobalKey").next(n=>(ct(null!==n),n))}Ln(e,n){return h4(e).put("targetGlobalKey",n)}kn(e,n){return Bp(e).put(QH(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Ld(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Bp(e).Y({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const l=cy(a);Y_(n,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=pc(e);return n.forEach(o=>{const a=Ss(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),ie.waitFor(i)}removeMatchingKeys(e,n,r){const i=pc(e);return ie.forEach(n,s=>{const o=Ss(s.path);return ie.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=pc(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=pc(e);let s=Zt();return i.Y({range:r,J:!0},(o,a,u)=>{const l=pu(o[1]),h=new We(l);s=s.add(h)}).next(()=>s)}containsKey(e,n){const r=Ss(n.path),i=IDBKeyRange.bound([r],[I3(r)],!1,!0);let s=0;return pc(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],u,l)=>{0!==o&&(s++,l.done())}).next(()=>s>0)}_t(e,n){return Bp(e).get(n).next(r=>r?cy(r):null)}}function Bp(t){return $i(t,"targets")}function h4(t){return $i(t,"targetGlobal")}function pc(t){return $i(t,"targetDocuments")}function f4([t,e],[n,r]){const i=Ut(t,n);return 0===i?Ut(e,r):i}class Ede{constructor(e){this.Qn=e,this.buffer=new Kn(f4),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();f4(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class p4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;xe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ce.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){rc(r)?xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield nc(r)}yield n.Gn(3e5)}))}}class wde{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return ie.resolve(xo._e);const r=new Ede(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(u4)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u4):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,u,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),wp()<=Po.in.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-h}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(u-a)+`ms\n\tRemoved ${p} documents in `+(l-u)+`ms\nTotal Duration: ${l-h}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}class Cde{constructor(e,n){this.db=e,this.garbageCollector=function g4(t,e){return new wde(t,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return CI(e,r)}removeReference(e,n,r){return CI(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return CI(e,n)}Xn(e,n){return function(i,s){let o=!1;return d4(i).Z(a=>c4(i,a,s).next(u=>(u&&(o=!0),ie.resolve(!u)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=n){const u=this.Xn(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ht.min()),pc(e).delete([0,Ss(o.path)])))});i.push(u)}}).next(()=>ie.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return CI(e,n)}Zn(e,n){const r=pc(e);let i,s=xo._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{0===o?(s!==xo._e&&n(new We(pu(i)),s),s=l,i=u):s=xo._e}).next(()=>{s!==xo._e&&n(new We(pu(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function CI(t,e){return pc(t).put((i=t.currentSequenceNumber,{targetId:0,path:Ss(e.path),sequenceNumber:i}));var i}class m4{constructor(){this.changes=new al(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ide{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return qd(e).put(r)}removeEntry(e,n,r){return qd(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],mI(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=yr.newInvalidDocument(n);return qd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(py(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:yr.newInvalidDocument(n)};return qd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(py(n))},(i,s)=>{r={document:this.tr(n,s),size:EI(s)}}).next(()=>r)}getEntries(e,n){let r=go();return this.rr(e,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=go(),i=new lr(We.comparator);return this.rr(e,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,EI(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return ie.resolve();let i=new Kn(E4);n.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(py(i.first()),py(i.last())),o=i.getIterator();let a=o.getNext();return qd(e).Y({index:"documentKeyIndex",range:s},(u,l,h)=>{const p=We.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&E4(a,p)<0;)r(a,null),a=o.getNext();a&&a.isEqual(p)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?h.U(py(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),mI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qd(e).W(IDBKeyRange.bound(a,u,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let h=go();for(const p of l){const v=this.tr(We.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);v.isFoundDocument()&&(J_(n,v)||i.has(v.key))&&(h=h.insert(v.key,v))}return h})}getAllFromCollectionGroup(e,n,r,i){let s=go();const o=v4(n,r),a=v4(n,Ro.max());return qd(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,h)=>{const p=this.tr(We.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(p.key,p),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new bde(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return y4(e).get("remoteDocumentGlobalKey").next(n=>(ct(!!n),n))}er(e,n){return y4(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=function cde(t,e){let n;if(e.document)n=jH(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=We.fromSegments(e.noDocument.path),i=jd(e.noDocument.readTime);n=yr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xe();{const r=We.fromSegments(e.unknownDocument.path),i=jd(e.unknownDocument.version);n=yr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Mr(i[0],i[1]);return ht.fromTimestamp(s)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(ht.min()))return r}return yr.newInvalidDocument(e)}}function _4(t){return new Ide(t)}class bde extends m4{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new al(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Kn((s,o)=>Ut(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=KH(this._r.serializer,o);i=i.add(s.path.popLast());const l=EI(u);r+=l-a.size,n.push(this._r.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=KH(this._r.serializer,o.convertToNoDocument(ht.min()));n.push(this._r.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),ie.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function y4(t){return $i(t,"remoteDocumentGlobal")}function qd(t){return $i(t,"remoteDocumentsV14")}function py(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function v4(t,e){const n=e.documentKey.path.toArray();return[t,mI(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function E4(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ut(n[s],r[s]),i)return i;return i=Ut(n.length,r.length),i||(i=Ut(n[n.length-2],r[r.length-2]),i||Ut(n[n.length-1],r[r.length-1]))}class Tde{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class w4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&ry(r.mutation,i,po.empty(),Mr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Zt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Zt()){const i=mu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ey();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Zt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=go();const o=ty(),a=ty();return n.forEach((u,l)=>{const h=r.get(l.key);i.has(l.key)&&(void 0===h||h.mutation instanceof ul)?s=s.insert(l.key,l):void 0!==h?(o.set(l.key,h.mutation.getFieldMask()),ry(h.mutation,l,h.mutation.getFieldMask(),Mr.now())):o.set(l.key,po.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Tde(h,null!==(p=o.get(l))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ty();let i=new lr((o,a)=>o-a),s=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(null===l)return;let h=r.get(u)||po.empty();h=a.applyToLocalView(l,h),r.set(u,h);const p=(i.get(a.batchId)||Zt()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,h=u.value,p=hH();h.forEach(v=>{if(!s.has(v)){const C=wH(n.get(v),r.get(v));null!==C&&p.set(v,C),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return ie.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return We.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):iM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ie.resolve(mu());let a=-1,u=s;return o.next(l=>ie.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?ie.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{u=u.insert(h,v)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,Zt())).next(h=>({batchId:a,changes:dH(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new We(n)).next(r=>{let i=ey();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ey();return this.indexManager.getCollectionParents(e,s).next(a=>ie.forEach(a,u=>{const l=(p=n,v=u.child(s),new ol(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,v;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,v)=>{o=o.insert(p,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const h=l.getKey();null===o.get(h)&&(o=o.insert(h,yr.newInvalidDocument(h)))});let a=ey();return o.forEach((u,l)=>{const h=s.get(u);void 0!==h&&ry(h.mutation,l,po.empty(),Mr.now()),J_(n,l)&&(a=a.insert(u,l))}),a})}}class Sde{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return ie.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:ui(i.createTime)}),ie.resolve();var i}getNamedQuery(e,n){return ie.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:_M(i.bundledQuery),readTime:ui(i.readTime)}),ie.resolve();var i}}class Dde{constructor(){this.overlays=new lr(We.comparator),this.lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mu();return ie.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const i=mu(),s=n.length+1,o=new We(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new lr((l,h)=>l-h);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);null===h&&(h=mu(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=mu(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return ie.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cM(n,r));let s=this.lr.get(n);void 0===s&&(s=Zt(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class bM{constructor(){this.hr=new Kn(Hi.Pr),this.Ir=new Kn(Hi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Hi(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Hi(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new We(new bn([])),r=new Hi(n,e),i=new Hi(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new We(new bn([])),r=new Hi(n,e),i=new Hi(n,e+1);let s=Zt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Hi(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Hi{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return We.comparator(e.key,n.key)||Ut(e.gr,n.gr)}static Tr(e,n){return Ut(e.gr,n.gr)||We.comparator(e.key,n.key)}}class Ade{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Kn(Hi.Pr)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new uM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Hi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ie.resolve(o)}lookupMutationBatch(e,n){return ie.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hi(n,0),i=new Hi(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kn(Ut);return n.forEach(i=>{const s=new Hi(i,0),o=new Hi(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),ie.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;We.isDocumentKey(s)||(s=s.child(""));const o=new Hi(new We(s),0);let a=new Kn(Ut);return this.yr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.gr)),!0)},o),ie.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){ct(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return ie.forEach(n.mutations,i=>{const s=new Hi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Hi(n,0),i=this.yr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return ie.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Pde{constructor(e){this.Cr=e,this.docs=new lr(We.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let r=go();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yr.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=go();const o=n.path,a=new We(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||KP(T3(h),r)<=0||(i.has(h.key)||J_(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return ie.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Xe()}vr(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Mde(this)}getSize(e){return ie.resolve(this.size)}}class Mde extends m4{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Rde{constructor(e){this.persistence=e,this.Fr=new al(n=>Ld(n),Y_),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.Mr=0,this.Or=new bM,this.targetCount=0,this.Nr=Wd.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),ie.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Wd(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.kn(n),ie.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ie.waitFor(s).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ie.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.Or.containsKey(n))}}class TM{constructor(e,n){this.Br={},this.overlays={},this.Lr=new xo(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Rde(this),this.indexManager=new _de,this.remoteDocumentCache=new Pde(r=>this.referenceDelegate.Qr(r)),this.serializer=new GH(n),this.Kr=new Sde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Dde,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Ade(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const i=new xde(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return ie.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class xde extends D3{constructor(e){super(),this.currentSequenceNumber=e}}class II{constructor(e){this.persistence=e,this.Gr=new bM,this.zr=null}static jr(e){return new II(e)}get Hr(){if(this.zr)return this.zr;throw Xe()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Hr,r=>{const i=We.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ht.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return ie.or([()=>ie.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Ode{constructor(e){this.serializer=e}N(e,n,r,i){const s=new eI("createOrUpgrade",n);var u;r<1&&i>=1&&(e.createObjectStore("owner"),(u=e).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R3,{unique:!0}),u.createObjectStore("documentMutations"),C4(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=ie.resolve();return r<3&&i>=3&&(0!==r&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),C4(e)),o=o.next(()=>function(u){const l=u.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ht.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(u,l){return l.store("mutations").W().next(h=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R3,{unique:!0});const p=l.store("mutations"),v=h.map(C=>p.put(C));return ie.waitFor(v)})}(e,s))),o=o.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(u){const l=u.createObjectStore("documentOverlays",{keyPath:yce});l.createIndex("collectionPathOverlayIndex",vce,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",Ece,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const l=u.createObjectStore("remoteDocumentsV14",{keyPath:ace});l.createIndex("documentKeyIndex",uce),l.createIndex("collectionGroupIndex",lce)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:pce}).createIndex("sequenceNumberIndex",gce,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:mce}).createIndex("documentKeyIndex",_ce,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=EI(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>ie.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>ie.forEach(a,u=>{ct(u.userId===s.userId);const l=$d(this.serializer,u);return l4(e,s.userId,l).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const u=new bn(o),l=[0,Ss(u)];s.push(n.get(l).next(h=>h?ie.resolve():n.put({targetId:0,path:Ss(u),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ie.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:fce});const r=n.store("collectionParents"),i=new IM,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:Ss(u)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const u=new bn(o);return s(u.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,u],l)=>{const h=pu(a);return s(h.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const s=cy(i),o=QH(this.serializer,s);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),u=(p=o,p.document?new We(bn.fromString(p.document.name).popFirst(5)):p.noDocument?We.fromSegments(p.noDocument.path):p.unknownDocument?We.fromSegments(p.unknownDocument.path):Xe()).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var p;i.push(a.put(l))}).next(()=>ie.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=_4(this.serializer),s=new TM(II.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(u=>{var l;let h=null!==(l=a.get(u.userId))&&void 0!==l?l:Zt();$d(this.serializer,u).keys().forEach(p=>h=h.add(p)),a.set(u.userId,h)}),ie.forEach(a,(u,l)=>{const h=new ji(l),p=_I.ct(this.serializer,h),v=s.getIndexManager(h),C=wI.ct(h,this.serializer,v,s.referenceDelegate);return new w4(i,C,p,v).recalculateAndSaveOverlaysForDocumentKeys(new YP(n,xo._e),u).next()})})}}function C4(t){t.createObjectStore("targetDocuments",{keyPath:dce}).createIndex("documentTargetsIndex",hce,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cce,{unique:!0}),t.createObjectStore("targetGlobal")}const SM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class DM{constructor(e,n,r,i,s,o,a,u,l,h,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=l,this._i=h,this.ai=p,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=v=>Promise.resolve(),!DM.D())throw new Pe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Cde(this,i),this.Ii=n+"main",this.serializer=new GH(u),this.Ti=new xa(this.Ii,this.ai,new Ode(this.serializer)),this.qr=new vde(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_4(this.serializer),this.Kr=new dde,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(pe.FAILED_PRECONDITION,SM);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new xo(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var r=(0,Ce.Z)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,Ce.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Ce.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>TI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(rc(e))return xe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return gy(e).get("owner").next(n=>ie.resolve(this.wi(n)))}Si(e){return TI(e).delete(this.clientId)}bi(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=$i(r,"clientMetadata");return i.W().next(s=>{const o=e.Ci(s,18e5),a=s.filter(u=>-1===o.indexOf(u));return ie.forEach(a,u=>i.delete(u.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of n)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?ie.resolve(!0):gy(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new Pe(pe.FAILED_PRECONDITION,SM);return!1}}return!(!this.networkEnabled||!this.inForeground)||TI(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&xe("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new YP(n,xo._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>TI(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return wI.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new yde(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return _I.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){xe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",s=15===(u=this.ai)?Cce:14===u?k3:13===u?N3:12===u?wce:11===u?O3:void Xe();var u;let o;return this.Ti.runTransaction(e,i,s,a=>(o=new YP(a,this.Lr?this.Lr.next():xo._e),"readwrite-primary"===n?this.fi(o).next(u=>!!u||this.gi(o)).next(u=>{if(!u)throw ai(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new Pe(pe.FAILED_PRECONDITION,S3);return r(o)}).next(u=>this.yi(o).next(()=>u)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return gy(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Pe(pe.FAILED_PRECONDITION,SM)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gy(e).put("owner",n)}static D(){return xa.D()}pi(e){const n=gy(e);return n.get("owner").next(r=>this.wi(r)?(xe("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ie.resolve())}Di(e,n){const r=Date.now();return!(e<r-n||e>r&&(ai(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,O.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return xe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ai("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ai("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gy(t){return $i(t,"owner")}function TI(t){return $i(t,"clientMetadata")}function AM(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class PM{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Zt(),i=Zt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new PM(e,n.fromCache,r,i)}}class Nde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class I4{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Nde;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(wp()<=Po.in.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Mp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),ie.resolve()):(wp()<=Po.in.DEBUG&&xe("QueryEngine","Query:",Mp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(wp()<=Po.in.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Mp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qs(n))):ie.resolve())}zi(e,n){if(sH(n))return ie.resolve(null);let r=Qs(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=cI(n,null,"F"),r=Qs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Zt(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Yi(n,a);return this.Zi(n,l,o,u.readTime)?this.zi(e,cI(n,null,"F")):this.Xi(e,l,n,u)}))})))}ji(e,n,r,i){return sH(n)||i.isEqual(ht.min())?ie.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?ie.resolve(null):(wp()<=Po.in.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mp(n)),this.Xi(e,o,n,b3(i,-1)).next(a=>a))})}Yi(e,n){let r=new Kn(lH(e));return n.forEach((i,s)=>{J_(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return wp()<=Po.in.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Mp(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ro.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class kde{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new lr(Ut),this.ns=new al(s=>Ld(s),Y_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w4(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function b4(t,e,n,r){return new kde(t,e,n,r)}function T4(t,e){return MM.apply(this,arguments)}function MM(){return MM=(0,Ce.Z)(function*(t,e){const n=He(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Zt();for(const l of i){o.push(l.batchId);for(const h of l.mutations)u=u.add(h.key)}for(const l of s){a.push(l.batchId);for(const h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),MM.apply(this,arguments)}function S4(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function D4(t,e,n){let r=Zt(),i=Zt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=go();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ht.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{us:o,cs:i}})}function Vde(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jp(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,ie.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new ll(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function $p(t,e,n){return RM.apply(this,arguments)}function RM(){return RM=(0,Ce.Z)(function*(t,e,n){const r=He(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!rc(o))throw o;xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),RM.apply(this,arguments)}function SI(t,e,n){const r=He(t);let i=ht.min(),s=Zt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){const p=He(u),v=p.ns.get(h);return void 0!==v?ie.resolve(p.ts.get(v)):p.qr.getTargetData(l,h)}(r,o,Qs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ht.min(),n?s:Zt())).next(a=>(M4(r,uH(e),a),{documents:a,ls:s})))}function A4(t,e){const n=He(t),r=He(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function P4(t,e){const n=He(t),r=n.rs.get(e)||ht.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,b3(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(M4(n,e,i),i))}function M4(t,e,n){let r=t.rs.get(e)||ht.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}function xM(){return xM=(0,Ce.Z)(function*(t,e,n,r){const i=He(t);let s=Zt(),o=go();for(const l of n){const h=e.hs(l.metadata.name);l.document&&(s=s.add(h));const p=e.Ps(l);p.setReadTime(e.Is(l.metadata.readTime)),o=o.insert(h,p)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),u=yield jp(i,(h=r,Qs(Ap(bn.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>D4(l,a,o).next(h=>(a.apply(l),h)).next(h=>i.qr.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.qr.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,h.us,h.cs)).next(()=>h.us)))}),xM.apply(this,arguments)}function Bde(t,e){return OM.apply(this,arguments)}function OM(){return OM=(0,Ce.Z)(function*(t,e,n=Zt()){const r=yield jp(t,Qs(_M(e.bundledQuery))),i=He(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=ui(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(Ri.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}),OM.apply(this,arguments)}function R4(t,e){return`firestore_clients_${t}_${e}`}function x4(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function NM(t,e){return`firestore_targets_${t}_${e}`}class DI{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new Pe(i.error.code,i.error.message))),o?new DI(e,n,i.state,s):(ai("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class my{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Pe(r.error.code,r.error.message))),s?new my(e,r.state,i):(ai("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class AI{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=oM();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=P3(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new AI(e,s):(ai("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class kM{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new kM(n.clientId,n.onlineState):(ai("SharedClientState",`Failed to parse online state: ${e}`),null)}}class FM{constructor(){this.activeTargetIds=oM()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LM{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new lr(Ut),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=R4(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new FM),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Rs)continue;const s=e.getItem(R4(e.persistenceKey,i));if(s){const o=AI.Ts(i,s);o&&(e.gs=e.gs.insert(o.clientId,o))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(NM(this.persistenceKey,e));if(r){const i=my.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(NM(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return xe("SharedClientState","READ",e,n),n}setItem(e,n){xe("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(xe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void ai("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Ce.Z)(function*(){if(n.started){if(null!==r.key)if(n.Ss.test(r.key)){if(null==r.newValue){const i=n.Ks(r.key);return n.$s(i,null)}{const i=n.Us(r.key,r.newValue);if(i)return n.$s(i.clientId,i)}}else if(n.bs.test(r.key)){if(null!==r.newValue){const i=n.Ws(r.key,r.newValue);if(i)return n.Gs(i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.zs(r.key,r.newValue);if(i)return n.js(i)}}else if(r.key===n.Cs){if(null!==r.newValue){const i=n.Ms(r.newValue);if(i)return n.xs(i)}}else if(r.key===n.ws){const i=function(o){let a=xo._e;if(null!=o)try{const u=JSON.parse(o);ct("number"==typeof u),a=u}catch(u){ai("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(r.newValue);i!==xo._e&&n.sequenceNumberHandler(i)}else if(r.key===n.vs){const i=n.Hs(r.newValue);yield Promise.all(i.map(s=>n.syncEngine.Js(s)))}}else n.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new DI(this.currentUser,e,n,r),s=x4(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const n=x4(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,r){const i=NM(this.persistenceKey,e),s=new my(e,n,r);this.setItem(i,s.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return AI.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]);return DI.Ts(new ji(void 0!==r[2]?r[2]:null),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return my.Ts(i,n)}Ms(e){return kM.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,Ce.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);xe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=oM();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class O4{constructor(){this.eo=new FM,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new FM,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jde{ro(e){}shutdown(){}}class N4{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let PI=null;function VM(){return null===PI?PI=268435456+Math.round(2147483648*Math.random()):PI++,"0x"+PI.toString(16)}const $de={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hde{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const As="WebChannelConnection";class zde extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=VM(),u=this.So(n,r);xe("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,u,l,i).then(h=>(xe("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw fo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Ep,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${$de[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=VM();return new Promise((o,a)=>{const u=new jle;u.setWithCredentials(!0),u.listenOnce(Vle.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case WP.NO_ERROR:const h=u.getResponseJson();xe(As,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case WP.TIMEOUT:xe(As,`RPC '${e}' ${s} timed out`),a(new Pe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case WP.HTTP_ERROR:const p=u.getStatus();if(xe(As,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const C=v?.error;if(C&&C.status&&C.message){const S=function(F){const Z=F.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(Z)>=0?Z:pe.UNKNOWN}(C.status);a(new Pe(S,C.message))}else a(new Pe(pe.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Pe(pe.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{xe(As,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);xe(As,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}vo(e,n,r){const i=VM(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Fle(),a=Lle(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Ble({})),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");xe(As,`Creating RPC '${e}' stream ${i}: ${h}`,u);const p=o.createWebChannel(h,u);let v=!1,C=!1;const S=new Hde({co:F=>{C?xe(As,`Not sending because RPC '${e}' stream ${i} is closed:`,F):(v||(xe(As,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),xe(As,`RPC '${e}' stream ${i} sending:`,F),p.send(F))},lo:()=>p.close()}),x=(F,Z,z)=>{F.listen(Z,re=>{try{z(re)}catch(me){setTimeout(()=>{throw me},0)}})};return x(p,JC.EventType.OPEN,()=>{C||xe(As,`RPC '${e}' stream ${i} transport opened.`)}),x(p,JC.EventType.CLOSE,()=>{C||(C=!0,xe(As,`RPC '${e}' stream ${i} transport closed`),S.Ro())}),x(p,JC.EventType.ERROR,F=>{C||(C=!0,fo(As,`RPC '${e}' stream ${i} transport errored:`,F),S.Ro(new Pe(pe.UNAVAILABLE,"The operation could not be completed")))}),x(p,JC.EventType.MESSAGE,F=>{var Z;if(!C){const z=F.data[0];ct(!!z);const me=z.error||(null===(Z=z[0])||void 0===Z?void 0:Z.error);if(me){xe(As,`RPC '${e}' stream ${i} received error:`,me);const ke=me.status;let Ze=function(ls){const ua=_i[ls];if(void 0!==ua)return DH(ua)}(ke),$t=me.message;void 0===Ze&&(Ze=pe.INTERNAL,$t="Unknown error status: "+ke+" with message "+me.message),C=!0,S.Ro(new Pe(Ze,$t)),p.close()}else xe(As,`RPC '${e}' stream ${i} received:`,z),S.Vo(z)}}),x(a,Ule.STAT_EVENT,F=>{F.stat===y3.PROXY?xe(As,`RPC '${e}' stream ${i} detected buffering proxy`):F.stat===y3.NOPROXY&&xe(As,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.Ao()},0),S}}function k4(){return typeof window<"u"?window:null}function MI(){return typeof document<"u"?document:null}function _y(t){return new ede(t,!0)}class UM{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class F4{constructor(e,n,r,i,s,o,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new UM(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Ce.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Ce.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return(0,Ce.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new Pe(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Ce.Z)(function*(){e.state=0,e.start()}))}o_(e){return xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wde extends F4{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function rde(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Xe(),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(ct(void 0===h||"string"==typeof h),Ri.fromBase64String(h||"")):(ct(void 0===h||h instanceof Uint8Array),Ri.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const h=void 0===l.code?pe.UNKNOWN:DH(l.code);return new Pe(h,l.message||"")}(o);n=new xH(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=_u(t,r.document.name),s=ui(r.document.updateTime),o=r.document.createTime?ui(r.document.createTime):ht.min(),a=new os({mapValue:{fields:r.document.fields}}),u=yr.newFoundDocument(i,s,o,a);n=new gI(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=_u(t,r.document),s=r.readTime?ui(r.readTime):ht.min(),o=yr.newNoDocument(i,s);n=new gI([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=_u(t,r.document);n=new gI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Kce(i,s);n=new RH(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return ht.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ht.min():o.readTime?ui(o.readTime):ht.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=uy(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=uI(u)?{documents:$H(s,u)}:{query:mM(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=FH(s,o.resumeToken);const l=hM(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ht.min())>0){a.readTime=kp(s,o.snapshotVersion.toTimestamp());const l=hM(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function sde(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=uy(this.serializer),n.removeTarget=e,this.e_(n)}}class qde extends F4{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function ide(t,e){return t&&t.length>0?(ct(void 0!==e),t.map(n=>function(i,s){let o=ui(i.updateTime?i.updateTime:s);return o.isEqual(ht.min())&&(o=ui(s)),new zce(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ui(e.commitTime);return this.listener.I_(r,n)}return ct(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=uy(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ly(this.serializer,r))};this.e_(n)}}class Gde extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new Pe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Pe(pe.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(pe.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Qde{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ai(n),this.f_=!1):xe("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Zde{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,Ce.Z)(function*(){var u;gc(o)&&(xe("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,Ce.Z)(function*(h){const p=He(h);p.C_.add(4),yield Hp(p),p.M_.set("Unknown"),p.C_.delete(4),yield yy(p)}),function l(h){return u.apply(this,arguments)})(o))}))}),this.M_=new Qde(r,i)}}function yy(t){return jM.apply(this,arguments)}function jM(){return jM=(0,Ce.Z)(function*(t){if(gc(t))for(const e of t.v_)yield e(!0)}),jM.apply(this,arguments)}function Hp(t){return $M.apply(this,arguments)}function $M(){return $M=(0,Ce.Z)(function*(t){for(const e of t.v_)yield e(!1)}),$M.apply(this,arguments)}function RI(t,e){const n=He(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),WM(n)?zM(n):Wp(n).Ho()&&HM(n,e))}function vy(t,e){const n=He(t),r=Wp(n);n.D_.delete(e),r.Ho()&&L4(n,e),0===n.D_.size&&(r.Ho()?r.Zo():gc(n)&&n.M_.set("Unknown"))}function HM(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ht.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wp(t).u_(e)}function L4(t,e){t.x_.Oe(e),Wp(t).c_(e)}function zM(t){t.x_=new Zce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Wp(t).start(),t.M_.g_()}function WM(t){return gc(t)&&!Wp(t).jo()&&t.D_.size>0}function gc(t){return 0===He(t).C_.size}function V4(t){t.x_=void 0}function Yde(t){return qM.apply(this,arguments)}function qM(){return qM=(0,Ce.Z)(function*(t){t.D_.forEach((e,n)=>{HM(t,e)})}),qM.apply(this,arguments)}function Xde(t,e){return GM.apply(this,arguments)}function GM(){return GM=(0,Ce.Z)(function*(t,e){V4(t),WM(t)?(t.M_.w_(e),zM(t)):t.M_.set("Unknown")}),GM.apply(this,arguments)}function Jde(t,e,n){return KM.apply(this,arguments)}function KM(){return KM=(0,Ce.Z)(function*(t,e,n){if(t.M_.set("Online"),e instanceof xH&&2===e.state&&e.cause)try{yield(r=(0,Ce.Z)(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.D_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.D_.delete(u),s.x_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xI(t,r)}else if(e instanceof gI?t.x_.$e(e):e instanceof RH?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ht.min()))try{const r=yield S4(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.D_.get(l);h&&s.D_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const h=s.D_.get(u);if(!h)return;s.D_.set(u,h.withResumeToken(Ri.EMPTY_BYTE_STRING,h.snapshotVersion)),L4(s,u);const p=new ll(h.target,u,l,h.sequenceNumber);HM(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){xe("RemoteStore","Failed to raise snapshot:",r),yield xI(t,r)}var r}),KM.apply(this,arguments)}function xI(t,e,n){return QM.apply(this,arguments)}function QM(){return QM=(0,Ce.Z)(function*(t,e,n){if(!rc(e))throw e;t.C_.add(1),yield Hp(t),t.M_.set("Offline"),n||(n=()=>S4(t.localStore)),t.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){xe("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield yy(t)}))}),QM.apply(this,arguments)}function U4(t,e){return e().catch(n=>xI(t,n,e))}function zp(t){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,Ce.Z)(function*(t){const e=He(t),n=mc(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;ehe(e);)try{const i=yield Vde(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,the(e,i)}catch(i){yield xI(e,i)}B4(e)&&j4(e)}),ZM.apply(this,arguments)}function ehe(t){return gc(t)&&t.b_.length<10}function the(t,e){t.b_.push(e);const n=mc(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function B4(t){return gc(t)&&!mc(t).jo()&&t.b_.length>0}function j4(t){mc(t).start()}function nhe(t){return YM.apply(this,arguments)}function YM(){return YM=(0,Ce.Z)(function*(t){mc(t).E_()}),YM.apply(this,arguments)}function rhe(t){return XM.apply(this,arguments)}function XM(){return XM=(0,Ce.Z)(function*(t){const e=mc(t);for(const n of t.b_)e.P_(n.mutations)}),XM.apply(this,arguments)}function ihe(t,e,n){return JM.apply(this,arguments)}function JM(){return JM=(0,Ce.Z)(function*(t,e,n){const r=t.b_.shift(),i=lM.from(r,e,n);yield U4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield zp(t)}),JM.apply(this,arguments)}function she(t,e){return eR.apply(this,arguments)}function eR(){return eR=(0,Ce.Z)(function*(t,e){var n;e&&mc(t).h_&&(yield(n=(0,Ce.Z)(function*(i,s){if(SH(a=s.code)&&a!==pe.ABORTED){const o=i.b_.shift();mc(i).Yo(),yield U4(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield zp(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),B4(t)&&j4(t)}),eR.apply(this,arguments)}function $4(t,e){return tR.apply(this,arguments)}function tR(){return tR=(0,Ce.Z)(function*(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials");const r=gc(n);n.C_.add(3),yield Hp(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield yy(n)}),tR.apply(this,arguments)}function nR(t,e){return rR.apply(this,arguments)}function rR(){return rR=(0,Ce.Z)(function*(t,e){const n=He(t);e?(n.C_.delete(2),yield yy(n)):e||(n.C_.add(2),yield Hp(n),n.M_.set("Unknown"))}),rR.apply(this,arguments)}function Wp(t){return t.O_||(t.O_=function(n,r,i){const s=He(n);return s.A_(),new Wde(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Yde.bind(null,t),Io:Xde.bind(null,t),a_:Jde.bind(null,t)}),t.v_.push(function(){var e=(0,Ce.Z)(function*(n){n?(t.O_.Yo(),WM(t)?zM(t):t.M_.set("Unknown")):(yield t.O_.stop(),V4(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function mc(t){return t.N_||(t.N_=function(n,r,i){const s=He(n);return s.A_(),new qde(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:nhe.bind(null,t),Io:she.bind(null,t),T_:rhe.bind(null,t),I_:ihe.bind(null,t)}),t.v_.push(function(){var e=(0,Ce.Z)(function*(n){n?(t.N_.Yo(),yield zp(t)):(yield t.N_.stop(),t.b_.length>0&&(xe("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class iR{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new iR(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qp(t,e){if(ai("AsyncQueue",`${e}: ${t}`),rc(t))return new Pe(pe.UNAVAILABLE,`${e}: ${t}`);throw t}class Gp{constructor(e){this.comparator=e?(n,r)=>e(n,r)||We.comparator(n.key,r.key):(n,r)=>We.comparator(n.key,r.key),this.keyedMap=ey(),this.sortedSet=new lr(this.comparator)}static emptySet(e){return new Gp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Gp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class H4{constructor(){this.B_=new lr(We.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Xe():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Kp{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Kp(e,n,Gp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&X_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class ohe{constructor(){this.k_=void 0,this.listeners=[]}}class ahe{constructor(){this.queries=new al(e=>aH(e),X_),this.onlineState="Unknown",this.q_=new Set}}function sR(t,e){return oR.apply(this,arguments)}function oR(){return oR=(0,Ce.Z)(function*(t,e){const n=He(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ohe),i)try{s.k_=yield n.onListen(r)}catch(o){const a=qp(o,`Initialization of query '${Mp(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&lR(n)}),oR.apply(this,arguments)}function aR(t,e){return uR.apply(this,arguments)}function uR(){return uR=(0,Ce.Z)(function*(t,e){const n=He(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),uR.apply(this,arguments)}function uhe(t,e){const n=He(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&lR(n)}function lhe(t,e,n){const r=He(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function lR(t){t.q_.forEach(e=>{e.next()})}class cR{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Kp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Kp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class che{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class z4{constructor(e){this.serializer=e}hs(e){return _u(this.serializer,e)}Ps(e){return e.metadata.exists?jH(this.serializer,e.document,!1):yr.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return ui(e)}}class dhe{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=W4(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=bn.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new z4(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||Zt()).add(s);n.set(o,a)}}return n}complete(){var e=this;return(0,Ce.Z)(function*(){const n=yield function Ude(t,e,n,r){return xM.apply(this,arguments)}(e.localStore,new z4(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield Bde(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function W4(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class q4{constructor(e){this.key=e}}class G4{constructor(e){this.key=e}}class K4{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Zt(),this.mutatedKeys=Zt(),this._a=lH(e),this.aa=new Gp(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new H4,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const v=i.get(h),C=J_(this.query,p)?p:null,S=!!v&&this.mutatedKeys.has(v.key),x=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let F=!1;v&&C?v.data.isEqual(C.data)?S!==x&&(r.track({type:3,doc:C}),F=!0):this.ha(v,C)||(r.track({type:2,doc:C}),F=!0,(u&&this._a(C,u)>0||l&&this._a(C,l)<0)&&(a=!0)):!v&&C?(r.track({type:0,doc:C}),F=!0):v&&!C&&(r.track({type:1,doc:v}),F=!0,(u||l)&&(a=!0)),F&&(C?(o=o.add(C),s=x?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const h="F"===this.query.limitType?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,h)=>function(v,C){const S=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return S(v)-S(C)}(l.type,h.type)||this._a(l.doc,h.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,u=a!==this.sa;return this.sa=a,0!==s.length||u?{snapshot:new Kp(this.query,e.aa,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new H4,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Zt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new G4(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new q4(r))}),n}da(e){this.ia=e.ls,this.oa=Zt();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Kp.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class hhe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fhe{constructor(e){this.key=e,this.Ra=!1}}class phe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new al(a=>aH(a),X_),this.fa=new Map,this.ga=new Set,this.pa=new lr(We.comparator),this.ya=new Map,this.wa=new bM,this.Sa={},this.ba=new Map,this.Da=Wd.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function ghe(t,e){return dR.apply(this,arguments)}function dR(){return dR=(0,Ce.Z)(function*(t,e){const n=NR(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield jp(n.localStore,Qs(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield hR(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&RI(n.remoteStore,o)}return i}),dR.apply(this,arguments)}function hR(t,e,n,r,i){return fR.apply(this,arguments)}function fR(){return fR=(0,Ce.Z)(function*(t,e,n,r,i){t.va=(p,v,C)=>{return(S=(0,Ce.Z)(function*(F,Z,z,re){let me=Z.view.ca(z);me.Zi&&(me=yield SI(F.localStore,Z.query,!1).then(({documents:$t})=>Z.view.ca($t,me)));const ke=re&&re.targetChanges.get(Z.targetId),Ze=Z.view.applyChanges(me,F.isPrimaryClient,ke);return IR(F,Z.targetId,Ze.Ta),Ze.snapshot}),function x(F,Z,z,re){return S.apply(this,arguments)})(t,p,v,C);var S};const s=yield SI(t.localStore,e,!0),o=new K4(e,s.ls),a=o.ca(s.documents),u=oy.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,u);IR(t,n,l.Ta);const h=new hhe(e,n,o);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),fR.apply(this,arguments)}function mhe(t,e){return pR.apply(this,arguments)}function pR(){return pR=(0,Ce.Z)(function*(t,e){const n=He(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!X_(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield $p(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),vy(n.remoteStore,r.targetId),Qp(n,r.targetId)}).catch(nc))):(Qp(n,r.targetId),yield $p(n.localStore,r.targetId,!0))}),pR.apply(this,arguments)}function gR(){return gR=(0,Ce.Z)(function*(t,e,n){const r=kR(t);try{const i=yield function(o,a){const u=He(o),l=Mr.now(),h=a.reduce((C,S)=>C.add(S.key),Zt());let p,v;return u.persistence.runTransaction("Locally write mutations","readwrite",C=>{let S=go(),x=Zt();return u.ss.getEntries(C,h).next(F=>{S=F,S.forEach((Z,z)=>{z.isValidDocument()||(x=x.add(Z))})}).next(()=>u.localDocuments.getOverlayedDocuments(C,S)).next(F=>{p=F;const Z=[];for(const z of a){const re=qce(z,p.get(z.key).overlayedDocument);null!=re&&Z.push(new ul(z.key,re,q3(re.value.mapValue),Rr.exists(!0)))}return u.mutationQueue.addMutationBatch(C,l,Z,a)}).next(F=>{v=F;const Z=F.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(C,F.batchId,Z)})}).then(()=>({batchId:v.batchId,changes:dH(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Sa[o.currentUser.toKey()];l||(l=new lr(Ut)),l=l.insert(a,u),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield cl(r,i.changes),yield zp(r.remoteStore)}catch(i){const s=qp(i,"Failed to persist write");n.reject(s)}}),gR.apply(this,arguments)}function Q4(t,e){return mR.apply(this,arguments)}function mR(){return mR=(0,Ce.Z)(function*(t,e){const n=He(t);try{const r=yield function Lde(t,e){const n=He(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,p)=>{const v=i.get(p);if(!v)return;a.push(n.qr.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.qr.addMatchingKeys(s,h.addedDocuments,p)));let C=v.withSequenceNumber(s.currentSequenceNumber);var x,F,Z;null!==e.targetMismatches.get(p)?C=C.withResumeToken(Ri.EMPTY_BYTE_STRING,ht.min()).withLastLimboFreeSnapshotVersion(ht.min()):h.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(h.resumeToken,r)),i=i.insert(p,C),F=C,Z=h,(0===(x=v).resumeToken.approximateByteSize()||F.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8||Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,C))});let u=go(),l=Zt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(D4(s,o,e.documentUpdates).next(h=>{u=h.us,l=h.cs})),!r.isEqual(ht.min())){const h=n.qr.getLastRemoteSnapshotVersion(s).next(p=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return ie.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ct(o.Ra):i.removedDocuments.size>0&&(ct(o.Ra),o.Ra=!1))}),yield cl(n,r,e)}catch(r){yield nc(r)}}),mR.apply(this,arguments)}function Z4(t,e,n){const r=He(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=He(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(const v of p.listeners)v.Q_(a)&&(l=!0)}),l&&lR(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yhe(t,e,n){return _R.apply(this,arguments)}function _R(){return _R=(0,Ce.Z)(function*(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new lr(We.comparator);o=o.insert(s,yr.newNoDocument(s,ht.min()));const a=Zt().add(s),u=new sy(ht.min(),new Map,new lr(Ut),o,a);yield Q4(r,u),r.pa=r.pa.remove(s),r.ya.delete(e),bR(r)}else yield $p(r.localStore,e,!1).then(()=>Qp(r,e,n)).catch(nc)}),_R.apply(this,arguments)}function vhe(t,e){return yR.apply(this,arguments)}function yR(){return yR=(0,Ce.Z)(function*(t,e){const n=He(t),r=e.batch.batchId;try{const i=yield function Fde(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){const p=l.batch,v=p.keys();let C=ie.resolve();return v.forEach(S=>{C=C.next(()=>h.getEntry(u,S)).next(x=>{const F=l.docVersions.get(S);ct(null!==F),x.version.compareTo(F)<0&&(p.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),h.addEntry(x)))})}),C.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Zt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);CR(n,r,null),wR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield cl(n,i)}catch(i){yield nc(i)}}),yR.apply(this,arguments)}function Ehe(t,e,n){return vR.apply(this,arguments)}function vR(){return vR=(0,Ce.Z)(function*(t,e,n){const r=He(t);try{const i=yield function(o,a){const u=He(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ct(null!==p),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);CR(r,e,n),wR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield cl(r,i)}catch(i){yield nc(i)}}),vR.apply(this,arguments)}function ER(){return ER=(0,Ce.Z)(function*(t,e){const n=He(t);gc(n.remoteStore)||xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=He(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(-1===r)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=qp(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),ER.apply(this,arguments)}function wR(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function CR(t,e,n){const r=He(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Qp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||Y4(t,r)})}function Y4(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(vy(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),bR(t))}function IR(t,e,n){for(const r of n)r instanceof q4?(t.wa.addReference(r.key,e),Che(t,r)):r instanceof G4?(xe("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||Y4(t,r.key)):Xe()}function Che(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(xe("SyncEngine","New document in limbo: "+n),t.ga.add(r),bR(t))}function bR(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new We(bn.fromString(e)),r=t.Da.next();t.ya.set(r,new fhe(n)),t.pa=t.pa.insert(n,r),RI(t.remoteStore,new ll(Qs(Ap(n.path)),r,"TargetPurposeLimboResolution",xo._e))}}function cl(t,e,n){return TR.apply(this,arguments)}function TR(){return TR=(0,Ce.Z)(function*(t,e,n){const r=He(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const h=PM.Qi(u.targetId,l);s.push(h)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,Ce.Z)(function*(l,h){const p=He(l);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ie.forEach(h,C=>ie.forEach(C.ki,S=>p.persistence.referenceDelegate.addReference(v,C.targetId,S)).next(()=>ie.forEach(C.qi,S=>p.persistence.referenceDelegate.removeReference(v,C.targetId,S)))))}catch(v){if(!rc(v))throw v;xe("LocalStore","Failed to update sequence numbers: "+v)}for(const v of h){const C=v.targetId;if(!v.fromCache){const S=p.ts.get(C),F=S.withLastLimboFreeSnapshotVersion(S.snapshotVersion);p.ts=p.ts.insert(C,F)}}}),function u(l,h){return a.apply(this,arguments)})(r.localStore,s))}),TR.apply(this,arguments)}function Ihe(t,e){return SR.apply(this,arguments)}function SR(){return SR=(0,Ce.Z)(function*(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){xe("SyncEngine","User change. New user:",e.toKey());const r=yield T4(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(u=>{u.reject(new Pe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield cl(n,r._s)}var s}),SR.apply(this,arguments)}function bhe(t,e){const n=He(t),r=n.ya.get(e);if(r&&r.Ra)return Zt().add(r.key);{let i=Zt();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function The(t,e){return DR.apply(this,arguments)}function DR(){return DR=(0,Ce.Z)(function*(t,e){const n=He(t),r=yield SI(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&IR(n,e.targetId,i.Ta),i}),DR.apply(this,arguments)}function She(t,e){return AR.apply(this,arguments)}function AR(){return AR=(0,Ce.Z)(function*(t,e){const n=He(t);return P4(n.localStore,e).then(r=>cl(n,r))}),AR.apply(this,arguments)}function Dhe(t,e,n,r){return PR.apply(this,arguments)}function PR(){return PR=(0,Ce.Z)(function*(t,e,n,r){const i=He(t),s=yield function(a,u){const l=He(a),h=He(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.Cn(p,u).next(v=>v?l.localDocuments.getDocuments(p,v):ie.resolve(null)))}(i.localStore,e);var u;null!==s?("pending"===n?yield zp(i.remoteStore):"acknowledged"===n||"rejected"===n?(CR(i,e,r||null),wR(i,e),u=e,He(He(i.localStore).mutationQueue).Fn(u)):Xe(),yield cl(i,s)):xe("SyncEngine","Cannot apply mutation batch with id: "+e)}),PR.apply(this,arguments)}function MR(){return MR=(0,Ce.Z)(function*(t,e){const n=He(t);if(NR(n),kR(n),!0===e&&!0!==n.Ca){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield X4(n,r.toArray());n.Ca=!0,yield nR(n.remoteStore,!0);for(const s of i)RI(n.remoteStore,s)}else if(!1===e&&!1!==n.Ca){const r=[];let i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Qp(n,o),$p(n.localStore,o,!0))),vy(n.remoteStore,o)}),yield i,yield X4(n,r),function(o){const a=He(o);a.ya.forEach((u,l)=>{vy(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new lr(We.comparator)}(n),n.Ca=!1,yield nR(n.remoteStore,!1)}}),MR.apply(this,arguments)}function X4(t,e,n){return RR.apply(this,arguments)}function RR(){return RR=(0,Ce.Z)(function*(t,e,n){const r=He(t),i=[],s=[];for(const o of e){let a;const u=r.fa.get(o);if(u&&0!==u.length){a=yield jp(r.localStore,Qs(u[0]));for(const l of u){const h=r.ma.get(l),p=yield The(r,h);p.snapshot&&s.push(p.snapshot)}}else{const l=yield A4(r.localStore,o);a=yield jp(r.localStore,l),yield hR(r,J4(l),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}),RR.apply(this,arguments)}function J4(t){return iH(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Phe(t){return n=He(t).localStore,He(He(n).persistence).Bi();var n}function Mhe(t,e,n,r){return xR.apply(this,arguments)}function xR(){return xR=(0,Ce.Z)(function*(t,e,n,r){const i=He(t);if(i.Ca)return void xe("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=yield P4(i.localStore,uH(s[0])),a=sy.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Ri.EMPTY_BYTE_STRING);yield cl(i,o,a);break}case"rejected":yield $p(i.localStore,e,!0),Qp(i,e,r);break;default:Xe()}}),xR.apply(this,arguments)}function Rhe(t,e,n){return OR.apply(this,arguments)}function OR(){return OR=(0,Ce.Z)(function*(t,e,n){const r=NR(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){xe("SyncEngine","Adding an already active target "+i);continue}const s=yield A4(r.localStore,i),o=yield jp(r.localStore,s);yield hR(r,J4(s),o.targetId,!1,o.resumeToken),RI(r.remoteStore,o)}for(const i of n)r.fa.has(i)&&(yield $p(r.localStore,i,!1).then(()=>{vy(r.remoteStore,i),Qp(r,i)}).catch(nc))}}),OR.apply(this,arguments)}function NR(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bhe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yhe.bind(null,e),e.Va.a_=uhe.bind(null,e.eventManager),e.Va.Fa=lhe.bind(null,e.eventManager),e}function kR(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vhe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ehe.bind(null,e),e}class Ey{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Ce.Z)(function*(){n.serializer=_y(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return b4(this.persistence,new I4,e.initialUser,this.serializer)}createPersistence(e){return new TM(II.jr,this.serializer)}createSharedClientState(e){return new O4}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class FR extends Ey{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield n().call(r,e),yield r.xa.initialize(r,e),yield kR(r.xa.syncEngine),yield zp(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return b4(this.persistence,new I4,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new p4(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new ice(n,this.persistence);return new rce(e.asyncQueue,r)}createPersistence(e){const n=AM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ds.withCacheSize(this.cacheSizeBytes):Ds.DEFAULT;return new DM(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,k4(),MI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new O4}}class ez extends FR{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield n().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof LM&&(r.sharedClientState.syncEngine={Ys:Dhe.bind(null,i),Zs:Mhe.bind(null,i),Xs:Rhe.bind(null,i),Bi:Phe.bind(null,i),Js:She.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var s=(0,Ce.Z)(function*(o){yield function Ahe(t,e){return MR.apply(this,arguments)}(r.xa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const n=k4();if(!LM.D(n))throw new Pe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=AM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new LM(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Zp{initialize(e,n){var r=this;return(0,Ce.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Z4(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Ihe.bind(null,r.syncEngine),yield nR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ahe}createDatastore(e){const n=_y(e.databaseInfo.databaseId),r=new zde(e.databaseInfo);return new Gde(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>Z4(this.syncEngine,n,0),a=N4.D()?new N4:new jde,new Zde(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){const p=new phe(i,s,o,a,u,l);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Ce.Z)(function*(r){const i=He(r);xe("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Hp(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function tz(t,e=10240){let n=0;return{read:()=>(0,Ce.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class OI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Nhe{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Mi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,Ce.Z)(function*(){const n=yield e.qa();if(null===n)return null;const r=e.La.decode(n),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const s=yield e.Ka(i);return new che(JSON.parse(s),n.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,Ce.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ka(e){var n=this;return(0,Ce.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const r=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,Ce.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class khe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,Ce.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Pe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ce.Z)(function*(o,a){const u=He(o),l=uy(u.serializer)+"/documents",h={documents:a.map(S=>ay(u.serializer,S))},p=yield u.Co("BatchGetDocuments",l,h,a.length),v=new Map;p.forEach(S=>{const x=function nde(t,e){return"found"in e?function(r,i){ct(!!i.found);const s=_u(r,i.found.name),o=ui(i.found.updateTime),a=i.found.createTime?ui(i.found.createTime):ht.min(),u=new os({mapValue:{fields:i.found.fields}});return yr.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){ct(!!i.missing),ct(!!i.readTime);const s=_u(r,i.missing),o=ui(i.readTime);return yr.newNoDocument(s,o)}(t,e):Xe()}(u.serializer,S);v.set(x.key.toString(),x)});const C=[];return a.forEach(S=>{const x=v.get(S.toString());ct(!!x),C.push(x)}),C}),function s(o,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Np(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const s=We.fromPath(i);e.mutations.push(new aM(s,e.precondition(s)))}),yield(r=(0,Ce.Z)(function*(s,o){const a=He(s),u=uy(a.serializer)+"/documents",l={writes:o.map(h=>ly(a.serializer,h))};yield a.wo("Commit",u,l)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Xe();n=ht.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Pe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ht.min())?Rr.exists(!1):Rr.updateTime(n):Rr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ht.min()))throw new Pe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rr.updateTime(n)}return Rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Fhe{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new UM(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,Ce.Z)(function*(){const n=new khe(e.datastore),r=e.za(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ja(s)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const n=this.updateFunction(e);return!z_(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!SH(n)}return!1}}class Lhe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ji.UNAUTHENTICATED,this.clientId=C3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,Ce.Z)(function*(a){xe("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(xe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=qp(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function NI(t,e){return LR.apply(this,arguments)}function LR(){return LR=(0,Ce.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,Ce.Z)(function*(s){r.isEqual(s)||(yield T4(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),LR.apply(this,arguments)}function VR(t,e){return UR.apply(this,arguments)}function UR(){return UR=(0,Ce.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield BR(t);xe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>$4(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>$4(e.remoteStore,s)),t._onlineComponents=e}),UR.apply(this,arguments)}function nz(t){return"FirebaseError"===t.name?t.code===pe.FAILED_PRECONDITION||t.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function BR(t){return jR.apply(this,arguments)}function jR(){return jR=(0,Ce.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield NI(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!nz(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),yield NI(t,new Ey)}}else xe("FirestoreClient","Using default OfflineComponentProvider"),yield NI(t,new Ey);return t._offlineComponents}),jR.apply(this,arguments)}function kI(t){return $R.apply(this,arguments)}function $R(){return $R=(0,Ce.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe("FirestoreClient","Using user provided OnlineComponentProvider"),yield VR(t,t._uninitializedComponentsProvider._online)):(xe("FirestoreClient","Using default OnlineComponentProvider"),yield VR(t,new Zp))),t._onlineComponents}),$R.apply(this,arguments)}function rz(t){return BR(t).then(e=>e.persistence)}function Yp(t){return BR(t).then(e=>e.localStore)}function iz(t){return kI(t).then(e=>e.remoteStore)}function HR(t){return kI(t).then(e=>e.syncEngine)}function Xp(t){return zR.apply(this,arguments)}function zR(){return zR=(0,Ce.Z)(function*(t){const e=yield kI(t),n=e.eventManager;return n.onListen=ghe.bind(null,e.syncEngine),n.onUnlisten=mhe.bind(null,e.syncEngine),n}),zR.apply(this,arguments)}function oz(t,e,n={}){const r=new Mi;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(s,o,a,u,l){const h=new OI({next:v=>{o.enqueueAndForget(()=>aR(s,p));const C=v.docs.has(a);!C&&v.fromCache?l.reject(new Pe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&v.fromCache&&u&&"server"===u.source?l.reject(new Pe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(v)},error:v=>l.reject(v)}),p=new cR(Ap(a.path),h,{includeMetadataChanges:!0,J_:!0});return sR(s,p)}(yield Xp(t),t.asyncQueue,e,n,r)})),r.promise}function az(t,e,n={}){const r=new Mi;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(s,o,a,u,l){const h=new OI({next:v=>{o.enqueueAndForget(()=>aR(s,p)),v.fromCache&&"server"===u.source?l.reject(new Pe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(v)},error:v=>l.reject(v)}),p=new cR(a,h,{includeMetadataChanges:!0,J_:!0});return sR(s,p)}(yield Xp(t),t.asyncQueue,e,n,r)})),r.promise}function uz(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const lz=new Map;function WR(t,e,n){if(!n)throw new Pe(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cz(t,e,n,r){if(!0===e&&!0===r)throw new Pe(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dz(t){if(!We.isDocumentKey(t))throw new Pe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hz(t){if(We.isDocumentKey(t))throw new Pe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function FI(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Xe()}function dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=FI(t);throw new Pe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function fz(t,e){if(e<=0)throw new Pe(pe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class pz{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Pe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=uz(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Pe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pz(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Wle;switch(r.type){case"firstParty":return new Qle(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lz.get(n);r&&(xe("ComponentProvider","Removing Datastore"),lz.delete(n),r.terminate())}(this),Promise.resolve()}}class as{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new as(this.firestore,e,this._query)}}class vr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vr(this.firestore,e,this._key)}}class yu extends as{constructor(e,n,r){super(e,n,Ap(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vr(this.firestore,null,new We(e))}withConverter(e){return new yu(this.firestore,e,this._path)}}function mz(t,e,...n){if(t=(0,O.m9)(t),WR("collection","path",e),t instanceof wy){const r=bn.fromString(e,...n);return hz(r),new yu(t,null,r)}{if(!(t instanceof vr||t instanceof yu))throw new Pe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bn.fromString(e,...n));return hz(r),new yu(t.firestore,null,r)}}function Cy(t,e,...n){if(t=(0,O.m9)(t),1===arguments.length&&(e=C3.newId()),WR("doc","path",e),t instanceof wy){const r=bn.fromString(e,...n);return dz(r),new vr(t,null,new We(r))}{if(!(t instanceof vr||t instanceof yu))throw new Pe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bn.fromString(e,...n));return dz(r),new vr(t.firestore,t instanceof yu?t.converter:null,new We(r))}}function _z(t,e){return t=(0,O.m9)(t),e=(0,O.m9)(e),(t instanceof vr||t instanceof yu)&&(e instanceof vr||e instanceof yu)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function qR(t,e){return t=(0,O.m9)(t),e=(0,O.m9)(e),t instanceof as&&e instanceof as&&t.firestore===e.firestore&&X_(t._query,e._query)&&t.converter===e.converter}class Qhe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new UM(this,"async_queue_retry"),this.iu=()=>{const n=MI();n&&xe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=MI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=MI();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Mi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!rc(n))throw n;xe("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,ai("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=iR.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Xe()}verifyOperationInProgress(){}uu(){var e=this;return(0,Ce.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function GR(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class Zhe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cr extends wy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Qhe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yz(this),this._firestoreClient.terminate()}}function ei(t){return t._firestoreClient||yz(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yz(t){var e,n,r;const i=t._freezeSettings(),s=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Tce(t._databaseId,u,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,uz(h.experimentalLongPollingOptions),h.useFetchStreams));var u,h;t._firestoreClient=new Lhe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function vz(t,e,n){const r=new Mi;return t.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield NI(t,n),yield VR(t,e),r.resolve()}catch(i){const s=i;if(!nz(s))throw s;fo("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function Ez(t){if(t._initialized||t._terminated)throw new Pe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vu(Ri.fromBase64String(e))}catch(n){throw new Pe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vu(Ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Pe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gd{constructor(e){this._methodName=e}}class LI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}const afe=/^__.*__$/;class ufe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ul(e,this.data,this.fieldMask,n,this.fieldTransforms):new Op(e,this.data,n,this.fieldTransforms)}}class wz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ul(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Cz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class VI{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new VI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return jI(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Cz(this.Iu)&&afe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class lfe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_y(e)}pu(e,n,r,i=!1){return new VI({Iu:e,methodName:n,gu:r,path:_r.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kd(t){const e=t._freezeSettings(),n=_y(t._databaseId);return new lfe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function UI(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);YR("Data must be an object, but it was:",o,r);const a=Tz(r,o);let u,l;if(s.merge)u=new po(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const v=Ty(e,p,n);if(!o.contains(v))throw new Pe(pe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Dz(h,v)||h.push(v)}u=new po(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new ufe(new os(a),u,l)}class by extends Gd{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof by}}function Iz(t,e,n){return new VI({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class KR extends Gd{_toFieldTransform(e){return new ny(e.path,new Rp)}isEqual(e){return e instanceof KR}}class cfe extends Gd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=Iz(this,e,!0),r=this.yu.map(s=>Qd(s,n)),i=new Vd(r);return new ny(e.path,i)}isEqual(e){return this===e}}class dfe extends Gd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=Iz(this,e,!0),r=this.yu.map(s=>Qd(s,n)),i=new Ud(r);return new ny(e.path,i)}isEqual(e){return this===e}}class hfe extends Gd{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new xp(e.serializer,gH(e.serializer,this.wu));return new ny(e.path,n)}isEqual(e){return this===e}}function QR(t,e,n,r){const i=t.pu(1,e,n);YR("Data must be an object, but it was:",i,r);const s=[],o=os.empty();ic(r,(u,l)=>{const h=BI(e,u,n);l=(0,O.m9)(l);const p=i.Ru(h);if(l instanceof by)s.push(h);else{const v=Qd(l,p);null!=v&&(s.push(h),o.set(h,v))}});const a=new po(s);return new wz(o,a,i.fieldTransforms)}function ZR(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[Ty(e,r,n)],u=[i];if(s.length%2!=0)throw new Pe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)a.push(Ty(e,s[v])),u.push(s[v+1]);const l=[],h=os.empty();for(let v=a.length-1;v>=0;--v)if(!Dz(l,a[v])){const C=a[v];let S=u[v];S=(0,O.m9)(S);const x=o.Ru(C);if(S instanceof by)l.push(C);else{const F=Qd(S,x);null!=F&&(l.push(C),h.set(C,F))}}const p=new po(l);return new wz(h,p,o.fieldTransforms)}function bz(t,e,n,r=!1){return Qd(n,t.pu(r?4:3,e))}function Qd(t,e){if(Sz(t=(0,O.m9)(t)))return YR("Unsupported field value:",e,t),Tz(t,e);if(t instanceof Gd)return function(r,i){if(!Cz(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Qd(a,i.Vu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=(0,O.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return gH(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Mr.fromDate(r);return{timestampValue:kp(i.serializer,s)}}if(r instanceof Mr){const s=new Mr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kp(i.serializer,s)}}if(r instanceof LI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vu)return{bytesValue:FH(i.serializer,r._byteString)};if(r instanceof vr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fM(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${FI(r)}`)}(t,e)}function Tz(t,e){const n={};return L3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ic(t,(r,i)=>{const s=Qd(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Sz(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Mr||t instanceof LI||t instanceof vu||t instanceof vr||t instanceof Gd)}function YR(t,e,n){if(!Sz(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=FI(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Ty(t,e,n){if((e=(0,O.m9)(e))instanceof dl)return e._internalPath;if("string"==typeof e)return BI(t,e);throw jI("Field path arguments must be of type string or ",t,!1,void 0,n)}const ffe=new RegExp("[~\\*/\\[\\]]");function BI(t,e,n){if(e.search(ffe)>=0)throw jI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dl(...e.split("."))._internalPath}catch{throw jI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jI(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Pe(pe.INVALID_ARGUMENT,a+t+u)}function Dz(t,e){return t.some(n=>n.isEqual(e))}class Sy{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($I("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class pfe extends Sy{data(){return super.data()}}function $I(t,e){return"string"==typeof e?BI(t,e):e instanceof dl?e._internalPath:e._delegate._internalPath}function Az(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Pe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XR{}class Dy extends XR{}function _c(t,e,...n){let r=[];e instanceof XR&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Jp).length,a=s.filter(u=>u instanceof Ay).length;if(o>1||o>0&&a>0)throw new Pe(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ay extends Dy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ay(e,n,r)}_apply(e){const n=this._parse(e);return xz(e._query,n),new as(e.firestore,e.converter,sM(e._query,n))}_parse(e){const n=Kd(e.firestore);return function(s,o,a,u,l,h,p){let v;if(l.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){Rz(p,h);const C=[];for(const S of p)C.push(Mz(u,s,S));v={arrayValue:{values:C}}}else v=Mz(u,s,p)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||Rz(p,h),v=bz(a,"where",p,"in"===h||"not-in"===h);return mn.create(l,h,v)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Jp extends XR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)xz(o,u),o=sM(o,u)}(e._query,n),new as(e.firestore,e.converter,sM(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class JR extends Dy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new JR(e,n)}_apply(e){const n=function(i,s,o){if(null!==i.startAt)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Z_(s,o)}(e._query,this._field,this._direction);return new as(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ol(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class HI extends Dy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new HI(e,n,r)}_apply(e){return new as(e.firestore,e.converter,cI(e._query,this._limit,this._limitType))}}class zI extends Dy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new zI(e,n,r)}_apply(e){const n=Pz(e,this.type,this._docOrFields,this._inclusive);return new as(e.firestore,e.converter,(s=n,new ol((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class WI extends Dy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new WI(e,n,r)}_apply(e){const n=Pz(e,this.type,this._docOrFields,this._inclusive);return new as(e.firestore,e.converter,(s=n,new ol((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function Pz(t,e,n,r){if(n[0]=(0,O.m9)(n[0]),n[0]instanceof Sy)return function(s,o,a,u,l){if(!u)throw new Pe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const p of Pp(s))if(p.field.isKeyField())h.push(Fd(o,u.key));else{const v=u.data.field(p.field);if(rI(v))throw new Pe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===v){const C=p.field.canonicalString();throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${C}' (used as the orderBy) does not exist.`)}h.push(v)}return new cc(h,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Kd(t.firestore);return function(o,a,u,l,h,p){const v=o.explicitOrderBy;if(h.length>v.length)throw new Pe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const C=[];for(let S=0;S<h.length;S++){const x=h[S];if(v[S].field.isKeyField()){if("string"!=typeof x)throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof x}`);if(!iM(o)&&-1!==x.indexOf("/"))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${x}' contains a slash.`);const F=o.path.child(bn.fromString(x));if(!We.isDocumentKey(F))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${F}' is not because it contains an odd number of segments.`);const Z=new We(F);C.push(Fd(a,Z))}else{const F=bz(u,l,x);C.push(F)}}return new cc(C,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Mz(t,e,n){if("string"==typeof(n=(0,O.m9)(n))){if(""===n)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iM(e)&&-1!==n.indexOf("/"))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(bn.fromString(n));if(!We.isDocumentKey(r))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fd(t,new We(r))}if(n instanceof vr)return Fd(t,n._key);throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${FI(n)}.`)}function Rz(t,e){if(!Array.isArray(t)||0===t.length)throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xz(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Pe(pe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ex{convertValue(e,n="none"){switch(uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ic(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new LI(Jr(e.latitude),Jr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=iI(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(q_(e));default:return null}}convertTimestamp(e){const n=sc(e);return new Mr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=bn.fromString(e);ct(qH(r));const i=new oc(r.get(1),r.get(3)),s=new We(r.popFirst(5));return i.isEqual(n)||ai(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function qI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ife extends ex{constructor(e){super(),this.firestore=e}convertBytes(e){return new vu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,n)}}class Zd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hl extends Sy{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Py(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($I("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Py extends hl{data(e={}){return super.data(e)}}class yc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Py(this._firestore,this._userDataWriter,r.key,r,new Zd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Py(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new Py(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,h=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Tfe(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Tfe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function Nz(t,e){return t instanceof hl&&e instanceof hl?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof yc&&e instanceof yc&&t._firestore===e._firestore&&qR(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class vc extends ex{constructor(e){super(),this.firestore=e}convertBytes(e){return new vu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,n)}}function tx(t,e,n){t=dn(t,vr);const r=dn(t.firestore,cr),i=qI(t.converter,e,n);return eg(r,[UI(Kd(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Rr.none())])}function kz(t,e,n,...r){t=dn(t,vr);const i=dn(t.firestore,cr),s=Kd(i);let o;return o="string"==typeof(e=(0,O.m9)(e))||e instanceof dl?ZR(s,"updateDoc",t._key,e,n,r):QR(s,"updateDoc",t._key,e),eg(i,[o.toMutation(t._key,Rr.exists(!0))])}function Fz(t,...e){var n,r,i;t=(0,O.m9)(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||GR(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(GR(e[o])){const p=e[o];e[o]=null===(n=p.next)||void 0===n?void 0:n.bind(p),e[o+1]=null===(r=p.error)||void 0===r?void 0:r.bind(p),e[o+2]=null===(i=p.complete)||void 0===i?void 0:i.bind(p)}let u,l,h;if(t instanceof vr)l=dn(t.firestore,cr),h=Ap(t._key.path),u={next:p=>{e[o]&&e[o](nx(l,t,p))},error:e[o+1],complete:e[o+2]};else{const p=dn(t,as);l=dn(p.firestore,cr),h=p._query;const v=new vc(l);u={next:C=>{e[o]&&e[o](new yc(l,v,p,C))},error:e[o+1],complete:e[o+2]},Az(t._query)}return function(v,C,S,x){const F=new OI(x),Z=new cR(C,F,S);return v.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return sR(yield Xp(v),Z)})),()=>{F.Na(),v.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return aR(yield Xp(v),Z)}))}}(ei(l),h,a,u)}function eg(t,e){return function(r,i){const s=new Mi;return r.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function _he(t,e,n){return gR.apply(this,arguments)}(yield HR(r),i,s)})),s.promise}(ei(t),e)}function nx(t,e,n){const r=n.docs.get(e._key),i=new vc(t);return new hl(t,i,e._key,r,new Zd(n.hasPendingWrites,n.fromCache),e.converter)}const Hfe={maxAttempts:5};class Lz{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Kd(e)}set(e,n,r){this._verifyNotCommitted();const i=Ec(e,this._firestore),s=qI(i.converter,n,r),o=UI(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Rr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Ec(e,this._firestore);let o;return o="string"==typeof(n=(0,O.m9)(n))||n instanceof dl?ZR(this._dataReader,"WriteBatch.update",s._key,n,r,i):QR(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ec(e,this._firestore);return this._mutations=this._mutations.concat(new Np(n._key,Rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ec(t,e){if((t=(0,O.m9)(t)).firestore!==e)throw new Pe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class zfe extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Kd(n)}get(n){const r=Ec(n,this._firestore),i=new Ife(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return Xe();const o=s[0];if(o.isFoundDocument())return new Sy(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Sy(this._firestore,i,r._key,null,r.converter);throw Xe()})}set(n,r,i){const s=Ec(n,this._firestore),o=qI(s.converter,r,i),a=UI(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Ec(n,this._firestore);let a;return a="string"==typeof(r=(0,O.m9)(r))||r instanceof dl?ZR(this._dataReader,"Transaction.update",o._key,r,i,s):QR(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Ec(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ec(e,this._firestore),r=new vc(this._firestore);return super.get(e).then(i=>new hl(this._firestore,r,n._key,i._document,new Zd(!1,!1),n.converter))}}function ix(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function jz(){if(typeof Uint8Array>"u")throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function $z(){if(!function Ice(){return typeof atob<"u"}())throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){Ep=Cs.SDK_VERSION,(0,Cs._registerComponent)(new Aa.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new cr(new Gle(r.getProvider("auth-internal")),new Zle(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Pe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Cs.registerVersion)(v3,"4.3.2",e),(0,Cs.registerVersion)(v3,"4.3.2","esm2017")}();class My{constructor(e){this._delegate=e}static fromBase64String(e){return $z(),new My(vu.fromBase64String(e))}static fromUint8Array(e){return jz(),new My(vu.fromUint8Array(e))}toBase64(){return $z(),this._delegate.toBase64()}toUint8Array(){return jz(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sx(t){return function epe(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class tpe{enableIndexedDbPersistence(e,n){return function Xhe(t,e){Ez(t=dn(t,cr));const n=ei(t);if(n._uninitializedComponentsProvider)throw new Pe(pe.FAILED_PRECONDITION,"SDK cache is already specified.");fo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Zp;return vz(n,i,new FR(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function Jhe(t){Ez(t=dn(t,cr));const e=ei(t);if(e._uninitializedComponentsProvider)throw new Pe(pe.FAILED_PRECONDITION,"SDK cache is already specified.");fo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Zp;return vz(e,r,new ez(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function efe(t){if(t._initialized&&!t._terminated)throw new Pe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mi;return t._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(n=(0,Ce.Z)(function*(i){if(!xa.D())return Promise.resolve();const s=i+"main";yield xa.delete(s)}),function r(i){return n.apply(this,arguments)})(AM(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class Hz{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof oc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&fo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function gz(t,e,n,r={}){var i;const s=(t=dn(t,wy))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=ji.MOCK_USER;else{a=(0,O.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Pe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ji(l)}t._authCredentials=new qle(new E3(a,u))}}(this._delegate,e,n,r)}enableNetwork(){return function nfe(t){return function Vhe(t){return t.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield rz(t),n=yield iz(t);return e.setNetworkEnabled(!0),function(i){const s=He(i);return s.C_.delete(0),yy(s)}(n)}))}(ei(t=dn(t,cr)))}(this._delegate)}disableNetwork(){return function rfe(t){return function Uhe(t){return t.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield rz(t),n=yield iz(t);return e.setNetworkEnabled(!1),(r=(0,Ce.Z)(function*(s){const o=He(s);o.C_.add(0),yield Hp(o),o.M_.set("Offline")}),function i(s){return r.apply(this,arguments)})(n);var r}))}(ei(t=dn(t,cr)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,cz("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function tfe(t){return function(n){const r=new Mi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function whe(t,e){return ER.apply(this,arguments)}(yield HR(n),r)})),r.promise}(ei(t=dn(t,cr)))}(this._delegate)}onSnapshotsInSync(e){return function Nfe(t,e){return function $he(t,e){const n=new OI(e);return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield Xp(t),s=n,He(i).q_.add(s),void s.next();var i,s})),()=>{n.Na(),t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield Xp(t),s=n,void He(i).q_.delete(s);var i,s}))}}(ei(t=dn(t,cr)),GR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new tg(this,mz(this._delegate,e))}catch(n){throw Zs(n,"collection()","Firestore.collection()")}}doc(e){try{return new ia(this,Cy(this._delegate,e))}catch(n){throw Zs(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ys(this,function Khe(t,e){if(t=dn(t,wy),WR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new as(t,null,(r=e,new ol(bn.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw Zs(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Wfe(t,e,n){t=dn(t,cr);const r=Object.assign(Object.assign({},Hfe),n);return function(s){if(s.maxAttempts<1)throw new Pe(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new Mi;return s.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const l=yield function sz(t){return kI(t).then(e=>e.datastore)}(s);new Fhe(s.asyncQueue,l,a,o,u).run()})),u.promise}(ei(t),i=>e(new zfe(t,i)),r)}(this._delegate,n=>e(new zz(this,n)))}batch(){return ei(this._delegate),new Wz(new Lz(this._delegate,e=>eg(this._delegate,e)))}loadBundle(e){return function ife(t,e){const n=ei(t=dn(t,cr)),r=new Zhe;return function Hhe(t,e,n,r){const i=function(o,a){let u;return u="string"==typeof o?AH().encode(o):o,h=function(h,p){if(h instanceof Uint8Array)return tz(h,p);if(h instanceof ArrayBuffer)return tz(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new Nhe(h,a);var h}(n,_y(e));t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function xhe(t,e,n){const r=He(t);var i;(i=(0,Ce.Z)(function*(o,a,u){try{const l=yield a.getMetadata();if(yield function(S,x){const F=He(S),Z=ui(x.createTime);return F.persistence.runTransaction("hasNewerBundle","readonly",z=>F.Kr.getBundleMetadata(z,x.id)).then(z=>!!z&&z.createTime.compareTo(Z)>=0)}(o.localStore,l))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(S=l).totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}),Promise.resolve(new Set);u._updateProgress(W4(l));const h=new dhe(l,o.localStore,a.serializer);let p=yield a.Ma();for(;p;){const C=yield h.ea(p);C&&u._updateProgress(C),p=yield a.Ma()}const v=yield h.complete();return yield cl(o,v.ra,void 0),yield function(S,x){const F=He(S);return F.persistence.runTransaction("Save bundle","readwrite",Z=>F.Kr.saveBundleMetadata(Z,x))}(o.localStore,l),u._completeWith(v.progress),Promise.resolve(v.na)}catch(l){return fo("SyncEngine",`Loading bundle failed with ${l}`),u._failWith(l),Promise.resolve(new Set)}var S}),function s(o,a,u){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield HR(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function sfe(t,e){return function zhe(t,e){return t.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(r,i){const s=He(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield Yp(t),e)}))}(ei(t=dn(t,cr)),e).then(n=>n?new as(t,null,n.query):null)}(this._delegate,e).then(n=>n?new Ys(this,n):null)}}class KI extends ex{constructor(e){super(),this.firestore=e}convertBytes(e){return new My(new vu(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ia.forKey(n,this.firestore,null)}}class zz{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new KI(e)}get(e){const n=Xd(e);return this._delegate.get(n).then(r=>new Ry(this._firestore,new hl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Xd(e);return r?(ix("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Xd(e);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Xd(e);return this._delegate.delete(n),this}}class Wz{constructor(e){this._delegate=e}set(e,n,r){const i=Xd(e);return r?(ix("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Xd(e);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Xd(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Yd{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Py(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xy(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Yd.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Yd(e,new KI(e),n),i.set(n,s)),s}}Yd.INSTANCES=new WeakMap;class ia{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new KI(e)}static forPath(e,n,r){if(e.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ia(n,new vr(n._delegate,r,new We(e)))}static forKey(e,n,r){return new ia(n,new vr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new tg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new tg(this.firestore,mz(this._delegate,e))}catch(n){throw Zs(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,O.m9)(e))instanceof vr&&_z(this._delegate,e)}set(e,n){n=ix("DocumentReference.set",n);try{return n?tx(this._delegate,e,n):tx(this._delegate,e)}catch(r){throw Zs(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?kz(this._delegate,e):kz(this._delegate,e,n,...r)}catch(i){throw Zs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function xfe(t){return eg(dn(t.firestore,cr),[new Np(t._key,Rr.none())])}(this._delegate)}onSnapshot(...e){const n=qz(e),r=Gz(e,i=>new Ry(this.firestore,new hl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Fz(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function Dfe(t){t=dn(t,vr);const e=dn(t.firestore,cr),n=ei(e),r=new vc(e);return function Bhe(t,e){const n=new Mi;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(s,o,a){try{const u=yield function(h,p){const v=He(h);return v.persistence.runTransaction("read document","readonly",C=>v.localDocuments.getDocument(C,p))}(s,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new Pe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const l=qp(u,`Failed to get document '${o} from cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Yp(t),e,n);var r})),n.promise}(n,t._key).then(i=>new hl(e,r,t._key,i,new Zd(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function Afe(t){t=dn(t,vr);const e=dn(t.firestore,cr);return oz(ei(e),t._key,{source:"server"}).then(n=>nx(e,t,n))}(this._delegate):function Sfe(t){t=dn(t,vr);const e=dn(t.firestore,cr);return oz(ei(e),t._key).then(n=>nx(e,t,n))}(this._delegate),n.then(r=>new Ry(this.firestore,new hl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ia(this.firestore,this._delegate.withConverter(e?Yd.getInstance(this.firestore,e):null))}}function Zs(t,e,n){return t.message=t.message.replace(e,n),t}function qz(t){for(const e of t)if("object"==typeof e&&!sx(e))return e;return{}}function Gz(t,e){var n,r;let i;return i=sx(t[0])?t[0]:sx(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Ry{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Nz(this._delegate,e._delegate)}}class xy extends Ry{data(e){const n=this._delegate.data(e);return this._delegate._converter||function zle(t,e){t||Xe()}(void 0!==n),n}}class Ys{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new KI(e)}where(e,n,r){try{return new Ys(this.firestore,_c(this._delegate,function gfe(t,e,n){const r=e,i=$I("where",t);return Ay._create(i,r,n)}(e,n,r)))}catch(i){throw Zs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Ys(this.firestore,_c(this._delegate,function mfe(t,e="asc"){const n=e,r=$I("orderBy",t);return JR._create(r,n)}(e,n)))}catch(r){throw Zs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ys(this.firestore,_c(this._delegate,function _fe(t){return fz("limit",t),HI._create("limit",t,"F")}(e)))}catch(n){throw Zs(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Ys(this.firestore,_c(this._delegate,function yfe(t){return fz("limitToLast",t),HI._create("limitToLast",t,"L")}(e)))}catch(n){throw Zs(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ys(this.firestore,_c(this._delegate,function vfe(...t){return zI._create("startAt",t,!0)}(...e)))}catch(n){throw Zs(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ys(this.firestore,_c(this._delegate,function Efe(...t){return zI._create("startAfter",t,!1)}(...e)))}catch(n){throw Zs(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ys(this.firestore,_c(this._delegate,function wfe(...t){return WI._create("endBefore",t,!1)}(...e)))}catch(n){throw Zs(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ys(this.firestore,_c(this._delegate,function Cfe(...t){return WI._create("endAt",t,!0)}(...e)))}catch(n){throw Zs(n,"endAt()","Query.endAt()")}}isEqual(e){return qR(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function Mfe(t){t=dn(t,as);const e=dn(t.firestore,cr),n=ei(e),r=new vc(e);return function jhe(t,e){const n=new Mi;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(s,o,a){try{const u=yield SI(s,o,!0),l=new K4(o,u.ls),h=l.ca(u.documents),p=l.applyChanges(h,!1);a.resolve(p.snapshot)}catch(u){const l=qp(u,`Failed to execute query '${o} against cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Yp(t),e,n);var r})),n.promise}(n,t._query).then(i=>new yc(e,r,t,i))}(this._delegate):"server"===e?.source?function Rfe(t){t=dn(t,as);const e=dn(t.firestore,cr),n=ei(e),r=new vc(e);return az(n,t._query,{source:"server"}).then(i=>new yc(e,r,t,i))}(this._delegate):function Pfe(t){t=dn(t,as);const e=dn(t.firestore,cr),n=ei(e),r=new vc(e);return Az(t._query),az(n,t._query).then(i=>new yc(e,r,t,i))}(this._delegate),n.then(r=>new ox(this.firestore,new yc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=qz(e),r=Gz(e,i=>new ox(this.firestore,new yc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Fz(this._delegate,n,r)}withConverter(e){return new Ys(this.firestore,this._delegate.withConverter(e?Yd.getInstance(this.firestore,e):null))}}class rpe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new xy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ox{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new xy(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new rpe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new xy(this._firestore,r))})}isEqual(e){return Nz(this._delegate,e._delegate)}}class tg extends Ys{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ia(this.firestore,e):null}doc(e){try{return new ia(this.firestore,void 0===e?Cy(this._delegate):Cy(this._delegate,e))}catch(n){throw Zs(n,"doc()","CollectionReference.doc()")}}add(e){return function Ofe(t,e){const n=dn(t.firestore,cr),r=Cy(t),i=qI(t.converter,e);return eg(n,[UI(Kd(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Rr.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new ia(this.firestore,n))}isEqual(e){return _z(this._delegate,e._delegate)}withConverter(e){return new tg(this.firestore,this._delegate.withConverter(e?Yd.getInstance(this.firestore,e):null))}}function Xd(t){return dn(t,vr)}class ax{constructor(...e){this._delegate=new dl(...e)}static documentId(){return new ax(_r.keyField().canonicalString())}isEqual(e){return(e=(0,O.m9)(e))instanceof dl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Jd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Gfe(){return new KR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Jd(e)}static delete(){const e=function qfe(){return new by("deleteField")}();return e._methodName="FieldValue.delete",new Jd(e)}static arrayUnion(...e){const n=function Kfe(...t){return new cfe("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Jd(n)}static arrayRemove(...e){const n=function Qfe(...t){return new dfe("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Jd(n)}static increment(e){const n=function Zfe(t){return new hfe("increment",t)}(e);return n._methodName="FieldValue.increment",new Jd(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ipe={Firestore:Hz,GeoPoint:LI,Timestamp:Mr,Blob:My,Transaction:zz,WriteBatch:Wz,DocumentReference:ia,DocumentSnapshot:Ry,Query:Ys,QueryDocumentSnapshot:xy,QuerySnapshot:ox,CollectionReference:tg,FieldPath:ax,FieldValue:Jd,setLogLevel:function npe(t){!function Hle(t){tc.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function Kz(t,e){return function ape(t,e=mC){return new an(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function ux(t,e){return Kz(t,e).pipe(Re(n=>({payload:n,type:"query"})))}!function ope(t){(function spe(t,e){t.INTERNAL.registerComponent(new Aa.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},ipe)))})(t,(e,n)=>new Hz(e,n,new tpe)),t.registerVersion("@firebase/firestore-compat","0.3.22")}(Do.Z);class Qz{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:s}=tW(r,n);return new Xz(i,s,this.afs)}snapshotChanges(){return function upe(t,e){return Kz(t,e).pipe(eC(void 0),rP(),Re(n=>{const[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oi)}valueChanges(e={}){return this.snapshotChanges().pipe(Re(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return jn(this.ref.get(e)).pipe(oi)}}function QI(t,e){return ux(t,e).pipe(eC(void 0),rP(),Re(n=>{const[r,i]=n,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const l=s.find(p=>p.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(p=>p.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function Zz(t,e,n){return QI(t,n).pipe(Wf((r,i)=>function lpe(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function cpe(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return lx(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return lx(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return lx(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(s=>s.payload),e),[]),n$(),Re(r=>r.map(i=>({type:i.type,payload:i}))))}function lx(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Yz(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class Xz{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=QI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(Re(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(eC(void 0),rP(),Sa(([r,i])=>i.length>0||!r),Re(([,r])=>r),oi)}auditTrail(e){return this.stateChanges(e).pipe(Wf((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=Yz(e);return Zz(this.query,n,this.afs.schedulers.outsideAngular).pipe(oi)}valueChanges(e={}){return ux(this.query,this.afs.schedulers.outsideAngular).pipe(Re(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),oi)}get(e){return jn(this.query.get(e)).pipe(oi)}add(e){return this.ref.add(e)}doc(e){return new Qz(this.ref.doc(e),this.afs)}}class dpe{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?QI(this.query,this.afs.schedulers.outsideAngular).pipe(Re(n=>n.filter(r=>e.indexOf(r.type)>-1)),Sa(n=>n.length>0),oi):QI(this.query,this.afs.schedulers.outsideAngular).pipe(oi)}auditTrail(e){return this.stateChanges(e).pipe(Wf((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=Yz(e);return Zz(this.query,n,this.afs.schedulers.outsideAngular).pipe(oi)}valueChanges(e={}){return ux(this.query,this.afs.schedulers.outsideAngular).pipe(Re(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),oi)}get(e){return jn(this.query.get(e)).pipe(oi)}}const Jz=new Le("angularfire2.enableFirestorePersistence"),eW=new Le("angularfire2.firestore.persistenceSettings"),hpe=new Le("angularfire2.firestore.settings"),fpe=new Le("angularfire2.firestore.use-emulator");function tW(t,e=(n=>n)){return{query:e(t),ref:t}}let Oy=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,s,o,a,u,l,h,p,v,C,S,x,F,Z,z){this.schedulers=u;const re=p_(n,a,r),me=h;p&&zA(re,a,v,S,x,F,C,Z),[this.firestore,this.persistenceEnabled$]=vC(`${re.name}.firestore`,"AngularFirestore",re.name,()=>{const ke=a.runOutsideAngular(()=>re.firestore());if(s&&ke.settings(s),me&&ke.useEmulator(...me),i&&!Fw(o)){const Ze=()=>{try{return jn(ke.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch($t){return typeof console<"u"&&console.warn($t),wt(!1)}};return[ke,a.runOutsideAngular(Ze)]}return[ke,wt(!1)]},[s,me,i])}collection(n,r){let i;i="string"==typeof n?this.firestore.collection(n):n;const{ref:s,query:o}=tW(i,r),a=this.schedulers.ngZone.run(()=>s);return new Xz(a,o,this)}collectionGroup(n,r){const i=r||(o=>o),s=this.firestore.collectionGroup(n);return new dpe(i(s),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const i=this.schedulers.ngZone.run(()=>r);return new Qz(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(k(ap),k(up,8),k(Jz,8),k(hpe,8),k(Ea),k(gn),k(yC),k(eW,8),k(fpe,8),k(g_,8),k(VA,8),k(UA,8),k(BA,8),k(jA,8),k($A,8),k(HA,8),k(_C,8))};static \u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),ppe=(()=>{class t{constructor(){Do.Z.registerVersion("angularfire",ip.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:Jz,useValue:!0},{provide:eW,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jn({type:t});static \u0275inj=sr({providers:[Oy]})}return t})();const nW="@firebase/database";let cx="";function dx(t){cx=t}class _pe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,O.Wl)(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:(0,O.cI)(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class ype{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return(0,O.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const iW=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _pe(e)}}catch{}return new ype},eh=iW("localStorage"),hx=iW("sessionStorage"),ng=new Po.Yd("@firebase/database"),sW=function(){let t=1;return function(){return t++}}(),oW=function(t){const e=(0,O.dS)(t),n=new O.gQ;n.update(e);const r=n.digest();return O.US.encodeByteArray(r)},Ny=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Ny.apply(null,r):e+="object"==typeof r?(0,O.Wl)(r):r,e+=" "}return e};let th=null,aW=!0;const uW=function(t,e){(0,O.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(ng.logLevel=Po.in.VERBOSE,th=ng.log.bind(ng),e&&hx.set("logging_enabled",!0)):"function"==typeof t?th=t:(th=null,hx.remove("logging_enabled"))},zi=function(...t){if(!0===aW&&(aW=!1,null===th&&!0===hx.get("logging_enabled")&&uW(!0)),th){const e=Ny.apply(null,t);th(e)}},ky=function(t){return function(...e){zi(t,...e)}},fx=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ny(...t);ng.error(e)},Eu=function(...t){const e=`FIREBASE FATAL ERROR: ${Ny(...t)}`;throw ng.error(e),new Error(e)},Ps=function(...t){const e="FIREBASE WARNING: "+Ny(...t);ng.warn(e)},ZI=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},wc="[MIN_NAME]",fl="[MAX_NAME]",nh=function(t,e){if(t===e)return 0;if(t===wc||e===fl)return-1;if(e===wc||t===fl)return 1;{const n=dW(t),r=dW(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},wpe=function(t,e){return t===e?0:t<e?-1:1},Fy=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,O.Wl)(e))},px=function(t){if("object"!=typeof t||null===t)return(0,O.Wl)(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=(0,O.Wl)(e[r]),n+=":",n+=px(t[e[r]]);return n+="}",n},lW=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Wi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const cW=function(t){(0,O.hu)(!ZI(t),"Invalid JSON number");const r=1023;let i,s,o,a,u;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const l=[];for(u=52;u;u-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();const h=l.join("");let p="";for(u=0;u<64;u+=8){let v=parseInt(h.substr(u,8),2).toString(16);1===v.length&&(v="0"+v),p+=v}return p.toLowerCase()},Tpe=new RegExp("^-?(0*)\\d{1,10}$"),dW=function(t){if(Tpe.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},rg=function(t){try{t()}catch(e){setTimeout(()=>{throw Ps("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Ly=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Ppe{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ps(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Mpe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(zi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ps(e)}}let Vy=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const mW=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vW="websocket",EW="long_polling";class mx{constructor(e,n,r,i,s=!1,o="",a=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=eh.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&eh.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function wW(t,e,n){let r;if((0,O.hu)("string"==typeof e,"typeof type must == string"),(0,O.hu)("object"==typeof n,"typeof params must == object"),e===vW)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==EW)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function Rpe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Wi(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class xpe{constructor(){this.counters_={}}incrementCounter(e,n=1){(0,O.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return(0,O.p$)(this.counters_)}}const _x={},yx={};function vx(t){const e=t.toString();return _x[e]||(_x[e]=new xpe),_x[e]}class Npe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&rg(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Cc{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ky(e),this.stats_=vx(n),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),wW(n,EW,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Npe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,O.Yr)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ex((...s)=>{const[o,a,u,l,h]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&mW.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cc.forceAllow_=!0}static forceDisallow(){Cc.forceDisallow_=!0}static isAvailable(){return!((0,O.Yr)()||!Cc.forceAllow_&&(Cc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=(0,O.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=(0,O.h$)(n),i=lW(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if((0,O.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=(0,O.Wl)(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ex{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,O.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=sW(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ex.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){zi("frame writing exception"),a.stack&&zi(a.stack),zi(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||zi("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){(0,O.Yr)()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{zi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let XI=null;typeof MozWebSocket<"u"?XI=MozWebSocket:typeof WebSocket<"u"&&(XI=WebSocket);let ig=(()=>{class t{constructor(n,r,i,s,o,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ky(this.connId),this.stats_=vx(r),this.connURL=t.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return!(0,O.Yr)()&&typeof location<"u"&&location.hostname&&mW.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),wW(n,vW,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,eh.set("previous_websocket_failure",!0);try{let i;if((0,O.Yr)()){i={headers:{"User-Agent":`Firebase/5/${cx}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new XI(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==XI&&!t.forceDisallow_}static previouslyFailed(){return eh.isInMemoryStorage||!0===eh.get("previous_websocket_failure")}markConnectionHealthy(){eh.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,O.cI)(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,O.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=(0,O.Wl)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=lW(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),AW=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Cc,ig]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=ig&&ig.isAvailable();let i=r&&!ig.previouslyFailed();if(n.webSocketOnly&&(r||Ps("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ig];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class kW{constructor(e,n,r,i,s,o,a,u,l,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ky("c:"+this.id+":"),this.transportManager_=new AW(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ly(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Fy("t",e),r=Fy("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Fy("t",e),r=Fy("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Fy("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?fx("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fx("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Ps("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ly(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ly(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(eh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class FW{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class LW{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,O.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,O.hu)(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class JI extends LW{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,O.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new JI}getInitialEvent(e){return(0,O.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Vn{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Nn(){return new Vn("")}function nn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ic(t){return t.pieces_.length-t.pieceNum_}function rr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Vn(t.pieces_,e)}function Cx(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Uy(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function BW(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Vn(e,0)}function xr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Vn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Vn(n,0)}function rn(t){return t.pieceNum_>=t.pieces_.length}function Xs(t,e){const n=nn(t),r=nn(e);if(null===n)return e;if(n===r)return Xs(rr(t),rr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nge(t,e){const n=Uy(t,0),r=Uy(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=nh(n[i],r[i]);if(0!==s)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Ix(t,e){if(Ic(t)!==Ic(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function sa(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ic(t)>Ic(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class rge{constructor(e,n){this.errorPrefix_=n,this.parts_=Uy(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,O.ug)(this.parts_[r]);jW(this)}}function jW(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+rh(t))}function rh(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class bx extends LW{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new bx}getInitialEvent(e){return(0,O.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const By=1e3;let t0,ih=(()=>{class t extends FW{constructor(n,r,i,s,o,a,u,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=ky("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=By,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,O.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bx.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&JI.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_((0,O.Wl)(o)),(0,O.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new O.BH,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const u=a.d;"ok"===a.s?r.resolve(u):r.reject(u)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),(0,O.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,O.hu)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,u=>{const l=u.d,h=u.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),"ok"!==h&&this.removeListen_(i,s),n.onComplete&&n.onComplete(h,l))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&(0,O.r3)(n,"w")){const i=(0,O.DV)(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Ps(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,O.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=(0,O.w9)(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,O.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,O.Wl)(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):fx("Unrecognized action received from server: "+(0,O.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,O.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=By,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=By,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=By),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,Ce.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let u=!1,l=null;const h=function(){l?l.close():(u=!0,s())};n.realtime_={close:h,sendRequest:function(C){(0,O.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(C)}};const v=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[C,S]=yield Promise.all([n.authTokenProvider_.getToken(v),n.appCheckTokenProvider_.getToken(v)]);u?zi("getToken() completed but was canceled"):(zi("getToken() completed. Creating connection."),n.authToken_=C&&C.accessToken,n.appCheckToken_=S&&S.token,l=new kW(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,x=>{Ps(x+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(C){n.log_("Failed to get token: "+C),u||(n.repoInfo_.nodeAdmin&&Ps(C),h())}}})()}interrupt(n){zi("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){zi("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,O.xb)(this.interruptReasons_)&&(this.reconnectDelay_=By,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>px(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new Vn(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){zi("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){zi("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";(0,O.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+cx.replace(/\./g,"-")]=1,(0,O.uI)()?n["framework.cordova"]=1:(0,O.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=JI.getInstance().currentlyOnline();return(0,O.xb)(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class ln{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ln(e,n)}}class e0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ln(wc,e),i=new ln(wc,n);return 0!==this.compare(r,i)}minPost(){return ln.MIN}}class zW extends e0{static get __EMPTY_NODE(){return t0}static set __EMPTY_NODE(e){t0=e}compare(e,n){return nh(e.name,n.name)}isDefinedOn(e){throw(0,O.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ln.MIN}maxPost(){return new ln(fl,t0)}makePost(e,n){return(0,O.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new ln(e,t0)}toString(){return".key"}}const wu=new zW;class n0{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Sx,Oa=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??mo.EMPTY_NODE,this.right=o??mo.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return mo.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return mo.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class mo{constructor(e,n=mo.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new mo(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Oa.BLACK,null,null))}remove(e){return new mo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Oa.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new n0(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new n0(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new n0(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new n0(this.root_,null,this.comparator_,!0,e)}}function dge(t,e){return nh(t.name,e.name)}function Tx(t,e){return nh(t,e)}mo.EMPTY_NODE=new class cge{copy(e,n,r,i,s){return this}insert(e,n,r){return new Oa(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const WW=function(t){return"number"==typeof t?"number:"+cW(t):"string:"+t},qW=function(t){if(t.isLeafNode()){const e=t.val();(0,O.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,O.r3)(e,".sv"),"Priority must be a string or number.")}else(0,O.hu)(t===Sx||t.isEmpty(),"priority of unexpected type.");(0,O.hu)(t===Sx||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let GW,KW,QW,sg=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,(0,O.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),qW(this.priorityNode_)}static set __childrenNodeConstructor(n){GW=n}static get __childrenNodeConstructor(){return GW}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return rn(n)?this:".priority"===nn(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=nn(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,O.hu)(".priority"!==i||1===Ic(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(rr(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+WW(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?cW(this.value_):this.value_,this.lazyHash_=oW(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:((0,O.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return(0,O.hu)(s>=0,"Unknown leaf type: "+r),(0,O.hu)(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const dr=new class gge extends e0{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?nh(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ln.MIN}maxPost(){return new ln(fl,new sg("[PRIORITY-POST]",QW))}makePost(e,n){const r=KW(e);return new ln(n,new sg("[PRIORITY-POST]",r))}toString(){return".priority"}},mge=Math.log(2);class _ge{constructor(e){this.count=parseInt(Math.log(e+1)/mge,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const r0=function(t,e,n,r){t.sort(e);const i=function(u,l){const h=l-u;let p,v;if(0===h)return null;if(1===h)return p=t[u],v=n?n(p):p,new Oa(v,p.node,Oa.BLACK,null,null);{const C=parseInt(h/2,10)+u,S=i(u,C),x=i(C+1,l);return p=t[C],v=n?n(p):p,new Oa(v,p.node,Oa.BLACK,S,x)}},a=function(u){let l=null,h=null,p=t.length;const v=function(S,x){const F=p-S,Z=p;p-=S;const z=i(F+1,Z),re=t[F],me=n?n(re):re;C(new Oa(me,re.node,x,null,z))},C=function(S){l?(l.left=S,l=S):(h=S,l=S)};for(let S=0;S<u.count;++S){const x=u.nextBitIsOne(),F=Math.pow(2,u.count-(S+1));x?v(F,Oa.BLACK):(v(F,Oa.BLACK),v(F,Oa.RED))}return h}(new _ge(t.length));return new mo(r||e,a)};let Dx;const og={};class pl{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return(0,O.hu)(og&&dr,"ChildrenNode.ts has not been loaded"),Dx=Dx||new pl({".priority":og},{".priority":dr}),Dx}get(e){const n=(0,O.DV)(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof mo?n:null}hasIndex(e){return(0,O.r3)(this.indexSet_,e.toString())}addIndex(e,n){(0,O.hu)(e!==wu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ln.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?r0(r,e.getCompare()):og;const u=e.toString(),l=Object.assign({},this.indexSet_);l[u]=e;const h=Object.assign({},this.indexes_);return h[u]=a,new pl(h,l)}addToIndexes(e,n){const r=(0,O.UI)(this.indexes_,(i,s)=>{const o=(0,O.DV)(this.indexSet_,s);if((0,O.hu)(o,"Missing index implementation for "+s),i===og){if(o.isDefinedOn(e.node)){const a=[],u=n.getIterator(ln.Wrap);let l=u.getNext();for(;l;)l.name!==e.name&&a.push(l),l=u.getNext();return a.push(e),r0(a,o.getCompare())}return og}{const a=n.get(e.name);let u=i;return a&&(u=u.remove(new ln(e.name,a))),u.insert(e,e.node)}});return new pl(r,this.indexSet_)}removeFromIndexes(e,n){const r=(0,O.UI)(this.indexes_,i=>{if(i===og)return i;{const s=n.get(e.name);return s?i.remove(new ln(e.name,s)):i}});return new pl(r,this.indexSet_)}}let jy,Gt=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&qW(this.priorityNode_),this.children_.isEmpty()&&(0,O.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return jy||(jy=new t(new mo(Tx),null,pl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jy}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?jy:r}}getChild(n){const r=nn(n);return null===r?this:this.getImmediateChild(r).getChild(rr(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if((0,O.hu)(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new ln(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?jy:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=nn(n);if(null===i)return r;{(0,O.hu)(".priority"!==nn(n)||1===Ic(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(rr(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(dr,(a,u)=>{r[a]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+WW(this.getPriority().val())+":"),this.forEachChild(dr,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":oW(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ln(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new ln(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new ln(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,ln.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,ln.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===$y?-1:0}withIndex(n){if(n===wu||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===wu||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(dr),s=r.getIterator(dr);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===wu?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const $y=new class yge extends Gt{constructor(){super(new mo(Tx),Gt.EMPTY_NODE,pl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Gt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ln,{MIN:{value:new ln(wc,Gt.EMPTY_NODE)},MAX:{value:new ln(fl,$y)}}),zW.__EMPTY_NODE=Gt.EMPTY_NODE,sg.__childrenNodeConstructor=Gt,function hge(t){Sx=t}($y),function pge(t){QW=t}($y);const vge=!0;function jr(t,e=null){if(null===t)return Gt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,O.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new sg(t,jr(e));if(t instanceof Array||!vge){let n=Gt.EMPTY_NODE;return Wi(t,(r,i)=>{if((0,O.r3)(t,r)&&"."!==r.substring(0,1)){const s=jr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(jr(e))}{const n=[];let r=!1;if(Wi(t,(o,a)=>{if("."!==o.substring(0,1)){const u=jr(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new ln(o,u)))}}),0===n.length)return Gt.EMPTY_NODE;const s=r0(n,dge,o=>o.name,Tx);if(r){const o=r0(n,dr.getCompare());return new Gt(s,jr(e),new pl({".priority":o},{".priority":dr}))}return new Gt(s,jr(e),pl.Default)}}!function fge(t){KW=t}(jr);class Ax extends e0{constructor(e){super(),this.indexPath_=e,(0,O.hu)(!rn(e)&&".priority"!==nn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?nh(e.name,n.name):s}makePost(e,n){const r=jr(e),i=Gt.EMPTY_NODE.updateChild(this.indexPath_,r);return new ln(n,i)}maxPost(){const e=Gt.EMPTY_NODE.updateChild(this.indexPath_,$y);return new ln(fl,e)}toString(){return Uy(this.indexPath_,0).join("/")}}const Px=new class Ege extends e0{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?nh(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ln.MIN}maxPost(){return ln.MAX}makePost(e,n){const r=jr(e);return new ln(n,r)}toString(){return".value"}};function ZW(t){return{type:"value",snapshotNode:t}}function ag(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Hy(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function zy(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class Mx{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){(0,O.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Hy(n,a)):(0,O.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ag(n,r)):o.trackChildChange(zy(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(dr,(i,s)=>{n.hasChild(i)||r.trackChildChange(Hy(i,s))}),n.isLeafNode()||n.forEachChild(dr,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(zy(i,s,o))}else r.trackChildChange(ag(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Gt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Wy{constructor(e){this.indexedFilter_=new Mx(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Wy.getStartPost_(e),this.endPost_=Wy.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ln(n,r))||(r=Gt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Gt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Gt.EMPTY_NODE);const s=this;return n.forEachChild(dr,(o,a)=>{s.matches(new ln(o,a))||(i=i.updateImmediateChild(o,Gt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class Cge{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Wy(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ln(n,r))||(r=Gt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Gt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let s;i=Gt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),o++}}}else{let s;i=n.withIndex(this.index_),i=i.updatePriority(Gt.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Gt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const p=this.index_.getCompare();o=(v,C)=>p(C,v)}else o=this.index_.getCompare();const a=e;(0,O.hu)(a.numChildren()===this.limit_,"");const u=new ln(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(a.hasChild(n)){const p=a.getImmediateChild(n);let v=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=v&&(v.name===n||a.hasChild(v.name));)v=i.getChildAfterChild(this.index_,v,this.reverse_);const C=null==v?1:o(v,u);if(h&&!r.isEmpty()&&C>=0)return s?.trackChildChange(zy(n,r,p)),a.updateImmediateChild(n,r);{s?.trackChildChange(Hy(n,p));const x=a.updateImmediateChild(n,Gt.EMPTY_NODE);return null!=v&&this.rangedFilter_.matches(v)?(s?.trackChildChange(ag(v.name,v.node)),x.updateImmediateChild(v.name,v.node)):x}}return r.isEmpty()?e:h&&o(l,u)>=0?(null!=s&&(s.trackChildChange(Hy(l.name,l.node)),s.trackChildChange(ag(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,Gt.EMPTY_NODE)):e}}class s0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,O.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===dr}copy(){const e=new s0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Rx(t,e,n){const r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function xx(t,e,n){const r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function o0(t,e){const n=t.copy();return n.index_=e,n}function YW(t){const e={};if(t.isDefault())return e;let n;if(t.index_===dr?n="$priority":t.index_===Px?n="$value":t.index_===wu?n="$key":((0,O.hu)(t.index_ instanceof Ax,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,O.Wl)(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=(0,O.Wl)(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+(0,O.Wl)(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=(0,O.Wl)(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+(0,O.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function XW(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==dr&&(e.i=t.index_.toString()),e}class a0 extends FW{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ky("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:((0,O.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=a0.getListenId_(e,r),a={};this.listens_[o]=a;const u=YW(e._queryParams);this.restRequest_(s+".json",u,(l,h)=>{let p=h;if(404===l&&(p=null,l=null),null===l&&this.onDataUpdate_(s,p,!1,r),(0,O.DV)(this.listens_,o)===a){let v;v=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(v,null)}})}unlisten(e,n){const r=a0.getListenId_(e,n);delete this.listens_[r]}get(e){const n=YW(e._queryParams),r=e._path.toString(),i=new O.BH;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,O.xO)(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=(0,O.cI)(a.responseText)}catch{Ps("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&Ps("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class Age{constructor(){this.rootNode_=Gt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function u0(){return{value:null,children:new Map}}function ug(t,e,n){if(rn(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=nn(e);t.children.has(r)||t.children.set(r,u0()),ug(t.children.get(r),e=rr(e),n)}}function Ox(t,e){if(rn(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(dr,(r,i)=>{ug(t,new Vn(r),i)}),Ox(t,e)}}if(t.children.size>0){const n=nn(e);return e=rr(e),t.children.has(n)&&Ox(t.children.get(n),e)&&t.children.delete(n),0===t.children.size}return!0}function Nx(t,e,n){null!==t.value?n(e,t.value):function Pge(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{Nx(i,new Vn(e.toString()+"/"+r),n)})}class Mge{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Wi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class Oge{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Mge(e);const r=1e4+2e4*Math.random();Ly(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Wi(e,(i,s)=>{s>0&&(0,O.r3)(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ly(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Cu=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Cu||{});function Lx(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class l0{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Cu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(rn(this.path)){if(null!=this.affectedTree.value)return(0,O.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Vn(e));return new l0(Nn(),n,this.revert)}}return(0,O.hu)(nn(this.path)===e,"operationForChild called for unrelated child."),new l0(rr(this.path),this.affectedTree,this.revert)}}class qy{constructor(e,n){this.source=e,this.path=n,this.type=Cu.LISTEN_COMPLETE}operationForChild(e){return rn(this.path)?new qy(this.source,Nn()):new qy(this.source,rr(this.path))}}class sh{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Cu.OVERWRITE}operationForChild(e){return rn(this.path)?new sh(this.source,Nn(),this.snap.getImmediateChild(e)):new sh(this.source,rr(this.path),this.snap)}}class lg{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Cu.MERGE}operationForChild(e){if(rn(this.path)){const n=this.children.subtree(new Vn(e));return n.isEmpty()?null:n.value?new sh(this.source,Nn(),n.value):new lg(this.source,Nn(),n)}return(0,O.hu)(nn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new lg(this.source,rr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class bc{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(rn(e))return this.isFullyInitialized()&&!this.filtered_;const n=nn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Nge{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Gy(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,u)=>function Lge(t,e,n){if(null==e.childName||null==n.childName)throw(0,O.g5)("Should only compare child_ events.");const r=new ln(e.childName,e.snapshotNode),i=new ln(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,u)),o.forEach(a=>{const u=function Fge(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(u,t.query_))})})}function c0(t,e){return{eventCache:t,serverCache:e}}function Ky(t,e,n,r){return c0(new bc(e,n,r),t.serverCache)}function e5(t,e,n,r){return c0(t.eventCache,new bc(e,n,r))}function d0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function oh(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Vx;class hr{constructor(e,n=(()=>(Vx||(Vx=new mo(wpe)),Vx))()){this.value=e,this.children=n}static fromObject(e){let n=new hr(null);return Wi(e,(r,i)=>{n=n.set(new Vn(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Nn(),value:this.value};if(rn(e))return null;{const r=nn(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(rr(e),n);return null!=s?{path:xr(new Vn(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(rn(e))return this;{const n=nn(e),r=this.children.get(n);return null!==r?r.subtree(rr(e)):new hr(null)}}set(e,n){if(rn(e))return new hr(n,this.children);{const r=nn(e),s=(this.children.get(r)||new hr(null)).set(rr(e),n),o=this.children.insert(r,s);return new hr(this.value,o)}}remove(e){if(rn(e))return this.children.isEmpty()?new hr(null):new hr(null,this.children);{const n=nn(e),r=this.children.get(n);if(r){const i=r.remove(rr(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new hr(null):new hr(this.value,s)}return this}}get(e){if(rn(e))return this.value;{const n=nn(e),r=this.children.get(n);return r?r.get(rr(e)):null}}setTree(e,n){if(rn(e))return n;{const r=nn(e),s=(this.children.get(r)||new hr(null)).setTree(rr(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new hr(this.value,o)}}fold(e){return this.fold_(Nn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(xr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Nn(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(rn(e))return null;{const s=nn(e),o=this.children.get(s);return o?o.findOnPath_(rr(e),xr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Nn(),n)}foreachOnPath_(e,n,r){if(rn(e))return this;{this.value&&r(n,this.value);const i=nn(e),s=this.children.get(i);return s?s.foreachOnPath_(rr(e),xr(n,i),r):new hr(null)}}foreach(e){this.foreach_(Nn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(xr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Na{constructor(e){this.writeTree_=e}static empty(){return new Na(new hr(null))}}function Qy(t,e,n){if(rn(e))return new Na(new hr(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Xs(i,e);return s=s.updateChild(o,n),new Na(t.writeTree_.set(i,s))}{const i=new hr(n),s=t.writeTree_.setTree(e,i);return new Na(s)}}}function Ux(t,e,n){let r=t;return Wi(n,(i,s)=>{r=Qy(r,xr(e,i),s)}),r}function t5(t,e){if(rn(e))return Na.empty();{const n=t.writeTree_.setTree(e,new hr(null));return new Na(n)}}function Bx(t,e){return null!=ah(t,e)}function ah(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Xs(n.path,e)):null}function n5(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(dr,(r,i)=>{e.push(new ln(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new ln(r,i.value))}),e}function Tc(t,e){if(rn(e))return t;{const n=ah(t,e);return new Na(null!=n?new hr(n):t.writeTree_.subtree(e))}}function jx(t){return t.writeTree_.isEmpty()}function cg(t,e){return r5(Nn(),t.writeTree_,e)}function r5(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,O.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=r5(xr(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(xr(t,".priority"),r)),n}}function h0(t,e){return u5(e,t)}function Hge(t,e){if(t.snap)return sa(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&sa(xr(t.path,n),e))return!0;return!1}function Wge(t){return t.visible}function i5(t,e,n){let r=Na.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)sa(n,o)?(a=Xs(n,o),r=Qy(r,a,s.snap)):sa(o,n)&&(a=Xs(o,n),r=Qy(r,Nn(),s.snap.getChild(a)));else{if(!s.children)throw(0,O.g5)("WriteRecord should have .snap or .children");if(sa(n,o))a=Xs(n,o),r=Ux(r,a,s.children);else if(sa(o,n))if(a=Xs(o,n),rn(a))r=Ux(r,Nn(),s.children);else{const u=(0,O.DV)(s.children,nn(a));if(u){const l=u.getChild(rr(a));r=Qy(r,Nn(),l)}}}}}return r}function s5(t,e,n,r,i){if(r||i){const s=Tc(t.visibleWrites,e);return!i&&jx(s)?n:i||null!=n||Bx(s,Nn())?cg(i5(t.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(sa(l.path,e)||sa(e,l.path))},e),n||Gt.EMPTY_NODE):null}{const s=ah(t.visibleWrites,e);if(null!=s)return s;{const o=Tc(t.visibleWrites,e);return jx(o)?n:null!=n||Bx(o,Nn())?cg(o,n||Gt.EMPTY_NODE):null}}}function f0(t,e,n,r){return s5(t.writeTree,t.treePath,e,n,r)}function $x(t,e){return function qge(t,e,n){let r=Gt.EMPTY_NODE;const i=ah(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(dr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Tc(t.visibleWrites,e);return n.forEachChild(dr,(o,a)=>{const u=cg(Tc(s,new Vn(o)),a);r=r.updateImmediateChild(o,u)}),n5(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return n5(Tc(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function o5(t,e,n,r){return function Gge(t,e,n,r,i){(0,O.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=xr(e,n);if(Bx(t.visibleWrites,s))return null;{const o=Tc(t.visibleWrites,s);return jx(o)?i.getChild(n):cg(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function p0(t,e){return function Qge(t,e){return ah(t.visibleWrites,e)}(t.writeTree,xr(t.treePath,e))}function Hx(t,e,n){return function Kge(t,e,n,r){const i=xr(e,n),s=ah(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?cg(Tc(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function a5(t,e){return u5(xr(t.treePath,e),t.writeTree)}function u5(t,e){return{treePath:t,writeTree:e}}class Jge{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;(0,O.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,O.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,zy(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,Hy(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,ag(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw(0,O.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,zy(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const l5=new class eme{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class zx{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new bc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hx(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:oh(this.viewCache_),s=function Xge(t,e,n,r,i,s){return function Zge(t,e,n,r,i,s,o){let a;const u=Tc(t.visibleWrites,e),l=ah(u,Nn());if(null!=l)a=l;else{if(null==n)return[];a=cg(u,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const h=[],p=o.getCompare(),v=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let C=v.getNext();for(;C&&h.length<i;)0!==p(C,r)&&h.push(C),C=v.getNext();return h}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function c5(t,e,n,r,i,s){const o=e.eventCache;if(null!=p0(r,n))return e;{let a,u;if(rn(n))if((0,O.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=oh(e),p=$x(r,l instanceof Gt?l:Gt.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const l=f0(r,oh(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{const l=nn(n);if(".priority"===l){(0,O.hu)(1===Ic(n),"Can't have a priority with additional path components");const h=o.getNode();u=e.serverCache.getNode();const p=o5(r,n,h,u);a=null!=p?t.filter.updatePriority(h,p):o.getNode()}else{const h=rr(n);let p;if(o.isCompleteForChild(l)){u=e.serverCache.getNode();const v=o5(r,n,o.getNode(),u);p=null!=v?o.getNode().getImmediateChild(l).updateChild(h,v):o.getNode().getImmediateChild(l)}else p=Hx(r,l,e.serverCache);a=null!=p?t.filter.updateChild(o.getNode(),l,p,h,i,s):o.getNode()}}return Ky(e,a,o.isFullyInitialized()||rn(n),t.filter.filtersNodes())}}function g0(t,e,n,r,i,s,o,a){const u=e.serverCache;let l;const h=o?t.filter:t.filter.getIndexedFilter();if(rn(n))l=h.updateFullNode(u.getNode(),r,null);else if(h.filtersNodes()&&!u.isFiltered()){const C=u.getNode().updateChild(n,r);l=h.updateFullNode(u.getNode(),C,null)}else{const C=nn(n);if(!u.isCompleteForPath(n)&&Ic(n)>1)return e;const S=rr(n),F=u.getNode().getImmediateChild(C).updateChild(S,r);l=".priority"===C?h.updatePriority(u.getNode(),F):h.updateChild(u.getNode(),C,F,S,l5,null)}const p=e5(e,l,u.isFullyInitialized()||rn(n),h.filtersNodes());return c5(t,p,n,i,new zx(i,p,s),a)}function Wx(t,e,n,r,i,s,o){const a=e.eventCache;let u,l;const h=new zx(i,e,s);if(rn(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Ky(e,l,!0,t.filter.filtersNodes());else{const p=nn(n);if(".priority"===p)l=t.filter.updatePriority(e.eventCache.getNode(),r),u=Ky(e,l,a.isFullyInitialized(),a.isFiltered());else{const v=rr(n),C=a.getNode().getImmediateChild(p);let S;if(rn(v))S=r;else{const x=h.getCompleteChild(p);S=null!=x?".priority"===Cx(v)&&x.getChild(BW(v)).isEmpty()?x:x.updateChild(v,r):Gt.EMPTY_NODE}u=C.equals(S)?e:Ky(e,t.filter.updateChild(a.getNode(),p,S,v,h,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return u}function d5(t,e){return t.eventCache.isCompleteForChild(e)}function h5(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function qx(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,u=e;l=rn(n)?r:new hr(null).setTree(n,r);const h=e.serverCache.getNode();return l.children.inorderTraversal((p,v)=>{if(h.hasChild(p)){const S=h5(0,e.serverCache.getNode().getImmediateChild(p),v);u=g0(t,u,new Vn(p),S,i,s,o,a)}}),l.children.inorderTraversal((p,v)=>{const C=!e.serverCache.isCompleteForChild(p)&&null===v.value;if(!h.hasChild(p)&&!C){const x=h5(0,e.serverCache.getNode().getImmediateChild(p),v);u=g0(t,u,new Vn(p),x,i,s,o,a)}}),u}class lme{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Mx(r.getIndex()),s=function Ige(t){return t.loadsAllData()?new Mx(t.getIndex()):t.hasLimit()?new Cge(t):new Wy(t)}(r);this.processor_=function tme(t){return{filter:t}}(s);const o=n.serverCache,a=n.eventCache,u=i.updateFullNode(Gt.EMPTY_NODE,o.getNode(),null),l=s.updateFullNode(Gt.EMPTY_NODE,a.getNode(),null),h=new bc(u,o.isFullyInitialized(),i.filtersNodes()),p=new bc(l,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=c0(p,h),this.eventGenerator_=new Nge(this.query_)}get query(){return this.query_}}function hme(t,e){const n=oh(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!rn(e)&&!n.getImmediateChild(nn(e)).isEmpty())?n.getChild(e):null}function f5(t){return 0===t.eventRegistrations_.length}function p5(t,e,n){const r=[];if(n){(0,O.hu)(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}else i.push(o)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function g5(t,e,n,r){e.type===Cu.MERGE&&null!==e.source.queryId&&((0,O.hu)(oh(t.viewCache_),"We should always have a full cache before handling merges"),(0,O.hu)(d0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function rme(t,e,n,r,i){const s=new Jge;let o,a;if(n.type===Cu.OVERWRITE){const l=n;l.source.fromUser?o=Wx(t,e,l.path,l.snap,r,i,s):((0,O.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!rn(l.path),o=g0(t,e,l.path,l.snap,r,i,a,s))}else if(n.type===Cu.MERGE){const l=n;l.source.fromUser?o=function sme(t,e,n,r,i,s,o){let a=e;return r.foreach((u,l)=>{const h=xr(n,u);d5(e,nn(h))&&(a=Wx(t,a,h,l,i,s,o))}),r.foreach((u,l)=>{const h=xr(n,u);d5(e,nn(h))||(a=Wx(t,a,h,l,i,s,o))}),a}(t,e,l.path,l.children,r,i,s):((0,O.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=qx(t,e,l.path,l.children,r,i,a,s))}else if(n.type===Cu.ACK_USER_WRITE){const l=n;o=l.revert?function ume(t,e,n,r,i,s){let o;if(null!=p0(r,n))return e;{const a=new zx(r,e,i),u=e.eventCache.getNode();let l;if(rn(n)||".priority"===nn(n)){let h;if(e.serverCache.isFullyInitialized())h=f0(r,oh(e));else{const p=e.serverCache.getNode();(0,O.hu)(p instanceof Gt,"serverChildren would be complete if leaf node"),h=$x(r,p)}l=t.filter.updateFullNode(u,h,s)}else{const h=nn(n);let p=Hx(r,h,e.serverCache);null==p&&e.serverCache.isCompleteForChild(h)&&(p=u.getImmediateChild(h)),l=null!=p?t.filter.updateChild(u,h,p,rr(n),a,s):e.eventCache.getNode().hasChild(h)?t.filter.updateChild(u,h,Gt.EMPTY_NODE,rr(n),a,s):u,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=f0(r,oh(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=p0(r,Nn()),Ky(e,l,o,t.filter.filtersNodes())}}(t,e,l.path,r,i,s):function ome(t,e,n,r,i,s,o){if(null!=p0(i,n))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(rn(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return g0(t,e,n,u.getNode().getChild(n),i,s,a,o);if(rn(n)){let l=new hr(null);return u.getNode().forEachChild(wu,(h,p)=>{l=l.set(new Vn(h),p)}),qx(t,e,n,l,i,s,a,o)}return e}{let l=new hr(null);return r.foreach((h,p)=>{const v=xr(n,h);u.isCompleteForPath(v)&&(l=l.set(h,u.getNode().getChild(v)))}),qx(t,e,n,l,i,s,a,o)}}(t,e,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Cu.LISTEN_COMPLETE)throw(0,O.g5)("Unknown operation type: "+n.type);o=function ame(t,e,n,r,i){const s=e.serverCache;return c5(t,e5(e,s.getNode(),s.isFullyInitialized()||rn(n),s.isFiltered()),n,r,l5,i)}(t,e,n.path,r,s)}const u=s.getChanges();return function ime(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=d0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ZW(d0(e)))}}(e,o,u),{viewCache:o,changes:u}}(t.processor_,i,e,n,r);return function nme(t,e){(0,O.hu)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,O.hu)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),(0,O.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,m5(t,s.changes,s.viewCache.eventCache.getNode(),null)}function m5(t,e,n,r){return function kge(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function wge(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),Gy(t,i,"child_removed",e,r,n),Gy(t,i,"child_added",e,r,n),Gy(t,i,"child_moved",s,r,n),Gy(t,i,"child_changed",e,r,n),Gy(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let m0,y0;class _5{constructor(){this.views=new Map}}function Gx(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return(0,O.hu)(null!=s,"SyncTree gave us an op for an invalid query."),g5(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(g5(o,e,n,r));return s}}function y5(t,e,n,r,i){const o=t.views.get(e._queryIdentifier);if(!o){let a=f0(n,i?r:null),u=!1;a?u=!0:r instanceof Gt?(a=$x(n,r),u=!1):(a=Gt.EMPTY_NODE,u=!1);const l=c0(new bc(a,u,!1),new bc(r,i,!1));return new lme(e,l)}return o}function v5(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Sc(t,e){let n=null;for(const r of t.views.values())n=n||hme(r,e);return n}function E5(t,e){return e._queryParams.loadsAllData()?_0(t):t.views.get(e._queryIdentifier)}function w5(t,e){return null!=E5(t,e)}function Dc(t){return null!=_0(t)}function _0(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Cme=1;class C5{constructor(e){this.listenProvider_=e,this.syncPointTree_=new hr(null),this.pendingWriteTree_=function Yge(){return{visibleWrites:Na.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Kx(t,e,n,r,i){return function Uge(t,e,n,r,i){(0,O.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Qy(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?dg(t,new sh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Ac(t,e,n=!1){const r=function jge(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function $ge(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);(0,O.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Hge(a,r.path)?i=!1:sa(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function zge(t){t.visibleWrites=i5(t.allWrites,Wge,Nn()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=t5(t.visibleWrites,r.path):Wi(r.children,u=>{t.visibleWrites=t5(t.visibleWrites,xr(r.path,u))}),!0))}(t.pendingWriteTree_,e)){let s=new hr(null);return null!=r.snap?s=s.set(Nn(),!0):Wi(r.children,o=>{s=s.set(new Vn(o),!0)}),dg(t,new l0(r.path,s,n))}return[]}function Zy(t,e,n){return dg(t,new sh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function v0(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&("default"===e._queryIdentifier||w5(o,e))){const u=function vme(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Dc(t);if("default"===i)for(const[u,l]of t.views.entries())o=o.concat(p5(l,n,r)),f5(l)&&(t.views.delete(u),l.query._queryParams.loadsAllData()||s.push(l.query));else{const u=t.views.get(i);u&&(o=o.concat(p5(u,n,r)),f5(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return a&&!Dc(t)&&s.push(new(function mme(){return(0,O.hu)(m0,"Reference.ts has not been loaded"),m0}())(e._repo,e._path)),{removed:s,events:o}}(o,e,n,r);(function _me(t){return 0===t.views.size})(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const l=u.removed;if(a=u.events,!i){const h=-1!==l.findIndex(v=>v._queryParams.loadsAllData()),p=t.syncPointTree_.findOnPath(s,(v,C)=>Dc(C));if(h&&!p){const v=t.syncPointTree_.subtree(s);if(!v.isEmpty()){const C=function Pme(t){return t.fold((e,n,r)=>{if(n&&Dc(n))return[_0(n)];{let i=[];return n&&(i=v5(n)),Wi(r,(s,o)=>{i=i.concat(o)}),i}})}(v);for(let S=0;S<C.length;++S){const x=C[S],F=x.query,Z=S5(t,x);t.listenProvider_.startListening(Xy(F),Yy(t,F),Z.hashFn,Z.onComplete)}}}!p&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(Xy(e),null):l.forEach(v=>{const C=t.queryToTagMap.get(w0(v));t.listenProvider_.stopListening(Xy(v),C)}))}!function Mme(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=w0(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}(t,l)}return a}function I5(t,e,n,r){const i=Zx(t,r);if(null!=i){const s=Yx(i),o=s.path,a=s.queryId,u=Xs(o,e);return Xx(t,o,new sh(Lx(a),u,n))}return[]}function Qx(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(v,C)=>{const S=Xs(v,i);s=s||Sc(C,S),o=o||Dc(C)});let u,a=t.syncPointTree_.get(i);a?(o=o||Dc(a),s=s||Sc(a,Nn())):(a=new _5,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=s?u=!0:(u=!1,s=Gt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((C,S)=>{const x=Sc(S,Nn());x&&(s=s.updateImmediateChild(C,x))}));const l=w5(a,e);if(!l&&!e._queryParams.loadsAllData()){const v=w0(e);(0,O.hu)(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const C=function Rme(){return Cme++}();t.queryToTagMap.set(v,C),t.tagToQueryMap.set(C,v)}let p=function yme(t,e,n,r,i,s){const o=y5(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),function fme(t,e){t.eventRegistrations_.push(e)}(o,n),function pme(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(dr,(s,o)=>{r.push(ag(s,o))}),n.isFullyInitialized()&&r.push(ZW(n.getNode())),m5(t,r,n.getNode(),e)}(o,n)}(a,e,n,h0(t.pendingWriteTree_,i),s,u);if(!l&&!o&&!r){const v=E5(a,e);p=p.concat(function xme(t,e,n){const r=e._path,i=Yy(t,e),s=S5(t,n),o=t.listenProvider_.startListening(Xy(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)(0,O.hu)(!Dc(a.value),"If we're adding a query, it shouldn't be shadowed");else{const u=a.fold((l,h,p)=>{if(!rn(l)&&h&&Dc(h))return[_0(h).query];{let v=[];return h&&(v=v.concat(v5(h).map(C=>C.query))),Wi(p,(C,S)=>{v=v.concat(S)}),v}});for(let l=0;l<u.length;++l){const h=u[l];t.listenProvider_.stopListening(Xy(h),Yy(t,h))}}return o}(t,e,v))}return p}function E0(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Sc(a,Xs(o,e));if(l)return l});return s5(i,e,s,n,!0)}function dg(t,e){return b5(e,t.syncPointTree_,null,h0(t.pendingWriteTree_,Nn()))}function b5(t,e,n,r){if(rn(t.path))return T5(t,e,n,r);{const i=e.get(Nn());null==n&&null!=i&&(n=Sc(i,Nn()));let s=[];const o=nn(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const l=n?n.getImmediateChild(o):null,h=a5(r,o);s=s.concat(b5(a,u,l,h))}return i&&(s=s.concat(Gx(i,t,r,n))),s}}function T5(t,e,n,r){const i=e.get(Nn());null==n&&null!=i&&(n=Sc(i,Nn()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=n?n.getImmediateChild(o):null,l=a5(r,o),h=t.operationForChild(o);h&&(s=s.concat(T5(h,a,u,l)))}),i&&(s=s.concat(Gx(i,t,r,n))),s}function S5(t,e){const n=e.query,r=Yy(t,n);return{hashFn:()=>(function cme(t){return t.viewCache_.serverCache.getNode()}(e)||Gt.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function Sme(t,e,n){const r=Zx(t,n);if(r){const i=Yx(r),s=i.path,o=i.queryId,a=Xs(s,e);return Xx(t,s,new qy(Lx(o),a))}return[]}(t,n._path,r):function Tme(t,e){return dg(t,new qy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const s=function bpe(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return v0(t,n,null,s)}}}}function Yy(t,e){const n=w0(e);return t.queryToTagMap.get(n)}function w0(t){return t._path.toString()+"$"+t._queryIdentifier}function Zx(t,e){return t.tagToQueryMap.get(e)}function Yx(t){const e=t.indexOf("$");return(0,O.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Vn(t.substr(0,e))}}function Xx(t,e,n){const r=t.syncPointTree_.get(e);return(0,O.hu)(r,"Missing sync point for query tag that we're tracking"),Gx(r,n,h0(t.pendingWriteTree_,e),null)}function Xy(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function wme(){return(0,O.hu)(y0,"Reference.ts has not been loaded"),y0}())(t._repo,t._path):t}class Jx{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Jx(n)}node(){return this.node_}}class eO{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=xr(this.path_,e);return new eO(this.syncTree_,n)}node(){return E0(this.syncTree_,this.path_)}}const Ome=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},D5=function(t,e,n){return t&&"object"==typeof t?((0,O.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Nme(t[".sv"],e,n):"object"==typeof t[".sv"]?kme(t[".sv"],e):void(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Nme=function(t,e,n){if("timestamp"===t)return n.timestamp;(0,O.hu)(!1,"Unexpected server value: "+t)},kme=function(t,e,n){t.hasOwnProperty("increment")||(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,O.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,O.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},A5=function(t,e,n,r){return nO(e,new eO(n,t),r)},tO=function(t,e,n){return nO(t,new Jx(e),n)};function nO(t,e,n){const r=t.getPriority().val(),i=D5(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=D5(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new sg(a,jr(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new sg(i))),o.forEachChild(dr,(a,u)=>{const l=nO(u,e.getImmediateChild(a),n);l!==u&&(s=s.updateImmediateChild(a,l))}),s}}class rO{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function C0(t,e){let n=e instanceof Vn?e:new Vn(e),r=t,i=nn(n);for(;null!==i;){const s=(0,O.DV)(r.node.children,i)||{children:{},childCount:0};r=new rO(i,r,s),n=rr(n),i=nn(n)}return r}function uh(t){return t.node.value}function iO(t,e){t.node.value=e,sO(t)}function P5(t){return t.node.childCount>0}function I0(t,e){Wi(t.node.children,(n,r)=>{e(new rO(n,t,r))})}function M5(t,e,n,r){n&&!r&&e(t),I0(t,i=>{M5(i,e,!0,r)}),n&&r&&e(t)}function Jy(t){return new Vn(null===t.parent?t.name:Jy(t.parent)+"/"+t.name)}function sO(t){null!==t.parent&&function Vme(t,e,n){const r=function Fme(t){return void 0===uh(t)&&!P5(t)}(n),i=(0,O.r3)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,sO(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,sO(t))}(t.parent,t.name,t)}const Ume=/[\[\].#$\/\u0000-\u001F\u007F]/,Bme=/[\[\].#$\u0000-\u001F\u007F]/,oO=10485760,b0=function(t){return"string"==typeof t&&0!==t.length&&!Ume.test(t)},R5=function(t){return"string"==typeof t&&0!==t.length&&!Bme.test(t)},ev=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!ZI(t)||t&&"object"==typeof t&&(0,O.r3)(t,".sv")},Iu=function(t,e,n,r){r&&void 0===e||tv((0,O.gK)(t,"value"),e,n)},tv=function(t,e,n){const r=n instanceof Vn?new rge(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+rh(r));if("function"==typeof e)throw new Error(t+"contains a function "+rh(r)+" with contents = "+e.toString());if(ZI(e))throw new Error(t+"contains "+e.toString()+" "+rh(r));if("string"==typeof e&&e.length>oO/3&&(0,O.ug)(e)>oO)throw new Error(t+"contains a string greater than "+oO+" utf8 bytes "+rh(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Wi(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!b0(o)))throw new Error(t+" contains an invalid key ("+o+") "+rh(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ige(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,O.ug)(e),jW(t)})(r,o),tv(t,a,r),function sge(t){const e=t.parts_.pop();t.byteLength_-=(0,O.ug)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+rh(r)+" in addition to actual children.")}},x5=function(t,e,n,r){if(r&&void 0===e)return;const i=(0,O.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Wi(e,(o,a)=>{const u=new Vn(o);if(tv(i,a,xr(n,u)),".priority"===Cx(u)&&!ev(a))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Uy(r);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!b0(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(nge);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&sa(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},aO=function(t,e,n){if(!n||void 0!==e){if(ZI(e))throw new Error((0,O.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ev(e))throw new Error((0,O.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},nv=function(t,e,n,r){if(!(r&&void 0===n||b0(n)))throw new Error((0,O.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},rv=function(t,e,n,r){if(!(r&&void 0===n||R5(n)))throw new Error((0,O.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Hme=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),rv(t,e,n,r)},oa=function(t,e){if(".info"===nn(e))throw new Error(t+" failed = Can't modify data under /.info/")},O5=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!b0(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),R5(t)}(n))throw new Error((0,O.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class zme{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function T0(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!Ix(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function N5(t,e,n){T0(t,n),k5(t,r=>Ix(r,e))}function Oo(t,e,n){T0(t,n),k5(t,r=>sa(r,e)||sa(e,r))}function k5(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(Wme(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Wme(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();th&&zi("event: "+n.toString()),rg(r)}}}const F5="repo_interrupt",qme=25;class Gme{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zme,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=u0(),this.transactionQueueTree_=new rO,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function L5(t){const n=t.infoData_.getNode(new Vn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function iv(t){return Ome({timestamp:L5(t)})}function V5(t,e,n,r,i){t.dataUpdateCount++;const s=new Vn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=(0,O.UI)(n,l=>jr(l));o=function Dme(t,e,n,r){const i=Zx(t,r);if(i){const s=Yx(i),o=s.path,a=s.queryId,u=Xs(o,e),l=hr.fromObject(n);return Xx(t,o,new lg(Lx(a),u,l))}return[]}(t.serverSyncTree_,s,u,i)}else{const u=jr(n);o=I5(t.serverSyncTree_,s,u,i)}else if(r){const u=(0,O.UI)(n,l=>jr(l));o=function bme(t,e,n){const r=hr.fromObject(n);return dg(t,new lg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,u)}else{const u=jr(n);o=Zy(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=fg(t,s)),Oo(t.eventQueue_,a,o)}function U5(t,e){uO(t,"connected",e),!1===e&&function Xme(t){hg(t,"onDisconnectEvents");const e=iv(t),n=u0();Nx(t.onDisconnect_,Nn(),(i,s)=>{const o=A5(i,s,t.serverSyncTree_,e);ug(n,i,o)});let r=[];Nx(n,Nn(),(i,s)=>{r=r.concat(Zy(t.serverSyncTree_,i,s));const o=hO(t,i);fg(t,o)}),t.onDisconnect_=u0(),Oo(t.eventQueue_,Nn(),r)}(t)}function uO(t,e,n){const r=new Vn("/.info/"+e),i=jr(n);t.infoData_.updateSnapshot(r,i);const s=Zy(t.infoSyncTree_,r,i);Oo(t.eventQueue_,r,s)}function S0(t){return t.nextWriteId_++}function lO(t,e,n,r,i){hg(t,"set",{path:e.toString(),value:n,priority:r});const s=iv(t),o=jr(n,r),a=E0(t.serverSyncTree_,e),u=tO(o,a,s),l=S0(t),h=Kx(t.serverSyncTree_,e,u,l,!0);T0(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(v,C)=>{const S="ok"===v;S||Ps("set at "+e+" failed: "+v);const x=Ac(t.serverSyncTree_,l,!S);Oo(t.eventQueue_,e,x),Pc(0,i,v,C)});const p=hO(t,e);fg(t,p),Oo(t.eventQueue_,p,[])}function Jme(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&Ox(t.onDisconnect_,e),Pc(0,n,r,i)})}function B5(t,e,n,r){const i=jr(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{"ok"===s&&ug(t.onDisconnect_,e,i),Pc(0,r,s,o)})}function cO(t,e,n){let r;r=".info"===nn(e._path)?v0(t.infoSyncTree_,e,n):v0(t.serverSyncTree_,e,n),N5(t.eventQueue_,e._path,r)}function j5(t){t.persistentConnection_&&t.persistentConnection_.interrupt(F5)}function hg(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),zi(n,...e)}function Pc(t,e,n,r){e&&rg(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function dO(t,e,n){return E0(t.serverSyncTree_,e,n)||Gt.EMPTY_NODE}function D0(t,e=t.transactionQueueTree_){if(e||A0(t,e),uh(e)){const n=H5(t,e);(0,O.hu)(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function s_e(t,e,n){const r=n.map(l=>l.currentWriteId),i=dO(t,e,r);let s=i;const o=i.hash();for(let l=0;l<n.length;l++){const h=n[l];(0,O.hu)(0===h.status,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const p=Xs(e,h.path);s=s.updateChild(p,h.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;t.server_.put(u.toString(),a,l=>{hg(t,"transaction put response",{path:u.toString(),status:l});let h=[];if("ok"===l){const p=[];for(let v=0;v<n.length;v++)n[v].status=2,h=h.concat(Ac(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&p.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();A0(t,C0(t.transactionQueueTree_,e)),D0(t,t.transactionQueueTree_),Oo(t.eventQueue_,e,h);for(let v=0;v<p.length;v++)rg(p[v])}else{if("datastale"===l)for(let p=0;p<n.length;p++)n[p].status=3===n[p].status?4:0;else{Ps("transaction at "+u.toString()+" failed: "+l);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=l}fg(t,e)}},o)}(t,Jy(e),n)}else P5(e)&&I0(e,n=>{D0(t,n)})}function fg(t,e){const n=$5(t,e),r=Jy(n);return function o_e(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],l=Xs(n,u.path);let p,h=!1;if((0,O.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,p=u.abortReason,i=i.concat(Ac(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=qme)h=!0,p="maxretry",i=i.concat(Ac(t.serverSyncTree_,u.currentWriteId,!0));else{const v=dO(t,u.path,o);u.currentInputSnapshot=v;const C=e[a].update(v.val());if(void 0!==C){tv("transaction failed: Data returned ",C,u.path);let S=jr(C);"object"==typeof C&&null!=C&&(0,O.r3)(C,".priority")||(S=S.updatePriority(v.getPriority()));const F=u.currentWriteId,Z=iv(t),z=tO(S,v,Z);u.currentOutputSnapshotRaw=S,u.currentOutputSnapshotResolved=z,u.currentWriteId=S0(t),o.splice(o.indexOf(F),1),i=i.concat(Kx(t.serverSyncTree_,u.path,z,u.currentWriteId,u.applyLocally)),i=i.concat(Ac(t.serverSyncTree_,F,!0))}else h=!0,p="nodata",i=i.concat(Ac(t.serverSyncTree_,u.currentWriteId,!0))}Oo(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===p?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(p),!1,null)))}A0(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)rg(r[a]);D0(t,t.transactionQueueTree_)}(t,H5(t,n),r),r}function $5(t,e){let n,r=t.transactionQueueTree_;for(n=nn(e);null!==n&&void 0===uh(r);)r=C0(r,n),n=nn(e=rr(e));return r}function H5(t,e){const n=[];return z5(t,e,n),n.sort((r,i)=>r.order-i.order),n}function z5(t,e,n){const r=uh(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);I0(e,i=>{z5(t,i,n)})}function A0(t,e){const n=uh(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,iO(e,n.length>0?n:void 0)}I0(e,r=>{A0(t,r)})}function hO(t,e){const n=Jy($5(t,e)),r=C0(t.transactionQueueTree_,e);return function Lme(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{fO(t,i)}),fO(t,r),M5(r,i=>{fO(t,i)}),n}function fO(t,e){const n=uh(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?((0,O.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):((0,O.hu)(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ac(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?iO(e,void 0):n.length=s+1,Oo(t.eventQueue_,Jy(e),i);for(let o=0;o<r.length;o++)rg(r[o])}}const pO=function(t,e){const n=l_e(t),r=n.namespace;return"firebase.com"===n.domain&&Eu(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Eu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ps("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new mx(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new Vn(n.pathString)}},l_e=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof t){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let h=t.indexOf("/");-1===h&&(h=t.length);let p=t.indexOf("?");-1===p&&(p=t.length),e=t.substring(0,Math.min(h,p)),h<p&&(i=function a_e(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(h,p)));const v=function u_e(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ps(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,p)));l=e.indexOf(":"),l>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(l+1),10)):l=e.length;const C=e.slice(0,l);if("localhost"===C.toLowerCase())n="localhost";else if(C.split(".").length<=2)n=C;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),s=r}"ns"in v&&(s=v.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},W5="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",c_e=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=W5.charAt(n%64),n=Math.floor(n/64);(0,O.hu)(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=W5.charAt(e[i]);return(0,O.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class q5{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,O.Wl)(this.snapshot.exportVal())}}class G5{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class gO{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return(0,O.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class K5{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new O.BH;return Jme(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){oa("OnDisconnect.remove",this._path);const e=new O.BH;return B5(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){oa("OnDisconnect.set",this._path),Iu("OnDisconnect.set",e,this._path,!1);const n=new O.BH;return B5(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){oa("OnDisconnect.setWithPriority",this._path),Iu("OnDisconnect.setWithPriority",e,this._path,!1),aO("OnDisconnect.setWithPriority",n,!1);const r=new O.BH;return function e_e(t,e,n,r,i){const s=jr(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{"ok"===o&&ug(t.onDisconnect_,e,s),Pc(0,i,o,a)})}(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){oa("OnDisconnect.update",this._path),x5("OnDisconnect.update",e,this._path,!1);const n=new O.BH;return function t_e(t,e,n,r){if((0,O.xb)(n))return zi("onDisconnect().update() called with empty data.  Don't do anything."),void Pc(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{"ok"===i&&Wi(n,(o,a)=>{const u=jr(a);ug(t.onDisconnect_,xr(e,o),u)}),Pc(0,r,i,s)})}(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}class _o{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return rn(this._path)?null:Cx(this._path)}get ref(){return new aa(this._repo,this._path)}get _queryIdentifier(){const e=XW(this._queryParams),n=px(e);return"{}"===n?"default":n}get _queryObject(){return XW(this._queryParams)}isEqual(e){if(!((e=(0,O.m9)(e))instanceof _o))return!1;const n=this._repo===e._repo,r=Ix(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function tge(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function P0(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Mc(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===wu){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==wc)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==fl)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===dr){if(null!=e&&!ev(e)||null!=n&&!ev(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,O.hu)(t.getIndex()instanceof Ax||t.getIndex()===Px,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function M0(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class aa extends _o{constructor(e,n){super(e,n,new s0,!1)}get parent(){const e=BW(this._path);return null===e?null:new aa(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class lh{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Vn(e),r=ch(this.ref,e);return new lh(this._node.getChild(n),r,dr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new lh(i,ch(this.ref,r),dr)))}hasChild(e){const n=new Vn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Q5(t,e){return(t=(0,O.m9)(t))._checkNotDeleted("ref"),void 0!==e?ch(t._root,e):t._root}function Z5(t,e){(t=(0,O.m9)(t))._checkNotDeleted("refFromURL");const n=pO(e,t._repo.repoInfo_.nodeAdmin);O5("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Eu("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Q5(t,n.path.toString())}function ch(t,e){return null===nn((t=(0,O.m9)(t))._path)?Hme("child","path",e,!1):rv("child","path",e,!1),new aa(t._repo,xr(t._path,e))}function mO(t,e){t=(0,O.m9)(t),oa("set",t._path),Iu("set",e,t._path,!1);const n=new O.BH;return lO(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function g_e(t,e){x5("update",e,t._path,!1);const n=new O.BH;return function Yme(t,e,n,r){hg(t,"update",{path:e.toString(),value:n});let i=!0;const s=iv(t),o={};if(Wi(n,(a,u)=>{i=!1,o[a]=A5(xr(e,a),jr(u),t.serverSyncTree_,s)}),i)zi("update() called with empty data.  Don't do anything."),Pc(0,r,"ok",void 0);else{const a=S0(t),u=function Ime(t,e,n,r){!function Bge(t,e,n,r){(0,O.hu)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ux(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=hr.fromObject(n);return dg(t,new lg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,o,a);T0(t.eventQueue_,u),t.server_.merge(e.toString(),n,(l,h)=>{const p="ok"===l;p||Ps("update at "+e+" failed: "+l);const v=Ac(t.serverSyncTree_,a,!p),C=v.length>0?fg(t,e):e;Oo(t.eventQueue_,C,v),Pc(0,r,l,h)}),Wi(n,l=>{const h=hO(t,xr(e,l));fg(t,h)}),Oo(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function m_e(t){t=(0,O.m9)(t);const e=new gO(()=>{}),n=new sv(e);return function Zme(t,e,n){const r=function Ame(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(l,h)=>{const p=Xs(l,n);r=r||Sc(h,p)});let i=t.syncPointTree_.get(n);i?r=r||Sc(i,Nn()):(i=new _5,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=null!=r,o=s?new bc(r,!0,!1):null;return function dme(t){return d0(t.viewCache_)}(y5(i,e,h0(t.pendingWriteTree_,e._path),s?o.getNode():Gt.EMPTY_NODE,s))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const s=jr(i).withIndex(e._queryParams.getIndex());let o;if(Qx(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())o=Zy(t.serverSyncTree_,e._path,s);else{const a=Yy(t.serverSyncTree_,e);o=I5(t.serverSyncTree_,e._path,s,a)}return Oo(t.eventQueue_,e._path,o),v0(t.serverSyncTree_,e,n,null,!0),s},i=>(hg(t,"get for query "+(0,O.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new lh(r,new aa(t._repo,t._path),t._queryParams.getIndex()))}class sv{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new q5("value",this,new lh(e.snapshotNode,new aa(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new G5(this,e,n):null}matches(e){return e instanceof sv&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class R0{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new G5(this,e,n):null}createEvent(e,n){(0,O.hu)(null!=e.childName,"Child events should have a childName.");const r=ch(new aa(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new q5(e.type,this,new lh(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof R0&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ov(t,e,n,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const u=n,l=(h,p)=>{cO(t._repo,t,a),u(h,p)};l.userCallback=n.userCallback,l.context=n.context,n=l}const o=new gO(n,s||void 0),a="value"===e?new sv(o):new R0(e,o);return function n_e(t,e,n){let r;r=".info"===nn(e._path)?Qx(t.infoSyncTree_,e,n):Qx(t.serverSyncTree_,e,n),N5(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>cO(t._repo,t,a)}function _O(t,e,n,r){return ov(t,"value",e,n,r)}function Y5(t,e,n,r){return ov(t,"child_added",e,n,r)}function X5(t,e,n,r){return ov(t,"child_changed",e,n,r)}function J5(t,e,n,r){return ov(t,"child_moved",e,n,r)}function eq(t,e,n,r){return ov(t,"child_removed",e,n,r)}function tq(t,e,n){let r=null;const i=n?new gO(n):null;"value"===e?r=new sv(i):e&&(r=new R0(e,i)),cO(t._repo,t,r)}class ka{}class nq extends ka{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Iu("endAt",this._value,e._path,!0);const n=xx(e._queryParams,this._value,this._key);if(M0(n),Mc(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _o(e._repo,e._path,n,e._orderByCalled)}}class y_e extends ka{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Iu("endBefore",this._value,e._path,!1);const n=function Dge(t,e,n){let r;return r=xx(t,e,t.index_===wu||n?n:wc),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(M0(n),Mc(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _o(e._repo,e._path,n,e._orderByCalled)}}class rq extends ka{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Iu("startAt",this._value,e._path,!0);const n=Rx(e._queryParams,this._value,this._key);if(M0(n),Mc(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new _o(e._repo,e._path,n,e._orderByCalled)}}class w_e extends ka{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Iu("startAfter",this._value,e._path,!1);const n=function Sge(t,e,n){let r;return r=Rx(t,e,t.index_===wu||n?n:fl),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(M0(n),Mc(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new _o(e._repo,e._path,n,e._orderByCalled)}}class I_e extends ka{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new _o(e._repo,e._path,function bge(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class T_e extends ka{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new _o(e._repo,e._path,function Tge(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class D_e extends ka{constructor(e){super(),this._path=e}_apply(e){P0(e,"orderByChild");const n=new Vn(this._path);if(rn(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Ax(n),i=o0(e._queryParams,r);return Mc(i),new _o(e._repo,e._path,i,!0)}}class P_e extends ka{_apply(e){P0(e,"orderByKey");const n=o0(e._queryParams,wu);return Mc(n),new _o(e._repo,e._path,n,!0)}}class R_e extends ka{_apply(e){P0(e,"orderByPriority");const n=o0(e._queryParams,dr);return Mc(n),new _o(e._repo,e._path,n,!0)}}class O_e extends ka{_apply(e){P0(e,"orderByValue");const n=o0(e._queryParams,Px);return Mc(n),new _o(e._repo,e._path,n,!0)}}class k_e extends ka{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(Iu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new nq(this._value,this._key)._apply(new rq(this._value,this._key)._apply(e))}}function Fa(t,...e){let n=(0,O.m9)(t);for(const r of e)n=r._apply(n);return n}(function gme(t){(0,O.hu)(!m0,"__referenceConstructor has already been defined"),m0=t})(aa),function Eme(t){(0,O.hu)(!y0,"__referenceConstructor has already been defined"),y0=t}(aa);const yO={};function vO(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||Eu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zi("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u,l,o=pO(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(u=!0,s=`http://${l}?ns=${a.namespace}`,o=pO(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const h=i&&u?new Vy(Vy.OWNER):new Mpe(t.name,t.options,e);O5("Invalid Firebase Database URL",o),rn(o.path)||Eu("Database URL must point to the root of a Firebase Database (not including a child path).");const p=function B_e(t,e,n,r){let i=yO[e.name];i||(i={},yO[e.name]=i);let s=i[t.toURLString()];return s&&Eu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Gme(t,false,n,r),i[t.toURLString()]=s,s}(a,t,h,new Ppe(t.name,n));return new $_e(p,t)}class $_e{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Kme(t,e,n){if(t.stats_=vx(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new a0(t.repoInfo_,(r,i,s,o)=>{V5(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>U5(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,O.Wl)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ih(t.repoInfo_,e,(r,i,s,o)=>{V5(t,r,i,s,o)},r=>{U5(t,r)},r=>{!function Qme(t,e){Wi(e,(n,r)=>{uO(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function Ope(t,e){const n=t.toString();return yx[n]||(yx[n]=e()),yx[n]}(t.repoInfo_,()=>new Oge(t.stats_,t.server_)),t.infoData_=new Age,t.infoSyncTree_=new C5({startListening:(r,i,s,o)=>{let a=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=Zy(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),uO(t,"connected",!1),t.serverSyncTree_=new C5({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{const l=o(a,u);Oo(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new aa(this._repo,Nn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function U_e(t,e){const n=yO[e];(!n||n[t.key]!==t)&&Eu(`Database ${e}(${t.repoInfo_}) has already been deleted.`),j5(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Eu("Cannot call "+e+" on a deleted database.")}}function sq(){AW.IS_TRANSPORT_INITIALIZED&&Ps("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function H_e(){sq(),Cc.forceDisallow()}function z_e(){sq(),ig.forceDisallow(),Cc.forceAllow()}function G_e(t,e){uW(t,e)}const Q_e={".sv":"timestamp"};class X_e{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ih.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},ih.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function K_e(t){dx(Cs.SDK_VERSION),(0,Cs._registerComponent)(new Aa.wA("database",(e,{instanceIdentifier:n})=>vO(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,Cs.registerVersion)(nW,"1.0.1",t),(0,Cs.registerVersion)(nW,"1.0.1","esm2017")}();const nye=new Po.Yd("@firebase/database-compat"),aq=function(t){nye.warn("FIREBASE WARNING: "+t)};class sye{constructor(e){this._delegate=e}cancel(e){(0,O.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,O.Wj)("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){(0,O.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,O.Wj)("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){(0,O.Dv)("OnDisconnect.set",1,2,arguments.length),(0,O.Wj)("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,O.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,O.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if((0,O.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,aq("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,O.Wj)("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}class oye{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return(0,O.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Rc{constructor(e,n){this._database=e,this._delegate=n}val(){return(0,O.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,O.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,O.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,O.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,O.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),rv("DataSnapshot.child","path",e,!1),new Rc(this._database,this._delegate.child(e))}hasChild(e){return(0,O.Dv)("DataSnapshot.hasChild",1,1,arguments.length),rv("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,O.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,O.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,O.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Rc(this._database,n)))}hasChildren(){return(0,O.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,O.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,O.Dv)("DataSnapshot.ref",0,0,arguments.length),new No(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class us{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var s;(0,O.Dv)("Query.on",2,4,arguments.length),(0,O.Wj)("Query.on","callback",n,!1);const o=us.getCancelAndContextArgs_("Query.on",r,i),a=(l,h)=>{n.call(o.context,new Rc(this.database,l),h)};a.userCallback=n,a.context=o.context;const u=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(e){case"value":return _O(this._delegate,a,u),n;case"child_added":return Y5(this._delegate,a,u),n;case"child_removed":return eq(this._delegate,a,u),n;case"child_changed":return X5(this._delegate,a,u),n;case"child_moved":return J5(this._delegate,a,u),n;default:throw new Error((0,O.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if((0,O.Dv)("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,O.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,O.Wj)("Query.off","callback",n,!0),(0,O.lb)("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,tq(this._delegate,e,i)}else tq(this._delegate,e)}get(){return m_e(this._delegate).then(e=>new Rc(this.database,e))}once(e,n,r,i){(0,O.Dv)("Query.once",1,4,arguments.length),(0,O.Wj)("Query.once","callback",n,!0);const s=us.getCancelAndContextArgs_("Query.once",r,i),o=new O.BH,a=(l,h)=>{const p=new Rc(this.database,l);n&&n.call(s.context,p,h),o.resolve(p)};a.userCallback=n,a.context=s.context;const u=l=>{s.cancel&&s.cancel.call(s.context,l),o.reject(l)};switch(e){case"value":_O(this._delegate,a,u,{onlyOnce:!0});break;case"child_added":Y5(this._delegate,a,u,{onlyOnce:!0});break;case"child_removed":eq(this._delegate,a,u,{onlyOnce:!0});break;case"child_changed":X5(this._delegate,a,u,{onlyOnce:!0});break;case"child_moved":J5(this._delegate,a,u,{onlyOnce:!0});break;default:throw new Error((0,O.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return(0,O.Dv)("Query.limitToFirst",1,1,arguments.length),new us(this.database,Fa(this._delegate,function b_e(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new I_e(t)}(e)))}limitToLast(e){return(0,O.Dv)("Query.limitToLast",1,1,arguments.length),new us(this.database,Fa(this._delegate,function S_e(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new T_e(t)}(e)))}orderByChild(e){return(0,O.Dv)("Query.orderByChild",1,1,arguments.length),new us(this.database,Fa(this._delegate,function A_e(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return rv("orderByChild","path",t,!1),new D_e(t)}(e)))}orderByKey(){return(0,O.Dv)("Query.orderByKey",0,0,arguments.length),new us(this.database,Fa(this._delegate,function M_e(){return new P_e}()))}orderByPriority(){return(0,O.Dv)("Query.orderByPriority",0,0,arguments.length),new us(this.database,Fa(this._delegate,function x_e(){return new R_e}()))}orderByValue(){return(0,O.Dv)("Query.orderByValue",0,0,arguments.length),new us(this.database,Fa(this._delegate,function N_e(){return new O_e}()))}startAt(e=null,n){return(0,O.Dv)("Query.startAt",0,2,arguments.length),new us(this.database,Fa(this._delegate,function E_e(t=null,e){return nv("startAt","key",e,!0),new rq(t,e)}(e,n)))}startAfter(e=null,n){return(0,O.Dv)("Query.startAfter",0,2,arguments.length),new us(this.database,Fa(this._delegate,function C_e(t,e){return nv("startAfter","key",e,!0),new w_e(t,e)}(e,n)))}endAt(e=null,n){return(0,O.Dv)("Query.endAt",0,2,arguments.length),new us(this.database,Fa(this._delegate,function __e(t,e){return nv("endAt","key",e,!0),new nq(t,e)}(e,n)))}endBefore(e=null,n){return(0,O.Dv)("Query.endBefore",0,2,arguments.length),new us(this.database,Fa(this._delegate,function v_e(t,e){return nv("endBefore","key",e,!0),new y_e(t,e)}(e,n)))}equalTo(e,n){return(0,O.Dv)("Query.equalTo",1,2,arguments.length),new us(this.database,Fa(this._delegate,function F_e(t,e){return nv("equalTo","key",e,!0),new k_e(t,e)}(e,n)))}toString(){return(0,O.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,O.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,O.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof us))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,(0,O.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,O.lb)(e,"context",i.context,!0);else if(n)if("object"==typeof n&&null!==n)i.context=n;else{if("function"!=typeof n)throw new Error((0,O.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=n}return i}get ref(){return new No(this.database,new aa(this._delegate._repo,this._delegate._path))}}class No extends us{constructor(e,n){super(e,new _o(n._repo,n._path,new s0,!1)),this.database=e,this._delegate=n}getKey(){return(0,O.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,O.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new No(this.database,ch(this._delegate,e))}getParent(){(0,O.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new No(this.database,e):null}getRoot(){return(0,O.Dv)("Reference.root",0,0,arguments.length),new No(this.database,this._delegate.root)}set(e,n){(0,O.Dv)("Reference.set",1,2,arguments.length),(0,O.Wj)("Reference.set","onComplete",n,!0);const r=mO(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if((0,O.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,aq("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}oa("Reference.update",this._delegate._path),(0,O.Wj)("Reference.update","onComplete",n,!0);const r=g_e(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,O.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,O.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function p_e(t,e,n){if(oa("setWithPriority",t._path),Iu("setWithPriority",e,t._path,!1),aO("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new O.BH;return lO(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){(0,O.Dv)("Reference.remove",0,1,arguments.length),(0,O.Wj)("Reference.remove","onComplete",e,!0);const n=function h_e(t){return oa("remove",t._path),mO(t,null)}(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){(0,O.Dv)("Reference.transaction",1,3,arguments.length),(0,O.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,O.Wj)("Reference.transaction","onComplete",n,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,O.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function J_e(t,e,n){var r;if(t=(0,O.m9)(t),oa("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=null===(r=n?.applyLocally)||void 0===r||r,s=new O.BH,a=_O(t,()=>{});return function i_e(t,e,n,r,i,s){hg(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:sW(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=dO(t,e,void 0);o.currentInputSnapshot=a;const u=o.update(a.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{tv("transaction failed: Data returned ",u,o.path),o.status=0;const l=C0(t.transactionQueueTree_,e),h=uh(l)||[];let p;h.push(o),iO(l,h),"object"==typeof u&&null!==u&&(0,O.r3)(u,".priority")?(p=(0,O.DV)(u,".priority"),(0,O.hu)(ev(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(E0(t.serverSyncTree_,e)||Gt.EMPTY_NODE).getPriority().val();const v=iv(t),C=jr(u,p),S=tO(C,a,v);o.currentOutputSnapshotRaw=C,o.currentOutputSnapshotResolved=S,o.currentWriteId=S0(t);const x=Kx(t.serverSyncTree_,e,S,o.currentWriteId,o.applyLocally);Oo(t.eventQueue_,e,x),D0(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(u,l,h)=>{let p=null;u?s.reject(u):(p=new lh(h,new aa(t._repo,t._path),dr),s.resolve(new X_e(l,p)))},a,i),s.promise}(this._delegate,e,{applyLocally:r}).then(s=>new oye(s.committed,new Rc(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){(0,O.Dv)("Reference.setPriority",1,2,arguments.length),(0,O.Wj)("Reference.setPriority","onComplete",n,!0);const r=function f_e(t,e){t=(0,O.m9)(t),oa("setPriority",t._path),aO("setPriority",e,!1);const n=new O.BH;return lO(t._repo,xr(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){(0,O.Dv)("Reference.push",0,2,arguments.length),(0,O.Wj)("Reference.push","onComplete",n,!0);const r=function d_e(t,e){t=(0,O.m9)(t),oa("push",t._path),Iu("push",e,t._path,!0);const n=L5(t._repo),r=c_e(n),i=ch(t,r),s=ch(t,r);let o;return o=null!=e?mO(s,e).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(this._delegate,e),i=r.then(o=>new No(this.database,o));n&&i.then(()=>n(null),o=>n(o));const s=new No(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return oa("Reference.onDisconnect",this._delegate._path),new sye(new K5(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class av{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:H_e,forceLongPolling:z_e}}useEmulator(e,n,r={}){!function oq(t,e,n,r={}){(t=(0,O.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Eu("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Eu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Vy(Vy.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:(0,O.Sg)(r.mockUserToken,t.app.options.projectId);s=new Vy(o)}!function V_e(t,e,n,r){t.repoInfo_=new mx(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(this._delegate,e,n,r)}ref(e){if((0,O.Dv)("database.ref",0,1,arguments.length),e instanceof No){const n=Z5(this._delegate,e.toString());return new No(this,n)}{const n=Q5(this._delegate,e);return new No(this,n)}}refFromURL(e){(0,O.Dv)("database.refFromURL",1,1,arguments.length);const r=Z5(this._delegate,e);return new No(this,r)}goOffline(){return(0,O.Dv)("database.goOffline",0,0,arguments.length),function W_e(t){(t=(0,O.m9)(t))._checkNotDeleted("goOffline"),j5(t._repo)}(this._delegate)}goOnline(){return(0,O.Dv)("database.goOnline",0,0,arguments.length),function q_e(t){(t=(0,O.m9)(t))._checkNotDeleted("goOnline"),function r_e(t){t.persistentConnection_&&t.persistentConnection_.resume(F5)}(t._repo)}(this._delegate)}}av.ServerValue={TIMESTAMP:function Z_e(){return Q_e}(),increment:t=>function Y_e(t){return{".sv":{increment:t}}}(t)};var uye=Object.freeze({__proto__:null,initStandalone:function aye({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:o=!1}){dx(n);const a=new Aa.H0("database-standalone"),u=new Aa.zt("auth-internal",a);let l;return u.setComponent(new Aa.wA("auth-internal",()=>r,"PRIVATE")),i&&(l=new Aa.zt("app-check-internal",a),l.setComponent(new Aa.wA("app-check-internal",()=>i,"PRIVATE"))),{instance:new av(vO(t,u,l,e,o),t),namespace:s}}});const lye=av.ServerValue;function uv(t,e,n="on",r=mC){return new an(i=>{let s=null;return s=t[n](e,(o,a)=>{r.schedule(()=>{i.next({snapshot:o,prevKey:a})}),"once"===n&&r.schedule(()=>i.complete())},o=>{r.schedule(()=>i.error(o))}),"on"===n?{unsubscribe(){null!=s&&t.off(e,s)}}:{unsubscribe(){}}}).pipe(Re(i=>{const{snapshot:s,prevKey:o}=i;let a=null;return s.exists()&&(a=s.key),{type:e,payload:s,prevKey:o,key:a}}),fj())}function uq(t){return null==t}function lq(t){return"function"==typeof t.set}function cq(t,e){return lq(e)?e:t.ref(e)}function dq(t,e){if(function dye(t){return"string"==typeof t}(t))return e.stringCase();if(lq(t))return e.firebaseCase();if(function hye(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function hq(t){return(uq(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function fq(t,e,n){return FA(...(e=hq(e)).map(i=>uv(t,i,"on",n)))}function pq(t,e){return function(r,i){return dq(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function mye(t){return function(n){return n?dq(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function gq(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function vye(t,e){const{payload:n,prevKey:r,key:i}=e,s=gq(t,i),o=function yye(t,e){if(uq(e))return 0;{const n=gq(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(u=>{const l={payload:u,type:"value",prevKey:a,key:u.key};return a=u.key,t=[...t,l],!1})}return t;case"child_added":if(s>-1)(t[s-1]?.key||null)!==r&&(t=t.filter(u=>u.payload.key!==n.key)).splice(o,0,e);else{if(null==r)return[e,...t];(t=t.slice()).splice(o,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(s>-1){const a=t.splice(s,1)[0];return(t=t.slice()).splice(o,0,a),t}return t;default:return t}}function mq(t,e,n){return function _ye(t,e,n){return uv(t,"value","once",n).pipe(Yr(r=>{const i=[wt(r)];return e.forEach(s=>i.push(uv(t,s,"on",n))),FA(...i).pipe(Wf(vye,[]))}),n$())}(t,e=hq(e),n)}function _q(t,e){return function(){return uv(t,"value","on",e)}}!function cye(t){t.INTERNAL.registerComponent(new Aa.wA("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new av(i,r)},"PUBLIC").setServiceProps({Reference:No,Query:us,Database:av,DataSnapshot:Rc,enableLogging:G_e,INTERNAL:uye,ServerValue:lye}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","1.0.1")}(Do.Z);const Cye=new Le("angularfire2.realtimeDatabaseURL"),Iye=new Le("angularfire2.database.use-emulator");let pg=(()=>{class t{schedulers;database;constructor(n,r,i,s,o,a,u,l,h,p,v,C,S,x,F){this.schedulers=a;const Z=u,z=p_(n,o,r);l&&zA(z,o,h,v,C,S,p,x),this.database=vC(`${z.name}.database.${i}`,"AngularFireDatabase",z.name,()=>{const re=o.runOutsideAngular(()=>z.database(i||void 0));return Z&&re.useEmulator(...Z),re},[Z])}list(n,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>cq(this.database,n));let s=i;return r&&(s=r(i)),function Eye(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:pq(r,"update"),set:pq(r,"set"),push:i=>r.push(i),remove:mye(r),snapshotChanges:i=>mq(t,i,n).pipe(oi),stateChanges:i=>fq(t,i,n).pipe(oi),auditTrail:i=>function fye(t,e,n){return function gye(t,e,n){return function pye(t,e){return uv(t,"value","on",e).pipe(Re(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}(t,n).pipe(function gpe(...t){const e=JD(t);return ae((n,r)=>{const i=t.length,s=new Array(i);let o=t.map(()=>!1),a=!1;for(let u=0;u<i;u++)ho(t[u]).subscribe(Fe(r,l=>{s[u]=l,!a&&!o[u]&&(o[u]=!0,(a=o.every(zr))&&(o=null))},Yn));n.subscribe(Fe(r,u=>{if(a){const l=[u,...s];r.next(e?e(...l):l)}}))})}(e),Re(([i,s])=>{const o=i.lastKeyToLoad,a=s.map(u=>u.key);return{actions:s,lastKeyToLoad:o,loadedKeys:a}}),function mpe(t){return ae((e,n)=>{let r=!1,i=0;e.subscribe(Fe(n,s=>(r||(r=!t(s,i++)))&&n.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),Re(i=>i.actions))}(t,fq(t,e).pipe(Wf((i,s)=>[...i,s],[])),n)}(t,i,n).pipe(oi),valueChanges:(i,s)=>mq(t,i,n).pipe(Re(a=>a.map(u=>s&&s.idField?{...u.payload.val(),[s.idField]:u.key}:u.payload.val())),oi)}}(s,this)}object(n){return function wye(t,e){return{query:t,snapshotChanges:()=>_q(t,e.schedulers.outsideAngular)().pipe(oi),update:n=>t.ref.update(n),set:n=>t.ref.set(n),remove:()=>t.ref.remove(),valueChanges:()=>_q(t,e.schedulers.outsideAngular)().pipe(oi,Re(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>cq(this.database,n)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||t)(k(ap),k(up,8),k(Cye,8),k(Ea),k(gn),k(yC),k(Iye,8),k(g_,8),k(VA,8),k(UA,8),k(BA,8),k(jA,8),k($A,8),k(HA,8),k(_C,8))};static \u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),bye=(()=>{class t{constructor(){Do.Z.registerVersion("angularfire",ip.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jn({type:t});static \u0275inj=sr({providers:[pg]})}return t})(),yq=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(Te(Qo),Te(js))};static#t=this.\u0275dir=mt({type:t})}return t})(),dh=(()=>{class t extends yq{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Gr(t)))(i||t)}})();static#t=this.\u0275dir=mt({type:t,features:[Bn]})}return t})();const bu=new Le("NgValueAccessor"),Dye={provide:bu,useExisting:se(()=>x0),multi:!0},Pye=new Le("CompositionEventMode");let x0=(()=>{class t extends yq{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Aye(){const t=Gl()?Gl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(Te(Qo),Te(js),Te(Pye,8))};static#t=this.\u0275dir=mt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ii("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ar([Dye]),Bn]})}return t})();function xc(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const Ms=new Le("NgValidators"),Oc=new Le("NgAsyncValidators");function Iq(t){return xc(t.value)?{required:!0}:null}function O0(t){return null}function Pq(t){return null!=t}function Mq(t){return xm(t)?jn(t):t}function Rq(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function xq(t,e){return e.map(n=>n(t))}function Oq(t){return t.map(e=>function Rye(t){return!t.validate}(e)?e:n=>e.validate(n))}function EO(t){return null!=t?function Nq(t){if(!t)return null;const e=t.filter(Pq);return 0==e.length?null:function(n){return Rq(xq(n,e))}}(Oq(t)):null}function wO(t){return null!=t?function kq(t){if(!t)return null;const e=t.filter(Pq);return 0==e.length?null:function(n){return function Tye(...t){const e=JD(t),{args:n,keys:r}=JU(t),i=new an(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let h=0;h<o;h++){let p=!1;ho(n[h]).subscribe(Fe(s,v=>{p||(p=!0,l--),a[h]=v},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?tB(r,a):a),s.complete())}))}});return e?i.pipe(eB(e)):i}(xq(n,e).map(Mq)).pipe(Re(Rq))}}(Oq(t)):null}function Fq(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function CO(t){return t?Array.isArray(t)?t:[t]:[]}function N0(t,e){return Array.isArray(t)?t.includes(e):t===e}function Uq(t,e){const n=CO(e);return CO(t).forEach(i=>{N0(n,i)||n.push(i)}),n}function Bq(t,e){return CO(e).filter(n=>!N0(t,n))}class jq{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=EO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Js extends jq{get formDirective(){return null}get path(){return null}}class Nc extends jq{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $q{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hq=(()=>{class t extends $q{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(Te(Nc,2))};static#t=this.\u0275dir=mt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&GE("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Bn]})}return t})(),IO=(()=>{class t extends $q{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(Te(Js,10))};static#t=this.\u0275dir=mt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&GE("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Bn]})}return t})();const lv="VALID",F0="INVALID",gg="PENDING",cv="DISABLED";function SO(t){return(L0(t)?t.validators:t)||null}function DO(t,e){return(L0(e)?e.asyncValidators:t)||null}function L0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Gq{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===lv}get invalid(){return this.status===F0}get pending(){return this.status==gg}get disabled(){return this.status===cv}get enabled(){return this.status!==cv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Uq(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Uq(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Bq(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Bq(e,this._rawAsyncValidators))}hasValidator(e){return N0(this._rawValidators,e)}hasAsyncValidator(e){return N0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gg,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=cv,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=lv,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lv||this.status===gg)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cv:lv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gg,this._hasOwnPendingAsyncValidator=!0;const n=Mq(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Kr,this.statusChanges=new Kr}_calculateStatus(){return this._allControlsDisabled()?cv:this.errors?F0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gg)?gg:this._anyControlsHaveStatus(F0)?F0:lv}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){L0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function kye(t){return Array.isArray(t)?EO(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Fye(t){return Array.isArray(t)?wO(t):t||null}(this._rawAsyncValidators)}}class AO extends Gq{constructor(e,n,r){super(SO(n),DO(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function qq(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new ne(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Wq(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new ne(1e3,"");if(!r[n])throw new ne(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const mg=new Le("CallSetDisabledState",{providedIn:"root",factory:()=>V0}),V0="always";function dv(t,e,n=V0){PO(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Uye(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Kq(t,e)})}(t,e),function jye(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Bye(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Kq(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Vye(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function j0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function PO(t,e){const n=function Lq(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Fq(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function Vq(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Fq(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();j0(e._rawValidators,i),j0(e._rawAsyncValidators,i)}function Kq(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const qye={provide:Js,useExisting:se(()=>fv)},hv=(()=>Promise.resolve())();let fv=(()=>{class t extends Js{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Kr,this.form=new AO({},EO(n),wO(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){hv.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),dv(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){hv.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){hv.then(()=>{const r=this._findContainer(n.path),i=new AO({});(function Qq(t,e){PO(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){hv.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){hv.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function Zq(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||t)(Te(Ms,10),Te(Oc,10),Te(mg,8))};static#t=this.\u0275dir=mt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&ii("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ar([qye]),Bn]})}return t})();function Yq(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Xq(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Jq=class extends Gq{constructor(e=null,n,r){super(SO(n),DO(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),L0(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Xq(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Yq(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Yq(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Xq(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Qye={provide:Nc,useExisting:se(()=>OO)},nG=(()=>Promise.resolve())();let OO=(()=>{class t extends Nc{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Jq,this._registered=!1,this.name="",this.update=new Kr,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function xO(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===x0?n=s:function zye(t){return Object.getPrototypeOf(t.constructor)===dh}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function RO(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){dv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){nG.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Vf(r);nG.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function U0(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(Te(Js,9),Te(Ms,10),Te(Oc,10),Te(bu,10),Te(df,8),Te(mg,8))};static#t=this.\u0275dir=mt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ar([Qye]),Bn,io]})}return t})(),NO=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=mt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const Zye={provide:bu,useExisting:se(()=>kO),multi:!0};let kO=(()=>{class t extends dh{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Gr(t)))(i||t)}})();static#t=this.\u0275dir=mt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&ii("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ar([Zye]),Bn]})}return t})(),rG=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Jn({type:t});static#n=this.\u0275inj=sr({})}return t})();const sve={provide:bu,useExisting:se(()=>H0),multi:!0};function cG(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let H0=(()=>{class t extends dh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=cG(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function ove(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Gr(t)))(i||t)}})();static#t=this.\u0275dir=mt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&ii("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ar([sve]),Bn]})}return t})(),dG=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(cG(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(Te(js),Te(Qo),Te(H0,9))};static#t=this.\u0275dir=mt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const ave={provide:bu,useExisting:se(()=>UO),multi:!0};function hG(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let UO=(()=>{class t extends dh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const l=this._getOptionValue(o[a].value);i.push(l)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function uve(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Gr(t)))(i||t)}})();static#t=this.\u0275dir=mt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&ii("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ar([ave]),Bn]})}return t})(),fG=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(hG(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(hG(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(Te(js),Te(Qo),Te(UO,9))};static#t=this.\u0275dir=mt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();let hh=(()=>{class t{constructor(){this._validator=O0}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):O0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=mt({type:t,features:[io]})}return t})();const cve={provide:Ms,useExisting:se(()=>BO),multi:!0};let BO=(()=>{class t extends hh{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>function gG(t){return"number"==typeof t?t:parseFloat(t)}(n),this.createValidator=n=>function wq(t){return e=>{if(xc(e.value)||xc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(n)}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Gr(t)))(i||t)}})();static#t=this.\u0275dir=mt({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Ya("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Ar([cve]),Bn]})}return t})();const dve={provide:Ms,useExisting:se(()=>z0),multi:!0};let z0=(()=>{class t extends hh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Vf,this.createValidator=n=>Iq}enabled(n){return n}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Gr(t)))(i||t)}})();static#t=this.\u0275dir=mt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Ya("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ar([dve]),Bn]})}return t})();const mve={provide:Ms,useExisting:se(()=>jO),multi:!0};let jO=(()=>{class t extends hh{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=n=>n,this.createValidator=n=>function Aq(t){if(!t)return O0;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(xc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(n)}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Gr(t)))(i||t)}})();static#t=this.\u0275dir=mt({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Ya("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[Ar([mve]),Bn]})}return t})(),_ve=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Jn({type:t});static#n=this.\u0275inj=sr({imports:[rG]})}return t})(),vve=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:mg,useValue:n.callSetDisabledState??V0}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Jn({type:t});static#n=this.\u0275inj=sr({imports:[_ve]})}return t})();var wve=function(){function t(e,n,r){this.el=e,this.vcr=n,this.renderer=r,this.dtOptions={}}return t.prototype.ngOnInit=function(){var e=this;this.dtTrigger?this.dtTrigger.subscribe(function(n){e.displayTable(n)}):this.displayTable(null)},t.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},t.prototype.displayTable=function(e){var n=this;e&&(this.dtOptions=e),this.dtInstance=new Promise(function(r,i){Promise.resolve(n.dtOptions).then(function(s){0===Object.keys(s).length&&0===$("tbody tr",n.el.nativeElement).length?i("Both the table and dtOptions cannot be empty"):(s.columns&&s.columns.forEach(function(a){var u;""===(null!==(u=a.id)&&void 0!==u?u:"").trim()&&(a.id=n.getColumnUniqueId())}),setTimeout(function(){var a={rowCallback:function(u,l,h){if(s.columns){var p=s.columns;n.applyNgPipeTransform(u,p),n.applyNgRefTemplate(u,p,l)}s.rowCallback&&s.rowCallback(u,l,h)}};a=Object.assign({},s,a),n.dt=$(n.el.nativeElement).DataTable(a),r(n.dt)}))})})},t.prototype.applyNgPipeTransform=function(e,n){n.filter(function(i){return i.ngPipeInstance&&!i.ngTemplateRef}).forEach(function(i){var s=i.ngPipeInstance,o=i.ngPipeArgs||[],a=n.filter(function(p){return!1!==p.visible}).findIndex(function(p){return p.id===i.id}),u=e.childNodes.item(a),l=$(u).text(),h=s.transform.apply(s,function(t,e,n){if(n||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}([l],o,!1));$(u).text(h)})},t.prototype.applyNgRefTemplate=function(e,n,r){var i=this;n.filter(function(o){return o.ngTemplateRef&&!o.ngPipeInstance}).forEach(function(o){var a=o.ngTemplateRef,u=a.ref,l=a.context,h=n.filter(function(S){return!1!==S.visible}).findIndex(function(S){return S.id===o.id}),p=e.childNodes.item(h);$(p).html("");var v=Object.assign({},l,l?.userData,{adtData:r}),C=i.vcr.createEmbeddedView(u,v);i.renderer.appendChild(p,C.rootNodes[0])})},t.prototype.getColumnUniqueId=function(){for(var e="",r=0;r<6;r++){var i=Math.floor(62*Math.random());e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i)}return e.trim()},t.\u0275fac=function(n){return new(n||t)(Te(js),Te(Yo),Te(Qo))},t.\u0275dir=mt({type:t,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),t}(),Cve=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Jn({type:t}),t.\u0275inj=sr({imports:[gD]}),t}();const Ive=["scroller"];function bve(t,e){1&t&&(B(0,"div",117)(1,"a",95),Ue(2,"img",118),q()())}let Tve=(()=>{class t{ngOnInit(){setInterval(()=>{this.countdown()},1e3),this.addAnimation(),window.addEventListener("resize",()=>{this.windowHeight=window.innerHeight})}constructor(n,r){this.elementRef=n,this.renderer=r,this.windowHeight=window.innerHeight,this.days=Math.floor(6*Math.random())+1,this.hours=Math.floor(22*Math.random())+1,this.minutes=Math.floor(57*Math.random())+1,this.secondes=Math.floor(58*Math.random())+1,console.log(this.windowHeight)}ngAfterViewInit(){window.matchMedia("(prefers-reduced-motion: reduce)").matches||setTimeout(()=>this.addAnimation(),0)}countdown(){this.secondes--,0==this.secondes&&(this.secondes=59,this.minutes--),0==this.minutes&&(this.minutes=59,this.hours--)}addAnimation(){const n=this.scrollerElement.nativeElement,r=n.querySelector(".scroller__inner");r&&(Array.from(r.children).forEach(s=>{const o=s.cloneNode(!0);this.renderer.setAttribute(o,"aria-hidden","true"),this.renderer.appendChild(r,o)}),this.renderer.setAttribute(n,"data-animated","true"))}static#e=this.\u0275fac=function(r){return new(r||t)(Te(js),Te(Qo))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-home"]],viewQuery:function(r,i){if(1&r&&function dV(t,e,n){const r=tn();r.firstCreatePass&&(pV(r,new lV(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),fV(r,we(),e)}(Ive,5),2&r){let s;DS(s=AS())&&(i.scrollerElement=s.first)}},decls:496,vars:5,consts:[[2,"margin-top","5px"],[1,"countainer","felxx"],[1,"container"],[1,"header_image",2,"display","flex","justify-content","center","align-items","center"],[1,"countainer","text-center"],["src","assets/sales.png","alt",""],["routerLink","/shopping-cart",1,"btn","btn-dark","magic_btnn"],[2,"text-align","center"],["data-speed","fast",1,"scroller"],["scroller",""],["data-speed","fast",1,"tag-list","scroller__inner"],["data-speed","slow","data-direction","right",1,"scroller"],[1,"tag-list","scroller__inner"],["src","https://m.media-amazon.com/images/I/61lNb+JO0rL._AC_SL1500_.jpg",2,"height","200px","width","200px"],["src","https://m.media-amazon.com/images/I/81U7zKn3htL._AC_SL1500_.jpg","alt","",2,"height","200px","width","200px"],["src","https://m.media-amazon.com/images/I/51WoTvn5LFL._AC_SL1250_.jpg","alt","",2,"height","200px","width","200px"],["src","https://m.media-amazon.com/images/I/8174nkaT-HL._AC_SL1500_.jpg","alt","",2,"height","200px","width","200px"],["src","https://m.media-amazon.com/images/I/618PlE1DM8L._AC_SL1500_.jpg","alt","",2,"height","200px","width","200px"],["src","https://m.media-amazon.com/images/I/61DtvpgVlOL._AC_SL1500_.jpg","alt","",2,"height","200px","width","200px"],[1,"top_products"],[1,"countainer",2,"max-width","300px"],["id","carouselExampleInterval","data-bs-ride","carousel",1,"carousel","slide",2,"max-width","300px","overflow","hidden"],[1,"carousel-inner",2,"max-width","300px"],["data-bs-interval","3000",1,"carousel-item","active",2,"max-width","280px","overflow","-moz-hidden-unscrollable"],[1,"shop_card","magic_shaow-sm",2,"width","250px","margin","10px"],[1,"product_image"],["src","assets/products/watch.jpg"],[1,"details"],[1,"stars"],["src","assets/icons/start-filled.svg","alt",""],["src","assets/icons/star-grey.svg","alt",""],[1,"price"],[1,"btns"],["src","assets/icons/cart-2.svg","alt",""],[1,"test"],[1,"fa-solid","fa-arrow-right-long"],["data-bs-interval","3000",1,"carousel-item"],["src","assets/products/iphone15.png"],["src","assets/products/visionpro.png"],["src","assets/products/shoes1.jpg"],["src","assets/products/drone.png"],["src","assets/products/smartwatch.png"],["src","assets/products/adidasbag.png"],["data-bs-target","#carouselExampleInterval","data-bs-slide","prev",1,"slider-btn","prev-btn"],["src","assets/icons/pre.svg","alt",""],["data-bs-target","#carouselExampleInterval","data-bs-slide","next",1,"slider-btn","next-btn"],["src","assets/icons/next.svg","alt",""],[1,"text-center","mt-3"],[1,"btn","btn-outline-dark","magic_btnn"],["id","about",1,"about"],[1,"countainer"],[1,"about_wrap"],[1,"left_about"],["src","assets/shopp1.png","alt","",2,"border-radius","10px"],[1,"right_about"],[2,"color","goldenrod"],["id","services",1,"servcies"],[1,"services_wrap"],[1,"services_card"],["src","assets/icons/transport.svg","alt",""],[1,"btn","btn-dark"],["src","assets/icons/bag.svg","alt",""],[1,"text-primay"],[1,"btn","btn-primary"],["src","assets/icons/usd.svg","alt",""],[1,"big_deal"],[1,"text-light"],[1,"timer","row"],[1,"col-lg-4","col-md-6","col-sm-12"],["id","blogs",1,"lattest_new"],[1,"blog_wrap","row",2,"padding-right","0","padding-left","0"],[1,"blog_card","col-lg-4","col-md-6","col-sm-12"],["src","assets/online2.jpg","alt",""],[1,"meta"],["src","assets/online.jpg","alt",""],[1,"text-center","mt-4"],[1,"subscribe"],["src","assets/newsletter2.png","alt","",2,"max-width","80px","max-height","80px"],[1,"input_group"],["type","text","placeholder","Enter Your E-mail","aria-label","Recipient's username","aria-describedby","button-addon2",1,"form-control"],[1,"btn","btn-outline-secondary"],["class","to_top",4,"ngIf"],["id","contact_us",1,"contact_us"],[1,"right"],[2,"width","100%"],[1,"contact_info"],["src","assets/icons/phone-2.svg","alt",""],["src","assets/icons/email.svg","alt",""],["src","assets/icons/clock-2.svg","alt",""],[1,"maps"],["src","https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d12795.335221001535!2d10.236008627416997!3d36.70253138395785!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sfr!2stn!4v1707602454496!5m2!1sfr!2stn","width","600","height","450","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","solid gray 1px","border-radius","5px"],[1,"container",2,"margin","20px","overflow","hidden"],[1,"box",2,"color","rgb(189, 189, 189)","overflow","hidden"],[2,"color","gray"],[1,"box",2,"color","rgb(189, 189, 189)"],["href","#"],["href","https://www.facebook.com/arbi.jridi.315"],["src","assets/icons/facebook.svg","alt","facebook","width","30px","height","30px"],["href","https://twitter.com/AR_JRIDI"],["src","assets/icons/twitter.svg","alt","twitter","width","30px","height","30px"],["href","https://github.com/arbi1990"],["src","assets/icons/github.svg","alt","Github","width","30px","height","30px"],["href","https://www.linkedin.com/in/arbi-jridi/"],["src","assets/icons/linkedin.svg","alt","Linkedin","width","30px","height","30px"],[1,"box","instagram-api",2,"color","rgb(189, 189, 189)"],[1,"post-wrap"],["src","assets/shop.gif","alt",""],["src","assets/shop3.gif","alt",""],["src","assets/shop6.gif","alt",""],["src","assets/shop4.gif","alt",""],["src","assets/shop2.gif","alt",""],["src","assets/shop5.gif","alt",""],[1,"copyright"],[1,"cart"],[1,"fa-regular","fa-circle-xmark"],[1,"cart_product"],[1,"last"],[1,"to_top"],["src","assets/icons/arrow.svg","alt","","width","35px","height","35px"]],template:function(r,i){1&r&&(B(0,"header",0)(1,"div",1)(2,"div",2)(3,"h1"),te(4,"Welcome to...."),q(),B(5,"h1"),te(6,"E-SHOP"),q()(),B(7,"div",3)(8,"div",4),Ue(9,"img",5),B(10,"button",6),te(11,"Shop Now !"),q()()()()(),B(12,"section")(13,"h1",7),te(14,"FEATURED"),q(),B(15,"div",8,9)(17,"div",10)(18,"li"),te(19,"Hi-Tech"),q(),B(20,"li"),te(21,"SmartPhones"),q(),B(22,"li"),te(23,"Laptop"),q(),B(24,"li"),te(25,"SmartWatch"),q(),B(26,"li"),te(27,"Gadgets"),q(),B(28,"li"),te(29,"Drones"),q(),B(30,"li"),te(31,"Consoles"),q(),B(32,"li"),te(33,"Games"),q()(),B(34,"div",11,9)(36,"div",12)(37,"li"),Ue(38,"img",13),q(),B(39,"li"),Ue(40,"img",14),q(),B(41,"li"),Ue(42,"img",15),q(),B(43,"li"),Ue(44,"img",16),q(),B(45,"li"),Ue(46,"img",17),q(),B(47,"li"),Ue(48,"img",18),q()()()()(),B(49,"section",19)(50,"div",20)(51,"h1"),te(52,"Top Products"),q(),B(53,"div",21)(54,"div",22)(55,"div",23)(56,"div",24)(57,"div",25),Ue(58,"img",26),q(),Ue(59,"hr"),B(60,"div",27)(61,"h2"),te(62,"Fossil Watch"),q(),B(63,"div",28),Ue(64,"img",29)(65,"img",29)(66,"img",29)(67,"img",30)(68,"img",30),q()(),B(69,"p",31),te(70," $100 "),B(71,"span"),te(72,"$200"),q()(),B(73,"div",32)(74,"button"),Ue(75,"img",33),B(76,"span"),te(77," Add To Cart"),q(),B(78,"div",34),te(79,"Add To Cart "),Ue(80,"i",35),q()()()()(),B(81,"div",36)(82,"div",24)(83,"div",25),Ue(84,"img",37),q(),Ue(85,"hr"),B(86,"div",27)(87,"h2"),te(88,"iphone 15"),q(),B(89,"div",28),Ue(90,"img",29)(91,"img",29)(92,"img",29)(93,"img",30)(94,"img",30),q()(),B(95,"p",31),te(96," $1000 "),B(97,"span"),te(98,"$1500"),q()(),B(99,"div",32)(100,"button"),Ue(101,"img",33),B(102,"span"),te(103," Add To Cart"),q(),B(104,"div",34),te(105,"Add To Cart "),Ue(106,"i",35),q()()()()(),B(107,"div",36)(108,"div",24)(109,"div",25),Ue(110,"img",38),q(),Ue(111,"hr"),B(112,"div",27)(113,"h2"),te(114,"Vision Pro"),q(),B(115,"div",28),Ue(116,"img",29)(117,"img",29)(118,"img",29)(119,"img",30)(120,"img",30),q()(),B(121,"p",31),te(122," $3700 "),B(123,"span"),te(124,"$4000"),q()(),B(125,"div",32)(126,"button"),Ue(127,"img",33),B(128,"span"),te(129," Add To Cart"),q(),B(130,"div",34),te(131,"Add To Cart "),Ue(132,"i",35),q()()()()(),B(133,"div",36)(134,"div",24)(135,"div",25),Ue(136,"img",39),q(),Ue(137,"hr"),B(138,"div",27)(139,"h2"),te(140,"shoes HRx"),q(),B(141,"div",28),Ue(142,"img",29)(143,"img",29)(144,"img",29)(145,"img",30)(146,"img",30),q()(),B(147,"p",31),te(148," $400 "),B(149,"span"),te(150,"$500"),q()(),B(151,"div",32)(152,"button"),Ue(153,"img",33),B(154,"span"),te(155," Add To Cart"),q(),B(156,"div",34),te(157,"Add To Cart "),Ue(158,"i",35),q()()()()(),B(159,"div",36)(160,"div",24)(161,"div",25),Ue(162,"img",40),q(),Ue(163,"hr"),B(164,"div",27)(165,"h2"),te(166,"Phantom drone"),q(),B(167,"div",28),Ue(168,"img",29)(169,"img",29)(170,"img",29)(171,"img",30)(172,"img",30),q()(),B(173,"p",31),te(174," $3000 "),B(175,"span"),te(176,"$3500"),q()(),B(177,"div",32)(178,"button"),Ue(179,"img",33),B(180,"span"),te(181," Add To Cart"),q(),B(182,"div",34),te(183,"Add To Cart "),Ue(184,"i",35),q()()()()(),B(185,"div",36)(186,"div",24)(187,"div",25),Ue(188,"img",41),q(),Ue(189,"hr"),B(190,"div",27)(191,"h2"),te(192,"Smart Watch"),q(),B(193,"div",28),Ue(194,"img",29)(195,"img",29)(196,"img",29)(197,"img",30)(198,"img",30),q()(),B(199,"p",31),te(200," $2000 "),B(201,"span"),te(202,"$2500"),q()(),B(203,"div",32)(204,"button"),Ue(205,"img",33),B(206,"span"),te(207," Add To Cart"),q(),B(208,"div",34),te(209,"Add To Cart "),Ue(210,"i",35),q()()()()(),B(211,"div",36)(212,"div",24)(213,"div",25),Ue(214,"img",42),q(),Ue(215,"hr"),B(216,"div",27)(217,"h2"),te(218,"Adidas Bag"),q(),B(219,"div",28),Ue(220,"img",29)(221,"img",29)(222,"img",29)(223,"img",30)(224,"img",30),q()(),B(225,"p",31),te(226," $200 "),B(227,"span"),te(228,"$300"),q()(),B(229,"div",32)(230,"button"),Ue(231,"img",33),B(232,"span"),te(233," Add To Cart"),q(),B(234,"div",34),te(235,"Add To Cart "),Ue(236,"i",35),q()()()()()()(),B(237,"button",43),Ue(238,"img",44),q(),B(239,"button",45),Ue(240,"img",46),q(),B(241,"div",47)(242,"a",48),te(243," View More"),q()()()(),B(244,"section",49)(245,"div",50)(246,"h1"),te(247,"About Our Store"),q(),B(248,"div",51)(249,"div",52),Ue(250,"img",53),q(),B(251,"div",54)(252,"h2",55),te(253,"We bring you everything you want!"),q(),B(254,"p"),te(255,"Welcome to E-STORE. We are dedicated to bringing you the best products and services. Our team works tirelessly to ensure that your shopping experience is seamless and enjoyable. We believe in providing high-quality products at affordable prices. Thank you for choosing E-STORE."),q(),B(256,"div",47)(257,"a",48),te(258,"Read More.."),q()()()()()(),B(259,"section",56)(260,"div",50)(261,"h1"),te(262," Our Services "),q(),B(263,"div",57)(264,"div",58),Ue(265,"img",59),B(266,"h2"),te(267,"Free Home Delivery"),q(),B(268,"p"),te(269,"Get free delivery on all your orders to your Home"),q(),B(270,"button",60),te(271,"Learn More"),q()(),B(272,"div",58),Ue(273,"img",61),B(274,"h2",62),te(275,"30 Days Return "),q(),B(276,"p"),te(277,"Return ...what are you talking about"),q(),B(278,"button",63),te(279,"Read More"),q()(),B(280,"div",58),Ue(281,"img",64),B(282,"h2"),te(283,"Mony Back Guranted"),q(),B(284,"p"),te(285,"you will got no money back , absolutly kidding \u{1f923} "),q(),B(286,"button",60),te(287,"Read More"),q()()()()(),B(288,"section",65)(289,"div",50)(290,"h1",66),te(291,"HURRY ...CATCH OUR NEXT DEAL!"),q(),B(292,"div",67)(293,"div",68)(294,"span"),te(295),q(),B(296,"span"),te(297,"Days"),q()(),B(298,"div",68)(299,"span"),te(300),q(),B(301,"span"),te(302,"Hours"),q()(),B(303,"div",68)(304,"span"),te(305),q(),B(306,"span"),te(307,"Mintes"),q()(),B(308,"div",68)(309,"span"),te(310),q(),B(311,"span"),te(312,"Secondes"),q()()()()(),B(313,"section",69)(314,"div",50)(315,"h1"),te(316,"TESTMONIAL"),q(),B(317,"div",70)(318,"div",71)(319,"div"),Ue(320,"img",72),q(),B(321,"div",27)(322,"div",73)(323,"span"),te(324,"(Feb 15, 2024)"),q(),B(325,"span"),te(326,"(Posted By "),B(327,"strong"),te(328,"Elon Musk"),q(),te(329,")"),q(),B(330,"span"),te(331,"(12 Commentns)"),q()(),B(332,"h2"),te(333,"One of The best Stores i ever see..."),q(),B(334,"p"),te(335,"Shopping at the e-shop has been a delightful experience. The wide range of high-quality products at affordable prices is truly impressive. "),q()()(),B(336,"div",71)(337,"div"),Ue(338,"img",74),q(),B(339,"div",27)(340,"div",73)(341,"span"),te(342,"(Jan 03, 2024)"),q(),B(343,"span"),te(344,"(Posted By "),B(345,"strong"),te(346,"Mark ZukerBurg"),q(),te(347,")"),q(),B(348,"span"),te(349,"(7 Commentns)"),q()(),B(350,"h2"),te(351,"E-shop was a really nice experience ..."),q(),B(352,"p"),te(353," The seamless shopping process and the excellent customer service have made me a loyal customer. I highly recommend the e-shop to everyone!"),q()()()(),B(354,"div",75)(355,"a",48),te(356," View More"),q()()()(),B(357,"section",76)(358,"div",50)(359,"div"),Ue(360,"img",77),q(),B(361,"div",27)(362,"h2"),te(363,"Subscribe To Our NewsLetter"),q(),B(364,"p"),te(365,"Subscribe to our newsletter to receive the latest updates and promotions."),q(),B(366,"div",78),Ue(367,"input",79),B(368,"button",80),te(369,"Subscribe"),q()()()()(),Qr(370,bve,3,0,"div",81),B(371,"section",82)(372,"div",83)(373,"h1",84),te(374,"Contact US"),q(),B(375,"div",85)(376,"div")(377,"div"),Ue(378,"img",86),q(),B(379,"div")(380,"span"),te(381,"Call Us :"),q(),B(382,"span"),te(383,"(+216) 98 756 636"),q()()(),B(384,"div")(385,"div"),Ue(386,"img",87),q(),B(387,"div")(388,"span"),te(389,"E-mail :"),q(),B(390,"span"),te(391,"arbi.jridi@gmail.com"),q()()(),B(392,"div")(393,"div"),Ue(394,"img",88),q(),B(395,"div")(396,"span"),te(397,"Working Hours :"),q(),B(398,"span"),te(399,"Monday-Saturday (8.00pm - 6.00pm)"),q()()()()(),B(400,"div",89),Ue(401,"iframe",90),q()(),B(402,"footer")(403,"div",91)(404,"div",92)(405,"h3"),te(406,"About us"),q(),B(407,"p",93),te(408,"At E-Shop, we are committed to providing the best service to our customers. Our team works tirelessly to ensure that your shopping experience is seamless and enjoyable. We believe in providing high-quality products at affordable prices. Thank you for choosing E-Shop."),q(),B(409,"button",63),te(410,"Read More"),q()(),B(411,"div",94)(412,"h3"),te(413,"Quik Links"),q(),B(414,"ul")(415,"li")(416,"a",95),te(417,"Home"),q()(),B(418,"li")(419,"a",95),te(420,"About us"),q()(),B(421,"li")(422,"a",95),te(423,"Products"),q()(),B(424,"li")(425,"a",95),te(426,"Login"),q()(),B(427,"li")(428,"a",95),te(429,"Services"),q()(),B(430,"li")(431,"a",95),te(432,"Gallery"),q()(),B(433,"li")(434,"a",95),te(435,"Contact us"),q()()()(),B(436,"div",94)(437,"h3"),te(438,"Follow Us"),q(),B(439,"div")(440,"ul")(441,"li")(442,"a",96),Ue(443,"img",97),B(444,"span"),te(445,"Facebook"),q()()(),B(446,"li")(447,"a",98),Ue(448,"img",99),B(449,"span"),te(450,"Twitter"),q()()(),B(451,"li")(452,"a",100),Ue(453,"img",101),B(454,"span"),te(455,"Github"),q()()(),B(456,"li")(457,"a",102),Ue(458,"img",103),B(459,"span"),te(460,"Linkedin"),q()()()()()(),B(461,"div",104)(462,"h3"),te(463,"SHOP NOW !"),q(),B(464,"div",105)(465,"div"),Ue(466,"img",106),q(),B(467,"div"),Ue(468,"img",107),q(),B(469,"div"),Ue(470,"img",108),q(),B(471,"div"),Ue(472,"img",109),q(),B(473,"div"),Ue(474,"img",110),q(),B(475,"div"),Ue(476,"img",111),q()()()()(),B(477,"footer",112)(478,"div"),te(479," Copyright \xa9 "),Ue(480,"span"),te(481," .All rights reserved by "),B(482,"a",100),te(483,"Arbi Jridi"),q(),te(484,". "),q()(),B(485,"div",113),Ue(486,"i",114),B(487,"h2"),te(488," Cart Items"),q(),B(489,"div",115),te(490," ur cart is empty "),q(),B(491,"div",116)(492,"h5"),te(493,"total"),q(),B(494,"p"),te(495,"$0.00"),q()()()),2&r&&(Xt(295),Jo(i.days),Xt(5),Jo(i.hours),Xt(5),Jo(i.minutes),Xt(5),Jo(i.secondes),Xt(60),An("ngIf",i.windowHeight>100))},dependencies:[Hm,rp],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}[_ngcontent-%COMP%]:root{--primary: #EEBF00 ;--secondary: #232B38 ;--ternary: #6C6C6C ;--danger: #FE4545 ;--pure: #FEFEFE;--light: #f3f1f1 ;--chartreuse:#faf5e6ef ;--footer: #2D333F;--clr-neutral-100: hsl(0, 0%, 100%);--clr-primary-100: hsl(205, 15%, 58%);--clr-primary-400: hsl(215, 25%, 27%);--clr-primary-800: hsl(217, 33%, 17%);--clr-primary-900: hsl(218, 33%, 9%)}.countainer[_ngcontent-%COMP%]{width:100%;padding:0 15px;margin:auto}.btn1[_ngcontent-%COMP%]{background-color:#00f;color:#1e90ff;font-size:20px;padding:10px 20px;border-radius:10px;cursor:pointer;margin-top:10px;margin-left:50%}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:nth-child(1){color:#5f5906;font-family:Work Sans,sans-serif;font-weight:800;font-size:20px;margin:0 10% 2% 30%;text-align:center;white-space:nowrap;overflow:hidden;width:170px;animation:_ngcontent-%COMP%_type 2s steps(40,end) forwards}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:nth-child(2){opacity:0;font-family:Work Sans,sans-serif;margin:0 0 auto;background:linear-gradient(to right,#d88d6f,#8f393f,#d6184e);font-weight:600;font-size:100px;width:430px;-webkit-background-clip:text;-webkit-text-fill-color:transparent;overflow:hidden;animation:_ngcontent-%COMP%_shring-animation 2.2s steps(40,end) 2s forwards,blink .5s step-end infinite alternate}@keyframes _ngcontent-%COMP%_shring-animation{0%{background-position:0 0;opacity:0;width:0}1%{background-position:0 0;opacity:1;border-right:1px solid orange}50%{background-position:150px 0;opacity:1;border-right:1px solid orange}to{background-position:400px 0;opacity:1;border-right:1px solid orange}}@keyframes _ngcontent-%COMP%_type{0%{width:0}1%,99%{border-right:1px solid orange}to{border-right:none}}@keyframes _ngcontent-%COMP%_blink{50%{border-color:transparent}}@media (min-width:576px){.top_products[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{max-width:540px}}@media (min-width:768px){.top_products[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{max-width:720px}}@media (min-width:992px){.top_products[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{max-width:960px}}@media (min-width:1200px){.top_products[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{max-width:1150px}}body[_ngcontent-%COMP%]{overflow-wrap:hidden;overflow-y:hidden}nav[_ngcontent-%COMP%]{margin-bottom:0;position:sticky;top:0;transition:.5s;z-index:5000;border-radius:0 0 20px 20px}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]{background-color:#232b38;color:#1e90ff;font-family:Raleway-semibolder;padding:5px 30px;transition:.5s}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:10px}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   img[_ngcontent-%COMP%]{cursor:pointer;transition:.5s}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   img[_ngcontent-%COMP%]:hover{color:#eebf00;transform:rotate(360deg)}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{padding:0 10px}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1e90ff;text-decoration:none;transition:.5s}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:none;transition:.5s;color:red;border:1px solid white;padding:1px 5px;border-radius:50%}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#1e90ff;transition:.5s}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#eebf00}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{color:#eebf00}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:3px}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]{padding:20px 0 0;transition:.5s;background-color:#fff}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{padding:0 30px;display:flex;align-items:center;justify-content:space-between}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:15px}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;font-size:17px;margin-bottom:0}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-family:Raleway;font-size:15px;font-weight:600;margin-bottom:0;color:#6c6c6c}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:15px}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]{padding:15px 30px;margin-top:15px;transition:.5s}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .countainerrr[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .countainerrr[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#232b38;font-family:Raleway,sans-serif;font-size:15px;font-weight:700;padding:15px 20px;transition:.5s ease;width:100%}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .countainerrr[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .countainerrr[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#eebf00;color:#1e90ff}.magic_shaow[_ngcontent-%COMP%]{position:relative;background-color:#faf5e6ef}.magic_shaow[_ngcontent-%COMP%]:after{content:"";position:absolute;display:block;overflow:hidden;width:100%;height:70px;bottom:-22px;background-image:url(shadow.a80cc95da208e0cd.svg);background-repeat:no-repeat;background-position:center;z-index:-1}.magic_shaow-sm[_ngcontent-%COMP%]{position:relative;background-color:#faf5e6ef}.magic_shaow-sm[_ngcontent-%COMP%]:after{content:"";position:absolute;display:block;overflow:hidden;width:100%;height:70px;bottom:-25px;background-image:url(shadow-sm.d2bac880bd57ed29.svg);background-repeat:no-repeat;background-position:center;z-index:-1}.togel_div[_ngcontent-%COMP%]{display:none}.togller[_ngcontent-%COMP%]{cursor:pointer;font-size:25px;transition:.5s}.togller.close[_ngcontent-%COMP%]{transform:rotate(90deg);-webkit-text-stroke:.5px #EEBF00;text-shadow:1px 1px 15px rgb(232,230,230)}@media (max-width:768px){.togel_div[_ngcontent-%COMP%]{display:block}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:none}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]{height:0;opacity:0;overflow:hidden;transform:translateY(100px);margin-top:15px;transition:.5s}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down.toggell_links[_ngcontent-%COMP%]{height:100%;padding:15px 30px;opacity:1;overflow:visible;transform:translateY(0);transition:.5s;border-bottom:3px dotted #EEBF00}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .countainerrr[_ngcontent-%COMP%]{display:block;text-align:center}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .countainerrr[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .countainerrr[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;margin:auto}.magic_shaow[_ngcontent-%COMP%]:after{background-image:none}}@media (max-width : 490px){nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:none}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{flex-direction:column}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:12px}nav[_ngcontent-%COMP%]   .down_bar[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{padding:0 5px}@media (max-width : 410px){nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]{padding:5px 15px}@media (max-width : 360px){nav[_ngcontent-%COMP%]   .top_bar[_ngcontent-%COMP%]{padding:5px 2px}}}}header[_ngcontent-%COMP%]{height:400px;min-height:400px;margin:0;background-image:url(banner1.42f63494518244a8.jpg);background-repeat:no-repeat;background-position:100% 100%;background-size:cover;overflow:hidden;border-radius:20px 20px 0 0}header[_ngcontent-%COMP%]   .felxx[_ngcontent-%COMP%]{height:100%;width:100%;padding:0 200px;display:flex;align-items:center;justify-content:space-around}header[_ngcontent-%COMP%]   .welcome[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:10px}header[_ngcontent-%COMP%]   .welcome[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;font-style:italic;color:#232b38}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:bolder;color:#232b38;font-size:38px;margin-bottom:5px}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#eebf00}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:600;opacity:.5;line-height:1.5;width:62%}header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 13px;border-radius:5px;border-color:transparent;outline:none;line-height:.8;font-size:18px;cursor:pointer;transition:.5s}header[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{border-color:#eebf00;background-color:#eebf00;color:#faf5e6ef}header[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{border-color:#232b38;background-color:#232b38;color:#faf5e6ef}header[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:hover{background-color:#faf5e6ef;color:#eebf00;border-color:#eebf00}header[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#faf5e6ef;color:#232b38;border-color:#232b38}header[_ngcontent-%COMP%]   .header_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px}header[_ngcontent-%COMP%]   .header_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_top_and_down 2s linear infinite}@keyframes _ngcontent-%COMP%_top_and_down{50%{transform:translateY(-10px)}0%,to{transform:translateY(0)}}@media (max-width:992px){header[_ngcontent-%COMP%]   .felxx[_ngcontent-%COMP%]{padding:0 15px}}@media (max-width:768px){header[_ngcontent-%COMP%]   .felxx[_ngcontent-%COMP%]{padding:0 5px}header[_ngcontent-%COMP%]   .header_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:220px}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:35px;width:100%}}@media (max-width : 450px){.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:nth-child(2){margin:0 10px 0 2%;font-weight:800;font-size:40px;width:165px}}@media (max-width : 615px){header[_ngcontent-%COMP%]   .header_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:150PX;animation:rightandleft 2s linear infinite}@keyframes rightandleft{50%{transform:translate(10px)}0%,to{transform:translate(0)}}header[_ngcontent-%COMP%]{padding:50px 15px}header[_ngcontent-%COMP%]   .felxx[_ngcontent-%COMP%]{min-height:auto;width:auto;flex-direction:column;align-items:center;justify-content:center;gap:30px}header[_ngcontent-%COMP%]   .flexx[_ngcontent-%COMP%]   .welcome[_ngcontent-%COMP%]{font-size:10px}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px;line-height:.9}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;line-height:.9}}section[_ngcontent-%COMP%]{padding:65px 0}section.top_products[_ngcontent-%COMP%]{background-color:#f3f1f1}section.top_products[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:100%}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;text-align:center;position:relative;margin-bottom:60px}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:30px;background-image:url(hr.ac20412bcd26c1e0.png);background-repeat:no-repeat;background-position:center;right:0;bottom:-40px}section.top_products[_ngcontent-%COMP%]   .shop_card[_ngcontent-%COMP%]{background-color:#faf5e6ef;box-sizing:border-box;padding:20px 0;box-shadow:#00000029 0 1px 4px;transition:.5s;border-radius:5px}section.top_products[_ngcontent-%COMP%]   .shop_card[_ngcontent-%COMP%]:hover{border-radius:40px;box-shadow:orange 0 0 20px,orange 0 0 6px}.product_image[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.product_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:200px;padding-bottom:15px;object-fit:contain}section.top_products[_ngcontent-%COMP%]   .shop_card[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:1px solid #f3f1f1;opacity:.8;margin:15px auto}section.top_products[_ngcontent-%COMP%]   .shop_card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;font-size:23px;margin-bottom:5px;text-align:center}section.top_products[_ngcontent-%COMP%]   .shop_card[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}section.top_products[_ngcontent-%COMP%]   .shop_card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:green}section.top_products[_ngcontent-%COMP%]   .shop_card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:line-through;color:red}.btns[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:30px;overflow:hidden;width:100%}.btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;display:flex;height:100%;align-items:center;justify-content:flex-start;border-radius:5px;gap:8px;font-family:Raleway,sans-serif;font-weight:700;color:#232b38;background-color:#faf5e6ef;border:2px solid var( --primary);width:50%;font-size:12px;transition:.5 ease;overflow:hidden}.btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-color:#eebf00;padding:8px;height:32px}.btns[_ngcontent-%COMP%]   .test[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;left:34px;background-color:#eebf00;z-index:-1;width:0;transition:.5s;color:#f3f1f1;display:flex;align-items:center;justify-content:flex-start;overflow:hidden;padding-left:8px}.btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .test[_ngcontent-%COMP%]{z-index:5;width:100%}.btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 0 0 10px}.controller[_ngcontent-%COMP%]{color:#eebf00}.carousel-item[_ngcontent-%COMP%]{width:40%}.shop_slider[_ngcontent-%COMP%]{display:flex;gap:10px;transition:transform .5s ease}.slick-slide[_ngcontent-%COMP%]{margin:0 27px}.slick-list[_ngcontent-%COMP%]{margin:0 -27px}.slick-track[_ngcontent-%COMP%]{padding:15px 0}.slider-btn[_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:5px;background-color:#eebf00;color:#f3f1f1}.slider-btn.prev-btn[_ngcontent-%COMP%]{position:relative;left:10%}.slider-btn.next-btn[_ngcontent-%COMP%]{position:relative;left:60%}.magic_btnn[_ngcontent-%COMP%]{border:1px solid black;font-style:italic;font-family:Raleway,sans-serif;font-weight:700;position:relative;transition:.5s}.magic_btnn[_ngcontent-%COMP%]:before{position:absolute;content:"";top:50%;left:-30px;transform:translateY(-50%);background-color:#eebf00;height:12px;width:12px;border-radius:50%}.magic_btnn[_ngcontent-%COMP%]:after{position:absolute;content:"";top:50%;right:-30px;transform:translateY(-50%);background-color:#eebf00;height:12px;width:12px;border-radius:50%}.magic_btnn[_ngcontent-%COMP%]:hover:after{z-index:-1;animation:_ngcontent-%COMP%_rightmove .5s linear forwards;transition:.5s;border:1px solid black}.magic_btnn[_ngcontent-%COMP%]:hover:before{z-index:-1;animation:_ngcontent-%COMP%_leftmove .5s linear forwards;animation-duration:.5s;transition:.5s}.magic_btnn[_ngcontent-%COMP%]:hover{letter-spacing:1.3px;color:#f3f1f1;border-color:#eebf00;background-color:#eebf00;transition-delay:.5s;border:1px solid gray}@keyframes _ngcontent-%COMP%_rightmove{50%{right:0;z-index:1}to{right:0;width:51%;height:105%;border-radius:0}}@keyframes _ngcontent-%COMP%_leftmove{50%{right:0;z-index:1}to{left:0;width:51%;height:105%;border-radius:0}}@media (max-width:992px){.top_products[_ngcontent-%COMP%]   .slider-btn[_ngcontent-%COMP%]{display:none!important}}.about_wrap[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.about_wrap[_ngcontent-%COMP%]   .left_about[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:85%;border:0px solid #fff}.about_wrap[_ngcontent-%COMP%]   .right_about[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;gap:20px;width:50%}.about_wrap[_ngcontent-%COMP%]   .right_about[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;font-style:oblique;font-size:25px;line-height:1.2}.about_wrap[_ngcontent-%COMP%]   .right_about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.8}@media (max-width:768px){.about_wrap[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.about_wrap[_ngcontent-%COMP%]   .right_about[_ngcontent-%COMP%]{width:auto;padding:10px 15px}}.servcies[_ngcontent-%COMP%]{background-color:#f3f1f1}.servcies[_ngcontent-%COMP%]   .services_wrap[_ngcontent-%COMP%]{padding-top:60px}.servcies[_ngcontent-%COMP%]   .services_wrap[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;gap:30px}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]{width:30%;background-color:#faf5e6ef;padding:60px 15px 30px;text-align:center;position:relative;border-radius:5px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px;transition:.5s;box-shadow:#63636333 0 2px 8px}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]:hover{border-radius:20px;box-shadow:#000 0 1px 2px,#000 0 1px 3px 1px}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]:nth-child(2):hover{border-radius:20px;box-shadow:#eebf00 0 1px 2px,#eebf00 0 1px 3px 1px}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:-45px;left:50%;transform:translate(-50%);transition:.5s}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-top:-10px}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;font-size:25px}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.8}.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]:nth-child(2)   img[_ngcontent-%COMP%]{color:#eebf00}.btn-primary[_ngcontent-%COMP%]{background-color:#1e90ff;border-color:#eebf00}.btn-primary[_ngcontent-%COMP%]:hover{border-color:#eebf00;background-color:#f9d33b}.text-primay[_ngcontent-%COMP%]{color:#eebf00}@media (max-width:992px){.servcies[_ngcontent-%COMP%]   .services_card[_ngcontent-%COMP%]{width:auto}}.big_deal[_ngcontent-%COMP%]{background:linear-gradient(rgba(33,43,56,.8),rgba(33,43,56,.8)),url(shoppkid.9689fabcf4736506.jpg);background-position:center center;background-repeat:no-repeat;background-size:cover;background-attachment:fixed}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:30px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#eebf00;display:flex;align-items:center;justify-content:center;flex-direction:column;color:#f3f1f1;width:150px;height:150px;transition:all .5s ease;border-radius:15px;cursor:pointer}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{border-radius:0}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-family:Raleway,sans-serif;text-shadow:1px 1px 3px #faf5e6ef;font-weight:700;font-size:30px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-family:Raleway,sans-serif;font-size:25px;font-style:italic}@media (max-width:768px){.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{gap:20px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100px;height:100px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:25px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:17px}}@media (max-width : 615px){.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{gap:8px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:80px;height:80px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:20px}.big_deal[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:12px}}.lattest_new[_ngcontent-%COMP%]{background-color:#f3f1f1}.blog_wrap.row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.lattest_new[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{padding:15px 50px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{width:100%;overflow:hidden;transition:.5s}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110%;padding:0;transition:.5s}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1);border-radius:10px 10px 0 0}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child:hover{border-radius:10px 10px 0 0}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:20px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]{box-shadow:#43475545 0 0 .25em,#5a7dbc0d 0 .25em 1em;transition:.5s;background-color:#faf5e6ef}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]:hover{box-shadow:#eebf00 0 0 .25em,#eebf00 0 .25em 1em;border-radius:10px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{padding:30px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-weight:400;transition:.3s}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{text-decoration:underline}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{-webkit-text-decoration:underline black;text-decoration:underline black}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;font-size:25px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]:hover   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#eebf00;transition:.5s}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.8}@media (max-width:1200px){.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width:992){.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width:768px){.lattest_new[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{padding:15px 30px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{padding:15px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;font-size:13px}.lattest_new[_ngcontent-%COMP%]   .blog_wrap[_ngcontent-%COMP%]   .blog_card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width : 615px){.lattest_new[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{padding:15px 60px}}.input_group[_ngcontent-%COMP%]{position:relative}.input_group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px}.btn-outline-secondary[_ngcontent-%COMP%]{background-color:#eebf00;color:#faf5e6ef;position:absolute;right:5px;top:50%;transform:translateY(-50%)}.subscribe[_ngcontent-%COMP%]{background-color:#eebf00;padding:50px 60px}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:500px}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{width:50%}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:700;font-size:30px}@media (max-width:992px){.subscribe[_ngcontent-%COMP%]{padding:50px 30px}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px}}@media (max-width:768px){.subscribe[_ngcontent-%COMP%]{padding:50px 20px}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width:680px){.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.subscribe[_ngcontent-%COMP%]{padding:50px}.subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .subscribe[_ngcontent-%COMP%]   .countainer[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{width:100%}}.contact_us[_ngcontent-%COMP%]{display:flex;padding-top:0;padding-bottom:0}.contact_us[_ngcontent-%COMP%]   .maps[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-bottom:10px;width:100%;overflow:hidden;align-items:flex-end;justify-content:flex-end}.contact_us[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:5px}.contact_us[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .contact_info[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;flex-direction:column;gap:10px}.contact_us[_ngcontent-%COMP%]   .contact_info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:15px}.contact_us[_ngcontent-%COMP%]   .contact_info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;gap:0}.contact_us[_ngcontent-%COMP%]   .contact_info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2)   span[_ngcontent-%COMP%]:first-child{font-family:Raleway,sans-serif;font-weight:700}.contact_us[_ngcontent-%COMP%]   .contact_info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2)   span[_ngcontent-%COMP%]:nth-child(2){font-style:italic}@media (max-width:680px){.contact_us[_ngcontent-%COMP%]{flex-direction:column}.contact_us[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:100%}.contact_us[_ngcontent-%COMP%]   .maps[_ngcontent-%COMP%]{width:100%;height:350px}}footer[_ngcontent-%COMP%]{background-color:#f3f1f1;padding:4rem 0}footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;color:#1e90ff}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{flex:1;margin-right:2rem;text-align:center}footer[_ngcontent-%COMP%]   .instagram-api[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}footer[_ngcontent-%COMP%]   .instagram-api[_ngcontent-%COMP%]   .post-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}footer[_ngcontent-%COMP%]   .instagram-api[_ngcontent-%COMP%]   .post-wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:calc(1/3*100% - (1 - 1/3)*10px);margin-bottom:10px}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:gray;text-decoration:none;transition:all .3s ease;-webkit-transition:all .3s ease;-moz-transition:all .3s ease;-ms-transition:all .3s ease;-o-transition:all .3s ease}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#eebf00}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:1px solid #EEBF00;padding-bottom:1rem;margin-bottom:1rem}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;margin-bottom:1rem}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1rem}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3) > div[_ngcontent-%COMP%]{display:flex;justify-content:center}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3){text-align:left}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3)   h3[_ngcontent-%COMP%]{text-align:center}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3) > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:1rem}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3)   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1.5rem}footer.copyright[_ngcontent-%COMP%]{padding:1rem 0;background:#232B38;color:#1e90ff;text-align:center;font-size:.75rem}footer.copyright[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#eebf00;text-decoration:none}@media (max-width:992px){footer[_ngcontent-%COMP%]   .instagram-api[_ngcontent-%COMP%]   .post-wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:calc(1/2*100% - (1 - 1/3)*10px)}}@media (max-width:768px){footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{flex-direction:column}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{text-align:left;margin-right:0;margin-bottom:3rem}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3)   h3[_ngcontent-%COMP%]{text-align:left}footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3) > div[_ngcontent-%COMP%]{display:block}}.product[_ngcontent-%COMP%]{padding:50px;width:100%;background:linear-gradient(#faf5e6ef,#f3f1f1,#f3f1f1,#f3f1f1);display:flex;align-items:center;justify-content:center;flex-direction:column;gap:20px}.countainer[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:20px auto;font-family:Raleway,sans-serif;font-weight:700;font-style:oblique;text-align:center;position:relative;margin-bottom:60px}.countainer[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:30px;background-image:url(hr.ac20412bcd26c1e0.png);background-repeat:no-repeat;background-position:center;right:0;bottom:-40px}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]{width:320px;margin:5px;border:1px solid transparent;transition:.5s;box-shadow:#63636333 0 2px 8px;border-radius:5px}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]:hover{box-shadow:#eebf00 0 2px 4px,#eebf00 0 2px 16px;border-radius:20px}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]:hover   h5[_ngcontent-%COMP%]{color:#eebf00;font-weight:700;transition:.5s}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:green;font-weight:700;transition:.5s}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{background-color:#eebf00;border-color:transparent;transition:.5s}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]:hover{background-color:#f3d457;letter-spacing:1.5px;border:2px solid orange;border-radius:10px}.product[_ngcontent-%COMP%]   .roww[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:20px;flex-wrap:wrap}.product[_ngcontent-%COMP%]   .roww[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{width:100%;overflow:hidden;transition:.5s}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110%;padding:0;transition:.5s}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1);border-radius:20px 20px 0 0}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child:hover{border-radius:20px 20px 0 0}.product[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.product[_ngcontent-%COMP%]   .roww[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;border-width:2px}.product[_ngcontent-%COMP%]   .roww[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#444}.product[_ngcontent-%COMP%]   .roww[_ngcontent-%COMP%]   .cardd-body[_ngcontent-%COMP%]{text-align:center}@media (max-width:768px){.roww[_ngcontent-%COMP%]{padding:0}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]{width:70%}}@media (max-width : 600px){.product[_ngcontent-%COMP%]{padding:0 10px}.roww[_ngcontent-%COMP%]{padding:0}.product[_ngcontent-%COMP%]   .cardd[_ngcontent-%COMP%]{width:100%}}body.open[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]{right:0}.cart[_ngcontent-%COMP%]{position:fixed;padding:10px 8px;bottom:0;right:-400px;width:400px;height:100vh;background-color:#232b38;color:#fff;border-radius:10px 0 0 10px;border-left:2px solid #EEBF00;border-top:2px solid #EEBF00;text-align:center;z-index:6000;transition:.5s;overflow-y:scroll}.cart[_ngcontent-%COMP%]   .jhjh[_ngcontent-%COMP%]{position:sticky;top:0}.cart[_ngcontent-%COMP%]   .fa-circle-xmark[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px;cursor:pointer;font-size:20px}.cart[_ngcontent-%COMP%]   .last[_ngcontent-%COMP%]{position:absolute;bottom:0;display:flex;align-items:center;justify-content:space-around;position:relative;padding:5px;border-top:1px solid #fff}.cart_product[_ngcontent-%COMP%]   .append[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:5px 10px;margin:5px auto;background-color:#555}.cart_product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;border:2px solid transparent;outline:2px solid green}.cart_product[_ngcontent-%COMP%]   .details_one[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:15px;text-align:left}.cart_product[_ngcontent-%COMP%]   .details_one[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0}.cart_product[_ngcontent-%COMP%]   .details_one[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){font-style:italic;font-size:20px;color:beige}.cart_product[_ngcontent-%COMP%]   .details_one[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){color:#00f800}.cart_product[_ngcontent-%COMP%]   .details_two[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:20px}.cart_product[_ngcontent-%COMP%]   .details_two[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}.cart_product[_ngcontent-%COMP%]   .details_two[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #fff;outline:none;border-radius:50%;background-color:#000;color:#fff;width:25px;height:25px;display:flex;align-items:center;justify-content:center;transition:.5s}.cart_product[_ngcontent-%COMP%]   .details_two[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#333}.cart_product[_ngcontent-%COMP%]   .details_two[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px}.cart_product[_ngcontent-%COMP%]   .details_two[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d74646;margin-right:5px;font-size:20px;cursor:pointer}@media (max-width : 415px){.cart[_ngcontent-%COMP%]{width:350px}}.blur[_ngcontent-%COMP%]{position:fixed;height:100vh;width:100%;background-color:#000000a1;z-index:1000}.popup_box[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:400px;height:250px;background-color:#faf5e6ef;z-index:1001;box-shadow:5px 5px 10px gray;border-radius:10px;padding:20px;border:2px solid rgb(4,255,4);color:#000}.popup_box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-size:25px;margin-top:10px}.popup_box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0f0;font-weight:700;font-style:italic}.popup_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:50%;margin:auto;position:absolute;bottom:30px;left:39%;animation:_ngcontent-%COMP%_test 1s linear}@keyframes _ngcontent-%COMP%_test{0%{transform:rotate(360deg);opacity:0;color:#000}to{transform:rotate(0);opacity:1;background-color:gold}}.popup_box[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{position:absolute;left:5px;top:5px;width:25px;height:25px;display:flex;align-items:center;justify-content:center;background-color:brown;color:#fff;border:1px solid #000;cursor:pointer;border-radius:50%}@media (max-width : 415px){.popup_box[_ngcontent-%COMP%]{width:350px}.popup_box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}.loader[_ngcontent-%COMP%]{width:100%;height:100vh;background-repeat:no-repeat;background-position:center center;position:fixed;z-index:1000000}.foorm[_ngcontent-%COMP%]{padding:50px;display:flex;align-items:center;justify-content:center}.co_form[_ngcontent-%COMP%]{background-color:#fff;color:#000;border-radius:30px;box-shadow:5px 5px 10px 5px gray;position:relative;overflow:hidden;width:768px;max-width:100%;min-height:480px}.co_form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:20px;letter-spacing:.5px;margin:20px 0}.co_form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.co_form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-size:13px;margin:15px 0 10px}.co_form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#eebf00;font-weight:700;padding:10px 40px;border:1px solid transparent;border-radius:10px;outline:none;text-transform:uppercase;letter-spacing:.5px;color:#fff;cursor:pointer;font-size:12px;margin-top:10px}.co_form[_ngcontent-%COMP%]   .oneee[_ngcontent-%COMP%]{background-color:#287ce9}.co_form[_ngcontent-%COMP%]   .twooo[_ngcontent-%COMP%]{background-color:#eebf00}.co_form[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.co_form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;height:100%}.co_form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#eee;border:none;outline:none;width:100%;padding:10px 15px;margin:8px 0;font-size:13px;border-radius:10px}.form_countainer[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:.5s ease-in-out}.sign_in[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.countainer.active[_ngcontent-%COMP%]   .sign_in[_ngcontent-%COMP%]{transform:translate(100%)}.sign_up[_ngcontent-%COMP%]{left:0;width:50%;opacity:0;z-index:1}.co_form.active[_ngcontent-%COMP%]   .sign_up[_ngcontent-%COMP%]{transform:translate(100%);opacity:1;z-index:5;animation:_ngcontent-%COMP%_move .5s}@keyframes _ngcontent-%COMP%_move{0%,49.99%{opacity:0;z-index:1}50%,to{opacity:1;z-index:5}}.social_icons[_ngcontent-%COMP%]{margin:20px 0;display:flex;align-items:center;justify-content:center;flex-wrap:wrap;gap:5px}.social_icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-radius:20%;border:1px solid #ccc;background-color:#efeeed;display:flex;align-items:center;justify-content:center;width:40px;height:40px;margin:0}.toggel_countainer[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;transition:.5s ease-in-out;z-index:1000;border-radius:100px 0 0 100px}.co_form.active[_ngcontent-%COMP%]   .toggel_countainer[_ngcontent-%COMP%]{transform:translate(-100%);border-radius:0 100px 100px 0}.toggel[_ngcontent-%COMP%]{background-color:#eebf00;background:linear-gradient(to right,rgb(81,140,218),rgb(97,127,247),#cbb352);background-position:center;background-repeat:no-repeat;background-size:cover;background-attachment:fixed;color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:.5s ease-in-out}.co_form.active[_ngcontent-%COMP%]   .toggel[_ngcontent-%COMP%]{transform:translate(50%)}.toggel_panal[_ngcontent-%COMP%]{position:absolute;width:50%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 30px;text-align:center;top:0;transform:translate(0);transition:.5s ease-in-out}.toggel_panal.left[_ngcontent-%COMP%]{transform:translate(-200%)}.co_form.active[_ngcontent-%COMP%]   .toggel_panal.left[_ngcontent-%COMP%]{transform:translate(0)}.toggel_panal.right[_ngcontent-%COMP%]{transform:translate(0);right:0}.co_form.active[_ngcontent-%COMP%]   .toggel_panal.right[_ngcontent-%COMP%]{transform:translate(200%)}.to_top[_ngcontent-%COMP%]{position:fixed;bottom:25px;left:30px;cursor:pointer;font-size:30px;color:#eebf00;padding:2px 8px;background-color:transparent;border-radius:50%;transition:.5s;display:flex}.to_top[_ngcontent-%COMP%]:hover{color:#faf5e6ef;transform:rotate(360deg)}.scroller[_ngcontent-%COMP%]{max-width:8s00px}.scroller__inner[_ngcontent-%COMP%]{padding-block:1rem;display:flex;flex-wrap:wrap;gap:1rem}.scroller[data-animated=true][_ngcontent-%COMP%]{overflow:hidden;-webkit-mask:linear-gradient(90deg,transparent,rgb(255,255,255) 95%,rgb(255,255,255) 5%,transparent);mask:linear-gradient(90deg,transparent,white 5%,white 95%,transparent)}.scroller[data-animated=true][_ngcontent-%COMP%]   .scroller__inner[_ngcontent-%COMP%]{width:max-content;flex-wrap:nowrap;animation:_ngcontent-%COMP%_scroll var(--_animation-duration, 40s) var(--_animation-direction, forwards) linear infinite}.scroller[data-direction=right][_ngcontent-%COMP%]{--_animation-direction: reverse}.scroller[data-direction=left][_ngcontent-%COMP%]{--_animation-direction: forwards}.scroller[data-speed=fast][_ngcontent-%COMP%]{--_animation-duration: 20s}.scroller[data-speed=slow][_ngcontent-%COMP%]{--_animation-duration: 40s}@keyframes _ngcontent-%COMP%_scroll{to{transform:translate(calc(-50% - .5rem))}}html[_ngcontent-%COMP%]{color-scheme:dark}body[_ngcontent-%COMP%]{display:grid;min-block-size:100vh;place-content:center;font-family:system-ui;font-size:1.125rem;background-color:#f5f5f5}.tag-list[_ngcontent-%COMP%]{margin:0;padding-inline:0;list-style:none}.tag-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:solid 1px gold;padding:1rem;background:rgb(255,255,255);border-radius:.5rem;box-shadow:0 .5rem 1rem -.25rem gray}.tag-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{border:solid 1px dodgerblue;cursor:pointer}.test[_ngcontent-%COMP%]{background:red!important}']})}return t})();var HO=ft(562);function wG(t){return new an(function(e){return{unsubscribe:(0,HO.w)(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}const IG=kA(wG,!0);let _g=(()=>{class t{constructor(n,r,i,s){this.afAuth=n,this.router=r,this.afs=i,this.db=s,this.afAuth.authState.subscribe(o=>{o?(this.userData=o,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user")),console.log(o)):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))}),this.theUser$=n.authState}saveUser(n){this.db.object("/users/"+n.uid).update({user:n.displayName,email:n.email})}getUser(n){return this.db.object("/users/"+n)}SetUserData(n){return this.afs.doc(`users/${n.uid}`).set({uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL,emailVerified:n.emailVerified},{merge:!0})}GoogleAuth(){return this.AuthLogin(new HO.X).then(n=>{let r=localStorage.getItem("returnUrl");this.router.navigateByUrl(r??"/"),this.saveUser(n.user),this.SetUserData(IG)})}googleSignIn(){return this.afAuth.signInWithPopup(new HO.X).then(n=>{localStorage.setItem("token",JSON.stringify(n.user))},n=>{alert(n.message)})}AuthLogin(n){return this.afAuth.signInWithPopup(n).then(r=>{this.SetUserData(r.user),alert(this.userData.displayName),localStorage.setItem("logged",JSON.stringify(this.userData)),console.table(IG)}).catch(r=>{console.log(r)})}logout(){this.afAuth.signOut().then(()=>{localStorage.removeItem("token"),localStorage.removeItem("logged"),this.router.navigate(["/login"])},n=>{alert(n.message)})}static#e=this.\u0275fac=function(r){return new(r||t)(k(g_),k(ns),k(Oy),k(pg))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gv=(()=>{class t{constructor(n,r,i){this.auth=n,this.router=r,this.route=i}canActivate(n,r){return this.auth.theUser$.pipe(Re(i=>{if(i)return!0;let s=r.url;return localStorage.setItem("returnUrl",s),console.log(s),this.router.navigate(["/login"],{queryParams:{returnUrl:r.url}}),!1}))}static#e=this.\u0275fac=function(r){return new(r||t)(k(_g),k(ns),k(su))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const bG=Re(t=>!!t);let Lve=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-manage-products"]],decls:2,vars:0,template:function(r,i){1&r&&(B(0,"p"),te(1,"manage-products works!"),q())}})}return t})(),Vve=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-my-orders"]],decls:2,vars:0,template:function(r,i){1&r&&(B(0,"p"),te(1,"my-orders works!"),q())}})}return t})(),Uve=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-no-access"]],decls:2,vars:0,template:function(r,i){1&r&&(B(0,"p"),te(1,"no-access works!"),q())}})}return t})(),Bve=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-shopping-cart"]],decls:2,vars:0,template:function(r,i){1&r&&(B(0,"p"),te(1,"shopping-cart works!"),q())}})}return t})(),jve=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-check-out"]],decls:2,vars:0,template:function(r,i){1&r&&(B(0,"p"),te(1,"check-out works!"),q())}})}return t})(),$ve=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-order-success"]],decls:2,vars:0,template:function(r,i){1&r&&(B(0,"p"),te(1,"order-success works!"),q())}})}return t})(),Hve=(()=>{class t{constructor(n){this.AuthService=n}signInWithGoogle(){this.AuthService.GoogleAuth()}static#e=this.\u0275fac=function(r){return new(r||t)(Te(_g))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-login"]],decls:26,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-sm-9","col-md-7","col-lg-5","mx-auto"],[1,"card","border-0","shadow","rounded-3","my-5"],[1,"card-body","p-4","p-sm-5"],[1,"card-title","text-center","mb-5","fw-light","fs-5"],[1,"form-floating","mb-3"],["type","email","id","floatingInput","placeholder","name@example.com",1,"form-control"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password",1,"form-control"],["for","floatingPassword"],[1,"d-grid"],["type","submit",1,"btn","btn-primary","btn-login","text-uppercase","fw-bold"],[1,"my-4"],[1,"d-grid","mb-2"],[1,"btn","btn-google","btn-login","text-uppercase","fw-bold",3,"click"],["src","assets/google.png","alt","","height","24px","width","24px"]],template:function(r,i){1&r&&(B(0,"body")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),te(7,"Login"),q(),B(8,"form")(9,"div",6),Ue(10,"input",7),B(11,"label",8),te(12,"Email address"),q()(),B(13,"div",6),Ue(14,"input",9),B(15,"label",10),te(16,"Password"),q()(),B(17,"div",11)(18,"button",12),te(19,"Sign in"),q()(),Ue(20,"hr",13),B(21,"div",14)(22,"button",15),ii("click",function(){return i.signInWithGoogle()}),Ue(23,"img",16),te(24," sign In With Google "),q(),Ue(25,"br"),q()()()()()()()())},dependencies:[NO,IO,fv],styles:[".container[_ngcontent-%COMP%]{padding-top:5%}.btn-login[_ngcontent-%COMP%]{font-size:.9rem;letter-spacing:.05rem;padding:.75rem 1rem}.btn-google[_ngcontent-%COMP%]{color:#fff!important;background-color:#ea4335}.btn-facebook[_ngcontent-%COMP%]{color:#fff!important;background-color:#3b5998}"]})}return t})();var W0=ft(276);const Kve=kA(Cy,!0),Qve=kA(tx,!0);let KO=(()=>{class t{constructor(n,r,i,s){this.db=n,this.afs=r,this.router=i,this.snapshot=s,this.product$={}}update(n,r){n?this.afs.collection("/products/").doc(n).update(r).then(()=>{alert("Edited Successfully")}).catch(i=>{console.error("Error updating product:",i),alert("Error updating product. Please make sure the product exists.")}):console.error("Invalid ID provided for update:",n)}delete(n){this.afs.collection("/products/").doc(n).delete().then(()=>{alert("Deleted Successfully !")}).then(()=>{this.router.navigate(["/admin/products"])}).catch(r=>{console.error("Error deleting Product:",r),alert("Error deleting product. Please make sure the product exists.")})}getAll(){return this.afs.collection("/products")}getProductWithKey(n){return this.afs.collection("/products").snapshotChanges().pipe(Re(r=>r.map(i=>i.payload.doc.data())))}createProductWithId(n){var r=this;return(0,Ce.Z)(function*(){try{const i=Kve(r.afs.firestore,`/products/${n.id}`);yield Qve(i,n),console.log(`Product added with ID: ${n.id}`),alert("Product added succefully")}catch(i){throw console.error("Error adding document with custom ID: ",i),i}})()}static#e=this.\u0275fac=function(r){return new(r||t)(k(pg),k(Oy),k(ns),k(su))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Zve=t=>["/admin/products/",t];function Yve(t,e){if(1&t&&(B(0,"tr")(1,"td"),te(2),q(),B(3,"td"),te(4),q(),B(5,"td"),te(6),q(),B(7,"td")(8,"a",8),te(9,"Edit"),q()()()),2&t){const n=e.$implicit;Xt(2),Jo(n.id),Xt(2),Jo(n.title),Xt(2),lw("$",n.price,""),Xt(2),An("routerLink",function nV(t,e,n,r){return rV(we(),Ji(),t,e,n,r)}(4,Zve,n.id))}}function Xve(t,e){if(1&t&&(B(0,"table",3)(1,"thead",4)(2,"tr")(3,"th",5),te(4,"id"),q(),B(5,"th",5),te(6,"Product"),q(),B(7,"th",5),te(8,"Price"),q(),B(9,"th",5),te(10,"Edit"),q()()(),B(11,"tbody",6),Qr(12,Yve,10,6,"tr",7),q()()),2&t){const n=xf();An("dtOptions",n.dtOptions),Xt(12),An("ngForOf",n.filtredProducts)}}let Jve=(()=>{class t{ngAfterViewInit(){W0("#table").hasClass("dataTable")&&(W0.fn.DataTable.isDataTable("#table")&&W0("#table").DataTable().clear().destroy(),W0("#table").DataTable(this.dtOptions))}constructor(n,r,i,s,o){this.ProductService=n,this.db=r,this.route=i,this.afs=s,this.renderer=o,this.products=[],this.filtredProducts=[],this.destroy$=new P,this.dtOptions={},this.subscription=this.ProductService.getAll().valueChanges().pipe(Re(a=>a),mi(a=>{this.filtredProducts=this.products=a})).subscribe(()=>{console.log(this.products)})}ngOnInit(){this.dtOptions={pagingType:"full_numbers"}}ngOnDestroy(){this.subscription.unsubscribe()}filter(n){this.filtredProducts=n?this.products.filter(r=>r.title?.toLowerCase().includes(n.toLowerCase())):this.products}static#e=this.\u0275fac=function(r){return new(r||t)(Te(KO),Te(pg),Te(su),Te(Oy),Te(Qo))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-admin-products"]],decls:8,vars:1,consts:[[2,"display","flex","justify-content","space-evenly","justify-items","center"],["type","button","routerLink","/admin/products/new",1,"btn","btn-info"],["datatable","","id","table","class","table table-striped table-hover row-border hover","style","margin:  auto; width: 98%; text-align:center;",3,"dtOptions",4,"ngIf"],["datatable","","id","table",1,"table","table-striped","table-hover","row-border","hover",2,"margin","auto","width","98%","text-align","center",3,"dtOptions"],["id","table",1,"table-warning"],["scope","col"],["table-group-divider","","id","table"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning",3,"routerLink"]],template:function(r,i){1&r&&(B(0,"p"),te(1,"admin-products works!"),q(),Ue(2,"br"),B(3,"div",0)(4,"button",1),te(5,"New Product"),q()(),Ue(6,"br"),Qr(7,Xve,13,2,"table",2)),2&r&&(Xt(7),An("ngIf",i.products.length))},dependencies:[cD,Hm,rp,wve]})}return t})(),eEe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-admin-orders"]],decls:2,vars:0,template:function(r,i){1&r&&(B(0,"p"),te(1,"admin-orders works!"),q())}})}return t})(),QO=(()=>{class t{constructor(n,r){this.auth=n,this.router=r}canActivate(){return this.auth.theUser$.pipe(Yr(n=>this.auth.getUser(n.uid).valueChanges()),Re(n=>!!n&&n.isAdmin))}static#e=this.\u0275fac=function(r){return new(r||t)(k(_g),k(ns))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SG=(()=>{class t{constructor(n){this.db=n,this.db.object("/categories").valueChanges().subscribe(r=>{console.log(r),this.categories$=r})}get Categories(){return this.db.list("/categories")}static#e=this.\u0275fac=function(r){return new(r||t)(k(pg))};static#t=this.\u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tEe(t,e){1&t&&(B(0,"div",33),te(1,"The id is required !"),q())}function nEe(t,e){if(1&t){const n=lS();B(0,"div",5)(1,"label",30),te(2,"Id"),q(),B(3,"input",31,32),ii("ngModelChange",function(i){return Og(n),Jc(xf().product.id=i)}),q(),Qr(5,tEe,2,0,"div",9),q()}if(2&t){const n=eu(4),r=xf();Xt(3),An("ngModel",r.product.id),Xt(2),An("ngIf",n.touched&&n.invalid)}}function rEe(t,e){1&t&&(B(0,"div",33),te(1,"Title is required !"),q())}function iEe(t,e){1&t&&(B(0,"div"),te(1,'"price is required !"'),q())}function sEe(t,e){1&t&&(B(0,"div"),te(1,"price must be a number"),q())}function oEe(t,e){1&t&&(B(0,"div"),te(1,"price must be =>0 ! "),q())}function aEe(t,e){if(1&t&&(B(0,"div",33),Qr(1,iEe,2,0,"div",34)(2,sEe,2,0,"div",34)(3,oEe,2,0,"div",34),q()),2&t){xf();const n=eu(16);Xt(1),An("ngIf",null==n.errors?null:n.errors.required),Xt(1),An("ngIf",null==n.errors?null:n.errors.pattern),Xt(1),An("ngIf",null==n.errors?null:n.errors.min)}}function uEe(t,e){if(1&t&&(B(0,"option",35),te(1),q()),2&t){const n=e.$implicit;An("value",n.name),Xt(1),Jo(n.name)}}function lEe(t,e){1&t&&(B(0,"div",33),te(1,"category is required!"),q())}function cEe(t,e){1&t&&(B(0,"div"),te(1,"image Url is Required!"),q())}function dEe(t,e){1&t&&(B(0,"div"),te(1,"image Url is invalid! must start with http:// or https://..."),q())}function hEe(t,e){if(1&t&&(B(0,"div",33),Qr(1,cEe,2,0,"div",34)(2,dEe,2,0,"div",34),q()),2&t){xf();const n=eu(35);Xt(1),An("ngIf",null==n.errors?null:n.errors.required),Xt(1),An("ngIf",null==n.errors?null:n.errors.pattern)}}let DG=(()=>{class t{constructor(n,r,i,s,o,a,u){this.ProductService=r,this.router=i,this.db=s,this.afs=o,this.route=a,this.cdr=u,this.isExisting=!1,this.destroy$=new P,this.product={id:"",title:"",price:"",category:"",imageUrl:""},this.db.list("/categories").valueChanges().pipe(mi(l=>{this.categories$=l})).subscribe(()=>{console.log(this.categories$)}),this.afs.collection("/products").valueChanges().pipe(mi(l=>{this.products=l})).subscribe(()=>{console.log(this.products)})}ngOnInit(){this.isExisting=!1;const n=this.route.snapshot.paramMap.get("id");n&&this.ProductService.getProductWithKey(n).pipe(oB(this.destroy$)).subscribe(r=>{this.isExisting=!0;const i=+n;this.product=r.find(s=>s.id===i)})}save(n){var r=this;return(0,Ce.Z)(function*(){if(r.isExisting){const i=r.route.snapshot.paramMap.get("id");r.ProductService.update(i,n),yield new Promise(s=>setTimeout(s,1e3)),yield r.router.navigate(["/admin/products"])}else r.ProductService.createProductWithId(n),yield new Promise(i=>setTimeout(i,1e3)),yield r.router.navigate(["/admin/products"])})()}deleteProduct(){if(confirm("Are you sure you want to delete this product?")){const r=this.route.snapshot.paramMap.get("id");this.ProductService.delete(r)}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(r){return new(r||t)(Te(SG),Te(KO),Te(ns),Te(pg),Te(Oy),Te(su),Te(df))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-products-form"]],decls:53,vars:17,consts:[[1,"row"],[1,"col-md-6"],[3,"ngSubmit"],["f","ngForm"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","title"],["name","title","type","text","id","title","required","",1,"form-control",3,"ngModel","ngModelChange"],["title","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","price"],[1,"input-group"],["type","number","id","price","name","price","required","","min","0",1,"form-control",3,"ngModel","ngModelChange"],["price","ngModel"],[1,"input-group-text"],["for","category"],["id","category","name","category","required","",1,"form-control",3,"ngModel","ngModelChange"],["category","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","imageUrl"],["type","text","id","imageUrl","name","imageUrl","required","","pattern","https?://.+",1,"form-control",3,"ngModel","ngModelChange"],["imageUrl","ngModel"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"card",2,"width","20rem"],[1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title",2,"color","dodgerblue"],[1,"card-text"],["for","id"],["name","id","type","number","id","id","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","ngModel"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"]],template:function(r,i){if(1&r){const s=lS();B(0,"div",0)(1,"div",1)(2,"form",2,3),ii("ngSubmit",function(){Og(s);const a=eu(3);return Jc(i.save(a.value))}),Qr(4,nEe,6,2,"div",4),B(5,"div",5)(6,"label",6),te(7,"Title"),q(),B(8,"input",7,8),ii("ngModelChange",function(a){return i.product.title=a}),q(),Qr(10,rEe,2,0,"div",9),q(),B(11,"div",5)(12,"label",10),te(13,"Price"),q(),B(14,"div",11)(15,"input",12,13),ii("ngModelChange",function(a){return i.product.price=a}),q(),B(17,"span",14),te(18,"$"),q()(),Qr(19,aEe,4,3,"div",9),q(),B(20,"div",5)(21,"label",15),te(22,"Category"),q(),B(23,"select",16,17),ii("ngModelChange",function(a){return i.product.category=a}),Ue(25,"option",18),Qr(26,uEe,2,2,"option",19),q(),Qr(27,lEe,2,0,"div",9),q(),B(28,"div",5)(29,"label",20),te(30,"Image Url"),q(),B(31,"div",11)(32,"span",14),te(33,"http://"),q(),B(34,"input",21,22),ii("ngModelChange",function(a){return i.product.imageUrl=a}),q()()(),Qr(36,hEe,3,2,"div",9),Ue(37,"br"),B(38,"button",23),te(39,"Save"),q(),te(40,"\n\xa0\n"),B(41,"button",24),ii("click",function(){return i.deleteProduct()}),te(42,"Delete"),q()()(),B(43,"div",1)(44,"div",25),Ue(45,"img",26)(46,"hr"),B(47,"div",27)(48,"h5",28),te(49),q(),B(50,"p",29),te(51),Of(52,"currency"),q()()()()()}if(2&r){const s=eu(9),o=eu(16),a=eu(24),u=eu(35);Xt(4),An("ngIf",!i.isExisting),Xt(4),An("ngModel",i.product.title),Xt(2),An("ngIf",s.touched&&s.invalid),Xt(5),An("ngModel",i.product.price),Xt(4),An("ngIf",o.touched&&o.invalid),Xt(4),An("ngModel",i.product.category),Xt(3),An("ngForOf",i.categories$),Xt(1),An("ngIf",a.touched&&a.invalid),Xt(7),An("ngModel",i.product.imageUrl),Xt(2),An("ngIf",u.touched&&u.invalid),Xt(9),An("src",u.value,AE),Xt(4),Jo(s.value),Xt(2),Jo(uV(52,13,o.value,"USD",!0))}},dependencies:[cD,Hm,NO,dG,fG,x0,kO,H0,Hq,IO,z0,jO,BO,OO,fv,U2],styles:[".row[_ngcontent-%COMP%]{margin:30px;display:flex;flex-direction:rows}"]})}return t})();const q0=()=>(t=>kr(bG,Re(e=>e||t)))(["login"]),fEe=[{path:"",component:Tve},{path:"shopping-cart",component:Bve},{path:"manage-products",component:Lve},{path:"login",component:Hve},{path:"admin/orders",component:eEe,canActivate:[gv,QO],data:{authGuardPipe:q0}},{path:"admin/products/new",component:DG},{path:"admin/products/:id",component:DG},{path:"admin/products",component:Jve},{path:"check-out",component:jve,canActivate:[gv],data:{authGuardPipe:q0}},{path:"order-success",component:$ve,canActivate:[gv],data:{authGuardPipe:q0}},{path:"my-orders",component:Vve,canActivate:[gv],data:{authGuardPipe:q0}},{path:"no-access",component:Uve},{path:"**",redirectTo:""}];let pEe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Jn({type:t});static#n=this.\u0275inj=sr({imports:[xA.forRoot(fEe),xA]})}return t})();const ZO=()=>["active"];function gEe(t,e){1&t&&(B(0,"li",2)(1,"button",19)(2,"a",7),Ue(3,"img",20),q(),te(4,"Login"),q()()),2&t&&(Xt(1),An("routerLinkActive",hw(1,ZO)))}function mEe(t,e){if(1&t&&(B(0,"a",21),te(1),q()),2&t){const n=e.ngIf;Xt(1),Jo(n.displayName?n.displayName:"User")}}function _Ee(t,e){1&t&&(B(0,"li")(1,"a",22),te(2,"manage Orders"),q()())}function yEe(t,e){1&t&&(B(0,"li")(1,"a",23),te(2,"manage Products"),q()())}function vEe(t,e){if(1&t&&Ue(0,"img",24),2&t){const n=e.ngIf;uw("src",n.photoURL,AE),uw("alt",n.displayName)}}let EEe=(()=>{class t{constructor(n,r){this.authService=n,this.adminguard=r,this.user$=this.authService.theUser$,this.isadmin$=this.adminguard.canActivate()}static#e=this.\u0275fac=function(r){return new(r||t)(Te(_g),Te(QO))};static#t=this.\u0275cmp=qn({type:t,selectors:[["navbar"]],decls:32,vars:17,consts:[[1,"drop"],["id","pillNav2","role","tablist",1,"nav","nav-pills","nav-fill","gap-2","p-1","small","bg-warning","rounded-5","shadow-sm",2,"--bs-nav-link-color","var(--bs-white)","--bs-nav-pills-link-active-color","var(--bs-primary)","--bs-nav-pills-link-active-bg","var(--bs-white)"],["role","presentation",1,"nav-item"],["id","home-tab2","data-bs-toggle","tab","type","button","role","tab","aria-selected","true","routerLink","/",1,"nav-link","active","rounded-5",3,"routerLinkActive"],["routerLink","/",1,"navbar-brand"],["src","assets/logo.png","width","35","height","35",1,"bi","me-2","rounded-circle"],["id","home-tab2","data-bs-toggle","tab","type","button","role","tab","aria-selected","true","routerLink","/shopping-cart",1,"nav-link","active","rounded-5",3,"routerLinkActive"],[1,"navbar-brand"],["src","assets/kart.png","width","35","height","35",1,"bi","me-2","rounded-circle"],["anonymousUser",""],["role","presentation",1,"nav-item","dropdown"],["class","nav-link dropdown-toggle drop","data-bs-toggle","dropdown","role","button","aria-expanded","true",4,"ngIf","ngIfElse"],[1,"dropdown-menu"],["role","presentation"],["routerLink","/my-orders",1,"dropdown-item"],[4,"ngIf"],[1,"dropdown-divider"],["role","presentation",1,"dropdown-item",3,"click"],["class","bi me-2 rounded-circle","width","40","height","40",3,"src","alt",4,"ngIf"],["id","home-tab2","data-bs-toggle","tab","type","button","role","tab","aria-selected","true","routerLink","/login",1,"nav-link","active","rounded-5",3,"routerLinkActive"],["src","assets/login.png","width","35","height","35",1,"bi","me-2","rounded-circle"],["data-bs-toggle","dropdown","role","button","aria-expanded","true",1,"nav-link","dropdown-toggle","drop"],["role","presentation","routerLink","/admin/orders",1,"dropdown-item"],["role","presentation","routerLink","/admin/products",1,"dropdown-item"],["width","40","height","40",1,"bi","me-2","rounded-circle",3,"src","alt"]],template:function(r,i){if(1&r&&(B(0,"div",0)(1,"ul",1)(2,"li",2)(3,"button",3)(4,"a",4),Ue(5,"img",5),q(),te(6,"ESHOP"),q()(),B(7,"li",2)(8,"button",6)(9,"a",7),Ue(10,"img",8),q(),te(11,"shopping Cart"),q()(),Qr(12,gEe,5,2,"ng-template",null,9,mV),B(14,"li",10),Qr(15,mEe,2,1,"a",11),Of(16,"async"),B(17,"ul",12)(18,"li",13)(19,"a",14),te(20,"my-orders"),q()(),Qr(21,_Ee,3,0,"li",15),Of(22,"async"),Qr(23,yEe,3,0,"li",15),Of(24,"async"),B(25,"li"),Ue(26,"hr",16),q(),B(27,"li")(28,"a",17),ii("click",function(){return i.authService.logout()}),te(29,"logout"),q()()()(),Qr(30,vEe,1,2,"img",18),Of(31,"async"),q()()),2&r){const s=eu(13);Xt(3),An("routerLinkActive",hw(15,ZO)),Xt(5),An("routerLinkActive",hw(16,ZO)),Xt(7),An("ngIf",Nm(16,7,i.user$))("ngIfElse",s),Xt(6),An("ngIf",Nm(22,9,i.isadmin$)),Xt(2),An("ngIf",Nm(24,11,i.isadmin$)),Xt(7),An("ngIf",Nm(31,13,i.user$))}},dependencies:[Hm,rp,YB,L2],styles:[".drop[_ngcontent-%COMP%]{display:flexbox;justify-content:space-around!important;justify-items:center}"]})}return t})(),wEe=(()=>{class t{constructor(n,r){this.router=n,this.auth=r,r.theUser$.subscribe(i=>{i&&(this.auth.saveUser(i),this.auth.SetUserData(i))})}static#e=this.\u0275fac=function(r){return new(r||t)(Te(ns),Te(_g))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&Ue(0,"navbar")(1,"router-outlet")},dependencies:[EA,EEe]})}return t})(),CEe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Jn({type:t,bootstrap:[wEe]});static#n=this.\u0275inj=sr({providers:[_g,gv,QO,SG,KO],imports:[nU,pEe,Cre,xA,Uoe.initializeApp(Eoe_firebaseConfig),zoe,ppe,Nue,bye,vve,gD,Cve]})}return t})();Ete().bootstrapModule(CEe).catch(t=>console.error(t))},276:function(cs,Or){var L;!function(X,Y){"use strict";"object"==typeof cs.exports?cs.exports=X.document?Y(X,!0):function($e){if(!$e.document)throw new Error("jQuery requires a window with a document");return Y($e)}:Y(X)}(typeof window<"u"?window:this,function(X,Y){"use strict";var $e=[],Un=Object.getPrototypeOf,lt=$e.slice,Er=$e.flat?function(d){return $e.flat.call(d)}:function(d){return $e.concat.apply([],d)},Sn=$e.push,en=$e.indexOf,be={},Me=be.toString,tt=be.hasOwnProperty,At=tt.toString,sn=At.call(Object),it={},ze=function(g){return"function"==typeof g&&"number"!=typeof g.nodeType&&"function"!=typeof g.item},Tt=function(g){return null!=g&&g===g.window},Ve=X.document,wr={type:!0,src:!0,nonce:!0,noModule:!0};function ir(d,g,y){var E,b,T=(y=y||Ve).createElement("script");if(T.text=d,g)for(E in wr)(b=g[E]||g.getAttribute&&g.getAttribute(E))&&T.setAttribute(E,b);y.head.appendChild(T).parentNode.removeChild(T)}function Ot(d){return null==d?d+"":"object"==typeof d||"function"==typeof d?be[Me.call(d)]||"object":typeof d}var ti=/HTML$/i,w=function(d,g){return new w.fn.init(d,g)};function Ht(d){var g=!!d&&"length"in d&&d.length,y=Ot(d);return!ze(d)&&!Tt(d)&&("array"===y||0===g||"number"==typeof g&&g>0&&g-1 in d)}function _e(d,g){return d.nodeName&&d.nodeName.toLowerCase()===g.toLowerCase()}w.fn=w.prototype={jquery:"3.7.1",constructor:w,length:0,toArray:function(){return lt.call(this)},get:function(d){return null==d?lt.call(this):d<0?this[d+this.length]:this[d]},pushStack:function(d){var g=w.merge(this.constructor(),d);return g.prevObject=this,g},each:function(d){return w.each(this,d)},map:function(d){return this.pushStack(w.map(this,function(g,y){return d.call(g,y,g)}))},slice:function(){return this.pushStack(lt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,function(d,g){return(g+1)%2}))},odd:function(){return this.pushStack(w.grep(this,function(d,g){return g%2}))},eq:function(d){var g=this.length,y=+d+(d<0?g:0);return this.pushStack(y>=0&&y<g?[this[y]]:[])},end:function(){return this.prevObject||this.constructor()},push:Sn,sort:$e.sort,splice:$e.splice},w.extend=w.fn.extend=function(){var d,g,y,E,b,T,D=arguments[0]||{},H=1,V=arguments.length,Q=!1;for("boolean"==typeof D&&(Q=D,D=arguments[H]||{},H++),"object"!=typeof D&&!ze(D)&&(D={}),H===V&&(D=this,H--);H<V;H++)if(null!=(d=arguments[H]))for(g in d)E=d[g],"__proto__"!==g&&D!==E&&(Q&&E&&(w.isPlainObject(E)||(b=Array.isArray(E)))?(y=D[g],T=b&&!Array.isArray(y)?[]:b||w.isPlainObject(y)?y:{},b=!1,D[g]=w.extend(Q,T,E)):void 0!==E&&(D[g]=E));return D},w.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(d){throw new Error(d)},noop:function(){},isPlainObject:function(d){var g,y;return!(!d||"[object Object]"!==Me.call(d)||(g=Un(d))&&("function"!=typeof(y=tt.call(g,"constructor")&&g.constructor)||At.call(y)!==sn))},isEmptyObject:function(d){var g;for(g in d)return!1;return!0},globalEval:function(d,g,y){ir(d,{nonce:g&&g.nonce},y)},each:function(d,g){var y,E=0;if(Ht(d))for(y=d.length;E<y&&!1!==g.call(d[E],E,d[E]);E++);else for(E in d)if(!1===g.call(d[E],E,d[E]))break;return d},text:function(d){var g,y="",E=0,b=d.nodeType;if(!b)for(;g=d[E++];)y+=w.text(g);return 1===b||11===b?d.textContent:9===b?d.documentElement.textContent:3===b||4===b?d.nodeValue:y},makeArray:function(d,g){var y=g||[];return null!=d&&(Ht(Object(d))?w.merge(y,"string"==typeof d?[d]:d):Sn.call(y,d)),y},inArray:function(d,g,y){return null==g?-1:en.call(g,d,y)},isXMLDoc:function(d){var y=d&&(d.ownerDocument||d).documentElement;return!ti.test(d&&d.namespaceURI||y&&y.nodeName||"HTML")},merge:function(d,g){for(var y=+g.length,E=0,b=d.length;E<y;E++)d[b++]=g[E];return d.length=b,d},grep:function(d,g,y){for(var b=[],T=0,D=d.length,H=!y;T<D;T++)!g(d[T],T)!==H&&b.push(d[T]);return b},map:function(d,g,y){var E,b,T=0,D=[];if(Ht(d))for(E=d.length;T<E;T++)null!=(b=g(d[T],T,y))&&D.push(b);else for(T in d)null!=(b=g(d[T],T,y))&&D.push(b);return Er(D)},guid:1,support:it}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=$e[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(d,g){be["[object "+g+"]"]=g.toLowerCase()});var hn=$e.pop,zn=$e.sort,Cr=$e.splice,Bt="[\\x20\\t\\r\\n\\f]",xi=new RegExp("^"+Bt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Bt+"+$","g");w.contains=function(d,g){var y=g&&g.parentNode;return d===y||!(!y||1!==y.nodeType||!(d.contains?d.contains(y):d.compareDocumentPosition&&16&d.compareDocumentPosition(y)))};var xs=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Nr(d,g){return g?"\0"===d?"\ufffd":d.slice(0,-1)+"\\"+d.charCodeAt(d.length-1).toString(16)+" ":"\\"+d}w.escapeSelector=function(d){return(d+"").replace(xs,Nr)};var fr=Ve,Oi=Sn;!function(){var d,g,y,E,b,D,H,V,Q,ce,T=Oi,Ee=w.expando,k=0,Oe=0,ve=Ba(),Yt=Ba(),bt=Ba(),pr=Ba(),or=function(N,K){return N===K&&(b=!0),0},to="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Vs="(?:\\\\[\\da-fA-F]{1,6}"+Bt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",St="\\["+Bt+"*("+Vs+")(?:"+Bt+"*([*^$|!~]?=)"+Bt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Vs+"))|)"+Bt+"*\\]",gr=":("+Vs+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+St+")*)|.*)\\)|)",xt=new RegExp(Bt+"+","g"),En=new RegExp("^"+Bt+"*,"+Bt+"*"),Kt=new RegExp("^"+Bt+"*([>+~]|"+Bt+")"+Bt+"*"),da=new RegExp(Bt+"|>"),Yi=new RegExp(gr),ha=new RegExp("^"+Vs+"$"),Us={ID:new RegExp("^#("+Vs+")"),CLASS:new RegExp("^\\.("+Vs+")"),TAG:new RegExp("^("+Vs+"|[*])"),ATTR:new RegExp("^"+St),PSEUDO:new RegExp("^"+gr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Bt+"*(even|odd|(([+-]|)(\\d*)n|)"+Bt+"*(?:([+-]|)"+Bt+"*(\\d+)|))"+Bt+"*\\)|)","i"),bool:new RegExp("^(?:"+to+")$","i"),needsContext:new RegExp("^"+Bt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Bt+"*((?:-\\d)?\\d*)"+Bt+"*\\)|)(?=[^-]|$)","i")},Li=/^(?:input|select|textarea|button)$/i,Bs=/^h\d$/i,Ci=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ua=/[+~]/,_s=new RegExp("\\\\[\\da-fA-F]{1,6}"+Bt+"?|\\\\([^\\r\\n\\f])","g"),no=function(N,K){var oe="0x"+N.slice(1)-65536;return K||(oe<0?String.fromCharCode(oe+65536):String.fromCharCode(oe>>10|55296,1023&oe|56320))},zc=function(){qn()},ys=jo(function(N){return!0===N.disabled&&_e(N,"fieldset")},{dir:"parentNode",next:"legend"});try{T.apply($e=lt.call(fr.childNodes),fr.childNodes)}catch{T={apply:function(K,oe){Oi.apply(K,lt.call(oe))},call:function(K){Oi.apply(K,lt.call(arguments,1))}}}function cn(N,K,oe,de){var fe,ee,ye,Be,je,_t,ot,yt=K&&K.ownerDocument,rt=K?K.nodeType:9;if(oe=oe||[],"string"!=typeof N||!N||1!==rt&&9!==rt&&11!==rt)return oe;if(!de&&(qn(K),K=K||D,V)){if(11!==rt&&(je=Ci.exec(N)))if(fe=je[1]){if(9===rt){if(!(ye=K.getElementById(fe)))return oe;if(ye.id===fe)return T.call(oe,ye),oe}else if(yt&&(ye=yt.getElementById(fe))&&cn.contains(K,ye)&&ye.id===fe)return T.call(oe,ye),oe}else{if(je[2])return T.apply(oe,K.getElementsByTagName(N)),oe;if((fe=je[3])&&K.getElementsByClassName)return T.apply(oe,K.getElementsByClassName(fe)),oe}if(!(pr[N+" "]||Q&&Q.test(N))){if(ot=N,yt=K,1===rt&&(da.test(N)||Kt.test(N))){for(((yt=Ua.test(N)&&qc(K.parentNode)||K)!=K||!it.scope)&&((Be=K.getAttribute("id"))?Be=w.escapeSelector(Be):K.setAttribute("id",Be=Ee)),ee=(_t=fa(N)).length;ee--;)_t[ee]=(Be?"#"+Be:":scope")+" "+Jn(_t[ee]);ot=_t.join(",")}try{return T.apply(oe,yt.querySelectorAll(ot)),oe}catch{pr(N,!0)}finally{Be===Ee&&K.removeAttribute("id")}}}return Ou(N.replace(xi,"$1"),K,oe,de)}function Ba(){var N=[];return function K(oe,de){return N.push(oe+" ")>g.cacheLength&&delete K[N.shift()],K[oe+" "]=de}}function vs(N){return N[Ee]=!0,N}function Bo(N){var K=D.createElement("fieldset");try{return!!N(K)}catch{return!1}finally{K.parentNode&&K.parentNode.removeChild(K),K=null}}function Ph(N){return function(K){return _e(K,"input")&&K.type===N}}function El(N){return function(K){return(_e(K,"input")||_e(K,"button"))&&K.type===N}}function Mh(N){return function(K){return"form"in K?K.parentNode&&!1===K.disabled?"label"in K?"label"in K.parentNode?K.parentNode.disabled===N:K.disabled===N:K.isDisabled===N||K.isDisabled!==!N&&ys(K)===N:K.disabled===N:"label"in K&&K.disabled===N}}function vo(N){return vs(function(K){return K=+K,vs(function(oe,de){for(var fe,ee=N([],oe.length,K),ye=ee.length;ye--;)oe[fe=ee[ye]]&&(oe[fe]=!(de[fe]=oe[fe]))})})}function qc(N){return N&&typeof N.getElementsByTagName<"u"&&N}function qn(N){var K,oe=N?N.ownerDocument||N:fr;return oe==D||9!==oe.nodeType||!oe.documentElement||(H=(D=oe).documentElement,V=!w.isXMLDoc(D),ce=H.matches||H.webkitMatchesSelector||H.msMatchesSelector,H.msMatchesSelector&&fr!=D&&(K=D.defaultView)&&K.top!==K&&K.addEventListener("unload",zc),it.getById=Bo(function(de){return H.appendChild(de).id=w.expando,!D.getElementsByName||!D.getElementsByName(w.expando).length}),it.disconnectedMatch=Bo(function(de){return ce.call(de,"*")}),it.scope=Bo(function(){return D.querySelectorAll(":scope")}),it.cssHas=Bo(function(){try{return D.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),it.getById?(g.filter.ID=function(de){var fe=de.replace(_s,no);return function(ee){return ee.getAttribute("id")===fe}},g.find.ID=function(de,fe){if(typeof fe.getElementById<"u"&&V){var ee=fe.getElementById(de);return ee?[ee]:[]}}):(g.filter.ID=function(de){var fe=de.replace(_s,no);return function(ee){var ye=typeof ee.getAttributeNode<"u"&&ee.getAttributeNode("id");return ye&&ye.value===fe}},g.find.ID=function(de,fe){if(typeof fe.getElementById<"u"&&V){var ee,ye,Be,je=fe.getElementById(de);if(je){if((ee=je.getAttributeNode("id"))&&ee.value===de)return[je];for(Be=fe.getElementsByName(de),ye=0;je=Be[ye++];)if((ee=je.getAttributeNode("id"))&&ee.value===de)return[je]}return[]}}),g.find.TAG=function(de,fe){return typeof fe.getElementsByTagName<"u"?fe.getElementsByTagName(de):fe.querySelectorAll(de)},g.find.CLASS=function(de,fe){if(typeof fe.getElementsByClassName<"u"&&V)return fe.getElementsByClassName(de)},Q=[],Bo(function(de){var fe;H.appendChild(de).innerHTML="<a id='"+Ee+"' href='' disabled='disabled'></a><select id='"+Ee+"-\r\\' disabled='disabled'><option selected=''></option></select>",de.querySelectorAll("[selected]").length||Q.push("\\["+Bt+"*(?:value|"+to+")"),de.querySelectorAll("[id~="+Ee+"-]").length||Q.push("~="),de.querySelectorAll("a#"+Ee+"+*").length||Q.push(".#.+[+~]"),de.querySelectorAll(":checked").length||Q.push(":checked"),(fe=D.createElement("input")).setAttribute("type","hidden"),de.appendChild(fe).setAttribute("name","D"),H.appendChild(de).disabled=!0,2!==de.querySelectorAll(":disabled").length&&Q.push(":enabled",":disabled"),(fe=D.createElement("input")).setAttribute("name",""),de.appendChild(fe),de.querySelectorAll("[name='']").length||Q.push("\\["+Bt+"*name"+Bt+"*="+Bt+"*(?:''|\"\")")}),it.cssHas||Q.push(":has"),Q=Q.length&&new RegExp(Q.join("|")),or=function(de,fe){if(de===fe)return b=!0,0;var ee=!de.compareDocumentPosition-!fe.compareDocumentPosition;return ee||(1&(ee=(de.ownerDocument||de)==(fe.ownerDocument||fe)?de.compareDocumentPosition(fe):1)||!it.sortDetached&&fe.compareDocumentPosition(de)===ee?de===D||de.ownerDocument==fr&&cn.contains(fr,de)?-1:fe===D||fe.ownerDocument==fr&&cn.contains(fr,fe)?1:E?en.call(E,de)-en.call(E,fe):0:4&ee?-1:1)}),D}for(d in cn.matches=function(N,K){return cn(N,null,null,K)},cn.matchesSelector=function(N,K){if(qn(N),V&&!pr[K+" "]&&(!Q||!Q.test(K)))try{var oe=ce.call(N,K);if(oe||it.disconnectedMatch||N.document&&11!==N.document.nodeType)return oe}catch{pr(K,!0)}return cn(K,D,null,[N]).length>0},cn.contains=function(N,K){return(N.ownerDocument||N)!=D&&qn(N),w.contains(N,K)},cn.attr=function(N,K){(N.ownerDocument||N)!=D&&qn(N);var oe=g.attrHandle[K.toLowerCase()],de=oe&&tt.call(g.attrHandle,K.toLowerCase())?oe(N,K,!V):void 0;return void 0!==de?de:N.getAttribute(K)},cn.error=function(N){throw new Error("Syntax error, unrecognized expression: "+N)},w.uniqueSort=function(N){var K,oe=[],de=0,fe=0;if(b=!it.sortStable,E=!it.sortStable&&lt.call(N,0),zn.call(N,or),b){for(;K=N[fe++];)K===N[fe]&&(de=oe.push(fe));for(;de--;)Cr.call(N,oe[de],1)}return E=null,N},w.fn.uniqueSort=function(){return this.pushStack(w.uniqueSort(lt.apply(this)))},(g=w.expr={cacheLength:50,createPseudo:vs,match:Us,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(N){return N[1]=N[1].replace(_s,no),N[3]=(N[3]||N[4]||N[5]||"").replace(_s,no),"~="===N[2]&&(N[3]=" "+N[3]+" "),N.slice(0,4)},CHILD:function(N){return N[1]=N[1].toLowerCase(),"nth"===N[1].slice(0,3)?(N[3]||cn.error(N[0]),N[4]=+(N[4]?N[5]+(N[6]||1):2*("even"===N[3]||"odd"===N[3])),N[5]=+(N[7]+N[8]||"odd"===N[3])):N[3]&&cn.error(N[0]),N},PSEUDO:function(N){var K,oe=!N[6]&&N[2];return Us.CHILD.test(N[0])?null:(N[3]?N[2]=N[4]||N[5]||"":oe&&Yi.test(oe)&&(K=fa(oe,!0))&&(K=oe.indexOf(")",oe.length-K)-oe.length)&&(N[0]=N[0].slice(0,K),N[2]=oe.slice(0,K)),N.slice(0,3))}},filter:{TAG:function(N){var K=N.replace(_s,no).toLowerCase();return"*"===N?function(){return!0}:function(oe){return _e(oe,K)}},CLASS:function(N){var K=ve[N+" "];return K||(K=new RegExp("(^|"+Bt+")"+N+"("+Bt+"|$)"))&&ve(N,function(oe){return K.test("string"==typeof oe.className&&oe.className||typeof oe.getAttribute<"u"&&oe.getAttribute("class")||"")})},ATTR:function(N,K,oe){return function(de){var fe=cn.attr(de,N);return null==fe?"!="===K:!K||(fe+="","="===K?fe===oe:"!="===K?fe!==oe:"^="===K?oe&&0===fe.indexOf(oe):"*="===K?oe&&fe.indexOf(oe)>-1:"$="===K?oe&&fe.slice(-oe.length)===oe:"~="===K?(" "+fe.replace(xt," ")+" ").indexOf(oe)>-1:"|="===K&&(fe===oe||fe.slice(0,oe.length+1)===oe+"-"))}},CHILD:function(N,K,oe,de,fe){var ee="nth"!==N.slice(0,3),ye="last"!==N.slice(-4),Be="of-type"===K;return 1===de&&0===fe?function(je){return!!je.parentNode}:function(je,_t,ot){var yt,rt,Qe,un,st,Dr=ee!==ye?"nextSibling":"previousSibling",Ii=je.parentNode,bi=Be&&je.nodeName.toLowerCase(),In=!ot&&!Be,Lr=!1;if(Ii){if(ee){for(;Dr;){for(Qe=je;Qe=Qe[Dr];)if(Be?_e(Qe,bi):1===Qe.nodeType)return!1;st=Dr="only"===N&&!st&&"nextSibling"}return!0}if(st=[ye?Ii.firstChild:Ii.lastChild],ye&&In){for(Lr=(un=(yt=(rt=Ii[Ee]||(Ii[Ee]={}))[N]||[])[0]===k&&yt[1])&&yt[2],Qe=un&&Ii.childNodes[un];Qe=++un&&Qe&&Qe[Dr]||(Lr=un=0)||st.pop();)if(1===Qe.nodeType&&++Lr&&Qe===je){rt[N]=[k,un,Lr];break}}else if(In&&(Lr=un=(yt=(rt=je[Ee]||(je[Ee]={}))[N]||[])[0]===k&&yt[1]),!1===Lr)for(;(Qe=++un&&Qe&&Qe[Dr]||(Lr=un=0)||st.pop())&&(!(Be?_e(Qe,bi):1===Qe.nodeType)||!++Lr||(In&&((rt=Qe[Ee]||(Qe[Ee]={}))[N]=[k,Lr]),Qe!==je)););return(Lr-=fe)===de||Lr%de==0&&Lr/de>=0}}},PSEUDO:function(N,K){var oe,de=g.pseudos[N]||g.setFilters[N.toLowerCase()]||cn.error("unsupported pseudo: "+N);return de[Ee]?de(K):de.length>1?(oe=[N,N,"",K],g.setFilters.hasOwnProperty(N.toLowerCase())?vs(function(fe,ee){for(var ye,Be=de(fe,K),je=Be.length;je--;)fe[ye=en.call(fe,Be[je])]=!(ee[ye]=Be[je])}):function(fe){return de(fe,0,oe)}):de}},pseudos:{not:vs(function(N){var K=[],oe=[],de=Wr(N.replace(xi,"$1"));return de[Ee]?vs(function(fe,ee,ye,Be){for(var je,_t=de(fe,null,Be,[]),ot=fe.length;ot--;)(je=_t[ot])&&(fe[ot]=!(ee[ot]=je))}):function(fe,ee,ye){return K[0]=fe,de(K,null,ye,oe),K[0]=null,!oe.pop()}}),has:vs(function(N){return function(K){return cn(N,K).length>0}}),contains:vs(function(N){return N=N.replace(_s,no),function(K){return(K.textContent||w.text(K)).indexOf(N)>-1}}),lang:vs(function(N){return ha.test(N||"")||cn.error("unsupported lang: "+N),N=N.replace(_s,no).toLowerCase(),function(K){var oe;do{if(oe=V?K.lang:K.getAttribute("xml:lang")||K.getAttribute("lang"))return(oe=oe.toLowerCase())===N||0===oe.indexOf(N+"-")}while((K=K.parentNode)&&1===K.nodeType);return!1}}),target:function(N){var K=X.location&&X.location.hash;return K&&K.slice(1)===N.id},root:function(N){return N===H},focus:function(N){return N===function Wc(){try{return D.activeElement}catch{}}()&&D.hasFocus()&&!!(N.type||N.href||~N.tabIndex)},enabled:Mh(!1),disabled:Mh(!0),checked:function(N){return _e(N,"input")&&!!N.checked||_e(N,"option")&&!!N.selected},selected:function(N){return!0===N.selected},empty:function(N){for(N=N.firstChild;N;N=N.nextSibling)if(N.nodeType<6)return!1;return!0},parent:function(N){return!g.pseudos.empty(N)},header:function(N){return Bs.test(N.nodeName)},input:function(N){return Li.test(N.nodeName)},button:function(N){return _e(N,"input")&&"button"===N.type||_e(N,"button")},text:function(N){var K;return _e(N,"input")&&"text"===N.type&&(null==(K=N.getAttribute("type"))||"text"===K.toLowerCase())},first:vo(function(){return[0]}),last:vo(function(N,K){return[K-1]}),eq:vo(function(N,K,oe){return[oe<0?oe+K:oe]}),even:vo(function(N,K){for(var oe=0;oe<K;oe+=2)N.push(oe);return N}),odd:vo(function(N,K){for(var oe=1;oe<K;oe+=2)N.push(oe);return N}),lt:vo(function(N,K,oe){var de;for(de=oe<0?oe+K:oe>K?K:oe;--de>=0;)N.push(de);return N}),gt:vo(function(N,K,oe){for(var de=oe<0?oe+K:oe;++de<K;)N.push(de);return N})}}).pseudos.nth=g.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})g.pseudos[d]=Ph(d);for(d in{submit:!0,reset:!0})g.pseudos[d]=El(d);function ja(){}function fa(N,K){var oe,de,fe,ee,ye,Be,je,_t=Yt[N+" "];if(_t)return K?0:_t.slice(0);for(ye=N,Be=[],je=g.preFilter;ye;){for(ee in(!oe||(de=En.exec(ye)))&&(de&&(ye=ye.slice(de[0].length)||ye),Be.push(fe=[])),oe=!1,(de=Kt.exec(ye))&&(oe=de.shift(),fe.push({value:oe,type:de[0].replace(xi," ")}),ye=ye.slice(oe.length)),g.filter)(de=Us[ee].exec(ye))&&(!je[ee]||(de=je[ee](de)))&&(oe=de.shift(),fe.push({value:oe,type:ee,matches:de}),ye=ye.slice(oe.length));if(!oe)break}return K?ye.length:ye?cn.error(N):Yt(N,Be).slice(0)}function Jn(N){for(var K=0,oe=N.length,de="";K<oe;K++)de+=N[K].value;return de}function jo(N,K,oe){var de=K.dir,fe=K.next,ee=fe||de,ye=oe&&"parentNode"===ee,Be=Oe++;return K.first?function(je,_t,ot){for(;je=je[de];)if(1===je.nodeType||ye)return N(je,_t,ot);return!1}:function(je,_t,ot){var yt,rt,Qe=[k,Be];if(ot){for(;je=je[de];)if((1===je.nodeType||ye)&&N(je,_t,ot))return!0}else for(;je=je[de];)if(1===je.nodeType||ye)if(rt=je[Ee]||(je[Ee]={}),fe&&_e(je,fe))je=je[de]||je;else{if((yt=rt[ee])&&yt[0]===k&&yt[1]===Be)return Qe[2]=yt[2];if(rt[ee]=Qe,Qe[2]=N(je,_t,ot))return!0}return!1}}function mt(N){return N.length>1?function(K,oe,de){for(var fe=N.length;fe--;)if(!N[fe](K,oe,de))return!1;return!0}:N[0]}function Vt(N,K,oe,de,fe){for(var ee,ye=[],Be=0,je=N.length,_t=null!=K;Be<je;Be++)(ee=N[Be])&&(!oe||oe(ee,de,fe))&&(ye.push(ee),_t&&K.push(Be));return ye}function er(N,K,oe,de,fe,ee){return de&&!de[Ee]&&(de=er(de)),fe&&!fe[Ee]&&(fe=er(fe,ee)),vs(function(ye,Be,je,_t){var ot,yt,rt,Qe,un=[],st=[],Dr=Be.length,Ii=ye||function hi(N,K,oe){for(var de=0,fe=K.length;de<fe;de++)cn(N,K[de],oe);return oe}(K||"*",je.nodeType?[je]:je,[]),bi=!N||!ye&&K?Ii:Vt(Ii,un,N,je,_t);if(oe?oe(bi,Qe=fe||(ye?N:Dr||de)?[]:Be,je,_t):Qe=bi,de)for(ot=Vt(Qe,st),de(ot,[],je,_t),yt=ot.length;yt--;)(rt=ot[yt])&&(Qe[st[yt]]=!(bi[st[yt]]=rt));if(ye){if(fe||N){if(fe){for(ot=[],yt=Qe.length;yt--;)(rt=Qe[yt])&&ot.push(bi[yt]=rt);fe(null,Qe=[],ot,_t)}for(yt=Qe.length;yt--;)(rt=Qe[yt])&&(ot=fe?en.call(ye,rt):un[yt])>-1&&(ye[ot]=!(Be[ot]=rt))}}else Qe=Vt(Qe===Be?Qe.splice(Dr,Qe.length):Qe),fe?fe(null,Be,Qe,_t):T.apply(Be,Qe)})}function Fr(N){for(var K,oe,de,fe=N.length,ee=g.relative[N[0].type],ye=ee||g.relative[" "],Be=ee?1:0,je=jo(function(yt){return yt===K},ye,!0),_t=jo(function(yt){return en.call(K,yt)>-1},ye,!0),ot=[function(yt,rt,Qe){var un=!ee&&(Qe||rt!=y)||((K=rt).nodeType?je(yt,rt,Qe):_t(yt,rt,Qe));return K=null,un}];Be<fe;Be++)if(oe=g.relative[N[Be].type])ot=[jo(mt(ot),oe)];else{if((oe=g.filter[N[Be].type].apply(null,N[Be].matches))[Ee]){for(de=++Be;de<fe&&!g.relative[N[de].type];de++);return er(Be>1&&mt(ot),Be>1&&Jn(N.slice(0,Be-1).concat({value:" "===N[Be-2].type?"*":""})).replace(xi,"$1"),oe,Be<de&&Fr(N.slice(Be,de)),de<fe&&Fr(N=N.slice(de)),de<fe&&Jn(N))}ot.push(oe)}return mt(ot)}function Wr(N,K){var oe,de=[],fe=[],ee=bt[N+" "];if(!ee){for(K||(K=fa(N)),oe=K.length;oe--;)(ee=Fr(K[oe]))[Ee]?de.push(ee):fe.push(ee);ee=bt(N,function ro(N,K){var oe=K.length>0,de=N.length>0,fe=function(ee,ye,Be,je,_t){var ot,yt,rt,Qe=0,un="0",st=ee&&[],Dr=[],Ii=y,bi=ee||de&&g.find.TAG("*",_t),In=k+=null==Ii?1:Math.random()||.1,Lr=bi.length;for(_t&&(y=ye==D||ye||_t);un!==Lr&&null!=(ot=bi[un]);un++){if(de&&ot){for(yt=0,!ye&&ot.ownerDocument!=D&&(qn(ot),Be=!V);rt=N[yt++];)if(rt(ot,ye||D,Be)){T.call(je,ot);break}_t&&(k=In)}oe&&((ot=!rt&&ot)&&Qe--,ee&&st.push(ot))}if(Qe+=un,oe&&un!==Qe){for(yt=0;rt=K[yt++];)rt(st,Dr,ye,Be);if(ee){if(Qe>0)for(;un--;)st[un]||Dr[un]||(Dr[un]=hn.call(je));Dr=Vt(Dr)}T.apply(je,Dr),_t&&!ee&&Dr.length>0&&Qe+K.length>1&&w.uniqueSort(je)}return _t&&(k=In,y=Ii),st};return oe?vs(fe):fe}(fe,de)),ee.selector=N}return ee}function Ou(N,K,oe,de){var fe,ee,ye,Be,je,_t="function"==typeof N&&N,ot=!de&&fa(N=_t.selector||N);if(oe=oe||[],1===ot.length){if((ee=ot[0]=ot[0].slice(0)).length>2&&"ID"===(ye=ee[0]).type&&9===K.nodeType&&V&&g.relative[ee[1].type]){if(!(K=(g.find.ID(ye.matches[0].replace(_s,no),K)||[])[0]))return oe;_t&&(K=K.parentNode),N=N.slice(ee.shift().value.length)}for(fe=Us.needsContext.test(N)?0:ee.length;fe--&&!g.relative[Be=(ye=ee[fe]).type];)if((je=g.find[Be])&&(de=je(ye.matches[0].replace(_s,no),Ua.test(ee[0].type)&&qc(K.parentNode)||K))){if(ee.splice(fe,1),!(N=de.length&&Jn(ee)))return T.apply(oe,de),oe;break}}return(_t||Wr(N,ot))(de,K,!V,oe,!K||Ua.test(N)&&qc(K.parentNode)||K),oe}ja.prototype=g.filters=g.pseudos,g.setFilters=new ja,it.sortStable=Ee.split("").sort(or).join("")===Ee,qn(),it.sortDetached=Bo(function(N){return 1&N.compareDocumentPosition(D.createElement("fieldset"))}),w.find=cn,w.expr[":"]=w.expr.pseudos,w.unique=w.uniqueSort,cn.compile=Wr,cn.select=Ou,cn.setDocument=qn,cn.tokenize=fa,cn.escape=w.escapeSelector,cn.getText=w.text,cn.isXML=w.isXMLDoc,cn.selectors=w.expr,cn.support=w.support,cn.uniqueSort=w.uniqueSort}();var ue=function(d,g,y){for(var E=[],b=void 0!==y;(d=d[g])&&9!==d.nodeType;)if(1===d.nodeType){if(b&&w(d).is(y))break;E.push(d)}return E},ge=function(d,g){for(var y=[];d;d=d.nextSibling)1===d.nodeType&&d!==g&&y.push(d);return y},Ie=w.expr.match.needsContext,le=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Se(d,g,y){return ze(g)?w.grep(d,function(E,b){return!!g.call(E,b,E)!==y}):g.nodeType?w.grep(d,function(E){return E===g!==y}):"string"!=typeof g?w.grep(d,function(E){return en.call(g,E)>-1!==y}):w.filter(g,d,y)}w.filter=function(d,g,y){var E=g[0];return y&&(d=":not("+d+")"),1===g.length&&1===E.nodeType?w.find.matchesSelector(E,d)?[E]:[]:w.find.matches(d,w.grep(g,function(b){return 1===b.nodeType}))},w.fn.extend({find:function(d){var g,y,E=this.length,b=this;if("string"!=typeof d)return this.pushStack(w(d).filter(function(){for(g=0;g<E;g++)if(w.contains(b[g],this))return!0}));for(y=this.pushStack([]),g=0;g<E;g++)w.find(d,b[g],y);return E>1?w.uniqueSort(y):y},filter:function(d){return this.pushStack(Se(this,d||[],!1))},not:function(d){return this.pushStack(Se(this,d||[],!0))},is:function(d){return!!Se(this,"string"==typeof d&&Ie.test(d)?w(d):d||[],!1).length}});var Ne,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Wt=w.fn.init=function(d,g,y){var E,b;if(!d)return this;if(y=y||Ne,"string"==typeof d){if(!(E="<"===d[0]&&">"===d[d.length-1]&&d.length>=3?[null,d,null]:ut.exec(d))||!E[1]&&g)return!g||g.jquery?(g||y).find(d):this.constructor(g).find(d);if(E[1]){if(w.merge(this,w.parseHTML(E[1],(g=g instanceof w?g[0]:g)&&g.nodeType?g.ownerDocument||g:Ve,!0)),le.test(E[1])&&w.isPlainObject(g))for(E in g)ze(this[E])?this[E](g[E]):this.attr(E,g[E]);return this}return(b=Ve.getElementById(E[2]))&&(this[0]=b,this.length=1),this}return d.nodeType?(this[0]=d,this.length=1,this):ze(d)?void 0!==y.ready?y.ready(d):d(w):w.makeArray(d,this)};Wt.prototype=w.fn,Ne=w(Ve);var wn=/^(?:parents|prev(?:Until|All))/,pt={children:!0,contents:!0,next:!0,prev:!0};function on(d,g){for(;(d=d[g])&&1!==d.nodeType;);return d}w.fn.extend({has:function(d){var g=w(d,this),y=g.length;return this.filter(function(){for(var E=0;E<y;E++)if(w.contains(this,g[E]))return!0})},closest:function(d,g){var y,E=0,b=this.length,T=[],D="string"!=typeof d&&w(d);if(!Ie.test(d))for(;E<b;E++)for(y=this[E];y&&y!==g;y=y.parentNode)if(y.nodeType<11&&(D?D.index(y)>-1:1===y.nodeType&&w.find.matchesSelector(y,d))){T.push(y);break}return this.pushStack(T.length>1?w.uniqueSort(T):T)},index:function(d){return d?"string"==typeof d?en.call(w(d),this[0]):en.call(this,d.jquery?d[0]:d):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(d,g){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(d,g))))},addBack:function(d){return this.add(null==d?this.prevObject:this.prevObject.filter(d))}}),w.each({parent:function(d){var g=d.parentNode;return g&&11!==g.nodeType?g:null},parents:function(d){return ue(d,"parentNode")},parentsUntil:function(d,g,y){return ue(d,"parentNode",y)},next:function(d){return on(d,"nextSibling")},prev:function(d){return on(d,"previousSibling")},nextAll:function(d){return ue(d,"nextSibling")},prevAll:function(d){return ue(d,"previousSibling")},nextUntil:function(d,g,y){return ue(d,"nextSibling",y)},prevUntil:function(d,g,y){return ue(d,"previousSibling",y)},siblings:function(d){return ge((d.parentNode||{}).firstChild,d)},children:function(d){return ge(d.firstChild)},contents:function(d){return null!=d.contentDocument&&Un(d.contentDocument)?d.contentDocument:(_e(d,"template")&&(d=d.content||d),w.merge([],d.childNodes))}},function(d,g){w.fn[d]=function(y,E){var b=w.map(this,g,y);return"Until"!==d.slice(-5)&&(E=y),E&&"string"==typeof E&&(b=w.filter(E,b)),this.length>1&&(pt[d]||w.uniqueSort(b),wn.test(d)&&b.reverse()),this.pushStack(b)}});var yn=/[^\x20\t\r\n\f]+/g;function Cn(d){return d}function Wn(d){throw d}function Zn(d,g,y,E){var b;try{d&&ze(b=d.promise)?b.call(d).done(g).fail(y):d&&ze(b=d.then)?b.call(d,g,y):g.apply(void 0,[d].slice(E))}catch(T){y.apply(void 0,[T])}}w.Callbacks=function(d){d="string"==typeof d?function vt(d){var g={};return w.each(d.match(yn)||[],function(y,E){g[E]=!0}),g}(d):w.extend({},d);var g,y,E,b,T=[],D=[],H=-1,V=function(){for(b=b||d.once,E=g=!0;D.length;H=-1)for(y=D.shift();++H<T.length;)!1===T[H].apply(y[0],y[1])&&d.stopOnFalse&&(H=T.length,y=!1);d.memory||(y=!1),g=!1,b&&(T=y?[]:"")},Q={add:function(){return T&&(y&&!g&&(H=T.length-1,D.push(y)),function ce(Ee){w.each(Ee,function(k,Oe){ze(Oe)?(!d.unique||!Q.has(Oe))&&T.push(Oe):Oe&&Oe.length&&"string"!==Ot(Oe)&&ce(Oe)})}(arguments),y&&!g&&V()),this},remove:function(){return w.each(arguments,function(ce,Ee){for(var k;(k=w.inArray(Ee,T,k))>-1;)T.splice(k,1),k<=H&&H--}),this},has:function(ce){return ce?w.inArray(ce,T)>-1:T.length>0},empty:function(){return T&&(T=[]),this},disable:function(){return b=D=[],T=y="",this},disabled:function(){return!T},lock:function(){return b=D=[],!y&&!g&&(T=y=""),this},locked:function(){return!!b},fireWith:function(ce,Ee){return b||(Ee=[ce,(Ee=Ee||[]).slice?Ee.slice():Ee],D.push(Ee),g||V()),this},fire:function(){return Q.fireWith(this,arguments),this},fired:function(){return!!E}};return Q},w.extend({Deferred:function(d){var g=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],y="pending",E={state:function(){return y},always:function(){return b.done(arguments).fail(arguments),this},catch:function(T){return E.then(null,T)},pipe:function(){var T=arguments;return w.Deferred(function(D){w.each(g,function(H,V){var Q=ze(T[V[4]])&&T[V[4]];b[V[1]](function(){var ce=Q&&Q.apply(this,arguments);ce&&ze(ce.promise)?ce.promise().progress(D.notify).done(D.resolve).fail(D.reject):D[V[0]+"With"](this,Q?[ce]:arguments)})}),T=null}).promise()},then:function(T,D,H){var V=0;function Q(ce,Ee,k,Oe){return function(){var ve=this,Yt=arguments,bt=function(){var or,to;if(!(ce<V)){if((or=k.apply(ve,Yt))===Ee.promise())throw new TypeError("Thenable self-resolution");ze(to=or&&("object"==typeof or||"function"==typeof or)&&or.then)?Oe?to.call(or,Q(V,Ee,Cn,Oe),Q(V,Ee,Wn,Oe)):(V++,to.call(or,Q(V,Ee,Cn,Oe),Q(V,Ee,Wn,Oe),Q(V,Ee,Cn,Ee.notifyWith))):(k!==Cn&&(ve=void 0,Yt=[or]),(Oe||Ee.resolveWith)(ve,Yt))}},pr=Oe?bt:function(){try{bt()}catch(or){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(or,pr.error),ce+1>=V&&(k!==Wn&&(ve=void 0,Yt=[or]),Ee.rejectWith(ve,Yt))}};ce?pr():(w.Deferred.getErrorHook?pr.error=w.Deferred.getErrorHook():w.Deferred.getStackHook&&(pr.error=w.Deferred.getStackHook()),X.setTimeout(pr))}}return w.Deferred(function(ce){g[0][3].add(Q(0,ce,ze(H)?H:Cn,ce.notifyWith)),g[1][3].add(Q(0,ce,ze(T)?T:Cn)),g[2][3].add(Q(0,ce,ze(D)?D:Wn))}).promise()},promise:function(T){return null!=T?w.extend(T,E):E}},b={};return w.each(g,function(T,D){var H=D[2],V=D[5];E[D[1]]=H.add,V&&H.add(function(){y=V},g[3-T][2].disable,g[3-T][3].disable,g[0][2].lock,g[0][3].lock),H.add(D[3].fire),b[D[0]]=function(){return b[D[0]+"With"](this===b?void 0:this,arguments),this},b[D[0]+"With"]=H.fireWith}),E.promise(b),d&&d.call(b,b),b},when:function(d){var g=arguments.length,y=g,E=Array(y),b=lt.call(arguments),T=w.Deferred(),D=function(H){return function(V){E[H]=this,b[H]=arguments.length>1?lt.call(arguments):V,--g||T.resolveWith(E,b)}};if(g<=1&&(Zn(d,T.done(D(y)).resolve,T.reject,!g),"pending"===T.state()||ze(b[y]&&b[y].then)))return T.then();for(;y--;)Zn(b[y],D(y),T.reject);return T.promise()}});var vn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(d,g){X.console&&X.console.warn&&d&&vn.test(d.name)&&X.console.warn("jQuery.Deferred exception: "+d.message,d.stack,g)},w.readyException=function(d){X.setTimeout(function(){throw d})};var li=w.Deferred();function yi(){Ve.removeEventListener("DOMContentLoaded",yi),X.removeEventListener("load",yi),w.ready()}w.fn.ready=function(d){return li.then(d).catch(function(g){w.readyException(g)}),this},w.extend({isReady:!1,readyWait:1,ready:function(d){(!0===d?--w.readyWait:w.isReady)||(w.isReady=!0,!(!0!==d&&--w.readyWait>0)&&li.resolveWith(Ve,[w]))}}),w.ready.then=li.then,"complete"===Ve.readyState||"loading"!==Ve.readyState&&!Ve.documentElement.doScroll?X.setTimeout(w.ready):(Ve.addEventListener("DOMContentLoaded",yi),X.addEventListener("load",yi));var Hr=function(d,g,y,E,b,T,D){var H=0,V=d.length,Q=null==y;if("object"===Ot(y))for(H in b=!0,y)Hr(d,g,H,y[H],!0,T,D);else if(void 0!==E&&(b=!0,ze(E)||(D=!0),Q&&(D?(g.call(d,E),g=null):(Q=g,g=function(ce,Ee,k){return Q.call(w(ce),k)})),g))for(;H<V;H++)g(d[H],y,D?E:E.call(d[H],H,g(d[H],y)));return b?d:Q?g.call(d):V?g(d[0],y):T},Mn=/^-ms-/,Gi=/-([a-z])/g;function Os(d,g){return g.toUpperCase()}function Yn(d){return d.replace(Mn,"ms-").replace(Gi,Os)}var vi=function(d){return 1===d.nodeType||9===d.nodeType||!+d.nodeType};function Ir(){this.expando=w.expando+Ir.uid++}Ir.uid=1,Ir.prototype={cache:function(d){var g=d[this.expando];return g||(g={},vi(d)&&(d.nodeType?d[this.expando]=g:Object.defineProperty(d,this.expando,{value:g,configurable:!0}))),g},set:function(d,g,y){var E,b=this.cache(d);if("string"==typeof g)b[Yn(g)]=y;else for(E in g)b[Yn(E)]=g[E];return b},get:function(d,g){return void 0===g?this.cache(d):d[this.expando]&&d[this.expando][Yn(g)]},access:function(d,g,y){return void 0===g||g&&"string"==typeof g&&void 0===y?this.get(d,g):(this.set(d,g,y),void 0!==y?y:g)},remove:function(d,g){var y,E=d[this.expando];if(void 0!==E){if(void 0!==g)for((y=(g=Array.isArray(g)?g.map(Yn):(g=Yn(g))in E?[g]:g.match(yn)||[]).length);y--;)delete E[g[y]];(void 0===g||w.isEmptyObject(E))&&(d.nodeType?d[this.expando]=void 0:delete d[this.expando])}},hasData:function(d){var g=d[this.expando];return void 0!==g&&!w.isEmptyObject(g)}};var Ke=new Ir,Rn=new Ir,Ns=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,br=/[A-Z]/g;function ds(d,g,y){var E;if(void 0===y&&1===d.nodeType)if(E="data-"+g.replace(br,"-$&").toLowerCase(),"string"==typeof(y=d.getAttribute(E))){try{y=function Ki(d){return"true"===d||"false"!==d&&("null"===d?null:d===+d+""?+d:Ns.test(d)?JSON.parse(d):d)}(y)}catch{}Rn.set(d,g,y)}else y=void 0;return y}w.extend({hasData:function(d){return Rn.hasData(d)||Ke.hasData(d)},data:function(d,g,y){return Rn.access(d,g,y)},removeData:function(d,g){Rn.remove(d,g)},_data:function(d,g,y){return Ke.access(d,g,y)},_removeData:function(d,g){Ke.remove(d,g)}}),w.fn.extend({data:function(d,g){var y,E,b,T=this[0],D=T&&T.attributes;if(void 0===d){if(this.length&&(b=Rn.get(T),1===T.nodeType&&!Ke.get(T,"hasDataAttrs"))){for(y=D.length;y--;)D[y]&&0===(E=D[y].name).indexOf("data-")&&(E=Yn(E.slice(5)),ds(T,E,b[E]));Ke.set(T,"hasDataAttrs",!0)}return b}return"object"==typeof d?this.each(function(){Rn.set(this,d)}):Hr(this,function(H){var V;if(T&&void 0===H)return void 0!==(V=Rn.get(T,d))||void 0!==(V=ds(T,d))?V:void 0;this.each(function(){Rn.set(this,d,H)})},null,g,arguments.length>1,null,!0)},removeData:function(d){return this.each(function(){Rn.remove(this,d)})}}),w.extend({queue:function(d,g,y){var E;if(d)return E=Ke.get(d,g=(g||"fx")+"queue"),y&&(!E||Array.isArray(y)?E=Ke.access(d,g,w.makeArray(y)):E.push(y)),E||[]},dequeue:function(d,g){var y=w.queue(d,g=g||"fx"),E=y.length,b=y.shift(),T=w._queueHooks(d,g);"inprogress"===b&&(b=y.shift(),E--),b&&("fx"===g&&y.unshift("inprogress"),delete T.stop,b.call(d,function(){w.dequeue(d,g)},T)),!E&&T&&T.empty.fire()},_queueHooks:function(d,g){var y=g+"queueHooks";return Ke.get(d,y)||Ke.access(d,y,{empty:w.Callbacks("once memory").add(function(){Ke.remove(d,[g+"queue",y])})})}}),w.fn.extend({queue:function(d,g){var y=2;return"string"!=typeof d&&(g=d,d="fx",y--),arguments.length<y?w.queue(this[0],d):void 0===g?this:this.each(function(){var E=w.queue(this,d,g);w._queueHooks(this,d),"fx"===d&&"inprogress"!==E[0]&&w.dequeue(this,d)})},dequeue:function(d){return this.each(function(){w.dequeue(this,d)})},clearQueue:function(d){return this.queue(d||"fx",[])},promise:function(d,g){var y,E=1,b=w.Deferred(),T=this,D=this.length,H=function(){--E||b.resolveWith(T,[T])};for("string"!=typeof d&&(g=d,d=void 0),d=d||"fx";D--;)(y=Ke.get(T[D],d+"queueHooks"))&&y.empty&&(E++,y.empty.add(H));return H(),b.promise(g)}});var Ni=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,hs=new RegExp("^(?:([+-])=|)("+Ni+")([a-z%]*)$","i"),fn=["Top","Right","Bottom","Left"],pn=Ve.documentElement,ni=function(d){return w.contains(d.ownerDocument,d)},eo={composed:!0};pn.getRootNode&&(ni=function(d){return w.contains(d.ownerDocument,d)||d.getRootNode(eo)===d.ownerDocument});var fs=function(d,g){return"none"===(d=g||d).style.display||""===d.style.display&&ni(d)&&"none"===w.css(d,"display")};function Tr(d,g,y,E){var b,T,D=20,H=E?function(){return E.cur()}:function(){return w.css(d,g,"")},V=H(),Q=y&&y[3]||(w.cssNumber[g]?"":"px"),ce=d.nodeType&&(w.cssNumber[g]||"px"!==Q&&+V)&&hs.exec(w.css(d,g));if(ce&&ce[3]!==Q){for(Q=Q||ce[3],ce=+(V/=2)||1;D--;)w.style(d,g,ce+Q),(1-T)*(1-(T=H()/V||.5))<=0&&(D=0),ce/=T;w.style(d,g,(ce*=2)+Q),y=y||[]}return y&&(ce=+ce||+V||0,b=y[1]?ce+(y[1]+1)*y[2]:+y[2],E&&(E.unit=Q,E.start=ce,E.end=b)),b}var ci={};function zr(d){var g,y=d.ownerDocument,E=d.nodeName,b=ci[E];return b||(g=y.body.appendChild(y.createElement(E)),b=w.css(g,"display"),g.parentNode.removeChild(g),"none"===b&&(b="block"),ci[E]=b,b)}function kr(d,g){for(var y,E,b=[],T=0,D=d.length;T<D;T++)(E=d[T]).style&&(y=E.style.display,g?("none"===y&&(b[T]=Ke.get(E,"display")||null,b[T]||(E.style.display="")),""===E.style.display&&fs(E)&&(b[T]=zr(E))):"none"!==y&&(b[T]="none",Ke.set(E,"display",y)));for(T=0;T<D;T++)null!=b[T]&&(d[T].style.display=b[T]);return d}w.fn.extend({show:function(){return kr(this,!0)},hide:function(){return kr(this)},toggle:function(d){return"boolean"==typeof d?d?this.show():this.hide():this.each(function(){fs(this)?w(this).show():w(this).hide()})}});var g,y,ks=/^(?:checkbox|radio)$/i,an=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yo=/^$|^module$|\/(?:java|ecma)script/i;g=Ve.createDocumentFragment().appendChild(Ve.createElement("div")),(y=Ve.createElement("input")).setAttribute("type","radio"),y.setAttribute("checked","checked"),y.setAttribute("name","t"),g.appendChild(y),it.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,g.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!g.cloneNode(!0).lastChild.defaultValue,g.innerHTML="<option></option>",it.option=!!g.lastChild;var Sr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function j(d,g){var y;return y=typeof d.getElementsByTagName<"u"?d.getElementsByTagName(g||"*"):typeof d.querySelectorAll<"u"?d.querySelectorAll(g||"*"):[],void 0===g||g&&_e(d,g)?w.merge([d],y):y}function U(d,g){for(var y=0,E=d.length;y<E;y++)Ke.set(d[y],"globalEval",!g||Ke.get(g[y],"globalEval"))}Sr.tbody=Sr.tfoot=Sr.colgroup=Sr.caption=Sr.thead,Sr.th=Sr.td,it.option||(Sr.optgroup=Sr.option=[1,"<select multiple='multiple'>","</select>"]);var P=/<|&#?\w+;/;function R(d,g,y,E,b){for(var T,D,H,V,Q,ce,Ee=g.createDocumentFragment(),k=[],Oe=0,ve=d.length;Oe<ve;Oe++)if((T=d[Oe])||0===T)if("object"===Ot(T))w.merge(k,T.nodeType?[T]:T);else if(P.test(T)){for(D=D||Ee.appendChild(g.createElement("div")),H=(an.exec(T)||["",""])[1].toLowerCase(),D.innerHTML=(V=Sr[H]||Sr._default)[1]+w.htmlPrefilter(T)+V[2],ce=V[0];ce--;)D=D.lastChild;w.merge(k,D.childNodes),(D=Ee.firstChild).textContent=""}else k.push(g.createTextNode(T));for(Ee.textContent="",Oe=0;T=k[Oe++];)if(E&&w.inArray(T,E)>-1)b&&b.push(T);else if(Q=ni(T),D=j(Ee.appendChild(T),"script"),Q&&U(D),y)for(ce=0;T=D[ce++];)yo.test(T.type||"")&&y.push(T);return Ee}var A=/^([^.]*)(?:\.(.+)|)/;function J(){return!0}function ae(){return!1}function Fe(d,g,y,E,b,T){var D,H;if("object"==typeof g){for(H in"string"!=typeof y&&(E=E||y,y=void 0),g)Fe(d,H,y,E,g[H],T);return d}if(null==E&&null==b?(b=y,E=y=void 0):null==b&&("string"==typeof y?(b=E,E=void 0):(b=E,E=y,y=void 0)),!1===b)b=ae;else if(!b)return d;return 1===T&&(D=b,b=function(V){return w().off(V),D.apply(this,arguments)},b.guid=D.guid||(D.guid=w.guid++)),d.each(function(){w.event.add(this,g,b,E,y)})}function Et(d,g,y){y?(Ke.set(d,g,!1),w.event.add(d,g,{namespace:!1,handler:function(E){var b,T=Ke.get(this,g);if(1&E.isTrigger&&this[g]){if(T)(w.event.special[g]||{}).delegateType&&E.stopPropagation();else if(T=lt.call(arguments),Ke.set(this,g,T),this[g](),b=Ke.get(this,g),Ke.set(this,g,!1),T!==b)return E.stopImmediatePropagation(),E.preventDefault(),b}else T&&(Ke.set(this,g,w.event.trigger(T[0],T.slice(1),this)),E.stopPropagation(),E.isImmediatePropagationStopped=J)}})):void 0===Ke.get(d,g)&&w.event.add(d,g,J)}w.event={global:{},add:function(d,g,y,E,b){var T,D,H,V,Q,ce,Ee,k,Oe,ve,Yt,bt=Ke.get(d);if(vi(d))for(y.handler&&(y=(T=y).handler,b=T.selector),b&&w.find.matchesSelector(pn,b),y.guid||(y.guid=w.guid++),(V=bt.events)||(V=bt.events=Object.create(null)),(D=bt.handle)||(D=bt.handle=function(pr){return typeof w<"u"&&w.event.triggered!==pr.type?w.event.dispatch.apply(d,arguments):void 0}),Q=(g=(g||"").match(yn)||[""]).length;Q--;)Oe=Yt=(H=A.exec(g[Q])||[])[1],ve=(H[2]||"").split(".").sort(),Oe&&(Ee=w.event.special[Oe]||{},Ee=w.event.special[Oe=(b?Ee.delegateType:Ee.bindType)||Oe]||{},ce=w.extend({type:Oe,origType:Yt,data:E,handler:y,guid:y.guid,selector:b,needsContext:b&&w.expr.match.needsContext.test(b),namespace:ve.join(".")},T),(k=V[Oe])||((k=V[Oe]=[]).delegateCount=0,(!Ee.setup||!1===Ee.setup.call(d,E,ve,D))&&d.addEventListener&&d.addEventListener(Oe,D)),Ee.add&&(Ee.add.call(d,ce),ce.handler.guid||(ce.handler.guid=y.guid)),b?k.splice(k.delegateCount++,0,ce):k.push(ce),w.event.global[Oe]=!0)},remove:function(d,g,y,E,b){var T,D,H,V,Q,ce,Ee,k,Oe,ve,Yt,bt=Ke.hasData(d)&&Ke.get(d);if(bt&&(V=bt.events)){for(Q=(g=(g||"").match(yn)||[""]).length;Q--;)if(Oe=Yt=(H=A.exec(g[Q])||[])[1],ve=(H[2]||"").split(".").sort(),Oe){for(Ee=w.event.special[Oe]||{},k=V[Oe=(E?Ee.delegateType:Ee.bindType)||Oe]||[],H=H[2]&&new RegExp("(^|\\.)"+ve.join("\\.(?:.*\\.|)")+"(\\.|$)"),D=T=k.length;T--;)ce=k[T],(b||Yt===ce.origType)&&(!y||y.guid===ce.guid)&&(!H||H.test(ce.namespace))&&(!E||E===ce.selector||"**"===E&&ce.selector)&&(k.splice(T,1),ce.selector&&k.delegateCount--,Ee.remove&&Ee.remove.call(d,ce));D&&!k.length&&((!Ee.teardown||!1===Ee.teardown.call(d,ve,bt.handle))&&w.removeEvent(d,Oe,bt.handle),delete V[Oe])}else for(Oe in V)w.event.remove(d,Oe+g[Q],y,E,!0);w.isEmptyObject(V)&&Ke.remove(d,"handle events")}},dispatch:function(d){var g,y,E,b,T,D,H=new Array(arguments.length),V=w.event.fix(d),Q=(Ke.get(this,"events")||Object.create(null))[V.type]||[],ce=w.event.special[V.type]||{};for(H[0]=V,g=1;g<arguments.length;g++)H[g]=arguments[g];if(V.delegateTarget=this,!ce.preDispatch||!1!==ce.preDispatch.call(this,V)){for(D=w.event.handlers.call(this,V,Q),g=0;(b=D[g++])&&!V.isPropagationStopped();)for(V.currentTarget=b.elem,y=0;(T=b.handlers[y++])&&!V.isImmediatePropagationStopped();)(!V.rnamespace||!1===T.namespace||V.rnamespace.test(T.namespace))&&(V.handleObj=T,V.data=T.data,void 0!==(E=((w.event.special[T.origType]||{}).handle||T.handler).apply(b.elem,H))&&!1===(V.result=E)&&(V.preventDefault(),V.stopPropagation()));return ce.postDispatch&&ce.postDispatch.call(this,V),V.result}},handlers:function(d,g){var y,E,b,T,D,H=[],V=g.delegateCount,Q=d.target;if(V&&Q.nodeType&&!("click"===d.type&&d.button>=1))for(;Q!==this;Q=Q.parentNode||this)if(1===Q.nodeType&&("click"!==d.type||!0!==Q.disabled)){for(T=[],D={},y=0;y<V;y++)void 0===D[b=(E=g[y]).selector+" "]&&(D[b]=E.needsContext?w(b,this).index(Q)>-1:w.find(b,this,null,[Q]).length),D[b]&&T.push(E);T.length&&H.push({elem:Q,handlers:T})}return Q=this,V<g.length&&H.push({elem:Q,handlers:g.slice(V)}),H},addProp:function(d,g){Object.defineProperty(w.Event.prototype,d,{enumerable:!0,configurable:!0,get:ze(g)?function(){if(this.originalEvent)return g(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[d]},set:function(y){Object.defineProperty(this,d,{enumerable:!0,configurable:!0,writable:!0,value:y})}})},fix:function(d){return d[w.expando]?d:new w.Event(d)},special:{load:{noBubble:!0},click:{setup:function(d){var g=this||d;return ks.test(g.type)&&g.click&&_e(g,"input")&&Et(g,"click",!0),!1},trigger:function(d){var g=this||d;return ks.test(g.type)&&g.click&&_e(g,"input")&&Et(g,"click"),!0},_default:function(d){var g=d.target;return ks.test(g.type)&&g.click&&_e(g,"input")&&Ke.get(g,"click")||_e(g,"a")}},beforeunload:{postDispatch:function(d){void 0!==d.result&&d.originalEvent&&(d.originalEvent.returnValue=d.result)}}}},w.removeEvent=function(d,g,y){d.removeEventListener&&d.removeEventListener(g,y)},w.Event=function(d,g){if(!(this instanceof w.Event))return new w.Event(d,g);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||void 0===d.defaultPrevented&&!1===d.returnValue?J:ae,this.target=d.target&&3===d.target.nodeType?d.target.parentNode:d.target,this.currentTarget=d.currentTarget,this.relatedTarget=d.relatedTarget):this.type=d,g&&w.extend(this,g),this.timeStamp=d&&d.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ae,isPropagationStopped:ae,isImmediatePropagationStopped:ae,isSimulated:!1,preventDefault:function(){var d=this.originalEvent;this.isDefaultPrevented=J,d&&!this.isSimulated&&d.preventDefault()},stopPropagation:function(){var d=this.originalEvent;this.isPropagationStopped=J,d&&!this.isSimulated&&d.stopPropagation()},stopImmediatePropagation:function(){var d=this.originalEvent;this.isImmediatePropagationStopped=J,d&&!this.isSimulated&&d.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(d,g){function y(E){if(Ve.documentMode){var b=Ke.get(this,"handle"),T=w.event.fix(E);T.type="focusin"===E.type?"focus":"blur",T.isSimulated=!0,b(E),T.target===T.currentTarget&&b(T)}else w.event.simulate(g,E.target,w.event.fix(E))}w.event.special[d]={setup:function(){var E;if(Et(this,d,!0),!Ve.documentMode)return!1;(E=Ke.get(this,g))||this.addEventListener(g,y),Ke.set(this,g,(E||0)+1)},trigger:function(){return Et(this,d),!0},teardown:function(){var E;if(!Ve.documentMode)return!1;(E=Ke.get(this,g)-1)?Ke.set(this,g,E):(this.removeEventListener(g,y),Ke.remove(this,g))},_default:function(E){return Ke.get(E.target,d)},delegateType:g},w.event.special[g]={setup:function(){var E=this.ownerDocument||this.document||this,b=Ve.documentMode?this:E,T=Ke.get(b,g);T||(Ve.documentMode?this.addEventListener(g,y):E.addEventListener(d,y,!0)),Ke.set(b,g,(T||0)+1)},teardown:function(){var E=this.ownerDocument||this.document||this,b=Ve.documentMode?this:E,T=Ke.get(b,g)-1;T?Ke.set(b,g,T):(Ve.documentMode?this.removeEventListener(g,y):E.removeEventListener(d,y,!0),Ke.remove(b,g))}}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(d,g){w.event.special[d]={delegateType:g,bindType:g,handle:function(y){var E,T=y.relatedTarget,D=y.handleObj;return(!T||T!==this&&!w.contains(this,T))&&(y.type=D.origType,E=D.handler.apply(this,arguments),y.type=g),E}}}),w.fn.extend({on:function(d,g,y,E){return Fe(this,d,g,y,E)},one:function(d,g,y,E){return Fe(this,d,g,y,E,1)},off:function(d,g,y){var E,b;if(d&&d.preventDefault&&d.handleObj)return E=d.handleObj,w(d.delegateTarget).off(E.namespace?E.origType+"."+E.namespace:E.origType,E.selector,E.handler),this;if("object"==typeof d){for(b in d)this.off(b,g,d[b]);return this}return(!1===g||"function"==typeof g)&&(y=g,g=void 0),!1===y&&(y=ae),this.each(function(){w.event.remove(this,d,y,g)})}});var Re=/<script|<style|<link/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ct=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Pt(d,g){return _e(d,"table")&&_e(11!==g.nodeType?g:g.firstChild,"tr")&&w(d).children("tbody")[0]||d}function Nt(d){return d.type=(null!==d.getAttribute("type"))+"/"+d.type,d}function Ei(d){return"true/"===(d.type||"").slice(0,5)?d.type=d.type.slice(5):d.removeAttribute("type"),d}function Fo(d,g){var y,E,b,D,H,V;if(1===g.nodeType){if(Ke.hasData(d)&&(V=Ke.get(d).events))for(b in Ke.remove(g,"handle events"),V)for(y=0,E=V[b].length;y<E;y++)w.event.add(g,b,V[b][y]);Rn.hasData(d)&&(D=Rn.access(d),H=w.extend({},D),Rn.set(g,H))}}function se(d,g){var y=g.nodeName.toLowerCase();"input"===y&&ks.test(d.type)?g.checked=d.checked:("input"===y||"textarea"===y)&&(g.defaultValue=d.defaultValue)}function G(d,g,y,E){g=Er(g);var b,T,D,H,V,Q,ce=0,Ee=d.length,k=Ee-1,Oe=g[0],ve=ze(Oe);if(ve||Ee>1&&"string"==typeof Oe&&!it.checkClone&&nt.test(Oe))return d.each(function(Yt){var bt=d.eq(Yt);ve&&(g[0]=Oe.call(this,Yt,bt.html())),G(bt,g,y,E)});if(Ee&&(T=(b=R(g,d[0].ownerDocument,!1,d,E)).firstChild,1===b.childNodes.length&&(b=T),T||E)){for(H=(D=w.map(j(b,"script"),Nt)).length;ce<Ee;ce++)V=b,ce!==k&&(V=w.clone(V,!0,!0),H&&w.merge(D,j(V,"script"))),y.call(d[ce],V,ce);if(H)for(Q=D[D.length-1].ownerDocument,w.map(D,Ei),ce=0;ce<H;ce++)yo.test((V=D[ce]).type||"")&&!Ke.access(V,"globalEval")&&w.contains(Q,V)&&(V.src&&"module"!==(V.type||"").toLowerCase()?w._evalUrl&&!V.noModule&&w._evalUrl(V.src,{nonce:V.nonce||V.getAttribute("nonce")},Q):ir(V.textContent.replace(Ct,""),V,Q))}return d}function De(d,g,y){for(var E,b=g?w.filter(g,d):d,T=0;null!=(E=b[T]);T++)!y&&1===E.nodeType&&w.cleanData(j(E)),E.parentNode&&(y&&ni(E)&&U(j(E,"script")),E.parentNode.removeChild(E));return d}w.extend({htmlPrefilter:function(d){return d},clone:function(d,g,y){var E,b,T,D,H=d.cloneNode(!0),V=ni(d);if(!(it.noCloneChecked||1!==d.nodeType&&11!==d.nodeType||w.isXMLDoc(d)))for(D=j(H),E=0,b=(T=j(d)).length;E<b;E++)se(T[E],D[E]);if(g)if(y)for(T=T||j(d),D=D||j(H),E=0,b=T.length;E<b;E++)Fo(T[E],D[E]);else Fo(d,H);return(D=j(H,"script")).length>0&&U(D,!V&&j(d,"script")),H},cleanData:function(d){for(var g,y,E,b=w.event.special,T=0;void 0!==(y=d[T]);T++)if(vi(y)){if(g=y[Ke.expando]){if(g.events)for(E in g.events)b[E]?w.event.remove(y,E):w.removeEvent(y,E,g.handle);y[Ke.expando]=void 0}y[Rn.expando]&&(y[Rn.expando]=void 0)}}}),w.fn.extend({detach:function(d){return De(this,d,!0)},remove:function(d){return De(this,d)},text:function(d){return Hr(this,function(g){return void 0===g?w.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=g)})},null,d,arguments.length)},append:function(){return G(this,arguments,function(d){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,d).appendChild(d)})},prepend:function(){return G(this,arguments,function(d){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var g=Pt(this,d);g.insertBefore(d,g.firstChild)}})},before:function(){return G(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this)})},after:function(){return G(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling)})},empty:function(){for(var d,g=0;null!=(d=this[g]);g++)1===d.nodeType&&(w.cleanData(j(d,!1)),d.textContent="");return this},clone:function(d,g){return d=d??!1,g=g??d,this.map(function(){return w.clone(this,d,g)})},html:function(d){return Hr(this,function(g){var y=this[0]||{},E=0,b=this.length;if(void 0===g&&1===y.nodeType)return y.innerHTML;if("string"==typeof g&&!Re.test(g)&&!Sr[(an.exec(g)||["",""])[1].toLowerCase()]){g=w.htmlPrefilter(g);try{for(;E<b;E++)1===(y=this[E]||{}).nodeType&&(w.cleanData(j(y,!1)),y.innerHTML=g);y=0}catch{}}y&&this.empty().append(g)},null,d,arguments.length)},replaceWith:function(){var d=[];return G(this,arguments,function(g){var y=this.parentNode;w.inArray(this,d)<0&&(w.cleanData(j(this)),y&&y.replaceChild(g,this))},d)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,g){w.fn[d]=function(y){for(var E,b=[],T=w(y),D=T.length-1,H=0;H<=D;H++)E=H===D?this:this.clone(!0),w(T[H])[g](E),Sn.apply(b,E.get());return this.pushStack(b)}});var Je=new RegExp("^("+Ni+")(?!px)[a-z%]+$","i"),Ft=/^--/,Lt=function(d){var g=d.ownerDocument.defaultView;return(!g||!g.opener)&&(g=X),g.getComputedStyle(d)},ne=function(d,g,y){var E,b,T={};for(b in g)T[b]=d.style[b],d.style[b]=g[b];for(b in E=y.call(d),g)d.style[b]=T[b];return E},Xn=new RegExp(fn.join("|"),"i");function xn(d,g,y){var E,b,T,D,H=Ft.test(g),V=d.style;return(y=y||Lt(d))&&(D=y.getPropertyValue(g)||y[g],H&&D&&(D=D.replace(xi,"$1")||void 0),""===D&&!ni(d)&&(D=w.style(d,g)),!it.pixelBoxStyles()&&Je.test(D)&&Xn.test(g)&&(E=V.width,b=V.minWidth,T=V.maxWidth,V.minWidth=V.maxWidth=V.width=D,D=y.width,V.width=E,V.minWidth=b,V.maxWidth=T)),void 0!==D?D+"":D}function ps(d,g){return{get:function(){if(!d())return(this.get=g).apply(this,arguments);delete this.get}}}!function(){function d(){if(Q){V.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Q.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",pn.appendChild(V).appendChild(Q);var ce=X.getComputedStyle(Q);y="1%"!==ce.top,H=12===g(ce.marginLeft),Q.style.right="60%",T=36===g(ce.right),E=36===g(ce.width),Q.style.position="absolute",b=12===g(Q.offsetWidth/3),pn.removeChild(V),Q=null}}function g(ce){return Math.round(parseFloat(ce))}var y,E,b,T,D,H,V=Ve.createElement("div"),Q=Ve.createElement("div");Q.style&&(Q.style.backgroundClip="content-box",Q.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===Q.style.backgroundClip,w.extend(it,{boxSizingReliable:function(){return d(),E},pixelBoxStyles:function(){return d(),T},pixelPosition:function(){return d(),y},reliableMarginLeft:function(){return d(),H},scrollboxSize:function(){return d(),b},reliableTrDimensions:function(){var ce,Ee,k,Oe;return null==D&&(ce=Ve.createElement("table"),Ee=Ve.createElement("tr"),k=Ve.createElement("div"),ce.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ee.style.cssText="box-sizing:content-box;border:1px solid",Ee.style.height="1px",k.style.height="9px",k.style.display="block",pn.appendChild(ce).appendChild(Ee).appendChild(k),Oe=X.getComputedStyle(Ee),D=parseInt(Oe.height,10)+parseInt(Oe.borderTopWidth,10)+parseInt(Oe.borderBottomWidth,10)===Ee.offsetHeight,pn.removeChild(ce)),D}}))}();var Lo=["Webkit","Moz","ms"],Fc=Ve.createElement("div").style,gs={};function gl(d){return w.cssProps[d]||gs[d]||(d in Fc?d:gs[d]=function Su(d){for(var g=d[0].toUpperCase()+d.slice(1),y=Lo.length;y--;)if((d=Lo[y]+g)in Fc)return d}(d)||d)}var Mt=/^(none|table(?!-c[ea]).+)/,gt={position:"absolute",visibility:"hidden",display:"block"},gh={letterSpacing:"0",fontWeight:"400"};function mh(d,g,y){var E=hs.exec(g);return E?Math.max(0,E[2]-(y||0))+(E[3]||"px"):g}function Du(d,g,y,E,b,T){var D="width"===g?1:0,H=0,V=0,Q=0;if(y===(E?"border":"content"))return 0;for(;D<4;D+=2)"margin"===y&&(Q+=w.css(d,y+fn[D],!0,b)),E?("content"===y&&(V-=w.css(d,"padding"+fn[D],!0,b)),"margin"!==y&&(V-=w.css(d,"border"+fn[D]+"Width",!0,b))):(V+=w.css(d,"padding"+fn[D],!0,b),"padding"!==y?V+=w.css(d,"border"+fn[D]+"Width",!0,b):H+=w.css(d,"border"+fn[D]+"Width",!0,b));return!E&&T>=0&&(V+=Math.max(0,Math.ceil(d["offset"+g[0].toUpperCase()+g.slice(1)]-T-V-H-.5))||0),V+Q}function _h(d,g,y){var E=Lt(d),T=(!it.boxSizingReliable()||y)&&"border-box"===w.css(d,"boxSizing",!1,E),D=T,H=xn(d,g,E),V="offset"+g[0].toUpperCase()+g.slice(1);if(Je.test(H)){if(!y)return H;H="auto"}return(!it.boxSizingReliable()&&T||!it.reliableTrDimensions()&&_e(d,"tr")||"auto"===H||!parseFloat(H)&&"inline"===w.css(d,"display",!1,E))&&d.getClientRects().length&&(T="border-box"===w.css(d,"boxSizing",!1,E),(D=V in d)&&(H=d[V])),(H=parseFloat(H)||0)+Du(d,g,y||(T?"border":"content"),D,E,H)+"px"}function ki(d,g,y,E,b){return new ki.prototype.init(d,g,y,E,b)}w.extend({cssHooks:{opacity:{get:function(d,g){if(g){var y=xn(d,"opacity");return""===y?"1":y}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(d,g,y,E){if(d&&3!==d.nodeType&&8!==d.nodeType&&d.style){var b,T,D,H=Yn(g),V=Ft.test(g),Q=d.style;if(V||(g=gl(H)),D=w.cssHooks[g]||w.cssHooks[H],void 0===y)return D&&"get"in D&&void 0!==(b=D.get(d,!1,E))?b:Q[g];if("string"==(T=typeof y)&&(b=hs.exec(y))&&b[1]&&(y=Tr(d,g,b),T="number"),null==y||y!=y)return;"number"===T&&!V&&(y+=b&&b[3]||(w.cssNumber[H]?"":"px")),!it.clearCloneStyle&&""===y&&0===g.indexOf("background")&&(Q[g]="inherit"),(!D||!("set"in D)||void 0!==(y=D.set(d,y,E)))&&(V?Q.setProperty(g,y):Q[g]=y)}},css:function(d,g,y,E){var b,T,D,H=Yn(g);return Ft.test(g)||(g=gl(H)),(D=w.cssHooks[g]||w.cssHooks[H])&&"get"in D&&(b=D.get(d,!0,y)),void 0===b&&(b=xn(d,g,E)),"normal"===b&&g in gh&&(b=gh[g]),""===y||y?(T=parseFloat(b),!0===y||isFinite(T)?T||0:b):b}}),w.each(["height","width"],function(d,g){w.cssHooks[g]={get:function(y,E,b){if(E)return!Mt.test(w.css(y,"display"))||y.getClientRects().length&&y.getBoundingClientRect().width?_h(y,g,b):ne(y,gt,function(){return _h(y,g,b)})},set:function(y,E,b){var T,D=Lt(y),H=!it.scrollboxSize()&&"absolute"===D.position,Q=(H||b)&&"border-box"===w.css(y,"boxSizing",!1,D),ce=b?Du(y,g,b,Q,D):0;return Q&&H&&(ce-=Math.ceil(y["offset"+g[0].toUpperCase()+g.slice(1)]-parseFloat(D[g])-Du(y,g,"border",!1,D)-.5)),ce&&(T=hs.exec(E))&&"px"!==(T[3]||"px")&&(y.style[g]=E,E=w.css(y,g)),mh(0,E,ce)}}}),w.cssHooks.marginLeft=ps(it.reliableMarginLeft,function(d,g){if(g)return(parseFloat(xn(d,"marginLeft"))||d.getBoundingClientRect().left-ne(d,{marginLeft:0},function(){return d.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(d,g){w.cssHooks[d+g]={expand:function(y){for(var E=0,b={},T="string"==typeof y?y.split(" "):[y];E<4;E++)b[d+fn[E]+g]=T[E]||T[E-2]||T[0];return b}},"margin"!==d&&(w.cssHooks[d+g].set=mh)}),w.fn.extend({css:function(d,g){return Hr(this,function(y,E,b){var T,D,H={},V=0;if(Array.isArray(E)){for(T=Lt(y),D=E.length;V<D;V++)H[E[V]]=w.css(y,E[V],!1,T);return H}return void 0!==b?w.style(y,E,b):w.css(y,E)},d,g,arguments.length>1)}}),w.Tween=ki,ki.prototype={constructor:ki,init:function(d,g,y,E,b,T){this.elem=d,this.prop=y,this.easing=b||w.easing._default,this.options=g,this.start=this.now=this.cur(),this.end=E,this.unit=T||(w.cssNumber[y]?"":"px")},cur:function(){var d=ki.propHooks[this.prop];return d&&d.get?d.get(this):ki.propHooks._default.get(this)},run:function(d){var g,y=ki.propHooks[this.prop];return this.pos=g=this.options.duration?w.easing[this.easing](d,this.options.duration*d,0,1,this.options.duration):d,this.now=(this.end-this.start)*g+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),y&&y.set?y.set(this):ki.propHooks._default.set(this),this}},ki.prototype.init.prototype=ki.prototype,ki.propHooks={_default:{get:function(d){var g;return 1!==d.elem.nodeType||null!=d.elem[d.prop]&&null==d.elem.style[d.prop]?d.elem[d.prop]:(g=w.css(d.elem,d.prop,""))&&"auto"!==g?g:0},set:function(d){w.fx.step[d.prop]?w.fx.step[d.prop](d):1!==d.elem.nodeType||!w.cssHooks[d.prop]&&null==d.elem.style[gl(d.prop)]?d.elem[d.prop]=d.now:w.style(d.elem,d.prop,d.now+d.unit)}}},ki.propHooks.scrollTop=ki.propHooks.scrollLeft={set:function(d){d.elem.nodeType&&d.elem.parentNode&&(d.elem[d.prop]=d.now)}},w.easing={linear:function(d){return d},swing:function(d){return.5-Math.cos(d*Math.PI)/2},_default:"swing"},w.fx=ki.prototype.init,w.fx.step={};var Vo,di,yg=/^(?:toggle|show|hide)$/,yh=/queueHooks$/;function ml(){di&&(!1===Ve.hidden&&X.requestAnimationFrame?X.requestAnimationFrame(ml):X.setTimeout(ml,w.fx.interval),w.fx.tick())}function Qi(){return X.setTimeout(function(){Vo=void 0}),Vo=Date.now()}function Au(d,g){var y,E=0,b={height:d};for(g=g?1:0;E<4;E+=2-g)b["margin"+(y=fn[E])]=b["padding"+y]=d;return g&&(b.opacity=b.width=d),b}function vg(d,g,y){for(var E,b=(Fs.tweeners[g]||[]).concat(Fs.tweeners["*"]),T=0,D=b.length;T<D;T++)if(E=b[T].call(y,g,d))return E}function Fs(d,g,y){var E,b,T=0,D=Fs.prefilters.length,H=w.Deferred().always(function(){delete V.elem}),V=function(){if(b)return!1;for(var Ee=Vo||Qi(),k=Math.max(0,Q.startTime+Q.duration-Ee),ve=1-(k/Q.duration||0),Yt=0,bt=Q.tweens.length;Yt<bt;Yt++)Q.tweens[Yt].run(ve);return H.notifyWith(d,[Q,ve,k]),ve<1&&bt?k:(bt||H.notifyWith(d,[Q,1,0]),H.resolveWith(d,[Q]),!1)},Q=H.promise({elem:d,props:w.extend({},g),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},y),originalProperties:g,originalOptions:y,startTime:Vo||Qi(),duration:y.duration,tweens:[],createTween:function(Ee,k){var Oe=w.Tween(d,Q.opts,Ee,k,Q.opts.specialEasing[Ee]||Q.opts.easing);return Q.tweens.push(Oe),Oe},stop:function(Ee){var k=0,Oe=Ee?Q.tweens.length:0;if(b)return this;for(b=!0;k<Oe;k++)Q.tweens[k].run(1);return Ee?(H.notifyWith(d,[Q,1,0]),H.resolveWith(d,[Q,Ee])):H.rejectWith(d,[Q,Ee]),this}}),ce=Q.props;for(function _v(d,g){var y,E,b,T,D;for(y in d)if(b=g[E=Yn(y)],T=d[y],Array.isArray(T)&&(b=T[1],T=d[y]=T[0]),y!==E&&(d[E]=T,delete d[y]),(D=w.cssHooks[E])&&"expand"in D)for(y in T=D.expand(T),delete d[E],T)y in d||(d[y]=T[y],g[y]=b);else g[E]=b}(ce,Q.opts.specialEasing);T<D;T++)if(E=Fs.prefilters[T].call(Q,d,ce,Q.opts))return ze(E.stop)&&(w._queueHooks(Q.elem,Q.opts.queue).stop=E.stop.bind(E)),E;return w.map(ce,vg,Q),ze(Q.opts.start)&&Q.opts.start.call(d,Q),Q.progress(Q.opts.progress).done(Q.opts.done,Q.opts.complete).fail(Q.opts.fail).always(Q.opts.always),w.fx.timer(w.extend(V,{elem:d,anim:Q,queue:Q.opts.queue})),Q}w.Animation=w.extend(Fs,{tweeners:{"*":[function(d,g){var y=this.createTween(d,g);return Tr(y.elem,d,hs.exec(g),y),y}]},tweener:function(d,g){ze(d)?(g=d,d=["*"]):d=d.match(yn);for(var y,E=0,b=d.length;E<b;E++)(Fs.tweeners[y=d[E]]=Fs.tweeners[y]||[]).unshift(g)},prefilters:[function vh(d,g,y){var E,b,T,D,H,V,Q,ce,Ee="width"in g||"height"in g,k=this,Oe={},ve=d.style,Yt=d.nodeType&&fs(d),bt=Ke.get(d,"fxshow");for(E in y.queue||(null==(D=w._queueHooks(d,"fx")).unqueued&&(D.unqueued=0,H=D.empty.fire,D.empty.fire=function(){D.unqueued||H()}),D.unqueued++,k.always(function(){k.always(function(){D.unqueued--,w.queue(d,"fx").length||D.empty.fire()})})),g)if(yg.test(b=g[E])){if(delete g[E],T=T||"toggle"===b,b===(Yt?"hide":"show")){if("show"!==b||!bt||void 0===bt[E])continue;Yt=!0}Oe[E]=bt&&bt[E]||w.style(d,E)}if((V=!w.isEmptyObject(g))||!w.isEmptyObject(Oe))for(E in Ee&&1===d.nodeType&&(y.overflow=[ve.overflow,ve.overflowX,ve.overflowY],null==(Q=bt&&bt.display)&&(Q=Ke.get(d,"display")),"none"===(ce=w.css(d,"display"))&&(Q?ce=Q:(kr([d],!0),Q=d.style.display||Q,ce=w.css(d,"display"),kr([d]))),("inline"===ce||"inline-block"===ce&&null!=Q)&&"none"===w.css(d,"float")&&(V||(k.done(function(){ve.display=Q}),null==Q&&(Q="none"===(ce=ve.display)?"":ce)),ve.display="inline-block")),y.overflow&&(ve.overflow="hidden",k.always(function(){ve.overflow=y.overflow[0],ve.overflowX=y.overflow[1],ve.overflowY=y.overflow[2]})),V=!1,Oe)V||(bt?"hidden"in bt&&(Yt=bt.hidden):bt=Ke.access(d,"fxshow",{display:Q}),T&&(bt.hidden=!Yt),Yt&&kr([d],!0),k.done(function(){for(E in Yt||kr([d]),Ke.remove(d,"fxshow"),Oe)w.style(d,E,Oe[E])})),V=vg(Yt?bt[E]:0,E,k),E in bt||(bt[E]=V.start,Yt&&(V.end=V.start,V.start=0))}],prefilter:function(d,g){g?Fs.prefilters.unshift(d):Fs.prefilters.push(d)}}),w.speed=function(d,g,y){var E=d&&"object"==typeof d?w.extend({},d):{complete:y||!y&&g||ze(d)&&d,duration:d,easing:y&&g||g&&!ze(g)&&g};return w.fx.off?E.duration=0:"number"!=typeof E.duration&&(E.duration=E.duration in w.fx.speeds?w.fx.speeds[E.duration]:w.fx.speeds._default),(null==E.queue||!0===E.queue)&&(E.queue="fx"),E.old=E.complete,E.complete=function(){ze(E.old)&&E.old.call(this),E.queue&&w.dequeue(this,E.queue)},E},w.fn.extend({fadeTo:function(d,g,y,E){return this.filter(fs).css("opacity",0).show().end().animate({opacity:g},d,y,E)},animate:function(d,g,y,E){var b=w.isEmptyObject(d),T=w.speed(g,y,E),D=function(){var H=Fs(this,w.extend({},d),T);(b||Ke.get(this,"finish"))&&H.stop(!0)};return D.finish=D,b||!1===T.queue?this.each(D):this.queue(T.queue,D)},stop:function(d,g,y){var E=function(b){var T=b.stop;delete b.stop,T(y)};return"string"!=typeof d&&(y=g,g=d,d=void 0),g&&this.queue(d||"fx",[]),this.each(function(){var b=!0,T=null!=d&&d+"queueHooks",D=w.timers,H=Ke.get(this);if(T)H[T]&&H[T].stop&&E(H[T]);else for(T in H)H[T]&&H[T].stop&&yh.test(T)&&E(H[T]);for(T=D.length;T--;)D[T].elem===this&&(null==d||D[T].queue===d)&&(D[T].anim.stop(y),b=!1,D.splice(T,1));(b||!y)&&w.dequeue(this,d)})},finish:function(d){return!1!==d&&(d=d||"fx"),this.each(function(){var g,y=Ke.get(this),E=y[d+"queue"],b=y[d+"queueHooks"],T=w.timers,D=E?E.length:0;for(y.finish=!0,w.queue(this,d,[]),b&&b.stop&&b.stop.call(this,!0),g=T.length;g--;)T[g].elem===this&&T[g].queue===d&&(T[g].anim.stop(!0),T.splice(g,1));for(g=0;g<D;g++)E[g]&&E[g].finish&&E[g].finish.call(this);delete y.finish})}}),w.each(["toggle","show","hide"],function(d,g){var y=w.fn[g];w.fn[g]=function(E,b,T){return null==E||"boolean"==typeof E?y.apply(this,arguments):this.animate(Au(g,!0),E,b,T)}}),w.each({slideDown:Au("show"),slideUp:Au("hide"),slideToggle:Au("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(d,g){w.fn[d]=function(y,E,b){return this.animate(g,y,E,b)}}),w.timers=[],w.fx.tick=function(){var d,g=0,y=w.timers;for(Vo=Date.now();g<y.length;g++)!(d=y[g])()&&y[g]===d&&y.splice(g--,1);y.length||w.fx.stop(),Vo=void 0},w.fx.timer=function(d){w.timers.push(d),w.fx.start()},w.fx.interval=13,w.fx.start=function(){di||(di=!0,ml())},w.fx.stop=function(){di=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(d,g){return d=w.fx&&w.fx.speeds[d]||d,this.queue(g=g||"fx",function(y,E){var b=X.setTimeout(y,d);E.stop=function(){X.clearTimeout(b)}})},function(){var d=Ve.createElement("input"),y=Ve.createElement("select").appendChild(Ve.createElement("option"));d.type="checkbox",it.checkOn=""!==d.value,it.optSelected=y.selected,(d=Ve.createElement("input")).value="t",d.type="radio",it.radioValue="t"===d.value}();var Eh,La=w.expr.attrHandle;w.fn.extend({attr:function(d,g){return Hr(this,w.attr,d,g,arguments.length>1)},removeAttr:function(d){return this.each(function(){w.removeAttr(this,d)})}}),w.extend({attr:function(d,g,y){var E,b,T=d.nodeType;if(3!==T&&8!==T&&2!==T)return typeof d.getAttribute>"u"?w.prop(d,g,y):((1!==T||!w.isXMLDoc(d))&&(b=w.attrHooks[g.toLowerCase()]||(w.expr.match.bool.test(g)?Eh:void 0)),void 0!==y?null===y?void w.removeAttr(d,g):b&&"set"in b&&void 0!==(E=b.set(d,y,g))?E:(d.setAttribute(g,y+""),y):b&&"get"in b&&null!==(E=b.get(d,g))?E:(E=w.find.attr(d,g))??void 0)},attrHooks:{type:{set:function(d,g){if(!it.radioValue&&"radio"===g&&_e(d,"input")){var y=d.value;return d.setAttribute("type",g),y&&(d.value=y),g}}}},removeAttr:function(d,g){var y,E=0,b=g&&g.match(yn);if(b&&1===d.nodeType)for(;y=b[E++];)d.removeAttribute(y)}}),Eh={set:function(d,g,y){return!1===g?w.removeAttr(d,y):d.setAttribute(y,y),y}},w.each(w.expr.match.bool.source.match(/\w+/g),function(d,g){var y=La[g]||w.find.attr;La[g]=function(E,b,T){var D,H,V=b.toLowerCase();return T||(H=La[V],La[V]=D,D=null!=y(E,b,T)?V:null,La[V]=H),D}});var yv=/^(?:input|select|textarea|button)$/i,wi=/^(?:a|area)$/i;function dt(d){return(d.match(yn)||[]).join(" ")}function Ls(d){return d.getAttribute&&d.getAttribute("class")||""}function Lc(d){return Array.isArray(d)?d:"string"==typeof d&&d.match(yn)||[]}w.fn.extend({prop:function(d,g){return Hr(this,w.prop,d,g,arguments.length>1)},removeProp:function(d){return this.each(function(){delete this[w.propFix[d]||d]})}}),w.extend({prop:function(d,g,y){var E,b,T=d.nodeType;if(3!==T&&8!==T&&2!==T)return(1!==T||!w.isXMLDoc(d))&&(b=w.propHooks[g=w.propFix[g]||g]),void 0!==y?b&&"set"in b&&void 0!==(E=b.set(d,y,g))?E:d[g]=y:b&&"get"in b&&null!==(E=b.get(d,g))?E:d[g]},propHooks:{tabIndex:{get:function(d){var g=w.find.attr(d,"tabindex");return g?parseInt(g,10):yv.test(d.nodeName)||wi.test(d.nodeName)&&d.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),it.optSelected||(w.propHooks.selected={get:function(d){return null},set:function(d){}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(d){var g,y,E,b,T,D;return ze(d)?this.each(function(H){w(this).addClass(d.call(this,H,Ls(this)))}):(g=Lc(d)).length?this.each(function(){if(E=Ls(this),y=1===this.nodeType&&" "+dt(E)+" "){for(T=0;T<g.length;T++)y.indexOf(" "+(b=g[T])+" ")<0&&(y+=b+" ");D=dt(y),E!==D&&this.setAttribute("class",D)}}):this},removeClass:function(d){var g,y,E,b,T,D;return ze(d)?this.each(function(H){w(this).removeClass(d.call(this,H,Ls(this)))}):arguments.length?(g=Lc(d)).length?this.each(function(){if(E=Ls(this),y=1===this.nodeType&&" "+dt(E)+" "){for(T=0;T<g.length;T++)for(b=g[T];y.indexOf(" "+b+" ")>-1;)y=y.replace(" "+b+" "," ");D=dt(y),E!==D&&this.setAttribute("class",D)}}):this:this.attr("class","")},toggleClass:function(d,g){var y,E,b,T,D=typeof d,H="string"===D||Array.isArray(d);return ze(d)?this.each(function(V){w(this).toggleClass(d.call(this,V,Ls(this),g),g)}):"boolean"==typeof g&&H?g?this.addClass(d):this.removeClass(d):(y=Lc(d),this.each(function(){if(H)for(T=w(this),b=0;b<y.length;b++)T.hasClass(E=y[b])?T.removeClass(E):T.addClass(E);else(void 0===d||"boolean"===D)&&((E=Ls(this))&&Ke.set(this,"__className__",E),this.setAttribute&&this.setAttribute("class",E||!1===d?"":Ke.get(this,"__className__")||""))}))},hasClass:function(d){var g,y,E=0;for(g=" "+d+" ";y=this[E++];)if(1===y.nodeType&&(" "+dt(Ls(y))+" ").indexOf(g)>-1)return!0;return!1}});var wh=/\r/g;w.fn.extend({val:function(d){var g,y,E,b=this[0];return arguments.length?(E=ze(d),this.each(function(T){var D;1===this.nodeType&&(null==(D=E?d.call(this,T,w(this).val()):d)?D="":"number"==typeof D?D+="":Array.isArray(D)&&(D=w.map(D,function(H){return null==H?"":H+""})),(!(g=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])||!("set"in g)||void 0===g.set(this,D,"value"))&&(this.value=D))})):b?(g=w.valHooks[b.type]||w.valHooks[b.nodeName.toLowerCase()])&&"get"in g&&void 0!==(y=g.get(b,"value"))?y:"string"==typeof(y=b.value)?y.replace(wh,""):y??"":void 0}}),w.extend({valHooks:{option:{get:function(d){return w.find.attr(d,"value")??dt(w.text(d))}},select:{get:function(d){var g,y,E,b=d.options,T=d.selectedIndex,D="select-one"===d.type,H=D?null:[],V=D?T+1:b.length;for(E=T<0?V:D?T:0;E<V;E++)if(((y=b[E]).selected||E===T)&&!y.disabled&&(!y.parentNode.disabled||!_e(y.parentNode,"optgroup"))){if(g=w(y).val(),D)return g;H.push(g)}return H},set:function(d,g){for(var y,E,b=d.options,T=w.makeArray(g),D=b.length;D--;)((E=b[D]).selected=w.inArray(w.valHooks.option.get(E),T)>-1)&&(y=!0);return y||(d.selectedIndex=-1),T}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(d,g){if(Array.isArray(g))return d.checked=w.inArray(w(d).val(),g)>-1}},it.checkOn||(w.valHooks[this].get=function(d){return null===d.getAttribute("value")?"on":d.value})});var _l=X.location,qe={guid:Date.now()},Ch=/\?/;w.parseXML=function(d){var g,y;if(!d||"string"!=typeof d)return null;try{g=(new X.DOMParser).parseFromString(d,"text/xml")}catch{}return y=g&&g.getElementsByTagName("parsererror")[0],(!g||y)&&w.error("Invalid XML: "+(y?w.map(y.childNodes,function(E){return E.textContent}).join("\n"):d)),g};var sr=/^(?:focusinfocus|focusoutblur)$/,Pu=function(d){d.stopPropagation()};w.extend(w.event,{trigger:function(d,g,y,E){var b,T,D,H,V,Q,ce,Ee,k=[y||Ve],Oe=tt.call(d,"type")?d.type:d,ve=tt.call(d,"namespace")?d.namespace.split("."):[];if(T=Ee=D=y=y||Ve,3!==y.nodeType&&8!==y.nodeType&&!sr.test(Oe+w.event.triggered)&&(Oe.indexOf(".")>-1&&(ve=Oe.split("."),Oe=ve.shift(),ve.sort()),V=Oe.indexOf(":")<0&&"on"+Oe,(d=d[w.expando]?d:new w.Event(Oe,"object"==typeof d&&d)).isTrigger=E?2:3,d.namespace=ve.join("."),d.rnamespace=d.namespace?new RegExp("(^|\\.)"+ve.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d.result=void 0,d.target||(d.target=y),g=null==g?[d]:w.makeArray(g,[d]),ce=w.event.special[Oe]||{},E||!ce.trigger||!1!==ce.trigger.apply(y,g))){if(!E&&!ce.noBubble&&!Tt(y)){for(sr.test((H=ce.delegateType||Oe)+Oe)||(T=T.parentNode);T;T=T.parentNode)k.push(T),D=T;D===(y.ownerDocument||Ve)&&k.push(D.defaultView||D.parentWindow||X)}for(b=0;(T=k[b++])&&!d.isPropagationStopped();)Ee=T,d.type=b>1?H:ce.bindType||Oe,(Q=(Ke.get(T,"events")||Object.create(null))[d.type]&&Ke.get(T,"handle"))&&Q.apply(T,g),(Q=V&&T[V])&&Q.apply&&vi(T)&&(d.result=Q.apply(T,g),!1===d.result&&d.preventDefault());return d.type=Oe,!E&&!d.isDefaultPrevented()&&(!ce._default||!1===ce._default.apply(k.pop(),g))&&vi(y)&&V&&ze(y[Oe])&&!Tt(y)&&((D=y[V])&&(y[V]=null),w.event.triggered=Oe,d.isPropagationStopped()&&Ee.addEventListener(Oe,Pu),y[Oe](),d.isPropagationStopped()&&Ee.removeEventListener(Oe,Pu),w.event.triggered=void 0,D&&(y[V]=D)),d.result}},simulate:function(d,g,y){var E=w.extend(new w.Event,y,{type:d,isSimulated:!0});w.event.trigger(E,null,g)}}),w.fn.extend({trigger:function(d,g){return this.each(function(){w.event.trigger(d,g,this)})},triggerHandler:function(d,g){var y=this[0];if(y)return w.event.trigger(d,g,y,!0)}});var Vc=/\[\]$/,Uc=/\r?\n/g,Bc=/^(?:submit|button|image|reset|file)$/i,ca=/^(?:input|select|textarea|keygen)/i;function Uo(d,g,y,E){var b;if(Array.isArray(g))w.each(g,function(T,D){y||Vc.test(d)?E(d,D):Uo(d+"["+("object"==typeof D&&null!=D?T:"")+"]",D,y,E)});else if(y||"object"!==Ot(g))E(d,g);else for(b in g)Uo(d+"["+b+"]",g[b],y,E)}w.param=function(d,g){var y,E=[],b=function(T,D){var H=ze(D)?D():D;E[E.length]=encodeURIComponent(T)+"="+encodeURIComponent(H??"")};if(null==d)return"";if(Array.isArray(d)||d.jquery&&!w.isPlainObject(d))w.each(d,function(){b(this.name,this.value)});else for(y in d)Uo(y,d[y],g,b);return E.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var d=w.prop(this,"elements");return d?w.makeArray(d):this}).filter(function(){var d=this.type;return this.name&&!w(this).is(":disabled")&&ca.test(this.nodeName)&&!Bc.test(d)&&(this.checked||!ks.test(d))}).map(function(d,g){var y=w(this).val();return null==y?null:Array.isArray(y)?w.map(y,function(E){return{name:g.name,value:E.replace(Uc,"\r\n")}}):{name:g.name,value:y.replace(Uc,"\r\n")}}).get()}});var jc=/%20/g,yl=/#.*$/,Eg=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,vl=/^(?:GET|HEAD)$/,Fi=/^\/\//,Mu={},Ih={},Dn="*/".concat("*"),bh=Ve.createElement("a");function Hc(d){return function(g,y){"string"!=typeof g&&(y=g,g="*");var E,b=0,T=g.toLowerCase().match(yn)||[];if(ze(y))for(;E=T[b++];)"+"===E[0]?(E=E.slice(1)||"*",(d[E]=d[E]||[]).unshift(y)):(d[E]=d[E]||[]).push(y)}}function Le(d,g,y,E){var b={},T=d===Ih;function D(H){var V;return b[H]=!0,w.each(d[H]||[],function(Q,ce){var Ee=ce(g,y,E);return"string"!=typeof Ee||T||b[Ee]?T?!(V=Ee):void 0:(g.dataTypes.unshift(Ee),D(Ee),!1)}),V}return D(g.dataTypes[0])||!b["*"]&&D("*")}function Zi(d,g){var y,E,b=w.ajaxSettings.flatOptions||{};for(y in g)void 0!==g[y]&&((b[y]?d:E||(E={}))[y]=g[y]);return E&&w.extend(!0,d,E),d}bh.href=_l.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_l.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_l.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(d,g){return g?Zi(Zi(d,w.ajaxSettings),g):Zi(w.ajaxSettings,d)},ajaxPrefilter:Hc(Mu),ajaxTransport:Hc(Ih),ajax:function(d,g){"object"==typeof d&&(g=d,d=void 0);var y,E,b,T,D,H,V,Q,ce,Ee,k=w.ajaxSetup({},g=g||{}),Oe=k.context||k,ve=k.context&&(Oe.nodeType||Oe.jquery)?w(Oe):w.event,Yt=w.Deferred(),bt=w.Callbacks("once memory"),pr=k.statusCode||{},or={},to={},Vs="canceled",St={readyState:0,getResponseHeader:function(xt){var En;if(V){if(!T)for(T={};En=qt.exec(b);)T[En[1].toLowerCase()+" "]=(T[En[1].toLowerCase()+" "]||[]).concat(En[2]);En=T[xt.toLowerCase()+" "]}return null==En?null:En.join(", ")},getAllResponseHeaders:function(){return V?b:null},setRequestHeader:function(xt,En){return null==V&&(xt=to[xt.toLowerCase()]=to[xt.toLowerCase()]||xt,or[xt]=En),this},overrideMimeType:function(xt){return null==V&&(k.mimeType=xt),this},statusCode:function(xt){var En;if(xt)if(V)St.always(xt[St.status]);else for(En in xt)pr[En]=[pr[En],xt[En]];return this},abort:function(xt){var En=xt||Vs;return y&&y.abort(En),gr(0,En),this}};if(Yt.promise(St),k.url=((d||k.url||_l.href)+"").replace(Fi,_l.protocol+"//"),k.type=g.method||g.type||k.method||k.type,k.dataTypes=(k.dataType||"*").toLowerCase().match(yn)||[""],null==k.crossDomain){H=Ve.createElement("a");try{H.href=k.url,H.href=H.href,k.crossDomain=bh.protocol+"//"+bh.host!=H.protocol+"//"+H.host}catch{k.crossDomain=!0}}if(k.data&&k.processData&&"string"!=typeof k.data&&(k.data=w.param(k.data,k.traditional)),Le(Mu,k,g,St),V)return St;for(ce in(Q=w.event&&k.global)&&0==w.active++&&w.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!vl.test(k.type),E=k.url.replace(yl,""),k.hasContent?k.data&&k.processData&&0===(k.contentType||"").indexOf("application/x-www-form-urlencoded")&&(k.data=k.data.replace(jc,"+")):(Ee=k.url.slice(E.length),k.data&&(k.processData||"string"==typeof k.data)&&(E+=(Ch.test(E)?"&":"?")+k.data,delete k.data),!1===k.cache&&(E=E.replace(Eg,"$1"),Ee=(Ch.test(E)?"&":"?")+"_="+qe.guid+++Ee),k.url=E+Ee),k.ifModified&&(w.lastModified[E]&&St.setRequestHeader("If-Modified-Since",w.lastModified[E]),w.etag[E]&&St.setRequestHeader("If-None-Match",w.etag[E])),(k.data&&k.hasContent&&!1!==k.contentType||g.contentType)&&St.setRequestHeader("Content-Type",k.contentType),St.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Dn+"; q=0.01":""):k.accepts["*"]),k.headers)St.setRequestHeader(ce,k.headers[ce]);if(k.beforeSend&&(!1===k.beforeSend.call(Oe,St,k)||V))return St.abort();if(Vs="abort",bt.add(k.complete),St.done(k.success),St.fail(k.error),y=Le(Ih,k,g,St)){if(St.readyState=1,Q&&ve.trigger("ajaxSend",[St,k]),V)return St;k.async&&k.timeout>0&&(D=X.setTimeout(function(){St.abort("timeout")},k.timeout));try{V=!1,y.send(or,gr)}catch(xt){if(V)throw xt;gr(-1,xt)}}else gr(-1,"No Transport");function gr(xt,En,Kt,da){var Yi,ha,Us,Li,Bs,Ci=En;V||(V=!0,D&&X.clearTimeout(D),y=void 0,b=da||"",St.readyState=xt>0?4:0,Yi=xt>=200&&xt<300||304===xt,Kt&&(Li=function Ru(d,g,y){for(var E,b,T,D,H=d.contents,V=d.dataTypes;"*"===V[0];)V.shift(),void 0===E&&(E=d.mimeType||g.getResponseHeader("Content-Type"));if(E)for(b in H)if(H[b]&&H[b].test(E)){V.unshift(b);break}if(V[0]in y)T=V[0];else{for(b in y){if(!V[0]||d.converters[b+" "+V[0]]){T=b;break}D||(D=b)}T=T||D}if(T)return T!==V[0]&&V.unshift(T),y[T]}(k,St,Kt)),!Yi&&w.inArray("script",k.dataTypes)>-1&&w.inArray("json",k.dataTypes)<0&&(k.converters["text script"]=function(){}),Li=function Th(d,g,y,E){var b,T,D,H,V,Q={},ce=d.dataTypes.slice();if(ce[1])for(D in d.converters)Q[D.toLowerCase()]=d.converters[D];for(T=ce.shift();T;)if(d.responseFields[T]&&(y[d.responseFields[T]]=g),!V&&E&&d.dataFilter&&(g=d.dataFilter(g,d.dataType)),V=T,T=ce.shift())if("*"===T)T=V;else if("*"!==V&&V!==T){if(!(D=Q[V+" "+T]||Q["* "+T]))for(b in Q)if((H=b.split(" "))[1]===T&&(D=Q[V+" "+H[0]]||Q["* "+H[0]])){!0===D?D=Q[b]:!0!==Q[b]&&(T=H[0],ce.unshift(H[1]));break}if(!0!==D)if(D&&d.throws)g=D(g);else try{g=D(g)}catch(Ee){return{state:"parsererror",error:D?Ee:"No conversion from "+V+" to "+T}}}return{state:"success",data:g}}(k,Li,St,Yi),Yi?(k.ifModified&&((Bs=St.getResponseHeader("Last-Modified"))&&(w.lastModified[E]=Bs),(Bs=St.getResponseHeader("etag"))&&(w.etag[E]=Bs)),204===xt||"HEAD"===k.type?Ci="nocontent":304===xt?Ci="notmodified":(Ci=Li.state,ha=Li.data,Yi=!(Us=Li.error))):(Us=Ci,(xt||!Ci)&&(Ci="error",xt<0&&(xt=0))),St.status=xt,St.statusText=(En||Ci)+"",Yi?Yt.resolveWith(Oe,[ha,Ci,St]):Yt.rejectWith(Oe,[St,Ci,Us]),St.statusCode(pr),pr=void 0,Q&&ve.trigger(Yi?"ajaxSuccess":"ajaxError",[St,k,Yi?ha:Us]),bt.fireWith(Oe,[St,Ci]),Q&&(ve.trigger("ajaxComplete",[St,k]),--w.active||w.event.trigger("ajaxStop")))}return St},getJSON:function(d,g,y){return w.get(d,g,y,"json")},getScript:function(d,g){return w.get(d,void 0,g,"script")}}),w.each(["get","post"],function(d,g){w[g]=function(y,E,b,T){return ze(E)&&(T=T||b,b=E,E=void 0),w.ajax(w.extend({url:y,type:g,dataType:T,data:E,success:b},w.isPlainObject(y)&&y))}}),w.ajaxPrefilter(function(d){var g;for(g in d.headers)"content-type"===g.toLowerCase()&&(d.contentType=d.headers[g]||"")}),w._evalUrl=function(d,g,y){return w.ajax({url:d,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(E){w.globalEval(E,g,y)}})},w.fn.extend({wrapAll:function(d){var g;return this[0]&&(ze(d)&&(d=d.call(this[0])),g=w(d,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&g.insertBefore(this[0]),g.map(function(){for(var y=this;y.firstElementChild;)y=y.firstElementChild;return y}).append(this)),this},wrapInner:function(d){return ze(d)?this.each(function(g){w(this).wrapInner(d.call(this,g))}):this.each(function(){var g=w(this),y=g.contents();y.length?y.wrapAll(d):g.append(d)})},wrap:function(d){var g=ze(d);return this.each(function(y){w(this).wrapAll(g?d.call(this,y):d)})},unwrap:function(d){return this.parent(d).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(d){return!w.expr.pseudos.visible(d)},w.expr.pseudos.visible=function(d){return!!(d.offsetWidth||d.offsetHeight||d.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new X.XMLHttpRequest}catch{}};var ms={0:200,1223:204},xu=w.ajaxSettings.xhr();it.cors=!!xu&&"withCredentials"in xu,it.ajax=xu=!!xu,w.ajaxTransport(function(d){var g,y;if(it.cors||xu&&!d.crossDomain)return{send:function(E,b){var T,D=d.xhr();if(D.open(d.type,d.url,d.async,d.username,d.password),d.xhrFields)for(T in d.xhrFields)D[T]=d.xhrFields[T];for(T in d.mimeType&&D.overrideMimeType&&D.overrideMimeType(d.mimeType),!d.crossDomain&&!E["X-Requested-With"]&&(E["X-Requested-With"]="XMLHttpRequest"),E)D.setRequestHeader(T,E[T]);g=function(H){return function(){g&&(g=y=D.onload=D.onerror=D.onabort=D.ontimeout=D.onreadystatechange=null,"abort"===H?D.abort():"error"===H?"number"!=typeof D.status?b(0,"error"):b(D.status,D.statusText):b(ms[D.status]||D.status,D.statusText,"text"!==(D.responseType||"text")||"string"!=typeof D.responseText?{binary:D.response}:{text:D.responseText},D.getAllResponseHeaders()))}},D.onload=g(),y=D.onerror=D.ontimeout=g("error"),void 0!==D.onabort?D.onabort=y:D.onreadystatechange=function(){4===D.readyState&&X.setTimeout(function(){g&&y()})},g=g("abort");try{D.send(d.hasContent&&d.data||null)}catch(H){if(g)throw H}},abort:function(){g&&g()}}}),w.ajaxPrefilter(function(d){d.crossDomain&&(d.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(d){return w.globalEval(d),d}}}),w.ajaxPrefilter("script",function(d){void 0===d.cache&&(d.cache=!1),d.crossDomain&&(d.type="GET")}),w.ajaxTransport("script",function(d){var g,y;if(d.crossDomain||d.scriptAttrs)return{send:function(E,b){g=w("<script>").attr(d.scriptAttrs||{}).prop({charset:d.scriptCharset,src:d.url}).on("load error",y=function(T){g.remove(),y=null,T&&b("error"===T.type?404:200,T.type)}),Ve.head.appendChild(g[0])},abort:function(){y&&y()}}});var d,Va=[],Sh=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var d=Va.pop()||w.expando+"_"+qe.guid++;return this[d]=!0,d}}),w.ajaxPrefilter("json jsonp",function(d,g,y){var E,b,T,D=!1!==d.jsonp&&(Sh.test(d.url)?"url":"string"==typeof d.data&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&Sh.test(d.data)&&"data");if(D||"jsonp"===d.dataTypes[0])return E=d.jsonpCallback=ze(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,D?d[D]=d[D].replace(Sh,"$1"+E):!1!==d.jsonp&&(d.url+=(Ch.test(d.url)?"&":"?")+d.jsonp+"="+E),d.converters["script json"]=function(){return T||w.error(E+" was not called"),T[0]},d.dataTypes[0]="json",b=X[E],X[E]=function(){T=arguments},y.always(function(){void 0===b?w(X).removeProp(E):X[E]=b,d[E]&&(d.jsonpCallback=g.jsonpCallback,Va.push(E)),T&&ze(b)&&b(T[0]),T=b=void 0}),"script"}),it.createHTMLDocument=((d=Ve.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===d.childNodes.length),w.parseHTML=function(d,g,y){return"string"!=typeof d?[]:("boolean"==typeof g&&(y=g,g=!1),g||(it.createHTMLDocument?((E=(g=Ve.implementation.createHTMLDocument("")).createElement("base")).href=Ve.location.href,g.head.appendChild(E)):g=Ve),T=!y&&[],(b=le.exec(d))?[g.createElement(b[1])]:(b=R([d],g,T),T&&T.length&&w(T).remove(),w.merge([],b.childNodes)));var E,b,T},w.fn.load=function(d,g,y){var E,b,T,D=this,H=d.indexOf(" ");return H>-1&&(E=dt(d.slice(H)),d=d.slice(0,H)),ze(g)?(y=g,g=void 0):g&&"object"==typeof g&&(b="POST"),D.length>0&&w.ajax({url:d,type:b||"GET",dataType:"html",data:g}).done(function(V){T=arguments,D.html(E?w("<div>").append(w.parseHTML(V)).find(E):V)}).always(y&&function(V,Q){D.each(function(){y.apply(this,T||[V.responseText,Q,V])})}),this},w.expr.pseudos.animated=function(d){return w.grep(w.timers,function(g){return d===g.elem}).length},w.offset={setOffset:function(d,g,y){var E,b,T,D,H,V,ce=w.css(d,"position"),Ee=w(d),k={};"static"===ce&&(d.style.position="relative"),H=Ee.offset(),T=w.css(d,"top"),V=w.css(d,"left"),("absolute"===ce||"fixed"===ce)&&(T+V).indexOf("auto")>-1?(D=(E=Ee.position()).top,b=E.left):(D=parseFloat(T)||0,b=parseFloat(V)||0),ze(g)&&(g=g.call(d,y,w.extend({},H))),null!=g.top&&(k.top=g.top-H.top+D),null!=g.left&&(k.left=g.left-H.left+b),"using"in g?g.using.call(d,k):Ee.css(k)}},w.fn.extend({offset:function(d){if(arguments.length)return void 0===d?this:this.each(function(b){w.offset.setOffset(this,d,b)});var g,y,E=this[0];return E?E.getClientRects().length?{top:(g=E.getBoundingClientRect()).top+(y=E.ownerDocument.defaultView).pageYOffset,left:g.left+y.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var d,g,y,E=this[0],b={top:0,left:0};if("fixed"===w.css(E,"position"))g=E.getBoundingClientRect();else{for(g=this.offset(),y=E.ownerDocument,d=E.offsetParent||y.documentElement;d&&(d===y.body||d===y.documentElement)&&"static"===w.css(d,"position");)d=d.parentNode;d&&d!==E&&1===d.nodeType&&((b=w(d).offset()).top+=w.css(d,"borderTopWidth",!0),b.left+=w.css(d,"borderLeftWidth",!0))}return{top:g.top-b.top-w.css(E,"marginTop",!0),left:g.left-b.left-w.css(E,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent;d&&"static"===w.css(d,"position");)d=d.offsetParent;return d||pn})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(d,g){var y="pageYOffset"===g;w.fn[d]=function(E){return Hr(this,function(b,T,D){var H;if(Tt(b)?H=b:9===b.nodeType&&(H=b.defaultView),void 0===D)return H?H[g]:b[T];H?H.scrollTo(y?H.pageXOffset:D,y?D:H.pageYOffset):b[T]=D},d,E,arguments.length)}}),w.each(["top","left"],function(d,g){w.cssHooks[g]=ps(it.pixelPosition,function(y,E){if(E)return E=xn(y,g),Je.test(E)?w(y).position()[g]+"px":E})}),w.each({Height:"height",Width:"width"},function(d,g){w.each({padding:"inner"+d,content:g,"":"outer"+d},function(y,E){w.fn[E]=function(b,T){var D=arguments.length&&(y||"boolean"!=typeof b),H=y||(!0===b||!0===T?"margin":"border");return Hr(this,function(V,Q,ce){var Ee;return Tt(V)?0===E.indexOf("outer")?V["inner"+d]:V.document.documentElement["client"+d]:9===V.nodeType?(Ee=V.documentElement,Math.max(V.body["scroll"+d],Ee["scroll"+d],V.body["offset"+d],Ee["offset"+d],Ee["client"+d])):void 0===ce?w.css(V,Q,H):w.style(V,Q,ce,H)},g,D?b:void 0,D)}})}),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(d,g){w.fn[g]=function(y){return this.on(g,y)}}),w.fn.extend({bind:function(d,g,y){return this.on(d,null,g,y)},unbind:function(d,g){return this.off(d,null,g)},delegate:function(d,g,y,E){return this.on(g,d,y,E)},undelegate:function(d,g,y){return 1===arguments.length?this.off(d,"**"):this.off(g,d||"**",y)},hover:function(d,g){return this.on("mouseenter",d).on("mouseleave",g||d)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(d,g){w.fn[g]=function(y,E){return arguments.length>0?this.on(g,null,y,E):this.trigger(g)}});var Dh=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;w.proxy=function(d,g){var y,E,b;if("string"==typeof g&&(y=d[g],g=d,d=y),ze(d))return E=lt.call(arguments,2),b=function(){return d.apply(g||this,E.concat(lt.call(arguments)))},b.guid=d.guid=d.guid||w.guid++,b},w.holdReady=function(d){d?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=_e,w.isFunction=ze,w.isWindow=Tt,w.camelCase=Yn,w.type=Ot,w.now=Date.now,w.isNumeric=function(d){var g=w.type(d);return("number"===g||"string"===g)&&!isNaN(d-parseFloat(d))},w.trim=function(d){return null==d?"":(d+"").replace(Dh,"$1")},void 0!==(L=function(){return w}.apply(Or,[]))&&(cs.exports=L);var vv=X.jQuery,Ah=X.$;return w.noConflict=function(d){return X.$===w&&(X.$=Ah),d&&X.jQuery===w&&(X.jQuery=vv),w},typeof Y>"u"&&(X.jQuery=X.$=w),w})},106:(cs,Or,ft)=>{"use strict";ft.d(Or,{Z:()=>it});var L=ft(58),X=ft(537),Y=ft(534),$e=ft(879);class Un{constructor(Tt,Ve){this._delegate=Tt,this.firebase=Ve,(0,Y._addComponent)(Tt,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=Tt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Tt){this._delegate.automaticDataCollectionEnabled=Tt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Tt=>{this._delegate.checkDestroyed(),Tt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(Tt,Ve=Y._DEFAULT_ENTRY_NAME){var wr;this._delegate.checkDestroyed();const ir=this._delegate.container.getProvider(Tt);return!ir.isInitialized()&&"EXPLICIT"===(null===(wr=ir.getComponent())||void 0===wr?void 0:wr.instantiationMode)&&ir.initialize(),ir.getImmediate({identifier:Ve})}_removeServiceInstance(Tt,Ve=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Tt).clearInstance(Ve)}_addComponent(Tt){(0,Y._addComponent)(this._delegate,Tt)}_addOrOverwriteComponent(Tt){(0,Y._addOrOverwriteComponent)(this._delegate,Tt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Er=new L.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),be=function en(){const ze=function Sn(ze){const Tt={},Ve={__esModule:!0,initializeApp:function Ot(Ht,_e={}){const hn=Y.initializeApp(Ht,_e);if((0,L.r3)(Tt,hn.name))return Tt[hn.name];const zn=new ze(hn,Ve);return Tt[hn.name]=zn,zn},app:ir,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function ti(Ht){const _e=Ht.name,hn=_e.replace("-compat","");if(Y._registerComponent(Ht)&&"PUBLIC"===Ht.type){const zn=(Cr=ir())=>{if("function"!=typeof Cr[hn])throw Er.create("invalid-app-argument",{appName:_e});return Cr[hn]()};void 0!==Ht.serviceProps&&(0,L.ZB)(zn,Ht.serviceProps),Ve[hn]=zn,ze.prototype[hn]=function(...Cr){return this._getService.bind(this,_e).apply(this,Ht.multipleInstances?Cr:[])}}return"PUBLIC"===Ht.type?Ve[hn]:null},removeApp:function wr(Ht){delete Tt[Ht]},useAsService:function w(Ht,_e){return"serverAuth"===_e?null:_e},modularAPIs:Y}};function ir(Ht){if(!(0,L.r3)(Tt,Ht=Ht||Y._DEFAULT_ENTRY_NAME))throw Er.create("no-app",{appName:Ht});return Tt[Ht]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function _n(){return Object.keys(Tt).map(Ht=>Tt[Ht])}}),ir.App=ze,Ve}(Un);return ze.INTERNAL=Object.assign(Object.assign({},ze.INTERNAL),{createFirebaseNamespace:en,extendNamespace:function Tt(Ve){(0,L.ZB)(ze,Ve)},createSubscribe:L.ne,ErrorFactory:L.LL,deepExtend:L.ZB}),ze}(),Me=new $e.Yd("@firebase/app-compat");if((0,L.jU)()&&void 0!==self.firebase){Me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ze=self.firebase.SDK_VERSION;ze&&ze.indexOf("LITE")>=0&&Me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const it=be;!function sn(ze){(0,Y.registerVersion)("@firebase/app-compat","0.2.23",ze)}()},534:(cs,Or,ft)=>{"use strict";ft.r(Or),ft.d(Or,{FirebaseError:()=>$e.ZR,SDK_VERSION:()=>ni,_DEFAULT_ENTRY_NAME:()=>Yn,_addComponent:()=>Rn,_addOrOverwriteComponent:()=>Ns,_apps:()=>Ir,_clearComponents:()=>Ni,_components:()=>Ke,_getProvider:()=>Ki,_registerComponent:()=>br,_removeServiceInstance:()=>ds,deleteApp:()=>ci,getApp:()=>fs,getApps:()=>Tr,initializeApp:()=>eo,onLog:()=>ks,registerVersion:()=>kr,setLogLevel:()=>an});var L=ft(861),X=ft(537),Y=ft(879),$e=ft(58);const Un=(se,G)=>G.some(De=>se instanceof De);let lt,Er;const be=new WeakMap,Me=new WeakMap,tt=new WeakMap,At=new WeakMap,sn=new WeakMap;let Tt={get(se,G,De){if(se instanceof IDBTransaction){if("done"===G)return Me.get(se);if("objectStoreNames"===G)return se.objectStoreNames||tt.get(se);if("store"===G)return De.objectStoreNames[1]?void 0:De.objectStore(De.objectStoreNames[0])}return Ot(se[G])},set:(se,G,De)=>(se[G]=De,!0),has:(se,G)=>se instanceof IDBTransaction&&("done"===G||"store"===G)||G in se};function ir(se){return"function"==typeof se?function wr(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function en(){return Er||(Er=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...G){return se.apply(_n(this),G),Ot(be.get(this))}:function(...G){return Ot(se.apply(_n(this),G))}:function(G,...De){const Je=se.call(_n(this),G,...De);return tt.set(Je,G.sort?G.sort():[G]),Ot(Je)}}(se):(se instanceof IDBTransaction&&function ze(se){if(Me.has(se))return;const G=new Promise((De,Je)=>{const Ft=()=>{se.removeEventListener("complete",Lt),se.removeEventListener("error",ne),se.removeEventListener("abort",ne)},Lt=()=>{De(),Ft()},ne=()=>{Je(se.error||new DOMException("AbortError","AbortError")),Ft()};se.addEventListener("complete",Lt),se.addEventListener("error",ne),se.addEventListener("abort",ne)});Me.set(se,G)}(se),Un(se,function Sn(){return lt||(lt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,Tt):se)}function Ot(se){if(se instanceof IDBRequest)return function it(se){const G=new Promise((De,Je)=>{const Ft=()=>{se.removeEventListener("success",Lt),se.removeEventListener("error",ne)},Lt=()=>{De(Ot(se.result)),Ft()},ne=()=>{Je(se.error),Ft()};se.addEventListener("success",Lt),se.addEventListener("error",ne)});return G.then(De=>{De instanceof IDBCursor&&be.set(De,se)}).catch(()=>{}),sn.set(G,se),G}(se);if(At.has(se))return At.get(se);const G=ir(se);return G!==se&&(At.set(se,G),sn.set(G,se)),G}const _n=se=>sn.get(se),Ht=["get","getKey","getAll","getAllKeys","count"],_e=["put","add","delete","clear"],hn=new Map;function zn(se,G){if(!(se instanceof IDBDatabase)||G in se||"string"!=typeof G)return;if(hn.get(G))return hn.get(G);const De=G.replace(/FromIndex$/,""),Je=G!==De,Ft=_e.includes(De);if(!(De in(Je?IDBIndex:IDBObjectStore).prototype)||!Ft&&!Ht.includes(De))return;const Lt=function(){var ne=(0,L.Z)(function*(Xn,...xn){const ps=this.transaction(Xn,Ft?"readwrite":"readonly");let Lo=ps.store;return Je&&(Lo=Lo.index(xn.shift())),(yield Promise.all([Lo[De](...xn),Ft&&ps.done]))[0]});return function(xn){return ne.apply(this,arguments)}}();return hn.set(G,Lt),Lt}!function Ve(se){Tt=se(Tt)}(se=>({...se,get:(G,De,Je)=>zn(G,De)||se.get(G,De,Je),has:(G,De)=>!!zn(G,De)||se.has(G,De)}));class Cr{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(De=>{if(function Bt(se){const G=se.getComponent();return"VERSION"===G?.type}(De)){const Je=De.getImmediate();return`${Je.library}/${Je.version}`}return null}).filter(De=>De).join(" ")}}const xi="@firebase/app",Nr=new Y.Yd("@firebase/app"),Yn="[DEFAULT]",vi={[xi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ir=new Map,Ke=new Map;function Rn(se,G){try{se.container.addComponent(G)}catch(De){Nr.debug(`Component ${G.name} failed to register with FirebaseApp ${se.name}`,De)}}function Ns(se,G){se.container.addOrOverwriteComponent(G)}function br(se){const G=se.name;if(Ke.has(G))return Nr.debug(`There were multiple attempts to register component ${G}.`),!1;Ke.set(G,se);for(const De of Ir.values())Rn(De,se);return!0}function Ki(se,G){const De=se.container.getProvider("heartbeat").getImmediate({optional:!0});return De&&De.triggerHeartbeat(),se.container.getProvider(G)}function ds(se,G,De=Yn){Ki(se,G).clearInstance(De)}function Ni(){Ke.clear()}const fn=new $e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pn{constructor(G,De,Je){this._isDeleted=!1,this._options=Object.assign({},G),this._config=Object.assign({},De),this._name=De.name,this._automaticDataCollectionEnabled=De.automaticDataCollectionEnabled,this._container=Je,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this.checkDestroyed(),this._automaticDataCollectionEnabled=G}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(G){this._isDeleted=G}checkDestroyed(){if(this.isDeleted)throw fn.create("app-deleted",{appName:this._name})}}const ni="10.6.0";function eo(se,G={}){let De=se;"object"!=typeof G&&(G={name:G});const Je=Object.assign({name:Yn,automaticDataCollectionEnabled:!1},G),Ft=Je.name;if("string"!=typeof Ft||!Ft)throw fn.create("bad-app-name",{appName:String(Ft)});if(De||(De=(0,$e.aH)()),!De)throw fn.create("no-options");const Lt=Ir.get(Ft);if(Lt){if((0,$e.vZ)(De,Lt.options)&&(0,$e.vZ)(Je,Lt.config))return Lt;throw fn.create("duplicate-app",{appName:Ft})}const ne=new X.H0(Ft);for(const xn of Ke.values())ne.addComponent(xn);const Xn=new pn(De,Je,ne);return Ir.set(Ft,Xn),Xn}function fs(se=Yn){const G=Ir.get(se);if(!G&&se===Yn&&(0,$e.aH)())return eo();if(!G)throw fn.create("no-app",{appName:se});return G}function Tr(){return Array.from(Ir.values())}function ci(se){return zr.apply(this,arguments)}function zr(){return(zr=(0,L.Z)(function*(se){const G=se.name;Ir.has(G)&&(Ir.delete(G),yield Promise.all(se.container.getProviders().map(De=>De.delete())),se.isDeleted=!0)})).apply(this,arguments)}function kr(se,G,De){var Je;let Ft=null!==(Je=vi[se])&&void 0!==Je?Je:se;De&&(Ft+=`-${De}`);const Lt=Ft.match(/\s|\//),ne=G.match(/\s|\//);if(Lt||ne){const Xn=[`Unable to register library "${Ft}" with version "${G}":`];return Lt&&Xn.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),Lt&&ne&&Xn.push("and"),ne&&Xn.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void Nr.warn(Xn.join(" "))}br(new X.wA(`${Ft}-version`,()=>({library:Ft,version:G}),"VERSION"))}function ks(se,G){if(null!==se&&"function"!=typeof se)throw fn.create("invalid-log-argument");(0,Y.Am)(se,G)}function an(se){(0,Y.Ub)(se)}const yo="firebase-heartbeat-database",Sr=1,j="firebase-heartbeat-store";let U=null;function P(){return U||(U=function ti(se,G,{blocked:De,upgrade:Je,blocking:Ft,terminated:Lt}={}){const ne=indexedDB.open(se,G),Xn=Ot(ne);return Je&&ne.addEventListener("upgradeneeded",xn=>{Je(Ot(ne.result),xn.oldVersion,xn.newVersion,Ot(ne.transaction),xn)}),De&&ne.addEventListener("blocked",xn=>De(xn.oldVersion,xn.newVersion,xn)),Xn.then(xn=>{Lt&&xn.addEventListener("close",()=>Lt()),Ft&&xn.addEventListener("versionchange",ps=>Ft(ps.oldVersion,ps.newVersion,ps))}).catch(()=>{}),Xn}(yo,Sr,{upgrade:(se,G)=>{0===G&&se.createObjectStore(j)}}).catch(se=>{throw fn.create("idb-open",{originalErrorMessage:se.message})})),U}function A(){return(A=(0,L.Z)(function*(se){try{return yield(yield P()).transaction(j).objectStore(j).get(Fe(se))}catch(G){if(G instanceof $e.ZR)Nr.warn(G.message);else{const De=fn.create("idb-get",{originalErrorMessage:G?.message});Nr.warn(De.message)}}})).apply(this,arguments)}function J(se,G){return ae.apply(this,arguments)}function ae(){return(ae=(0,L.Z)(function*(se,G){try{const Je=(yield P()).transaction(j,"readwrite");yield Je.objectStore(j).put(G,Fe(se)),yield Je.done}catch(De){if(De instanceof $e.ZR)Nr.warn(De.message);else{const Je=fn.create("idb-set",{originalErrorMessage:De?.message});Nr.warn(Je.message)}}})).apply(this,arguments)}function Fe(se){return`${se.name}!${se.options.appId}`}class nt{constructor(G){this.container=G,this._heartbeatsCache=null;const De=this.container.getProvider("app").getImmediate();this._storage=new Nt(De),this._heartbeatsCachePromise=this._storage.read().then(Je=>(this._heartbeatsCache=Je,Je))}triggerHeartbeat(){var G=this;return(0,L.Z)(function*(){var De;const Ft=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Lt=Ct();if(null==(null===(De=G._heartbeatsCache)||void 0===De?void 0:De.heartbeats)&&(G._heartbeatsCache=yield G._heartbeatsCachePromise),G._heartbeatsCache.lastSentHeartbeatDate!==Lt&&!G._heartbeatsCache.heartbeats.some(ne=>ne.date===Lt))return G._heartbeatsCache.heartbeats.push({date:Lt,agent:Ft}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(ne=>{const Xn=new Date(ne.date).valueOf();return Date.now()-Xn<=2592e6}),G._storage.overwrite(G._heartbeatsCache)})()}getHeartbeatsHeader(){var G=this;return(0,L.Z)(function*(){var De;if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null==(null===(De=G._heartbeatsCache)||void 0===De?void 0:De.heartbeats)||0===G._heartbeatsCache.heartbeats.length)return"";const Je=Ct(),{heartbeatsToSend:Ft,unsentEntries:Lt}=function Pt(se,G=1024){const De=[];let Je=se.slice();for(const Ft of se){const Lt=De.find(ne=>ne.agent===Ft.agent);if(Lt){if(Lt.dates.push(Ft.date),Ei(De)>G){Lt.dates.pop();break}}else if(De.push({agent:Ft.agent,dates:[Ft.date]}),Ei(De)>G){De.pop();break}Je=Je.slice(1)}return{heartbeatsToSend:De,unsentEntries:Je}}(G._heartbeatsCache.heartbeats),ne=(0,$e.L)(JSON.stringify({version:2,heartbeats:Ft}));return G._heartbeatsCache.lastSentHeartbeatDate=Je,Lt.length>0?(G._heartbeatsCache.heartbeats=Lt,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),ne})()}}function Ct(){return(new Date).toISOString().substring(0,10)}class Nt{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,L.Z)(function*(){return!!(0,$e.hl)()&&(0,$e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,L.Z)(function*(){return(yield G._canUseIndexedDBPromise)&&(yield function R(se){return A.apply(this,arguments)}(G.app))||{heartbeats:[]}})()}overwrite(G){var De=this;return(0,L.Z)(function*(){var Je;if(yield De._canUseIndexedDBPromise){const Lt=yield De.read();return J(De.app,{lastSentHeartbeatDate:null!==(Je=G.lastSentHeartbeatDate)&&void 0!==Je?Je:Lt.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var De=this;return(0,L.Z)(function*(){var Je;if(yield De._canUseIndexedDBPromise){const Lt=yield De.read();return J(De.app,{lastSentHeartbeatDate:null!==(Je=G.lastSentHeartbeatDate)&&void 0!==Je?Je:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...G.heartbeats]})}})()}}function Ei(se){return(0,$e.L)(JSON.stringify({version:2,heartbeats:se})).length}!function Fo(se){br(new X.wA("platform-logger",G=>new Cr(G),"PRIVATE")),br(new X.wA("heartbeat",G=>new nt(G),"PRIVATE")),kr(xi,"0.9.23",se),kr(xi,"0.9.23","esm2017"),kr("fire-js","")}("")},537:(cs,Or,ft)=>{"use strict";ft.d(Or,{H0:()=>Sn,wA:()=>Y,zt:()=>Un});var L=ft(861),X=ft(58);class Y{constructor(be,Me,tt){this.name=be,this.instanceFactory=Me,this.type=tt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(be){return this.instantiationMode=be,this}setMultipleInstances(be){return this.multipleInstances=be,this}setServiceProps(be){return this.serviceProps=be,this}setInstanceCreatedCallback(be){return this.onInstanceCreated=be,this}}const $e="[DEFAULT]";class Un{constructor(be,Me){this.name=be,this.container=Me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(be){const Me=this.normalizeInstanceIdentifier(be);if(!this.instancesDeferred.has(Me)){const tt=new X.BH;if(this.instancesDeferred.set(Me,tt),this.isInitialized(Me)||this.shouldAutoInitialize())try{const At=this.getOrInitializeService({instanceIdentifier:Me});At&&tt.resolve(At)}catch{}}return this.instancesDeferred.get(Me).promise}getImmediate(be){var Me;const tt=this.normalizeInstanceIdentifier(be?.identifier),At=null!==(Me=be?.optional)&&void 0!==Me&&Me;if(!this.isInitialized(tt)&&!this.shouldAutoInitialize()){if(At)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:tt})}catch(sn){if(At)return null;throw sn}}getComponent(){return this.component}setComponent(be){if(be.name!==this.name)throw Error(`Mismatching Component ${be.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=be,this.shouldAutoInitialize()){if(function Er(en){return"EAGER"===en.instantiationMode}(be))try{this.getOrInitializeService({instanceIdentifier:$e})}catch{}for(const[Me,tt]of this.instancesDeferred.entries()){const At=this.normalizeInstanceIdentifier(Me);try{const sn=this.getOrInitializeService({instanceIdentifier:At});tt.resolve(sn)}catch{}}}}clearInstance(be=$e){this.instancesDeferred.delete(be),this.instancesOptions.delete(be),this.instances.delete(be)}delete(){var be=this;return(0,L.Z)(function*(){const Me=Array.from(be.instances.values());yield Promise.all([...Me.filter(tt=>"INTERNAL"in tt).map(tt=>tt.INTERNAL.delete()),...Me.filter(tt=>"_delete"in tt).map(tt=>tt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(be=$e){return this.instances.has(be)}getOptions(be=$e){return this.instancesOptions.get(be)||{}}initialize(be={}){const{options:Me={}}=be,tt=this.normalizeInstanceIdentifier(be.instanceIdentifier);if(this.isInitialized(tt))throw Error(`${this.name}(${tt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const At=this.getOrInitializeService({instanceIdentifier:tt,options:Me});for(const[sn,it]of this.instancesDeferred.entries())tt===this.normalizeInstanceIdentifier(sn)&&it.resolve(At);return At}onInit(be,Me){var tt;const At=this.normalizeInstanceIdentifier(Me),sn=null!==(tt=this.onInitCallbacks.get(At))&&void 0!==tt?tt:new Set;sn.add(be),this.onInitCallbacks.set(At,sn);const it=this.instances.get(At);return it&&be(it,At),()=>{sn.delete(be)}}invokeOnInitCallbacks(be,Me){const tt=this.onInitCallbacks.get(Me);if(tt)for(const At of tt)try{At(be,Me)}catch{}}getOrInitializeService({instanceIdentifier:be,options:Me={}}){let tt=this.instances.get(be);if(!tt&&this.component&&(tt=this.component.instanceFactory(this.container,{instanceIdentifier:(en=be,en===$e?void 0:en),options:Me}),this.instances.set(be,tt),this.instancesOptions.set(be,Me),this.invokeOnInitCallbacks(tt,be),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,be,tt)}catch{}var en;return tt||null}normalizeInstanceIdentifier(be=$e){return this.component?this.component.multipleInstances?be:$e:be}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Sn{constructor(be){this.name=be,this.providers=new Map}addComponent(be){const Me=this.getProvider(be.name);if(Me.isComponentSet())throw new Error(`Component ${be.name} has already been registered with ${this.name}`);Me.setComponent(be)}addOrOverwriteComponent(be){this.getProvider(be.name).isComponentSet()&&this.providers.delete(be.name),this.addComponent(be)}getProvider(be){if(this.providers.has(be))return this.providers.get(be);const Me=new Un(be,this);return this.providers.set(be,Me),Me}getProviders(){return Array.from(this.providers.values())}}},879:(cs,Or,ft)=>{"use strict";ft.d(Or,{Am:()=>en,Ub:()=>Sn,Yd:()=>Er,in:()=>X});const L=[];var X=function(be){return be[be.DEBUG=0]="DEBUG",be[be.VERBOSE=1]="VERBOSE",be[be.INFO=2]="INFO",be[be.WARN=3]="WARN",be[be.ERROR=4]="ERROR",be[be.SILENT=5]="SILENT",be}(X||{});const Y={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},$e=X.INFO,Un={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},lt=(be,Me,...tt)=>{if(Me<be.logLevel)return;const At=(new Date).toISOString(),sn=Un[Me];if(!sn)throw new Error(`Attempted to log a message with an invalid logType (value: ${Me})`);console[sn](`[${At}]  ${be.name}:`,...tt)};class Er{constructor(Me){this.name=Me,this._logLevel=$e,this._logHandler=lt,this._userLogHandler=null,L.push(this)}get logLevel(){return this._logLevel}set logLevel(Me){if(!(Me in X))throw new TypeError(`Invalid value "${Me}" assigned to \`logLevel\``);this._logLevel=Me}setLogLevel(Me){this._logLevel="string"==typeof Me?Y[Me]:Me}get logHandler(){return this._logHandler}set logHandler(Me){if("function"!=typeof Me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Me}get userLogHandler(){return this._userLogHandler}set userLogHandler(Me){this._userLogHandler=Me}debug(...Me){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...Me),this._logHandler(this,X.DEBUG,...Me)}log(...Me){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...Me),this._logHandler(this,X.VERBOSE,...Me)}info(...Me){this._userLogHandler&&this._userLogHandler(this,X.INFO,...Me),this._logHandler(this,X.INFO,...Me)}warn(...Me){this._userLogHandler&&this._userLogHandler(this,X.WARN,...Me),this._logHandler(this,X.WARN,...Me)}error(...Me){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...Me),this._logHandler(this,X.ERROR,...Me)}}function Sn(be){L.forEach(Me=>{Me.setLogLevel(be)})}function en(be,Me){for(const tt of L){let At=null;Me&&Me.level&&(At=Y[Me.level]),tt.userLogHandler=null===be?null:(sn,it,...ze)=>{const Tt=ze.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");it>=(At??sn.logLevel)&&be({level:X[it].toLowerCase(),message:Tt,args:ze,type:sn.name})}}}},365:(cs,Or,ft)=>{"use strict";ft.r(Or);var L=ft(861),X=ft(106),Y=ft(562),$e=ft(58),Er=(ft(534),ft(879),ft(537));function Sn(){return window}function Me(){return Me=(0,L.Z)(function*(P,R,A){var J;const{BuildInfo:ae}=Sn();(0,Y.au)(R.sessionId,"AuthEvent did not contain a session ID");const Fe=yield function Ve(P){return wr.apply(this,arguments)}(R.sessionId),Et={};return(0,Y.av)()?Et.ibi=ae.packageName:(0,Y.aw)()?Et.apn=ae.packageName:(0,Y.ax)(P,"operation-not-supported-in-this-environment"),ae.displayName&&(Et.appDisplayName=ae.displayName),Et.sessionId=Fe,(0,Y.ay)(P,A,R.type,void 0,null!==(J=R.eventId)&&void 0!==J?J:void 0,Et)}),Me.apply(this,arguments)}function At(){return(At=(0,L.Z)(function*(P){const{BuildInfo:R}=Sn(),A={};(0,Y.av)()?A.iosBundleId=R.packageName:(0,Y.aw)()?A.androidPackageName=R.packageName:(0,Y.ax)(P,"operation-not-supported-in-this-environment"),yield(0,Y.az)(P,A)})).apply(this,arguments)}function ze(){return(ze=(0,L.Z)(function*(P,R,A){const{cordova:J}=Sn();let ae=()=>{};try{yield new Promise((Fe,Et)=>{let Re=null;function nt(){var Nt;Fe();const Ei=null===(Nt=J.plugins.browsertab)||void 0===Nt?void 0:Nt.close;"function"==typeof Ei&&Ei(),"function"==typeof A?.close&&A.close()}function Ct(){Re||(Re=window.setTimeout(()=>{Et((0,Y.aB)(P,"redirect-cancelled-by-user"))},2e3))}function Pt(){"visible"===document?.visibilityState&&Ct()}R.addPassiveListener(nt),document.addEventListener("resume",Ct,!1),(0,Y.aw)()&&document.addEventListener("visibilitychange",Pt,!1),ae=()=>{R.removePassiveListener(nt),document.removeEventListener("resume",Ct,!1),document.removeEventListener("visibilitychange",Pt,!1),Re&&window.clearTimeout(Re)}})}finally{ae()}})).apply(this,arguments)}function wr(){return(wr=(0,L.Z)(function*(P){const R=function ir(P){if((0,Y.au)(/[0-9a-zA-Z]+/.test(P),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(P);const R=new ArrayBuffer(P.length),A=new Uint8Array(R);for(let J=0;J<P.length;J++)A[J]=P.charCodeAt(J);return A}(P),A=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(A)).map(ae=>ae.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class _n extends Y.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(A=>A(R)),super.onEvent(R)}initialized(){var R=this;return(0,L.Z)(function*(){yield R.initPromise})()}}function Ht(P){return _e.apply(this,arguments)}function _e(){return(_e=(0,L.Z)(function*(P){const R=yield Cr()._get(Bt(P));return R&&(yield Cr()._remove(Bt(P))),R})).apply(this,arguments)}function zn(){const P=[];for(let A=0;A<20;A++){const J=Math.floor(62*Math.random());P.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(J))}return P.join("")}function Cr(){return(0,Y.aE)(Y.b)}function Bt(P){return(0,Y.aF)("authEvent",P.config.apiKey,P.name)}function Nr(P){if(!P?.includes("?"))return{};const[R,...A]=P.split("?");return(0,$e.zd)(A.join("?"))}const ue=class Oi{constructor(){this._redirectPersistence=Y.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Y.aG,this._overrideRedirectResult=Y.aH}_initialize(R){var A=this;return(0,L.Z)(function*(){const J=R._key();let ae=A.eventManagers.get(J);return ae||(ae=new _n(R),A.eventManagers.set(J,ae),A.attachCallbackListeners(R,ae)),ae})()}_openPopup(R){(0,Y.ax)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,A,J,ae){var Fe=this;return(0,L.Z)(function*(){!function Tt(P){var R,A,J,ae,Fe,Et,Re,nt,Ct,Pt;const Nt=Sn();(0,Y.aC)("function"==typeof(null===(R=Nt?.universalLinks)||void 0===R?void 0:R.subscribe),P,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,Y.aC)(typeof(null===(A=Nt?.BuildInfo)||void 0===A?void 0:A.packageName)<"u",P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,Y.aC)("function"==typeof(null===(Fe=null===(ae=null===(J=Nt?.cordova)||void 0===J?void 0:J.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Fe?void 0:Fe.openUrl),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aC)("function"==typeof(null===(nt=null===(Re=null===(Et=Nt?.cordova)||void 0===Et?void 0:Et.plugins)||void 0===Re?void 0:Re.browsertab)||void 0===nt?void 0:nt.isAvailable),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aC)("function"==typeof(null===(Pt=null===(Ct=Nt?.cordova)||void 0===Ct?void 0:Ct.InAppBrowser)||void 0===Pt?void 0:Pt.open),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const Et=yield Fe._initialize(R);yield Et.initialized(),Et.resetRedirect(),(0,Y.aI)(),yield Fe._originValidation(R);const Re=function ti(P,R,A=null){return{type:R,eventId:A,urlResponse:null,sessionId:zn(),postBody:null,tenantId:P.tenantId,error:(0,Y.aB)(P,"no-auth-event")}}(R,J,ae);yield function w(P,R){return Cr()._set(Bt(P),R)}(R,Re);const nt=yield function be(P,R,A){return Me.apply(this,arguments)}(R,Re,A),Ct=yield function sn(P){const{cordova:R}=Sn();return new Promise(A=>{R.plugins.browsertab.isAvailable(J=>{let ae=null;J?R.plugins.browsertab.openUrl(P):ae=R.InAppBrowser.open(P,(0,Y.aA)()?"_blank":"_system","location=yes"),A(ae)})})}(nt);return function it(P,R,A){return ze.apply(this,arguments)}(R,Et,Ct)})()}_isIframeWebStorageSupported(R,A){throw new Error("Method not implemented.")}_originValidation(R){const A=R._key();return this.originValidationPromises[A]||(this.originValidationPromises[A]=function tt(P){return At.apply(this,arguments)}(R)),this.originValidationPromises[A]}attachCallbackListeners(R,A){const{universalLinks:J,handleOpenURL:ae,BuildInfo:Fe}=Sn(),Et=setTimeout((0,L.Z)(function*(){yield Ht(R),A.onEvent(ge())}),500),Re=function(){var Pt=(0,L.Z)(function*(Nt){clearTimeout(Et);const Ei=yield Ht(R);let Fo=null;Ei&&Nt?.url&&(Fo=function hn(P,R){var A,J;const ae=function xs(P){const R=Nr(P),A=R.link?decodeURIComponent(R.link):void 0,J=Nr(A).link,ae=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return Nr(ae).link||ae||J||A||P}(R);if(ae.includes("/__/auth/callback")){const Fe=Nr(ae),Et=Fe.firebaseError?function xi(P){try{return JSON.parse(P)}catch{return null}}(decodeURIComponent(Fe.firebaseError)):null,Re=null===(J=null===(A=Et?.code)||void 0===A?void 0:A.split("auth/"))||void 0===J?void 0:J[1],nt=Re?(0,Y.aB)(Re):null;return nt?{type:P.type,eventId:P.eventId,tenantId:P.tenantId,error:nt,urlResponse:null,sessionId:null,postBody:null}:{type:P.type,eventId:P.eventId,tenantId:P.tenantId,sessionId:P.sessionId,urlResponse:ae,postBody:null}}return null}(Ei,Nt.url)),A.onEvent(Fo||ge())});return function(Ei){return Pt.apply(this,arguments)}}();typeof J<"u"&&"function"==typeof J.subscribe&&J.subscribe(null,Re);const nt=ae,Ct=`${Fe.packageName.toLowerCase()}://`;Sn().handleOpenURL=function(){var Pt=(0,L.Z)(function*(Nt){if(Nt.toLowerCase().startsWith(Ct)&&Re({url:Nt}),"function"==typeof nt)try{nt(Nt)}catch(Ei){console.error(Ei)}});return function(Nt){return Pt.apply(this,arguments)}}()}};function ge(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,Y.aB)("no-auth-event")}}function ut(){var P;return(null===(P=self?.location)||void 0===P?void 0:P.protocol)||null}function wn(P=(0,$e.z$)()){return!("file:"!==ut()&&"ionic:"!==ut()&&"capacitor:"!==ut()||!P.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cn(){try{const P=self.localStorage,R=Y.aN();if(P)return P.setItem(R,"1"),P.removeItem(R),!function vt(P=(0,$e.z$)()){return function on(){return(0,$e.w1)()&&11===document?.documentMode}()||function yn(P=(0,$e.z$)()){return/Edge\/\d+/.test(P)}(P)}()||(0,$e.hl)()}catch{return Wn()&&(0,$e.hl)()}return!1}function Wn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zn(){return(function Wt(){return"http:"===ut()||"https:"===ut()}()||(0,$e.ru)()||wn())&&!function pt(){return(0,$e.b$)()||(0,$e.UG)()}()&&Cn()&&!Wn()}function vn(){return wn()&&typeof document<"u"}function yi(){return(yi=(0,L.Z)(function*(){return!!vn()&&new Promise(P=>{const R=setTimeout(()=>{P(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),P(!0)})})})).apply(this,arguments)}const Mn={LOCAL:"local",NONE:"none",SESSION:"session"},Gi=Y.aC,Os="persistence";function vi(P){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,L.Z)(function*(P){yield P._initializationPromise;const R=Rn(),A=Y.aF(Os,P.config.apiKey,P.name);R&&R.setItem(A,P._getPersistence())})).apply(this,arguments)}function Rn(){var P;try{return(null===(P=function Hr(){return typeof window<"u"?window:null}())||void 0===P?void 0:P.sessionStorage)||null}catch{return null}}const Ns=Y.aC;class br{constructor(){this.browserResolver=Y.aE(Y.k),this.cordovaResolver=Y.aE(ue),this.underlyingResolver=null,this._redirectPersistence=Y.a,this._completeRedirectFn=Y.aG,this._overrideRedirectResult=Y.aH}_initialize(R){var A=this;return(0,L.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,A,J,ae){var Fe=this;return(0,L.Z)(function*(){return yield Fe.selectUnderlyingResolver(),Fe.assertedUnderlyingResolver._openPopup(R,A,J,ae)})()}_openRedirect(R,A,J,ae){var Fe=this;return(0,L.Z)(function*(){return yield Fe.selectUnderlyingResolver(),Fe.assertedUnderlyingResolver._openRedirect(R,A,J,ae)})()}_isIframeWebStorageSupported(R,A){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,A)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return vn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ns(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,L.Z)(function*(){if(R.underlyingResolver)return;const A=yield function li(){return yi.apply(this,arguments)}();R.underlyingResolver=A?R.cordovaResolver:R.browserResolver})()}}function Ki(P){return P.unwrap()}function Ni(P){return fn(P)}function fn(P){const{_tokenResponse:R}=P instanceof $e.ZR?P.customData:P;if(!R)return null;if(!(P instanceof $e.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return Y.P.credentialFromResult(P);const A=R.providerId;if(!A||A===Y.p.PASSWORD)return null;let J;switch(A){case Y.p.GOOGLE:J=Y.X;break;case Y.p.FACEBOOK:J=Y.W;break;case Y.p.GITHUB:J=Y.Y;break;case Y.p.TWITTER:J=Y.$;break;default:const{oauthIdToken:ae,oauthAccessToken:Fe,oauthTokenSecret:Et,pendingToken:Re,nonce:nt}=R;return Fe||Et||ae||Re?Re?A.startsWith("saml.")?Y.aQ._create(A,Re):Y.N._fromParams({providerId:A,signInMethod:A,pendingToken:Re,idToken:ae,accessToken:Fe}):new Y.Z(A).credential({idToken:ae,accessToken:Fe,rawNonce:nt}):null}return P instanceof $e.ZR?J.credentialFromError(P):J.credentialFromResult(P)}function pn(P,R){return R.catch(A=>{throw A instanceof $e.ZR&&function hs(P,R){var A;const J=null===(A=R.customData)||void 0===A?void 0:A._tokenResponse;if("auth/multi-factor-auth-required"===R?.code)R.resolver=new fs(P,Y.as(P,R));else if(J){const ae=fn(R),Fe=R;ae&&(Fe.credential=ae,Fe.tenantId=J.tenantId||void 0,Fe.email=J.email||void 0,Fe.phoneNumber=J.phoneNumber||void 0)}}(P,A),A}).then(A=>{const ae=A.user;return{operationType:A.operationType,credential:Ni(A),additionalUserInfo:Y.aq(A),user:Tr.getOrCreate(ae)}})}function ni(P,R){return eo.apply(this,arguments)}function eo(){return(eo=(0,L.Z)(function*(P,R){const A=yield R;return{verificationId:A.verificationId,confirm:J=>pn(P,A.confirm(J))}})).apply(this,arguments)}class fs{constructor(R,A){this.resolver=A,this.auth=function ds(P){return P.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return pn(Ki(this.auth),this.resolver.resolveSignIn(R))}}class Tr{constructor(R){this._delegate=R,this.multiFactor=Y.at(R)}static getOrCreate(R){return Tr.USER_MAP.has(R)||Tr.USER_MAP.set(R,new Tr(R)),Tr.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var A=this;return(0,L.Z)(function*(){return pn(A.auth,Y.a2(A._delegate,R))})()}linkWithPhoneNumber(R,A){var J=this;return(0,L.Z)(function*(){return ni(J.auth,Y.l(J._delegate,R,A))})()}linkWithPopup(R){var A=this;return(0,L.Z)(function*(){return pn(A.auth,Y.d(A._delegate,R,br))})()}linkWithRedirect(R){var A=this;return(0,L.Z)(function*(){return yield vi(Y.aJ(A.auth)),Y.g(A._delegate,R,br)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var A=this;return(0,L.Z)(function*(){return pn(A.auth,Y.a3(A._delegate,R))})()}reauthenticateWithPhoneNumber(R,A){return ni(this.auth,Y.r(this._delegate,R,A))}reauthenticateWithPopup(R){return pn(this.auth,Y.e(this._delegate,R,br))}reauthenticateWithRedirect(R){var A=this;return(0,L.Z)(function*(){return yield vi(Y.aJ(A.auth)),Y.h(A._delegate,R,br)})()}sendEmailVerification(R){return Y.ag(this._delegate,R)}unlink(R){var A=this;return(0,L.Z)(function*(){return yield Y.ap(A._delegate,R),A})()}updateEmail(R){return Y.al(this._delegate,R)}updatePassword(R){return Y.am(this._delegate,R)}updatePhoneNumber(R){return Y.u(this._delegate,R)}updateProfile(R){return Y.ak(this._delegate,R)}verifyBeforeUpdateEmail(R,A){return Y.ah(this._delegate,R,A)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tr.USER_MAP=new WeakMap;const ci=Y.aC;let zr=(()=>{class P{constructor(A,J){if(this.app=A,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ae}=A.options;ci(ae,"invalid-api-key",{appName:A.name}),ci(ae,"invalid-api-key",{appName:A.name});const Fe=typeof window<"u"?br:void 0;this._delegate=J.initialize({options:{persistence:ks(ae,A.name),popupRedirectResolver:Fe}}),this._delegate._updateErrorMap(Y.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(A){this._delegate.languageCode=A}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(A){this._delegate.tenantId=A}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(A,J){Y.K(this._delegate,A,J)}applyActionCode(A){return Y.a7(this._delegate,A)}checkActionCode(A){return Y.a8(this._delegate,A)}confirmPasswordReset(A,J){return Y.a6(this._delegate,A,J)}createUserWithEmailAndPassword(A,J){var ae=this;return(0,L.Z)(function*(){return pn(ae._delegate,Y.aa(ae._delegate,A,J))})()}fetchProvidersForEmail(A){return this.fetchSignInMethodsForEmail(A)}fetchSignInMethodsForEmail(A){return Y.af(this._delegate,A)}isSignInWithEmailLink(A){return Y.ad(this._delegate,A)}getRedirectResult(){var A=this;return(0,L.Z)(function*(){ci(Zn(),A._delegate,"operation-not-supported-in-this-environment");const J=yield Y.j(A._delegate,br);return J?pn(A._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(A){!function Ie(P,R){(0,Y.aJ)(P)._logFramework(R)}(this._delegate,A)}onAuthStateChanged(A,J,ae){const{next:Fe,error:Et,complete:Re}=kr(A,J,ae);return this._delegate.onAuthStateChanged(Fe,Et,Re)}onIdTokenChanged(A,J,ae){const{next:Fe,error:Et,complete:Re}=kr(A,J,ae);return this._delegate.onIdTokenChanged(Fe,Et,Re)}sendSignInLinkToEmail(A,J){return Y.ac(this._delegate,A,J)}sendPasswordResetEmail(A,J){return Y.a5(this._delegate,A,J||void 0)}setPersistence(A){var J=this;return(0,L.Z)(function*(){let ae;switch(function Yn(P,R){Gi(Object.values(Mn).includes(R),P,"invalid-persistence-type"),(0,$e.b$)()?Gi(R!==Mn.SESSION,P,"unsupported-persistence-type"):(0,$e.UG)()?Gi(R===Mn.NONE,P,"unsupported-persistence-type"):Wn()?Gi(R===Mn.NONE||R===Mn.LOCAL&&(0,$e.hl)(),P,"unsupported-persistence-type"):Gi(R===Mn.NONE||Cn(),P,"unsupported-persistence-type")}(J._delegate,A),A){case Mn.SESSION:ae=Y.a;break;case Mn.LOCAL:ae=(yield Y.aE(Y.i)._isAvailable())?Y.i:Y.b;break;case Mn.NONE:ae=Y.U;break;default:return Y.ax("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(ae)})()}signInAndRetrieveDataWithCredential(A){return this.signInWithCredential(A)}signInAnonymously(){return pn(this._delegate,Y.a0(this._delegate))}signInWithCredential(A){return pn(this._delegate,Y.a1(this._delegate,A))}signInWithCustomToken(A){return pn(this._delegate,Y.a4(this._delegate,A))}signInWithEmailAndPassword(A,J){return pn(this._delegate,Y.ab(this._delegate,A,J))}signInWithEmailLink(A,J){return pn(this._delegate,Y.ae(this._delegate,A,J))}signInWithPhoneNumber(A,J){return ni(this._delegate,Y.s(this._delegate,A,J))}signInWithPopup(A){var J=this;return(0,L.Z)(function*(){return ci(Zn(),J._delegate,"operation-not-supported-in-this-environment"),pn(J._delegate,Y.c(J._delegate,A,br))})()}signInWithRedirect(A){var J=this;return(0,L.Z)(function*(){return ci(Zn(),J._delegate,"operation-not-supported-in-this-environment"),yield vi(J._delegate),Y.f(J._delegate,A,br)})()}updateCurrentUser(A){return this._delegate.updateCurrentUser(A)}verifyPasswordResetCode(A){return Y.a9(this._delegate,A)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return P.Persistence=Mn,P})();function kr(P,R,A){let J=P;"function"!=typeof P&&({next:J,error:R,complete:A}=P);const ae=J;return{next:Et=>ae(Et&&Tr.getOrCreate(Et)),error:R,complete:A}}function ks(P,R){const A=function Ke(P,R){const A=Rn();if(!A)return[];const J=Y.aF(Os,P,R);switch(A.getItem(J)){case Mn.NONE:return[Y.U];case Mn.LOCAL:return[Y.i,Y.a];case Mn.SESSION:return[Y.a];default:return[]}}(P,R);if(typeof self<"u"&&!A.includes(Y.i)&&A.push(Y.i),typeof window<"u")for(const J of[Y.b,Y.a])A.includes(J)||A.push(J);return A.includes(Y.U)||A.push(Y.U),A}class an{constructor(){this.providerId="phone",this._delegate=new Y.P(Ki(X.Z.auth()))}static credential(R,A){return Y.P.credential(R,A)}verifyPhoneNumber(R,A){return this._delegate.verifyPhoneNumber(R,A)}unwrap(){return this._delegate}}an.PHONE_SIGN_IN_METHOD=Y.P.PHONE_SIGN_IN_METHOD,an.PROVIDER_ID=Y.P.PROVIDER_ID;const yo=Y.aC;class Sr{constructor(R,A,J=X.Z.app()){var ae;yo(null===(ae=J.options)||void 0===ae?void 0:ae.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new Y.R(J.auth(),R,A),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function U(P){P.INTERNAL.registerComponent(new Er.wA("auth-compat",R=>{const A=R.getProvider("app-compat").getImmediate(),J=R.getProvider("auth");return new zr(A,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Y.A.EMAIL_SIGNIN,PASSWORD_RESET:Y.A.PASSWORD_RESET,RECOVER_EMAIL:Y.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Y.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Y.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Y.A.VERIFY_EMAIL}},EmailAuthProvider:Y.V,FacebookAuthProvider:Y.W,GithubAuthProvider:Y.Y,GoogleAuthProvider:Y.X,OAuthProvider:Y.Z,SAMLAuthProvider:Y._,PhoneAuthProvider:an,PhoneMultiFactorGenerator:Y.m,RecaptchaVerifier:Sr,TwitterAuthProvider:Y.$,Auth:zr,AuthCredential:Y.L,Error:$e.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),P.registerVersion("@firebase/auth-compat","0.4.9")}(X.Z)},861:(cs,Or,ft)=>{"use strict";function L(Y,$e,Un,lt,Er,Sn,en){try{var be=Y[Sn](en),Me=be.value}catch(tt){return void Un(tt)}be.done?$e(Me):Promise.resolve(Me).then(lt,Er)}function X(Y){return function(){var $e=this,Un=arguments;return new Promise(function(lt,Er){var Sn=Y.apply($e,Un);function en(Me){L(Sn,lt,Er,en,be,"next",Me)}function be(Me){L(Sn,lt,Er,en,be,"throw",Me)}en(void 0)})}}ft.d(Or,{Z:()=>X})},582:(cs,Or,ft)=>{"use strict";function $e(ue,ge){var Ie={};for(var le in ue)Object.prototype.hasOwnProperty.call(ue,le)&&ge.indexOf(le)<0&&(Ie[le]=ue[le]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(le=Object.getOwnPropertySymbols(ue);Se<le.length;Se++)ge.indexOf(le[Se])<0&&Object.prototype.propertyIsEnumerable.call(ue,le[Se])&&(Ie[le[Se]]=ue[le[Se]])}return Ie}function tt(ue,ge,Ie,le){return new(Ie||(Ie=Promise))(function(Ne,ut){function Wt(on){try{pt(le.next(on))}catch(yn){ut(yn)}}function wn(on){try{pt(le.throw(on))}catch(yn){ut(yn)}}function pt(on){on.done?Ne(on.value):function Se(Ne){return Ne instanceof Ie?Ne:new Ie(function(ut){ut(Ne)})}(on.value).then(Wt,wn)}pt((le=le.apply(ue,ge||[])).next())})}function Ot(ue){return this instanceof Ot?(this.v=ue,this):new Ot(ue)}function _n(ue,ge,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,le=Ie.apply(ue,ge||[]),Ne=[];return Se={},ut("next"),ut("throw"),ut("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function ut(vt){le[vt]&&(Se[vt]=function(Cn){return new Promise(function(Wn,Zn){Ne.push([vt,Cn,Wn,Zn])>1||Wt(vt,Cn)})})}function Wt(vt,Cn){try{!function wn(vt){vt.value instanceof Ot?Promise.resolve(vt.value.v).then(pt,on):yn(Ne[0][2],vt)}(le[vt](Cn))}catch(Wn){yn(Ne[0][3],Wn)}}function pt(vt){Wt("next",vt)}function on(vt){Wt("throw",vt)}function yn(vt,Cn){vt(Cn),Ne.shift(),Ne.length&&Wt(Ne[0][0],Ne[0][1])}}function w(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,ge=ue[Symbol.asyncIterator];return ge?ge.call(ue):(ue=function ze(ue){var ge="function"==typeof Symbol&&Symbol.iterator,Ie=ge&&ue[ge],le=0;if(Ie)return Ie.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&le>=ue.length&&(ue=void 0),{value:ue&&ue[le++],done:!ue}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),Ie={},le("next"),le("throw"),le("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function le(Ne){Ie[Ne]=ue[Ne]&&function(ut){return new Promise(function(Wt,wn){!function Se(Ne,ut,Wt,wn){Promise.resolve(wn).then(function(pt){Ne({value:pt,done:Wt})},ut)}(Wt,wn,(ut=ue[Ne](ut)).done,ut.value)})}}}ft.d(Or,{FC:()=>_n,KL:()=>w,_T:()=>$e,mG:()=>tt,qq:()=>Ot}),"function"==typeof SuppressedError&&SuppressedError}},cs=>{cs(cs.s=440)}]);